(window.webpackJsonpinfosightportalnimblefrontend=window.webpackJsonpinfosightportalnimblefrontend||[]).push([[4],Array(81).concat([function(e,t,n){var a=n(9),i=n(13),r=n(1330),o=n(1331);e.exports=i.ItemView.extend({template:a.template(o),className:"spinner-view",initialize:function(e){this.model=new r,e&&e.message&&this.model.set("message",e.message)},show:function(){this.$el.show()},hide:function(){this.$el.hide()}})},,,,,,,,,,,,,,function(e,t,n){var a=n(11),i=n(13);n(74),n(689),e.exports=i.Behavior.extend({validationOptions:{forceUpdate:!0,valid:function(e,t,n){var a=e.$("["+n+'~="'+t+'"]').closest(".form-group");a.removeClass("has-error"),a.find(".form-control-feedback").removeClass("glyphicon-remove"),a.find(".validation-error").remove()},invalid:function(e,t,n,a){var i=e.$("["+a+'~="'+t+'"]'),r=i.closest(".form-group");r.addClass("has-error"),r.find(".form-control-feedback").addClass("glyphicon-remove"),r.find(".validation-error").remove(),i.closest(".row").after('<div class="row validation-error"><p class="column large-24 help-block">'+n+"</p></div>")}},onBeforeRender:function(){a.Validation.bind(this.view,this.validationOptions)},onRender:function(){this.view.stickit()},onDestroy:function(){a.Validation.unbind(this)}})},,,,,,,,,,,,,,,function(e,t){e.exports='<div class="error-message">\n    <i class="fa fa-exclamation-triangle" style="color: #ed2826;"></i>\n    <span class="text-danger"><%=message%></span>\n</div>\n'},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(11),i=n.n(a),r=n(23),o=n.n(r);t.default=i.a.Model.extend({defaults:{id:null,createdDate:null,createdDateOnly:null,caseNumber:null,status:null,bucket:null,subject:null,type:null,assetId:null,accountId:null,createdById:null,contactId:null,priority:null,closedDate:null,Auto_Open__c:null,Auto_Close__c:null,owner:{},ownerName:null,caseLastComment__c:null,lastUpdatedDate:null,lastUpdatedTS:null,description:null,comments:null,reason:null,ownerId:null,suppliedEmail:null,origin:null,isEscalated:null,closed_By__c:null,casePortalResolutionNotes__c:"",caseClosureCaseReason__c:null,casCatClosureRootCause__c:null,caseClosureCategory__c:null,technology_Area__c:null,sub_Technology_Area__c:null},url:function(){return this.id?this.api().account().segment("cases")+"/"+this.id:this.api().account().segment("cases").search({userName:this.get("userName")})},parse:function(e){switch(e.status){case"Resolved":e.bucket="Resolved";break;case"Closed":case"Closed(Duplicate)":e.bucket="Closed";break;case"New":case"On Hold":case"Open":case"Awaiting Customer":case"Awaiting Engineering":case"Wait-Fix":case"Handover":default:e.bucket="Open"}if(e.casePortalResolutionNotes__c||(e.casePortalResolutionNotes__c=""),e.owner){e.ownerName=e.owner.name.match(/queue/i)?"(pending)":e.owner.name,e.Auto_Close__c&&"(pending)"===e.ownerName&&(e.ownerName="N/A")}return e.createdDateOnly=o()(e.createdDate).format("YYYYMMDD"),e.lastUpdatedDate=e.caseLastComment__c?o()(e.caseLastComment__c).format("YYYYMMDD"):e.createdDateOnly,e.lastUpdatedTS=e.caseLastComment__c?e.caseLastComment__c:e.createdDate,e},initialize:function(e){}})},function(e,t,n){e.exports={assetRegistry:"assetRegistry__qcpii",addressDisplay:"addressDisplay__31rI5",addressText:"addressText__10RbQ",confirmation:"confirmation__17dfE",addressCard:"addressCard__19uT9",edit:"edit__1S_rG",new:"new__2Pvnx","form-label":"form-label__2wST-",error:"error__lIyIT",equalHeight:"equalHeight__274vc",cardAddress:"cardAddress__8JJOX",card:"card__3BV3u",sla:"sla__2_w2H","search-container":"search-container__29oWo","search-icon-container":"search-icon-container__1UnXn","search-input-container":"search-input-container__wpVQv",search:"search__22e8O","cancel-search":"cancel-search__mg3F5",addressDetailForm:"addressDetailForm__275-L"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports={"user-management":"user-management__3DgJ_","footer-pagination":"footer-pagination__Sxc8B","settings-popup":"settings-popup__-AUvg","form-error":"form-error__drGMh"}},function(e,t,n){var a=n(11);e.exports=a.Model.extend({validation:{privilege:{required:!0}}},{privilegeNameMap:{"Feature.Core.Access":"Basic Access","Feature.VMVision.Access":"VMVision Feature","Feature.SupportCase.Manage":"Support Case Management"}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var a=n(9),i=n(13),r=n(1380),o=n(1381);e.exports=i.ItemView.extend({template:a.template(o),triggers:{'click button[name="submit"]':{event:"submit",stopPropagation:!1}},ui:{modalBody:".modal-body"},initialize:function(e){this.model=new r(a.pick(e,"action","title")),a.extend(this,a.pick(e,["content"])),console.assert(this.content,"content option is required")},onRender:function(){this.ui.modalBody.append(a.result(this,"content"))}})},function(e,t,n){var a=n(16),i=n(37).BASE_URL+"/es";e.exports={searchTemplate:function(e){return a.ajax({type:"POST",url:i+"/"+e.index+"/_search/template",contentType:"application/json",data:JSON.stringify({id:e.template,params:e.params})})}}},function(e,t,n){e.exports={switch:"switch__3h3vl","switch-input":"switch-input__YJJ9R","switch-paddle":"switch-paddle__1AFR2","switch-active":"switch-active__1xU5e","switch-inactive":"switch-inactive__3UJUD",tiny:"tiny__2W01-",small:"small__2l1h-",large:"large__3izdB","switch-with-status":"switch-with-status__13Wz0","text-alert":"text-alert__38YeY","text-success":"text-success__zJklF","telemetry-settings":"telemetry-settings__1wYOU"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var a=n(9),i=n(29).Highstock;e.exports={formatSize:function(e,t){var n=e,r="MB";return e>1048576?(n=e/1048576,r="TiB",0===t&&(t=2)):e>1024?(n=e/1024,r="GiB"):(n=e,r="MB"),i.numberFormat(n,a.isNumber(t)?t:2)+" "+r},formatGB:function(e,t){var n=e,r="GiB";return(e>=1024||0===e||e<=-1024)&&(n=e/1024,r="TiB"),i.numberFormat(n,a.isNumber(t)?t:2)+" "+r},formatTB:function(e,t){var n=1024*e,r="GiB",o=n;return(n>=1024||0===n||n<=-1024)&&(o=e,r="TiB"),i.numberFormat(o,a.isNumber(t)?t:2)+" "+r}}},function(e,t,n){var a=n(11);e.exports=a.Model.extend({defaults:{categories:[],series:[]},url:function(){return this.api().pod().account().segment("/dashboard/local_retention")}})},function(e,t,n){var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(16),r={Exchange:"#2f7ed8",Oracle:"#910000",SharePoint:"#8085e9","VMware ESX":"#C4C243","VMware VDI":"#6E6C20","VMware Other":"#8C8B27","SQL Server":"#434348","SQL Other":"#75828F","Nimble Default":"#8bbc21","Hyper-V":"#f15c80",MySQL:"#e4d354",Windows:"#2b908f",Custom:"gray"};e.exports={getSeriesColor:function(e){var t=r[e];if(!t)throw new Error('Series "'+e+'" does not have a mapped color.');return t},scheduleCategoryLabelFormatter:function(e){var t="";if("object"===(void 0===e?"undefined":a(e))&&(e=e.name),i.isNumeric(e))if(e%7==0){var n=e/7;t=n+(n>1?" weeks":" week")}else t=e+(e>1?" days":" day");else{if(e.indexOf(":")>=0){var r=e.split(":"),o=parseInt(r[0],10),s=parseInt(r[1],10);return 0===o?s+(s>1?" mins":" min"):0===s?o+(o>1?" hours":" hour"):o+"."+s/60+" hours"}t=e}return t}}},function(e,t,n){var a=n(11);e.exports=a.Model.extend({initialize:function(e,t){this.createNew=t.createNew||!1},defaults:{arrays:[],notes:null},validation:{name:{required:!0,msg:"Name is required"},startTime:{fn:function(e,t,n){if(!e)return"Start date is required";return/invalid date/i.test(e)?"Valid date/time needed, e.g. MM/DD/YYYY 1:30 PM":n.trackStartTime<new Date?"Start time cannot be before current time":void 0}},startTimeOnly:{fn:function(e,t,n){if(!e&&n.startTime)return"Start time is required";return/invalid date/i.test(n.trackStartTime)?"Valid date/time needed, e.g. MM/DD/YYYY 1:30 PM":void 0}},endTime:{fn:function(e,t,n){if(!n.endTime)return"End date is required";return/invalid date/i.test(e)?"Valid date/time needed, e.g. MM/DD/YYYY 1:30 PM":this.changed&&this.changed.trackEndTime&&this.changed.trackEndTime<new Date?"End time cannot be before current time":n.trackEndTime<n.trackStartTime?"End time cannot be before start time":void 0}},endTimeOnly:{fn:function(e,t,n){if(!e&&n.endTime)return"End time is required";return/invalid date/i.test(n.trackEndTime)?"Valid date/time needed, e.g. MM/DD/YYYY 1:30 PM":void 0}},arrays:{fn:function(e){return e&&0!==e.length?this._originalAttrs.arrays.length!==e.length&&this._originalAttrs.endTime<new Date?"You cannot edit an array list after maintenance mode has ended.":void 0:"Please select at least one array for maintenance"}}}})},function(e,t,n){e.exports={"legacy-labels":"legacy-labels__3xi3V"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var a=n(43).buildUrlFromBase,i=n(29).Highstock,r=(n(20),n(9));e.exports=function(e){var t=e.dataValues,n=e.categories,o=e.element.get?e.element.get(0):e.element,s=e.yAxisLabelFormatter,l=e.tooltipFormatter,c=Math.ceil(r.max(t)),u=25+31*t.length;return new i.Chart(o,{chart:{type:"bar",alignTicks:!1,marginTop:10,height:u},title:{text:null},plotOptions:{bar:{minPointLength:3,pointWidth:10}},xAxis:{categories:n,title:{text:null},labels:{formatter:function(){if(this.value.id)return'<a title="'+this.value.name+'" class="history-aware" href="'+a("/infrastructure/virtualization/vmware/vms",this.value.id)+'">'+this.value.name+"</a>"},useHTML:!0},lineWidth:0,tickWidth:0},yAxis:[{opposite:!0,offset:-25,title:{text:null},labels:{overflow:"justify",formatter:s,y:-17},gridLineWidth:0,lineWidth:0,showFirstLabel:!1,tickWidth:0,tickPositions:[0,c]}],legend:{enabled:!1},tooltip:{formatter:l,useHTML:!0},credits:{enabled:!1},series:[{name:"TopVMs",data:t,color:"#95cfdb",tooltip:{valueSuffix:""}}]})}},function(e,t){e.exports='<div style="padding-left:10px" class="total-value large-number"></div>\n<div class="chart"><div class="loading-spinner2">Loading...</div></div>\n'},,function(e,t,n){var a=n(1316);n(229);e.exports={initialize:function(e,t){t||(t={}),this.inventoryFilter=t.inventoryFilter||new a,this.listenTo(this,"api:create",this.decorateApi)},decorateApi:function(e){e.addQuery(this.inventoryFilter.toJSON())}}},function(e,t,n){var a=n(9),i=n(29).Highstock,r=n(11);e.exports=r.View.extend({className:"space-usage-chart",renderChart:function(e,t){this.chart=new i.Chart({chart:{type:"pie",renderTo:e,height:250,width:300,events:{load:function(){var e=this;a.delay(function(){e.reflow.call(e)},50)}}},title:{text:null},xAxis:{type:"category"},yAxis:{title:{text:"Data (TiB)"},labels:{overflow:"justify"}},credits:{enabled:!1},legend:{enabled:!0},tooltip:{useHTML:!0,formatter:function(){var e=this.point;this.series;return'<span style="color:'+e.color+'">'+e.name+"</span>:</br><b>"+i.numberFormat(e.y,2)+" TiB</b><br/>"}},plotOptions:{pie:{dataLabels:{enabled:!1},showInLegend:!0}},series:t})},render:function(){this.$el.html();var e={name:"Space Usage",data:[{name:"Volume Usage",y:this.model.get("volumes"),sliced:!0,selected:!0},{name:"Snapshots",y:this.model.get("snapshots"),color:"#78c639"},{name:"Free",y:this.model.get("free"),color:"#CCC"}]};return this.renderChart(this.el,[e]),this}})},function(e,t,n){var a=n(11);e.exports=a.Model.extend({defaults:{totalUnprotectedSize:0,totalSnapshotSize:0,totalReplicatedSize:0,unprotected:[],snapshots:[],replicated:[]},url:function(){return this.api().pod().account().segment("/dashboard/disaster_recovery")}})},function(e,t,n){var a=n(11),i=n(29).Highstock;e.exports=a.Model.extend({defaults:{currentArrayModel:null,currentCacheExpNonAfsGB:null,currentCacheHeadGB:null,currentCacheSystemTotalGB:null,currentCacheTotalAfsGB:null,currentController:null,currentHddExpansionShelves:null,currentHddGB:null,recommendCacheUpgrade:!1,recommendControllerUpgrade:!1,recommendDiskUpgrade:!1,recommendScaleOut:!1,recommendedAddShelf:!1,recommendedArrayModel:null,recommendedController:null,recommendedCacheHeadGB:null,recommendedCacheSystemTotalGB:null,recommendedCacheTotalAfsGB:null,recommendedHddExpansionShelves:null,serialNumber:null,arrayType:null,addAfsShelf:null,cpuRecommendationObject:null,cacheTotalSystemRecommendationObject:null,cacheHeadShelfRecommendationObject:null,cacheSSDShelfRecommendationObject:null,cacheHDDShelfRecommendationObject:null,capacityRecommendationObject:null,upgradeNotes:[]},initialize:function(e){var t=this.get("recommendScaleOut"),n=this.get("recommendControllerUpgrade"),a=this.get("recommendCacheUpgrade"),r=this.get("recommendDiskUpgrade"),o=this.get("currentController"),s=this.get("recommendedController"),l=this.get("addAfsShelf"),c=this.get("arrayType");if(t)n&&this.set("cpuRecommendationObject",this.buildRecommendation("CPU","CPU upgrade recommended")),a&&this.set("cacheRecommendationObject",this.buildRecommendation("Cache","Cache upgrade recommended")),r&&this.set("capacityRecommendationObject",this.buildRecommendation("Disk","Additional storage recommended"));else{if(n&&this.set("cpuRecommendationObject",this.buildRecommendation("Controller","CPU upgrade recommended",o,s)),a){var u=this.get("currentCacheExpNonAfsGB"),d=this.get("currentCacheHeadGB"),p=this.get("currentCacheSystemTotalGB"),h=this.get("currentCacheTotalAfsGB"),m=this.get("recommendedCacheHeadGB"),f=this.get("recommendedCacheSystemTotalGB"),v=this.get("recommendedCacheTotalAfsGB");f!=p&&(this.set("cacheTotalSystemRecommendationObject",this.buildRecommendation("Cache","Total cache upgrade recommended",i.numberFormat(p,0)+" GB",i.numberFormat(f,0)+" GB")),this.set("cacheHeadShelfRecommendationObject",this.buildRecommendation("Cache","Head shelf cache upgrade recommended",i.numberFormat(d,0)+" GB",i.numberFormat(m,0)+" GB")),null!==h&&this.set("cacheSSDShelfRecommendationObject",this.buildRecommendation("Cache","SSD shelf cache upgrade recommended",i.numberFormat(h,0)+" GB",i.numberFormat(v,0)+" GB")),this.set("cacheHDDShelfRecommendationObject",this.buildRecommendation("Cache","HDD shelf cache upgrade recommended",i.numberFormat(u,0)+" GB",i.numberFormat(u,0)+" GB"))),"all-flash"===c&&l&&this.set("capacityRecommendationObject",this.buildRecommendation("AFS","Capacity upgrade recommended","0 shelf","+1 shelf")),"all-flash"!==c||l||this.set("capacityRecommendationObject",this.buildRecommendation("AFS","Capacity upgrade recommended","0 shelf","Populate Bank B"))}if(r){var b=this.get("currentHddExpansionShelves"),g=this.get("recommendedHddExpansionShelves")-b,y="+"+g+(g>1?" shelves":" shelf");this.set("capacityRecommendationObject",this.buildRecommendation("Disk","Capacity upgrade recommended",b+" shelf",y))}}this.setUpgradeNotes()},buildRecommendation:function(e,t,n,a){return{category:e,summary:t,current:n,recommended:a}},setUpgradeNotes:function(){var e=[],t=this.get("recommendScaleOut"),n=this.get("recommendControllerUpgrade"),a=this.get("recommendCacheUpgrade"),i=this.get("recommendDiskUpgrade"),r=this.get("currentController"),o=this.get("recommendedController"),s="",l=null;i&&e.push("capacity"),n&&e.push("cpu"),a&&e.push("cache");for(var c=0;c<e.length;c++)s+=e[c],c<e.length-2&&(s+=", "),c<e.length-1&&(s+=" and ");t?l="Scale-Out is recommended based on your "+s+" needs.":n||r==o||(l="A controller upgrade is required to support the recommended "+s+" upgrades"),l&&this.set("upgradeNotes",[l])}})},function(e,t,n){var a=n(11),i=n(1345);e.exports=a.Model.extend({mixins:[i],defaults:{serialNumber:"",hostname:"",model:"",version:"",group:"",pool:"",expansionShelves:null,upgradable:null}})},function(e,t,n){var a=n(9),i=(n(11),n(687)),r=n(661);e.exports=i.extend({idAttribute:"serialNumber",defaults:a.defaults({data:[],events:new r,possiblyExceedsThreshold:null,probablyExceedsThreshold:null,unmanagedSnapshots:0,capacity:null,free:null},i.prototype.defaults),monthRange:void 0,initialize:function(e,t){t&&(this.monthRange=t.monthRange),this.constructor.__super__.initialize.call(this,e,t)},url:function(){var e=this.api().segment("capacity");return this.monthRange&&(e=e.query({monthRange:this.monthRange})),e}})},,function(e,t,n){var a=n(11);e.exports=a.Model.extend({defaults:{email:""},idAttribute:"email",validation:{email:[{required:!0,msg:"An email address is required"},{pattern:"email",msg:"The provided email address is not well-formed"}]}})},function(e,t,n){var a=n(11),i=n(690);e.exports=a.Collection.extend({model:i})},function(e,t,n){var a=n(11),i=n(683);e.exports=a.Model.extend({mixins:[i],url:function(){return this.api().central().account().segment("wellness/summary")}})},function(e,t,n){var a=n(11);e.exports=a.Model.extend({defaults:{id:null}})},function(e,t,n){var a=n(11);e.exports=a.Model.extend({defaults:{email:""},idAttribute:"email",validation:{email:[{required:!0,msg:"An email address is required"},{pattern:"email",msg:"The provided email address is not well-formed"}]}})},function(e,t,n){e.exports={header:"header__3Lyof","rules-page":"rules-page__23W1X","frame-container":"frame-container__1G9_b"}},,function(e,t,n){var a=n(11),i=n(354);e.exports=a.Collection.extend({model:i,url:function(){return this.api().central().account().segment("maintenancewindow")},parse:function(e){return e.sort(function(e,t){return-(e.startTime-t.startTime)})}})},function(e,t,n){var a=n(11),i=n(1407);e.exports=a.Collection.extend({model:i,url:function(){return this.api().segment("labs/apps")}})},function(e,t,n){e.exports={"legacy-breadcrumbs":"legacy-breadcrumbs__2jkma"}},,function(e,t,n){n(11);var a=n(682),i=n(1439);e.exports=a.extend({model:i,mode:"client",state:{firstPage:0,pageSize:50},comparator:function(e,t){for(var n=e.sortKey(),a=t.sortKey(),i=0;i<Math.min(n.length,a.length);i++){if(n[i].value>a[i].value)return"asc"==n[i].order?1:-1;if(n[i].value<a[i].value)return"asc"==n[i].order?-1:1}return 0}})},function(e,t,n){var a=n(11),i=n(1440),r=(n(622),["Document Type","Nimble Software and Solutions","Version Family","Integration","Platform"]);e.exports=a.Collection.extend({model:i,toQueryParamMap:function(){return this.getSelectedBuckets().reduce(function(e,t){return e[t.getFacet().get("field")]=t.get("value"),e},{})},getSelectedBuckets:function(){return this.reduce(function(e,t){var n=t.getSelectedBucket();return n&&e.push(n),e},[])},hasSelected:function(){return this.some(function(e){return e.hasSelected()})},comparator:function(e){var t=r.indexOf(e.get("field"));return-1===t?Number.POSITIVE_INFINITY:t}})},function(e,t,n){var a=n(11),i=n(1441),r=n(1442).compareVersion;e.exports=a.Collection.extend({model:i,initialize:function(e,t){console.assert(t.facetField),this.facet=t.facet,this.facetField=t.facetField},comparator:function(e,t){var n=e.get("value").toLowerCase(),a=t.get("value").toLowerCase();return"Version Family"===this.facetField?r(n,a):n<a?-1:n>a?1:0}})},function(e,t,n){var a=n(11),i=n(37).BASE_URL,r=n(22).buildUrl,o=n(9),s=n(13),l=(n(75),n(1451)),c=n(1453),u=[["2.0.x","2.1.x","2.2.x","2.3.x"],"2.x"];e.exports=s.CompositeView.extend({template:o.template(c,{variable:"hit"}),templateHelpers:function(){var e=this.model;return{_:o,versionFamilies:function(){var t=e.get("_source")["Version Family"];if(!t)return[];Array.isArray(t)||(t=[t]);for(var n=0;n<u.length;n++){var a=u[n],i=u[++n];o.every(a,function(e){return o.contains(t,e)})&&(t=o.difference(t,a)).push(i)}return t.sort(),t}(),mediaUrl:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(void 0,[i,"media"].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t)))}}},tagName:"li",className:"search-hit",childView:l,childViewContainer:"ul.search-inner-hits",initialize:function(){this.collection=new a.Collection(this.model.get("inner_hits")?this.model.get("inner_hits").topics.hits.hits:[])}})},function(e,t,n){var a=n(9),i=n(13),r=n(1455);e.exports=i.ItemView.extend({template:a.template(r)})},function(e,t,n){var a=n(9),i=n(11),r=function(){try{var e=window.navigator;return(e.languages||[e.language||e.userLanguage]).map(function(e){return e.split("-")[0]})}catch(e){}return"en"}();e.exports=i.Model.extend({defaults:function(){return{languages:a.unique(["en"].concat(r))}}})},function(e,t,n){var a=n(11),i=n(1479);function r(e){var t="000000";return e.split(/\.|\-/).map(function(e){return e.length>=t.length?e:(t+e).slice(-t.length)}).join(".")}e.exports=a.Collection.extend({model:i,initialize:function(e,t){console.assert(t.product),this.product=t.product},comparator:function(e,t){var n=r(e.get("version"));return r(t.get("version")).localeCompare(n)}})},function(e,t,n){var a=n(11);e.exports=a.Model.extend({})},,function(e,t,n){e.exports={"support-loading":"support-loading__2aNkJ","loading-box":"loading-box__2KBYn",error:"error__1le2y","wait-text":"wait-text__3u978"}},function(e,t,n){},function(e,t,n){e.exports={"case-panel":"case-panel__1PEUb","panel-content":"panel-content__16Oiu"}},function(e,t,n){var a=n(11);e.exports=a.Model.extend({defaults:{owner:null,registrationDate:null,arraySn:null,licenseKey:null,accountId:null,macAddress:null,ipAddress:null,uuid:null}})},function(e,t,n){var a=n(11),i=n(713);e.exports=a.Collection.extend({model:i,url:function(){return this.api().central().account().segment("vmarrays")}})},,function(e,t,n){var a=n(9),i=n(11);function r(e){var t=a(e.target).clone();return t.account&&(t.opaqueName=null),{status:e.status,grantee:e.grantee,target:t}}e.exports=i.Collection.extend({constructor:function(e,t){t=t||{},this.collection=e,i.Collection.call(this,null,t)},initialize:function(){this.build(),this.listenTo(this.collection,"add",this.onAdd),this.listenTo(this.collection,"remove",this.onRemove),this.listenTo(this.collection,"change",this.onChange),this.listenTo(this.collection,"reset",this.build)},build:function(){var e=a.chain(this.collection.toJSON()).groupBy(function(e){return JSON.stringify(r(e))}).pairs().map(function(e){var t=JSON.parse(e[0]),n=e[1];return a.extend(t,{id:a.uniqueId("permissionGroup_"),permissions:n})}).value();this.reset(e)},onRemove:function(e){var t=a.matcher({id:e.id}),n=this.find(function(e){return a.some(e.get("permissions"),t)}),i=a.reject(n.get("permissions"),t);i.length?n.set("permissions",i):this.remove(n)},onAdd:function(e){var t=e.toJSON(),n=JSON.stringify(r(t)),o=this.find(function(e){return JSON.stringify(r(e.toJSON()))===n});o?o.set("permissions",o.get("permissions").concat(t)):this.add(new i.Model(a.extend(r(t),{id:a.uniqueId("permissionGroup_"),permissions:[t]})))},onChange:function(){console.assert(!1,"Not implemented")}})},function(e,t,n){var a=n(11);e.exports=a.Model.extend({defaults:{id:null,type:"ReleaseNotes",status:"Inactive",visibility:"Internal",accountId:null,feature:null,expirationDate:null,creationTimestamp:null,notificationTimestamp:null},validation:{title:{required:!0},contents:{required:!0},feature:function(e,t,n){if("Feature"===n.visibility&&!e)return'Feature is required when visibility is "Accounts with Feature"'}}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var a=n(24),i=n(9),r=n(13),o=n(1276),s=n(1282),l=n(1286),c=n(1296),u=n(1298),d=n(1307),p=n(1308),h=n(1309),m=n(36),f=m.AuthorizationEvaluator,v=m.PRIVILEGES,b=m.AUTHORITIES,g=m.PERMISSION_TARGET;e.exports=r.LayoutView.extend({template:i.template(h),className:"ops-dashboard-view",regions:{performance:'[data-region="performance"]',topVms:'[data-region="top-vms"]',capacity:'[data-region="capacity"]',protection:'[data-region="protection"]',system:'[data-region="system"]'},ui:{perfPopover:".performance-info",protectionPopover:".protection-info",capacityPopover:".capacity-info"},onRender:function(){this.performance.show(new s),this.system.show(new u),this.capacity.show(new l),this.protection.show(new c),this.ui.perfPopover.popover({html:!0,trigger:"hover",placement:"right",content:d,container:".ops-dashboard-view",viewport:{selector:".ops-dashboard-view"}}).data("bs.popover").tip().addClass("ops-dashboard-popover"),this.ui.protectionPopover.popover({html:!0,trigger:"hover",placement:"right",content:p,container:".ops-dashboard-view",viewport:{selector:".ops-dashboard-view"}}).data("bs.popover").tip().addClass("ops-dashboard-popover"),this.ui.capacityPopover.popover({trigger:"hover",placement:"right",content:"Arrays and Volumes grouped by the number of days until projected full."});var e=a.request("global","get:account:selection").getAccount();f.evaluate({access:{$or:[{authorities:[b.REALM_INTERNAL,b.ATTRIBUTE_NIMBLE_SUPPORT_PROVIDER]},{permissions:[{privilege:v.PRIMARY,targetType:g.NIMBLE_TENANT,targetId:g.ACTIVE_TARGET_ID},{privilege:v.FEATURE_VMVISION_ACCESS,targetType:g.NIMBLE_TENANT,targetId:g.ACTIVE_TARGET_ID}]}]}})?e.get("vmVisionEnabled")?this.topVms.show(new o):this.$el.find(".topvm-panel").hide():this.topVms.show(new r.ItemView({template:'<span class="text-primary">You do not have permissions to access this customer\'s VM information. Please obtain authorization from your customers to access their VMs.</span>'}))}})},function(e,t,n){var a=n(9),i=n(13),r=n(45),o=n(1277),s=n(1278),l=n(1279),c=n(1281),u=i.LayoutView.extend({template:a.template(c),regions:{iops:'[data-region="iops"]',latency:'[data-region="latency"]'},initialize:function(){this.collection=new l},onRender:function(){this.collection.length&&(this.iops.show(new s({collection:this.collection,vmCount:10})),this.latency.show(new o({collection:this.collection,vmCount:10})))}});e.exports=r.extend({ViewConstructor:u})},function(e,t,n){var a=n(13),i=n(680),r=n(681),o=n(20),s=n(9);e.exports=a.LayoutView.extend({template:s.template(r),className:"dashboard-topvms-view",ui:{totalValueDisplay:".total-value",topVmsChart:".chart"},onAttach:function(){if(this.collection.isEmpty())this.$el.html("No VMs found");else{this.populateMaxValueDisplay();var e=s.chain(this.collection.toJSON()).sortBy("latencyRanking").first(this.getOption("vmCount")).value();this.chart=i({dataValues:s.pluck(e,"avgLatency").map(function(e){return Number(o(e).format("0.00"))}),categories:s(e).map(function(e){return{name:e.name,id:e.id}}),element:this.ui.topVmsChart,yAxisLabelFormatter:function(){return this.isLast?o(this.value).format("0,0")+" ms":null},tooltipFormatter:function(){var e=o(this.point.y).format("0,0");return this.key.name+'</br><span style="color:'+this.point.color+'">●</span> Latency: <b>'+e+"ms </b>"}})}},populateMaxValueDisplay:function(){var e=this.collection.first().get("avgLatencyAllVms"),t=e<.5?"0.0":"0",n=o(e).format(t);this.ui.totalValueDisplay.html(n+'<span class="number-text ops-label">MS AVERAGE LATENCY</span>')}})},function(e,t,n){var a=n(13),i=n(680),r=n(681),o=n(20),s=n(9);e.exports=a.LayoutView.extend({template:s.template(r),className:"dashboard-topvms-view",ui:{totalValueDisplay:".total-value",topVmsChart:".chart"},onAttach:function(){if(this.collection.isEmpty())this.$el.html("No VMs found");else{this.populateMaxValueDisplay();var e=s.chain(this.collection.toJSON()).sortBy("iopsRanking").first(this.getOption("vmCount")).value();this.chart=i({dataValues:s(e).pluck("totalIops"),categories:s(e).map(function(e){return{name:e.name,id:e.id}}),element:this.ui.topVmsChart,yAxisLabelFormatter:function(){return this.isLast?o(this.value).format("0.0a").toUpperCase()+" ops":null},tooltipFormatter:function(){var e=o(this.point.y).format("0,0");return this.key.name+'</br><span style="color:'+this.point.color+'">●</span> I/O: <b>'+e+" </b>"}})}},populateMaxValueDisplay:function(){var e=this.collection.first().get("totalIopsAllVms"),t=s.template('<%= number %><span class="number-text ops-label"><%= magnitude %> TOTAL I/O</span>'),n=o(e).format("a");this.ui.totalValueDisplay.html(t({number:n.slice(0,-1),magnitude:n.slice(-1)}))}})},function(e,t,n){var a=n(11),i=n(1280),r=n(27).default;e.exports=a.Collection.extend({model:i,url:function(){return(new r).pod().genericQuery("vmware",["topVms"]).uriBuilder().valueOf()},parse:function(e){return e.data}})},function(e,t,n){var a=n(11);e.exports=a.Model.extend({defaults:{id:null,iopsRanking:null,latencyRanking:null,name:null,totalIops:null,avgLatency:null,totalIopsAllVms:null,avgLatencyAllVms:null}})},function(e,t){e.exports='<% if (Object.values(items).length) { %>\n<div class="row expanded">\n    <div class="column medium-12" data-region="iops"></div>\n    <div class="column medium-12" data-region="latency"></div>\n</div>\n<div class="pull-right"><small>Over past 24 hours</small></div>\n<% } else { %>\n<span>No data available</span>\n<% } %>\n'},function(e,t,n){var a=n(13),i=n(45),r=n(1283),o=n(1285),s=a.CollectionView.extend({childView:r,className:"dashboard-performance-view",collectionEvents:{reset:"onFetch"},emptyView:a.ItemView.extend({template:"<span>No data available</span>"}),initialize:function(){this.collection=new o},getChartOptions:function(){var e=this.collection.reduce(function(e,t){var n=t.get("minTimestamp"),a=(new Date(n),t.get("maxTimestamp"));new Date(a);return{minDate:Math.min(e.minDate,n),maxDate:Math.max(e.maxDate,a),maxLatency:Math.max(e.maxLatency,t.get("maxLatency")),maxIops:Math.max(e.maxIops,t.get("maxIops"))}},{minDate:new Date,maxDate:new Date(0),maxLatency:Number.MIN_VALUE,maxIops:Number.MIN_VALUE});return e.minDate=Math.min(e.minDate,e.maxDate-432e6),e},onFetch:function(){this.collection.last()&&this.collection.last().set("isLast",!0),this.childViewOptions=this.getChartOptions()}});e.exports=i.extend({ViewConstructor:s,animateOnLoad:!1})},function(e,t,n){var a=n(9),i=(n(22).buildUrl,n(13)),r=(n(342),n(10)),o=n(20),s=n(659),l=n(43).buildUrlFromBase,c=n(1284),u=a.template(c);e.exports=i.ItemView.extend({template:a.constant('<div class="chart"></div>'),templateHelpers:function(){return{numeral:o}},className:"performance-row",ui:{chartContainer:".chart"},onRender:function(){var e=this.model.get("series"),t=this.model.get("serialNumber"),n=this.model.get("arrayHostname"),i=t+"</br>"+n,s="none",c=90;this.model.get("isLast")&&(s="block",c=100);Math.round(this.getOption("maxIops"));this.ui.chartContainer.highcharts({global:{useUTC:!1},chart:{type:"column",height:c,spacingLeft:0,marginRight:50},title:{text:null},plotOptions:{column:{pointPadding:0,groupPadding:.1,borderWidth:0,minPointLength:3,colorByPoint:!0}},xAxis:{min:this.getOption("minDate"),max:this.getOption("maxDate"),type:"datetime",tickInterval:864e5,dateTimeLabelFormats:{day:"%m/%d"},labels:{style:{display:s}}},yAxis:[{allowDecimals:!0,min:0,opposite:!0,showLastLabel:!0,showFirstLabel:!1,tickPositioner:function(){return[0,this.dataMax]},tickWidth:1,title:{text:"IOPS",offset:15},labels:{useHTML:!0,formatter:function(){return this.value<1e3?o(this.value).format("0"):o(this.value).format("0.0a")}},gridLineWidth:0},{title:{text:'<a title="'+t+" : "+n+'" class="history-aware" href="'+l("/infrastructure/storage/nimble/arrays/",t,"/performance")+'"> '+i+"</a>",rotation:0,useHTML:!0,offset:10,x:-50,style:{"min-width":"100px","max-width":"100px"}}}],legend:{enabled:!1},series:[{name:"Latency",data:e.map(this.transformPoint)}],tooltip:{backgroundColor:"white",shadow:!1,useHTML:!0,style:{padding:0},positioner:function(e,t,n){var a=n.plotX+this.chart.plotLeft+20;return n.plotX+this.chart.plotLeft+e+30>this.chart.chartWidth&&(a=n.plotX+this.chart.plotLeft-e-12),{x:a,y:n.plotY-(t-(this.chart.chartHeight-this.chart.plotTop-n.plotY))-12}},formatter:function(){return u(a.extend({},this,{numeral:o,moment:r}))}},credits:{enabled:!1}})},onAttach:function(e){this.ui.chartContainer.highcharts().reflow()},transformPoint:function(e){var t=new s({percentile:e.severityPercentile});return a.extend({x:e.timestamp,y:e.iops,color:t.color,impactScore:t},e)}})},function(e,t){e.exports='<ul class="peer-performance-tooltip">\n    <li>Latency <span class="r"><%= numeral(point.latency).format(\'0.00\') %> ms</span></li>\n    <li>Potential Impact\n        <span class="r">\n            <span class="fa fa-square" style="color: <%= color %>"></span>\n            <span class="text-uppercase"><%= point.impactScore.render() %></span>\n        </span>\n    </li>\n    <li><hr /></li>\n    <li>IOPS <span class="r"><%= numeral(point.iops).format(\'0.00\') %></span></li>\n    <li><hr /></li>\n    <li>Throughput <span class="r"><%= numeral(point.throughput).format(\'0.00\') %> MiB/s</span></li>\n    <li><hr /></li>\n    <li>Time <span class="r"><%= moment(x).format(\'L LT z\', x) %></span></li>\n</ul>\n'},function(e,t,n){var a=n(11),i=n(682);e.exports=i.extend({model:a.Model,mode:"client",state:{firstPage:0,pageSize:4},comparator:"rank",url:function(){return this.api().pod().account().segment("/opsDashboard/peerPerformance").toString()}})},function(e,t,n){var a=n(16),i=n(9),r=n(13),o=n(1287),s=n(1292),l=n(1295),c=n(657),u=r.ItemView.extend({template:i.template(c)});e.exports=r.LayoutView.extend({template:i.template(l),className:"dashboard-capacity-view",regions:{spinner:".spinner-view",array:".dashboard-array-capacity-view",volume:".dashboard-volume-capacity-view"},ui:{headerLabels:".headerLabels"},initialize:function(){i.bindAll(this,"render"),this.arrayView=new o,this.volumeView=new s,this.arrayView.$el.hide(),this.volumeView.$el.hide()},onRender:function(){this.showChildView("array",this.arrayView),this.showChildView("volume",this.volumeView),this.ui.headerLabels.hide(),this.spinner.show(new u);var e=this;a.when(this.arrayView.deferred,this.arrayView.deferred).then(function(){e.onChildrenLoaded()})},onChildrenLoaded:function(e){this.spinner.empty(),this.$el.addClass("animated fadeIn"),this.ui.headerLabels.show(),this.arrayView.$el.show(),this.volumeView.$el.show()}})},function(e,t,n){var a=n(16),i=n(24),r=n(9),o=n(13),s=n(11),l=n(45),c=n(1288),u=n(1289),d=n(1291),p=o.ItemView.extend({template:r.template(d),animateOnLoad:!1,templateHelpers:function(){return{_:r,arrayForecasts:this.arrayForecasts.toJSON(),arrayBuckets:this.arrayBuckets.toJSON()}},className:"dashboard-array-capacity-view",initialize:function(){this.arrayForecasts=new c,this.arrayBuckets=new s.Collection},onRender:function(){var e={html:!0,placement:"left",trigger:"focus",container:".ops-dashboard-view"};this.$(".dashboard-capacity-bucket.critical a[data-count!=0]").popover(r({content:this.renderPopover.bind(this,u,this.arrayBuckets.findWhere({label:"<=30"}),"danger")}).defaults(e)),this.$(".dashboard-capacity-bucket.warning a[data-count!=0]").popover(r({content:this.renderPopover.bind(this,u,this.arrayBuckets.findWhere({label:"<=90"}),"warning")}).defaults(e)),this.$(".dashboard-capacity-bucket a[data-count=0]").attr("tabIndex","-1").attr("disabled",!0)},renderPopover:function(e,t,n){return new e({collection:new s.Collection(t.toJSON().arrays),style:n}).render().el}});e.exports=l.extend({ViewConstructor:p,useSpinner:!1,load:function(){this.deferred=a.Deferred();var e=this;return a.when(this.view.arrayForecasts.fetch(),i.request("global","get:assets:async","jQuery.Deferred")).fail(r.bind(this.deferred.reject,this.deferred)).done(function(t,n){var a=[],i=[],o=[];r.each(e.view.arrayForecasts.toJSON(),function(e,t){var r=e.daysUntilFull,s=n.findWhere({serialNumber:e.arraySn});s&&(s.set("daysUntilFull",r),null==r?o.push(s):r<=30?a.push(s):r<=90?i.push(s):r>90&&o.push(s))});var s=[{label:"<=30",arrays:a},{label:"<=90",arrays:i},{label:">90",arrays:o}];e.view.arrayBuckets.set(s),e.deferred.resolve(e.view)}),this.deferred}})},function(e,t,n){var a=n(11);e.exports=a.Collection.extend({url:function(){return this.api().pod().account().segment("/opsDashboard/capacity/arrays")}})},function(e,t,n){var a=n(9),i=n(13),r=(n(94),n(10),n(1290)),o=n(43).buildUrlFromBase;e.exports=i.CollectionView.extend({initialize:function(e){this.childViewOptions={style:e.style}},tagName:"table",className:"asset-capacity-warnings",childView:i.ItemView.extend({templateHelpers:function(){return{style:this.options.style,getAssetLink:o.bind(null,"/infrastructure/storage/nimble/arrays")}},template:a.template(r),tagName:"tr"})})},function(e,t){e.exports='<td><a href="<%= getAssetLink(serialNumber, \'?tab=capacity\') %>" class="history-aware"><%= hostname || serialNumber %></a></td>\n<td>&nbsp;</td>\n<td><i class="text-<%= style %> fa fa-exclamation-<%  if (style=="danger") { %>circle<% } else { %>triangle<% } %>"></i> <%= daysUntilFull %> Days Until Full</td>\n\n'},function(e,t){e.exports='<div class="dashboard-capacity-bucket row-label ops-label info">\n    <i class="fa fa-2x fa-server" aria-hidden="true"></i> Arrays\n</div>\n\n<% if (_.size(arrayBuckets)) { %>\n\n<% count = _(arrayBuckets).findWhere({ label: \'<=30\' }).arrays.length; %>\n<div class="dashboard-capacity-bucket critical <%= (count == 0) ? \'empty\' : \'\' %>">\n    <a data-count="<%= count %>" href="javascript:void(0);">\n        <div>\n            <div class="text-center">\n                <%= count %>\n            </div>\n            <div class="ops-label text-center">&le; 1 month</div>\n        </div>\n    </a>\n</div>\n\n\n<% count = _(arrayBuckets).findWhere({ label: \'<=90\' }).arrays.length; %>\n<div class="dashboard-capacity-bucket warning <%= (count == 0) ? \'empty\' : \'\' %>">\n    <a data-count="<%= count %>" href="javascript:void(0);">\n        <div>\n            <div class="text-center">\n                <%= count %>\n            </div>\n            <div class="ops-label text-center">1 - 3 months</div>\n        </div>\n    </a>\n</div>\n\n\n<% count = _(arrayBuckets).findWhere({ label: \'>90\' }).arrays.length; %>\n<div class="dashboard-capacity-bucket good <%= (count == 0) ? \'empty\' : \'\' %>">\n    <a data-count="<%= count %>" href="javascript:void(0);">\n        <div>\n            <div class="text-center">\n                <%= count %>\n            </div>\n            <div class="ops-label text-center">&gt; 3 months</div>\n        </div>\n    </a>\n</div>\n\n<% } else { %>\n<span>Capacity forecasts not available</span>\n<% } %>'},function(e,t,n){var a=n(16),i=n(9),r=n(43).buildUrlFromBase,o=(n(22).buildUrl,n(13)),s=n(45),l=n(1293),c=n(1294),u=o.ItemView.extend({template:i.template(c),animateOnLoad:!1,templateHelpers:function(){return{_:i,getVolumeFilterLink:function(e){return r("/infrastructure/storage/nimble/volumes")+"?fieldSet=space&"+e},volumeBuckets:this.volumeBuckets.toJSON()}},className:"dashboard-volume-capacity-view",ui:{info:".info"},initialize:function(){this.volumeBuckets=new l},onRender:function(){this.ui.info.popover({trigger:"hover",content:"Timeframes are estimated"}),this.$('a[data-count="0"]').attr("href",null)}});e.exports=s.extend({ViewConstructor:u,useSpinner:!1,load:function(){return this.deferred=a.Deferred(),a.when(this.view.volumeBuckets.fetch()).fail(i.bind(this.deferred.reject,this.deferred)).done(i.bind(this.deferred.resolve,this.deferred,this.view)),this.deferred}})},function(e,t,n){var a=n(11);e.exports=a.Collection.extend({url:function(){return this.api().pod().account().segment("/opsDashboard/capacity/volumes")}})},function(e,t){e.exports='<div class="dashboard-capacity-bucket row-label ops-label">\n    <i class="fa fa-2x fa-database" aria-hidden="true"></i> Volumes\n</div>\n\n<% if (_.size(volumeBuckets)) { %>\n\n<% count = _(volumeBuckets).findWhere({ label: \'<=7\' }).volumeCount; %>\n<div class="dashboard-capacity-bucket critical <%= (count == 0) ? \'empty\' : \'\' %>">\n    <a data-count="<%= count %>" href="<%= getVolumeFilterLink(\'filter[daysUntilFull]=<%3D 1 Week\') %>" class="history-aware">\n        <div>\n            <div class="text-center">\n                <%= count %>\n            </div>\n            <div class="ops-label text-center">&le; 1 week</div>\n        </div>\n    </a>\n</div>\n\n<% count = _(volumeBuckets).findWhere({ label: \'<=28\' }).volumeCount; %>\n<div class="dashboard-capacity-bucket warning <%= (count == 0) ? \'empty\' : \'\' %>">\n    <a data-count="<%= count %>" href="<%= getVolumeFilterLink(\'filter[daysUntilFull]=>1 Week and <%3D1 Month\') %>&sort[daysUntilFull]=false&sort[name]=false" class="history-aware">\n        <div>\n            <div class="text-center">\n                <%= count %>\n            </div>\n            <div class="ops-label text-center">1 - 4 weeks</div>\n        </div>\n    </a>\n</div>\n\n<% count = _(volumeBuckets).findWhere({ label: \'>28\' }).volumeCount; %>\n<div class="dashboard-capacity-bucket good <%= (count == 0) ? \'empty\' : \'\' %>">\n    <a data-count="<%= count %>" href="<%= getVolumeFilterLink(\'filter[daysUntilFull]=>1 Month\') %>" class="history-aware">\n        <div>\n            <div class="text-center">\n                <%= count %>\n            </div>\n            <div class="ops-label text-center">&gt; 4 weeks</div>\n        </div>\n    </a>\n</div>\n\n<% } else { %>\n<span>Capacity forecasts not available</span>\n<% } %>\n'},function(e,t){e.exports='<div class="spinner-view"></div>\n\n<div class="headerLabels">\n\t<div class="header dashboard-capacity-bucket column-label">\n\t</div>\n\n\t<div class="dashboard-capacity-bucket critical column-label">\n\t    <div class="header text-center">Critical</div>\n\t</div>\n\n\t<div class="dashboard-capacity-bucket warning column-label">\n\t    <div class="header text-center">Warning</div>\n\t</div>\n\n\t<div class="dashboard-capacity-bucket good column-label">\n\t    <div class="header text-center">Good</div>\n\t</div>\n</div>\n\n<div class="dashboard-array-capacity-view"></div>\n<div class="dashboard-volume-capacity-view"></div>\n\n\n'},function(e,t,n){var a=n(16),i=n(13),r=n(45),o=n(1297),s=n(20),l=i.ItemView.extend({template:!1,className:"dashboard-protection-view protection-donut",initialize:function(){this.model=new o},onRender:function(){var e=this.model;0!==e.get("accountTotalVolumeCount")?(this.$el.highcharts({chart:{type:"pie",spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0,marginLeft:0},title:{useHTML:!0,text:function(){var t=e.get("percentProtected");return t<=1?'<span class="large-number">'+s(100*t).format("0")+'</span><span>%</span><p class="ops-label">volumes</br>protected</p>':null}(),align:"center",verticalAlign:"middle",y:-27,x:-80},xAxis:{type:"category"},legend:{enabled:!0,useHTML:!0,labelFormatter:function(){var t='<div class="protection-legend-item"><span>'+this.name+"</span><span>"+this.y+"</span></div>";return 0!==e.get("accountTotalVolumesLagging")&&"UNPROTECTED"===this.name&&(t+='<div class="protection-legend-item lag">\n                                    <span class="text-right"><i class="fa fa-exclamation-triangle text-warning"></i> LAG</span>\n                                    <span>'+e.get("accountTotalVolumesLagging")+"</span>\n                                </div>"),t},layout:"vertical",align:"right",verticalAlign:"middle",padding:0,margin:0,x:-30,itemMarginTop:3,itemMarginBottom:3},tooltip:{enabled:!1},plotOptions:{pie:{dataLabels:{enabled:!1},center:[75,"50%"],point:{events:{legendItemClick:function(e){e.preventDefault()}}}}},series:[{showInLegend:!0,size:"100%",innerSize:"85%",borderColor:"#999999",data:[{name:"LOCAL ONLY",y:this.model.get("localProtectedCount"),color:"#95cfdb"},{name:"REMOTE",y:this.model.get("remoteProtectedCount"),color:"#529fae"},{name:"UNPROTECTED",y:this.model.get("unprotectedCount"),color:"#ffffff",lag:this.lag}],states:{hover:{enabled:!1}}}],credits:{enabled:!1}}),a(this.$el.highcharts().series[0].data).each(function(e,t){t.legendSymbol&&(a(t.legendSymbol.element).attr("stroke-width","1"),a(t.legendSymbol.element).attr("stroke","#999999"))})):this.$el.append("<span><p>No volumes have been provisioned</p></span>")},onAttach:function(){this.$el.highcharts()&&this.$el.highcharts().reflow()}});e.exports=r.extend({ViewConstructor:l})},function(e,t,n){var a=n(11);e.exports=a.Model.extend({url:function(){return this.api().pod().account().segment("/opsDashboard/protection")},parse:function(e){return e.percentProtected=(e.localProtectedCount+e.remoteProtectedCount)/e.accountTotalVolumeCount,e}})},function(e,t,n){var a=n(16),i=n(24),r=n(9),o=n(13),s=n(45),l=n(1299),c=n(1301),u=n(1303),d=n(1306),p=n(10),h=o.ItemView.extend({template:r.template(d),className:"dashboard-system-view",templateHelpers:function(){p();return{arrayCount:this.collection.length,hardwareIssueCount:this.collection.filter(function(e){return e.hasHardwareIssues()}).length,hasHeartbeatWarnings:this.collection.some(function(e){return e.hasHeartbeatWarning()}),hasAsupWarnings:this.collection.some(function(e){return e.hasAsupWarning()}),upgradeAvailable:this.collection.some("upgradable")}},onRender:function(){var e={html:!0,placement:"left",trigger:"focus",container:".ops-dashboard-view",viewport:{selector:".ops-dashboard-view"}},t=this.$('.hb-container[data-has-warnings="true"]').popover(r({content:this.renderPopover.bind(this,l)}).defaults(e));t.length>0&&t.data("bs.popover").tip().addClass("ops-dashboard-popover");var n=this.$('.asup-container[data-has-warnings="true"]').popover(r({content:this.renderPopover.bind(this,c)}).defaults(e));n.length>0&&n.data("bs.popover").tip().addClass("ops-dashboard-popover"),this.$('.hardware-container [data-has-warnings="true"]').popover(r({content:this.renderPopover.bind(this,u)}).defaults(e))},renderPopover:function(e){return new e({collection:this.collection}).render().el},mergeTimestamps:function(e){this.collection.each(function(t){var n=e[t.get("serialNumber")];t.set({asupReceived:n?n.lastReceived:null,asupProcessed:n?n.lastProcessed:null})})}});e.exports=s.extend({ViewConstructor:h,load:function(){var e=this;return a.when(a.getJSON(this.api().pod().account().segment("assets/asupStatus")),i.request("global","get:assets:async","jQuery.Deferred")).then(function(t,n){return e.view.collection=n,e.view.mergeTimestamps.call(e.view,t),e.view})}})},function(e,t,n){var a=n(9),i=n(43).buildUrlFromBase,r=n(13),o=n(94),s=n(10),l=n(1300);e.exports=r.CollectionView.extend({tagName:"table",className:"heartbeat-warnings",initialize:function(){this.collection=new o(this.collection,{filter:function(e){return e.hasHeartbeatWarning()},comparator:function(e){return e.get("hostname")+e.get("serialNumber")}})},childView:r.ItemView.extend({template:a.template(l),tagName:"tr",templateHelpers:function(){var e=this.model.get("latestHeartbeat");return{hbMoment:e?s(e.timestamp):null,getAssetLink:i.bind(null,"/infrastructure/storage/nimble/arrays")}}})})},function(e,t){e.exports='<td><a href="<%= getAssetLink(serialNumber) %>" class="history-aware"><%= hostname ? hostname : serialNumber %></a></td>\n<td>\n    <% if (latestHeartbeat) { %>\n        <i class="text-warning fa fa-exclamation-triangle"></i> Heartbeat Delayed <small>(<%= hbMoment.fromNow() %>: <%= hbMoment.format(\'L LTS\') %>)</small>\n    <% } else { %>\n        <i class="text-danger fa fa-exclamation-circle"></i> Heartbeats Not Received\n    <% } %>\n</td>\n'},function(e,t,n){var a=n(9),i=(n(22).buildUrl,n(13)),r=n(94),o=n(43).buildUrlFromBase,s=n(10),l=n(1302);e.exports=i.CollectionView.extend({tagName:"table",className:"asup-warnings",initialize:function(){this.collection=new r(this.collection,{filter:function(e){return e.hasAsupWarning()},comparator:function(e){return e.get("hostname")+e.get("serialNumber")}})},childView:i.ItemView.extend({template:a.template(l),tagName:"tr",templateHelpers:function(){return{asupReceivedMoment:s(this.model.get("asupReceived")),getAssetLink:o.bind(null,"/infrastructure/storage/nimble/arrays")}}})})},function(e,t){e.exports='<td><a href="<%= getAssetLink(serialNumber) %>" class="history-aware"><%= hostname ? hostname : serialNumber %></a></td>\n<td>\n    <% if (asupReceived) { %>\n        <i class="text-warning fa fa-exclamation-triangle"></i> Call Home Delayed <small>(<%= asupReceivedMoment.fromNow() %>: <%= asupReceivedMoment.format(\'L LTS\') %>)</small>\n    <% } else { %>\n        <i class="text-danger fa fa-exclamation-circle"></i> Call Home Never Received\n    <% } %>\n</td>\n'},function(e,t,n){var a=n(16),i=n(9),r=n(13),o=n(94),s=n(10),l=n(43).buildUrlFromBase,c=n(1304),u=n(1305),d=i.template('Controller <%= controller %> <b><%= component %></b> is <%= isAlerted ? "in <b>alerted</b> status" : "operating normally" %>.'),p=i.template("<b><%= failed %></b> of <%= good + failed %> <%= type.toUpperCase() %>s are reporting as failed"),h={psu:"power supply",fan:"fan",temperature:"temperature"};e.exports=r.CompositeView.extend({template:i.template(c),className:"hardware-warnings",childViewContainer:"tbody",childViewOptions:function(){return{parentView:this}},initialize:function(){this.collection=new o(this.collection,{filter:function(e){return e.hasHardwareIssues()},comparator:function(e){return e.get("hostname")+e.get("serialNumber")}})},childView:r.ItemView.extend({template:i.template(u),tagName:"tr",templateHelpers:function(){return{hbMoment:s(this.model.get("latestHeartbeat").timestamp),getAssetLink:l.bind(null,"/infrastructure/storage/nimble/arrays")}},onRender:function(){var e=this.getOption("parentView").$el;this.$("[data-component]").bs_tooltip({title:this.renderComponentTooltip,container:e,html:!0}),this.$('[data-column="ssd"] div,[data-column="hdd"] div').bs_tooltip({title:i(this.renderDiskTooltip).partial(this.model.get("latestHeartbeat")),container:e,html:!0})},renderComponentTooltip:function(){var e=a(this);return d({controller:e.closest("[data-controller]").data("controller").toUpperCase(),component:h[e.data("component")],isAlerted:"OK"!=e.data("status")})},renderDiskTooltip:function(e){var t=a(this).closest("[data-column]").data("column");return p({type:t,failed:e[t+"FailedCount"],good:e[t+"GoodCount"]})}})})},function(e,t){e.exports='<table class="table">\n    <tbody></tbody>\n</table>'},function(e,t){e.exports='<td data-column="array">\n    <a href="<%= getAssetLink(serialNumber) %>" class="history-aware"><%= hostname ? hostname : serialNumber %></a>\n    <% if (hostname) { %>\n        <br/><small><%= serialNumber %></small>\n    <% } %>\n\n    <div class="timestamp" title="<%= hbMoment.format(\'L LTS\') %>">(as of <%= hbMoment.fromNow() %>)</div>\n</td>\n<td data-column="ssd">\n    <% if (latestHeartbeat.ssdFailedCount > 0) { %>\n        <div class="text-danger"><i class="fa fa-exclamation-circle"></i> <%= latestHeartbeat.ssdFailedCount %></div>\n    <% } else { %>\n        <div class="text-success"><i class="fa fa-lg fa-check-circle"></i></div>\n    <% } %>\n    <small>SSDs</small>\n</td>\n<% if (!allFlash) { %>\n<td data-column="hdd">\n    <% if (latestHeartbeat.hddFailedCount > 0) { %>\n        <div class="text-danger"><i class="fa fa-exclamation-circle"></i> <%= latestHeartbeat.hddFailedCount %></div>\n    <% } else { %>\n        <div class="text-success"><i class="fa fa-lg fa-check-circle"></i></div>\n    <% } %>\n    <small>HDDs</small>\n</td>\n<% } %>\n<td data-column="controllers">\n    <ul class="controller-list">\n        <% latestHeartbeat.controllers.forEach(function(controller) { %>\n            <li data-controller="<%= controller.name %>">\n                <span class="ops-label">Controller <%= controller.name %></span>\n                <span data-controller-state="<%= controller.state %>" class="label"><%= controller.state %></span>\n                <ul class="component-list">\n                    <% controller.components.forEach(function(component) { %>\n                        <li class="component-icon" data-component="<%= component.name %>" data-status="<%= component.status %>"></li>\n                    <% }); %>\n                </ul>\n            </li>\n        <% }); %>\n    </ul>\n</td>\n'},function(e,t){e.exports='<div>\n    <div class="pull-left hardware-container">\n        <div class="header">Hardware</div>\n        <div class="pull-left"><span class="icon hardware-icon"></span></div>\n        <div class="pull-left good-container">\n            <div class="large-number text-center"><%= arrayCount %></div>\n            <div class="ops-label text-center">Arrays</div>\n        </div>\n        <div class="pull-left hardware-warning-container" data-has-warnings="<%= hardwareIssueCount > 0 %>">\n            <% if (hardwareIssueCount) { %>\n                <a tabindex="0" role="button" class="warning-count text-danger">\n                    <i class="fa fa-exclamation-circle"></i>\n                    <%= hardwareIssueCount %>\n                </a>\n            <% } %>\n        </div>\n    </div>\n    <div class="pull-left connectivity-container">\n        <div class="header">Monitoring Services</div>\n        <div class="pull-left hb-container" data-has-warnings="<%= hasHeartbeatWarnings %>">\n            <a tabindex="0" role="button">\n                <div class="large-number text-center">\n                    <span class="icon"></span>\n                </div>\n                <div class="ops-label text-center">Heartbeat</div>\n            </a>\n        </div>\n        <div class="pull-left asup-container" data-has-warnings="<%= hasAsupWarnings %>">\n            <a tabindex="0" role="button">\n                <div class="large-number text-center">\n                    <span class="icon"></span>\n                </div>\n                <div class="ops-label text-center">Call Home</div>\n            </a>\n        </div>\n    </div>\n    <div class="software">\n        <% if (upgradeAvailable) { %>\n            <a href="app#assets?sort[0][column]=Version&sort[0][order]=asc&filter[Upgrade Available]=Yes">\n                <i class="fa fa-download"></i> Software Update Available\n            </a>\n        <% } %>\n    </div>\n</div>\n'},function(e,t){e.exports="<p>\n    The coloring in the performance chart depicts InfoSight's <b>Potential Impact Score</b> metric.\n</p>\n<p>\n    Using InfoSight intelligence, this score identifies those periods where the impact of latency on application behavior is expected to be strongest.\n</p>\n<p>\n    Larger-block operations, for example, tend to be more latent; at the same time the workloads driving them tend to be less latency sensitive.\n    InfoSight's Impact Score corrects for this bias and highlights those latency events expected to cause the most impact to end users when accessing applications.\n</p>"},function(e,t){e.exports='<p>\n      <b>LOCAL ONLY</b> indicates the amount of volumes that are protected locally by having only local snapshots. There are no current replication scheduled found with them. \n</p>\n<p>\n      <b>REMOTE</b> indicates the amount of volumes has are not only protected locally, but are as well protected by a replication schedule. The actual replica copies are assumed to be valid and healthy.\n</p>\n<p>\n      <b>UNPROTECTED</b> indicates the amount of volumes that are not protected because they have neither local snapshots nor a replication schedule. We assume a volume has no replicas without a replication schedule.\n</p>\n\n\n<p><b>VOLUMES PROTECTED</b> Percentage = 100 * ("LOCAL ONLY" + "REMOTE") / ("LOCAL ONLY" + "REMOTE" + "UNPROTECTED")</p>\n\n<p>"Replication Target Volumes" are excluded from the calculation.</p>\n\n'},function(e,t){e.exports='<div class="row expanded">\n    <div class="column large-16">\n        <div class="row expanded">\n            <div class="column large-24">\n                <div class="panel panel-default perf-panel">\n                    <div class="panel-heading">\n                        <h2 class="panel-title">Performance\n                            <i class="fa fa-info-circle performance-info"></i>\n                        </h2>\n                    </div>\n                    <div class="panel-body" data-region="performance"></div>\n                </div>\n            </div>\n        </div>\n        <div class="row expanded">\n            <div class="column large-24">\n                <div class="panel panel-default topvm-panel">\n                    <div class="panel-heading"><h2 class="panel-title">Top VMs</h2></div>\n                    <div class="panel-body" data-region="top-vms" data-vm-vision="true"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="column large-8">\n        <div class="row expanded">\n            <div class="column large-24">\n                <div class="clearfix panel panel-default system-panel">\n                    <div class="panel-heading"><h2 class="panel-title">System</h2></div>\n                    <div class="panel-body" data-region="system"></div>\n                </div>\n            </div>\n        </div>\n        <div class="row expanded">\n            <div class="column large-24">\n                <div class="panel panel-default protection-panel">\n                    <div class="panel-heading"><h2 class="panel-title">Protection <i class="fa fa-info-circle protection-info"></i></h2></div>\n                    <div class="panel-body" data-region="protection"></div>\n                </div>\n            </div>\n        </div>\n\n        <div class="row expanded">\n            <div class="column large-24">\n                <div class="panel panel-default capacity-panel">\n                    <div class="panel-heading"><h2 class="panel-title">Capacity <i class="fa fa-info-circle capacity-info"></i></h2></div>\n                    <div class="panel-body" data-region="capacity"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(e,t,n){e.exports={container:"container__2bmzC",title:"title__224Jp"}},function(e,t,n){var a=n(24),i=n(9),r=(n(16),n(54),n(13)),o=n(1312),s=n(1313),l=n(1332),c=(n(1338),n(1341)),u=n(1366),d=n(80).NimbleUserTenantHelpers;e.exports=r.ItemView.extend({template:i.template(o),className:"dashboard-view",ui:{executiveDashboardEmailBtn:"#executive-dashboard-email-btn"},events:{"click @ui.executiveDashboardEmailBtn":"onClickExecutiveDashboardEmail"},onRender:function(){this.renderROIView(),this.renderDataProtection(),this.renderCaseStatistics(),this.renderUpgrades(),d.isExternal()&&!d.isPrimaryTenant()&&this.ui.executiveDashboardEmailBtn.hide()},onDestroy:function(){this.dashboardROIView&&(this.dashboardROIView.destroy(),delete this.dashboardROIView),this.dataProtectionView&&(this.dataProtectionView.destroy(),delete this.dataProtectionView),this.upgradesView&&(this.upgradesView.destroy(),delete this.upgradesView)},renderROIView:function(){return this.dashboardROIView=new s({model:this.model}),this.$el.find(".dashboard-space-tab").append(this.dashboardROIView.render().el),this},renderDataProtection:function(){return this.dataProtectionView=new l({model:this.model}),this.$el.find(".data-protection-container.dashboard-section").append(this.dataProtectionView.render().el),this},renderCaseStatistics:function(){return this},renderUpgrades:function(){this.upgradesView=new c({model:this.model}),this.$el.find(".dashboard-arrays-tab").append(this.upgradesView.render().el)},onClickExecutiveDashboardEmail:function(e){e.preventDefault(),a.modalRegion.show(new u)}})},function(e,t){e.exports='<div class="dashboard-content">\n    <div id="executive-dashboard-toolbar" class="hidden-print">\n        <button class="button secondary small hidden-print" id=\'executive-dashboard-email-btn\' >\n            <span class="glyphicon glyphicon-envelope"></span> Email Settings\n        </button>\n        <button class="button secondary small hidden-print" onclick="window.print()">\n            <span class="glyphicon glyphicon-print"></span> Print\n        </button>\n    </div>\n\n    <div id="dashboard-space-tab" class="dashboard-space-tab"></div>\n\n    <div id="dashboard-data-protection-tab" class="dashboard-data-protection-tab">\n        <h2>Data Protection</h2>\n        <div class="data-protection-container dashboard-section"></div>\n        <div class="clear"></div>\n    </div>\n\n    <div id="dashboard-arrays-tab" class="dashboard-arrays-tab">\n    </div>\n</div>'},function(e,t,n){var a=n(9),i=n(13),r=n(1314),o=n(110),s=n(1315),l=n(1317),c=n(1318),u=n(1322),d=(n(1328),n(81));e.exports=i.ItemView.extend({template:a.template(r),className:"dashboard-space-view",onRender:function(){var e=this,t=new s({}),n=new l({});this.spaceSavings=new u({model:t}),this.spaceSpinner=new d,this.$el.find("#space-savings-spinner").append(this.spaceSpinner.render().el),this.caseSpinner=new d,this.$el.find("#case-efficiency-spinner").append(this.caseSpinner.render().el),t.fetch().always(function(){e.spaceSpinner.hide()}).done(function(){e.$el.find(".space-savings-container").append(e.spaceSavings.render().el)}).fail(function(t){var n=a.template(o);e.$el.find(".space-savings-header").after(n({message:"Space Savings Information is not available."}))}),n.fetch().always(function(){e.caseSpinner.hide()}).done(function(){e.caseStatisticsView=new c({model:n}),e.$el.find(".operational-efficiency-container").append(e.caseStatisticsView.render().el)}).fail(function(t){var n=a.template(o);e.$el.find(".space-usage-header").after(n({message:"Operational Efficiency Information is not available."}))})},onDestroy:function(){this.chart&&(this.chart.destroy(),delete this.chart)}})},function(e,t){e.exports='<h2 class="space-savings-header">Space Savings</h2>\n<div class="space-savings-container dashboard-section"></div>\n<div id="space-savings-spinner"/>\n\n\x3c!-- <h2 class="space-usage-header">Space Usage</h2>\n<div class="space-usage-container dashboard-section"></div> --\x3e\n\n<h2 class="space-usage-header">Operational Efficiencies</h2>\n<div class="operational-efficiency-container dashboard-section"></div>\n<div id="case-efficiency-spinner"/>'},function(e,t,n){var a=n(11),i=n(683);e.exports=a.Model.extend({mixins:[i],defaults:{traditionalSpace:null,spaceUsed:null,excludeDonut:!1,thinProvisionedSpace:null,compression:null,zeroCopyClones:null,deduplication:null,spaceSavings:null,savingsFactor:null},url:function(){return this.api().pod().account().segment("dashboard/savings")}})},function(e,t,n){var a=n(11);e.exports=a.Model.extend({defaults:{arraySn:void 0}})},function(e,t,n){var a=n(11);e.exports=a.Model.extend({defaults:{customer:null,caseStats:[],automaticallyClosed:0,manuallyClosed:0,totalCases:0},url:function(){return this.api().pod().account().segment("dashboard/casestats")}})},function(e,t,n){var a=n(9),i=n(11),r=n(1319),o=n(1320),s=n(1321),l=a.template(r);e.exports=i.View.extend({className:"case-statistics-view",render:function(){return this.$el.html(l(this.model.toJSON())),this.caseStatisticsChart=new o({model:this.model}),this.$el.find(".chart-container").append(this.caseStatisticsChart.render().el),this.caseStatisticsDonutView=new s({model:this.model}),this.$el.find(".donut-container").append(this.caseStatisticsDonutView.render().el),this}})},function(e,t){e.exports='<div class="case-summary">\n    <div class="dashboard-success-message"></div>\n</div>\n\n<% if ( totalCases > 0 ) { %>\n    <div class="row expanded">\n      <div class="column small-16 chart-container"></div>\n      <div class="column small-8 donut-container"></div>\n    </div>\n<% } else { %>\n    <div class="no-dashboard-content">\n        <span class="ui-icon ui-icon-info"></span>\n        <span>No cases reported</span>\n    </div>\n<% } %>'},function(e,t,n){var a=n(9),i=n(29).Highstock,r=(n(16),n(54),n(11));e.exports=r.View.extend({className:"case-statistics-chart",renderChart:function(e,t,n){this.chart=new i.Chart({chart:{type:"area",renderTo:e,height:350,events:{load:function(){var e=this;a.delay(function(){e.reflow.call(e)},50)}}},title:{text:"Operational Efficiencies"},subtitle:{text:"Cases closed automatically vs manually"},credits:{enabled:!1},xAxis:{type:"datetime",dateTimeLabelFormats:{day:"%e of %b",month:"%b"}},yAxis:{title:{text:"Cases Resolved"}},tooltip:{shared:!0,formatter:function(){for(var e=i.dateFormat("Week of %A, %b %e, %Y",this.points[0].x),t=0,n=0;n<this.points.length;n++){var a=this.points[n],r=a.series.color,o=a.y;e+='<br/><span style="color: '+r+'">'+a.series.name+":</span> "+o,t+=o}return e+="<br/>Total Cases: "+t}},plotOptions:{area:{animation:!1,stacking:"normal",lineColor:"#666666",lineWidth:1,marker:{enabled:n<5},format:"{point.y:.1f} TiB"}},series:t})},render:function(){this.$el.html(this.el);for(var e=this.model.get("caseStats"),t=this.model.get("automaticallyClosed"),n=(this.model.get("manuallyClosed"),this.model.get("totalCases")),a={name:"Automatically Closed",data:[]},r={name:"Manually Closed",data:[]},o=0;o<e.length;o++){var s=e[o],l=s.automatic,c=s.manual,u=s.closeWeek;a.data.push([u,l]),r.data.push([u,c])}var d="";n>0&&t>0&&(d=i.numberFormat(t/n*100,1)+"% of your resolved cases were closed automatically.");var p=this.$el.find(".dashboard-success-message");return d.length>0?(p.html(d),p.show()):p.hide(),this.renderChart(this.el,[a,r],e.length),this}})},function(e,t,n){var a=n(9),i=n(29).Highstock,r=n(11);e.exports=r.View.extend({className:"case-statistics-donut-view",renderChart:function(e,t,n){var r=this;this.chart=new i.Chart({chart:{type:"pie",renderTo:e,height:"300",events:{load:function(){var e=this;a.delay(function(){e.reflow.call(e)},50)}}},title:{text:'<span style="color: #78c639">'+n+"%</span><br/><span>Auto-Closed</span>",align:"center",verticalAlign:"middle",y:3},xAxis:{type:"category"},yAxis:{title:{text:"Data (TiB)"},labels:{overflow:"justify"}},credits:{enabled:!1},legend:{enabled:!1},tooltip:{useHTML:!0,formatter:function(){var e,t=this.point,n=(this.series,r.model.get("totalCases"));return e=" ("+i.numberFormat(this.y/n*100,0)+"%)",'<span style="color:'+t.color+'">'+t.name+"</span>:</br><b>"+i.numberFormat(t.y,0)+"</b>"+e+"<br/>"}},plotOptions:{pie:{dataLabels:{enabled:!1,size:50,style:{}},center:["50%","50%"]}},series:t})},render:function(){this.$el.html();var e,t={name:"Space Savings",innerSize:"75%",data:[]};return e=this.model.get("automaticallyClosed")/this.model.get("totalCases")*100,this.model.get("automaticallyClosed")>0&&t.data.push({name:"Automatically Closed",y:this.model.get("automaticallyClosed"),color:"rgba(47, 126, 216, 0.7)"}),this.model.get("manuallyClosed")>0&&t.data.push({name:"Manually Closed",y:this.model.get("manuallyClosed"),color:"rgba(13, 35, 58, 0.75)"}),this.renderChart(this.el,[t],i.numberFormat(e,0)),this}})},function(e,t,n){var a=n(9),i=n(29).Highstock,r=n(13),o=n(1323),s=n(1324),l=(n(1325),n(1327));n(684),a.template(o);e.exports=r.ItemView.extend({template:a.template(o),className:"space-savings-view",initialize:function(e){this.excludeDonut=e.excludeDonut},onRender:function(){var e=this.model.get("spaceSavings")/this.model.get("traditionalSpace")*100;e=i.numberFormat(e,1),this.$el.find(".percent-saved").append("("+e+"%)"),this.spaceSavingsView=new l({model:this.model}),this.$el.find(".space-savings-waterfall").append(this.spaceSavingsView.render().el),this.excludeDonut||(this.spaceSavingsDonut=new s({model:this.model}),this.$el.find(".space-savings-donut").append(this.spaceSavingsDonut.render().el))}})},function(e,t){e.exports='<% if ( !traditionalSpace && !spaceUsed ) { %>\n    <div class="no-dashboard-content">\n        <span class="ui-icon ui-icon-info"></span>\n        <span>No space information available</span>\n    </div>\n<% } else { %>\n    <div class="row expanded">\n<% if ( excludeDonut ) { %>    \n        <div class="column small-24 space-savings-waterfall"></div>\n<% } else { %>\n        <div class="column small-16 space-savings-waterfall"></div>\n        <div class="column small-8 space-savings-donut"></div>\n<% } %>    \n    </div>\n<% } %>\n<div class="spinner"/>'},function(e,t,n){var a=n(9),i=n(29).Highstock,r=n(11),o=n(351);e.exports=r.View.extend({className:"space-savings-donut-view",renderChart:function(e,t,n,r){var s=this;this.chart=new i.Chart({chart:{type:"pie",renderTo:e,height:300,events:{load:function(){var e=this;a.delay(function(){e.reflow.call(e)},50)}}},title:{text:'<span style="color: #78c639">'+n+"x</span><br/><span>Reduction</span>",align:"center",verticalAlign:"middle",y:2},xAxis:{type:"category"},yAxis:{title:{text:"Data"},labels:{overflow:"justify"}},credits:{enabled:!1},legend:{enabled:!1},tooltip:{useHTML:!0,formatter:function(){var e=this.point,t=(this.series,"");if("Capacity Used<br>(Pre-Savings)"!=e.name){var n=s.model.get("spaceSavings");t=" ("+i.numberFormat(this.y/n*100,2)+"%)"}return'<span style="color:'+e.color+'">'+e.name+"</span>:</br><b>"+o.formatTB(e.y)+"</b>"+t+"<br/>"}},plotOptions:{pie:{dataLabels:{enabled:!1,size:50},center:["50%","50%"]}},series:r})},render:function(){this.$el.html();var e={name:"Space Savings",innerSize:"75%",data:[]},t=this.model.get("spaceSavings"),n=this.model.get("savingsFactor"),a=this.model.get("traditionalSpace");i.numberFormat(t/a*100,0);return this.model.get("compression")>0&&e.data.push({name:"Compression Savings",y:this.model.get("compression"),color:"rgba(47, 126, 216, 0.4)"}),this.model.get("zeroCopyClones")>0&&e.data.push({name:"Clone Savings",y:this.model.get("zeroCopyClones"),color:"rgba(47, 126, 216, 1)"}),this.model.get("deduplication")>0&&e.data.push({name:"Deduplication Savings",y:this.model.get("deduplication"),color:"rgba(47, 126, 216, 0.8)"}),this.renderChart(this.el,t,n,[e]),this}})},function(e,t,n){var a=n(9),i=n(29).Highstock,r=(n(16),n(54),n(11)),o=n(1326),s=a.template(o);e.exports=r.View.extend({className:"space-savings-view",renderChart:function(e,t,n,r){this.chart=new i.Chart({chart:{type:"bar",renderTo:e,height:175,events:{load:function(){var e=this;a.delay(function(){e.reflow.call(e)},50)}}},title:{text:null},xAxis:{categories:["Nimble","Traditional Storage"]},yAxis:{min:0,title:{text:null}},credits:{enabled:!1},legend:{backgroundColor:"#FFFFFF",reversed:!0},plotOptions:{series:{stacking:"normal",dataLabels:{enabled:!0,color:"#FFFFFF"}}},series:[{name:"Space Savings",data:[n]},{name:"Space Used",color:"#8bbc21",data:[t]},{name:"Traditional",color:"gray",data:[null,r]}]})},render:function(){return this.$el.html(s(this.model.toJSON())),this.renderChart(this.$el.find(".space-savings-chart")[0],this.model.get("spaceUsed"),this.model.get("spaceSavings"),this.model.get("traditionalSpace")),this}})},function(e,t){e.exports='<div class="space-savings-left">\n    <div class="space-savings-chart"/>\n</div>\n<div class="space-savings-right-column">\n    <TABLE class="space-savings-table">\n        <THEAD>\n            <TH ALIGN="left">Nimble Feature</TH>\n            <TH ALIGN="left">Space Savings</TH>\n        </THEAD>\n        <TBODY>\n            <TR>\n                <TD>Compression</TD>\n                <TD ALIGN="right"><%= compression %> TiB</TD>\n            </TR>\n            <TR>\n                <TD>Thin Provisioning</TD>\n                <TD ALIGN="right"><%= thinProvisionedSpace %> TiB</TD>\n            </TR>\n            <TR>\n                <TD>Zero Clone</TD>\n                <TD ALIGN="right"><%= zeroCopyClones %> TiB</TD>\n            </TR>\n            <TR class="total-row">\n                <TD>Total</TD>\n                <TD ALIGN="right"><%= spaceSavings %> TiB</TD>\n            </TR>\n        </TBODY>\n    </TABLE>\n</div>\n<div style="clear: left;"/>'},function(e,t,n){var a=n(9),i=n(29).Highstock,r=(n(16),n(54),n(11)),o=n(351);e.exports=r.View.extend({className:"space-savings-waterfall-view",renderChart:function(e,t){var n=this;this.chart=new i.Chart({chart:{type:"waterfall",renderTo:e,height:300,events:{redraw:function(){this.series[0].points.forEach(function(e){var t=e.shapeArgs.height;if(!(e.dataLabel.height<=t+4)){var n=Math.ceil(t/2)+8,a=e.dataLabel.element,i=a.getAttribute("transform");if(e.dataLabel.css({color:"black",textShadow:"none"}),-1!=i.indexOf("translate")){var r=/translate\((\d+)(,| )(\d+)\)/g.exec(i);if(r&&4==r.length){var o=r[1],s=r[3],l="translate("+o+","+(parseInt(s,10)-n)+")";a.setAttribute("transform",l)}}}})},load:function(){var e=this;a.delay(function(){e.reflow.call(e)},50)}}},title:{text:"Nimble Space Savings"},xAxis:{type:"category",labels:{formatter:function(){return this.value}},crosshair:!1},yAxis:{title:{text:"Data (TiB)"},labels:{overflow:"justify"}},credits:{enabled:!1},legend:{enabled:!1},tooltip:{formatter:function(){var e=this.point,t=(this.series,"");if("Capacity Used<br>(Pre-Savings)"!=e.name){var a=n.model.get("traditionalSpace");t=" ("+i.numberFormat(this.y/a*100,2)+"%)"}return'<span style="color:'+e.color+'">'+e.name+"</span>: <b>"+o.formatTB(e.y)+"</b>"+t+"<br/>"}},plotOptions:{series:{dataLabels:{enabled:!0,formatter:function(){return o.formatTB(this.y)},style:{color:"#FFFFFF",fontWeight:"bold",textShadow:"none"}},minPointLength:3}},series:t})},render:function(){this.$el.html(this.el);var e={name:"Space",data:[{name:"Capacity Used<br>(Pre-Savings)",y:this.model.get("traditionalSpace"),color:"gray"}],pointPadding:0};return this.model.get("compression")>0&&e.data.push({name:"Compression Savings",y:-this.model.get("compression"),color:"#2f7ed8"}),this.model.get("zeroCopyClones")>0&&e.data.push({name:"Clones Savings",y:-this.model.get("zeroCopyClones"),color:"#2f7ed8"}),this.model.get("deduplication")>0&&e.data.push({name:"Deduplication Savings",y:-this.model.get("deduplication"),color:"#2f7ed8"}),e.data.push({name:"Capacity Used<br>(Post-Savings)",isSum:!0,y:this.model.get("spaceUsed"),color:"#8bbc21"}),this.renderChart(this.el,[e]),this}})},function(e,t,n){var a=n(9),i=n(11),r=n(1329),o=(n(320),n(684)),s=a.template(r);e.exports=i.View.extend({className:"space-usage-view",render:function(){return this.$el.html(s()),this.spaceUsedChart=new o({model:this.model}),this.$el.find(".space-usage-summary").append(this.spaceUsedChart.render().el),this.$el.find("TABLE").dataTable({sDom:'<"top">rt<"bottom"><"clear">'}),this.$el.find(".space-usage-table-container").tabs(),this}})},function(e,t){e.exports='<div class="space-usage-summary"></div>\n<div class="space-usage-table-container">\n\n    <ul>\n        <li><a href="#space-usage-volumes-tab">Volumes</a></li>\n        <li><a href="#space-usage-snapshots-tab">Snapshots</a></li>\n    </ul>\n\n    <div id="space-usage-volumes-tab">\n        <div>Top Volume Consumers</div>\n        <TABLE>\n            <THEAD>\n                <TH>Volume</TH>\n                <TH style="width: 150px;">Used (GB)</TH>\n            </THEAD>\n            <TBODY>\n                <TR>\n                    <TD>VolumeA</TD>\n                    <TD>1.5GB</TD>\n                </TR>\n                <TR>\n                    <TD>VolumeB</TD>\n                    <TD>1.1GB</TD>\n                </TR>\n                <TR>\n                    <TD>VolumeC</TD>\n                    <TD>3GB</TD>\n                </TR>\n                <TR>\n                    <TD>VolumeD</TD>\n                    <TD>22GB</TD>\n                </TR>\n                <TR>\n                    <TD>VolumeC</TD>\n                    <TD>3GB</TD>\n                </TR>\n                <TR>\n                    <TD>VolumeD</TD>\n                    <TD>22GB</TD>\n                </TR>\n                <TR>\n                    <TD>VolumeC</TD>\n                    <TD>3GB</TD>\n                </TR>\n                <TR>\n                    <TD>VolumeD</TD>\n                    <TD>22GB</TD>\n                </TR>\n            </TBODY>    \n        </TABLE>\n    </div>\n\n    <div id="space-usage-snapshots-tab">\n    </div>\n\n    \n</div>\n<div style="clear: left;"/>'},function(e,t,n){var a=n(11);e.exports=a.Model.extend({defaults:{message:"Loading results..."}})},function(e,t){e.exports='<div style="height: 20px;">\n    <div class="loading-container">\n        <div class="loading-spinner" style="float: left;"/>\n        <div class="loading-message" style="float: left; margin-left: 8px;"><%= message %></div>\n        <div style="clear: left;"/>\n    </div>\n</div>'},function(e,t,n){var a=n(16),i=n(9),r=n(13),o=n(1333),s=n(110),l=n(685),c=n(352),u=n(1334),d=n(1335),p=n(1336),h=n(1337),m=n(81),f=i.template(o);e.exports=r.ItemView.extend({className:"data-protection-view",render:function(){this.$el.html(f());var e=this;this.disasterRecoveryModel=new l({}),this.localRetentionModel=new c({}),this.rpoModel=new u({});return this.spinner=new m,this.$el.find("#data-protection-spinner").append(this.spinner.render().el),a.when(this.rpoModel.fetch().done(function(){e.rpoView=new h({model:e.rpoModel}),e.$el.find(".rpo-container").append(e.rpoView.render().el)}).fail(function(t){var n=i.template(s);e.$el.prepend(n({message:"RPO Information is not available."}))}),this.localRetentionModel.fetch().done(function(){e.localRetentionView=new p({model:e.localRetentionModel}),e.$el.find(".local-retention-container").append(e.localRetentionView.render().el)}).fail(function(t){var n=i.template(s);e.$el.prepend(n({message:"Local Retention Information is not available."}))}),this.disasterRecoveryModel.fetch().done(function(){e.disasterRecoveryView=new d({model:e.disasterRecoveryModel}),e.$el.find(".disaster-recovery-container").append(e.disasterRecoveryView.render().el)}).fail(function(t){var n=i.template(s);e.$el.prepend(n({message:"DR Information is not available."}))})).always(function(){e.spinner.hide()}),this},onDestroy:function(){this.disasterRecoveryModel&&(this.disasterRecoveryModel.clear({silent:!0}),delete this.disasterRecoveryModel),this.localRetentionModel&&(this.localRetentionModel.clear({silent:!0}),delete this.localRetentionModel),this.rpoModel&&(this.rpoModel.clear({silent:!0}),delete this.rpoModel),this.rpoView&&(this.rpoView.destroy(),delete this.rpoView),this.localRetentionView&&(this.localRetentionView.destroy(),delete this.localRetentionView),this.disasterRecoveryView&&(this.disasterRecoveryView.destroy(),delete this.disasterRecoveryView)}})},function(e,t){e.exports='<div id="data-protection-spinner"></div>\n<div class="rpo-container"></div>\n<div class="local-retention-container"></div>\n<div class="disaster-recovery-container"></div>\n<div style="clear: left;"></div>'},function(e,t,n){var a=n(11);e.exports=a.Model.extend({defaults:{categories:[],series:[]},url:function(){return this.api().pod().account().segment("/dashboard/rpo")}})},function(e,t,n){var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(9),r=n(29).Highstock,o=n(13),s=(n(685),n(353));e.exports=o.ItemView.extend({template:!1,className:"disaster-recovery-view",renderChart:function(e,t,n){this.chart=new r.Chart({chart:{type:"column",renderTo:e,height:350,events:{redraw:function(){},load:function(){var e=this;i.delay(function(){e.reflow.call(e)},50)}}},credits:{enabled:!1},title:{text:"Disaster Recovery"},subtitle:{text:"Applications Derived by the Volume Performance Policy"},legend:{enabled:!0},xAxis:{categories:t,crosshair:!1,labels:{formatter:function(){return this.value}}},yAxis:{min:0,max:100,title:{text:"% of Application Total Data"},labels:{enabled:!0}},tooltip:{enabled:!0,valueDecimals:2,valueSuffix:" TiB",formatter:function(){var e="<b>"+(r.numberFormat(this.point.y,0)+"%")+" ("+(r.numberFormat(this.point.values.volumeUsedTib,2)+" TiB")+")</b> of your total "+('<span style="color: '+this.series.color+'">'+this.point.section+"</span>")+" data is ",t=this.x;"object"===(void 0===t?"undefined":a(t))&&(t=t.name);var n=t.toLowerCase();if(n.indexOf("local")>=0)e+=" protected locally";else if(n.indexOf("replicated")>=0)e+=" replicated";else{if(!(n.indexOf("unprotected")>=0))throw new Error("Unexpected type: "+t);e+=' <span style="font-weight: bold; color: red;">'+t+"</span>"}return e}},series:n,plotOptions:{series:{minPointLength:3}}})},onRender:function(){var e=this.model.get("categories"),t=this.model.get("series");if(0===t.length)this.$el.append("<div>No disaster recovery information available.</div>");else{for(var n=0;n<t.length;n++){var a=t[n];a.color=s.getSeriesColor(a.name)}this.renderChart(this.el,e,t)}},onDestroy:function(){this.chart&&(this.chart.destroy(),delete this.chart)}})},function(e,t,n){var a=n(9),i=n(29).Highstock,r=n(13),o=(n(352),n(353));e.exports=r.ItemView.extend({template:!1,className:"local-retention-view",renderChart:function(e,t,n){this.chart=new i.Chart({chart:{type:"column",renderTo:e,height:350,events:{redraw:function(){},load:function(){var e=this;a.delay(function(){e.reflow.call(e)},50)}}},credits:{enabled:!1},title:{text:"Local Retention Configuration"},subtitle:{text:"Applications Derived by the Volume Performance Policy"},legend:{enabled:!0},xAxis:{type:"category",categories:t,crosshair:!1,title:{text:"Snapshot Schedule Retention Period"},labels:{formatter:function(){return o.scheduleCategoryLabelFormatter(this.value)}}},yAxis:{min:0,max:100,title:{text:"% of Application Total Data"},labels:{enabled:!0}},tooltip:{enabled:!0,valueDecimals:2,valueSuffix:" TiB",formatter:function(){return"<b>"+(i.numberFormat(this.point.y,0)+"%")+" ("+(i.numberFormat(this.point.values.volumeUsedTib,2)+" TiB")+")</b> of your total "+('<span style="color: '+this.series.color+'">'+this.point.section+"</span>")+" data will be retained for "+o.scheduleCategoryLabelFormatter(this.x)}},plotOptions:{series:{dataLabels:{enabled:!1,formatter:function(){return i.numberFormat(this.y,2)+" TiB"}},minPointLength:3}},series:n})},onRender:function(){var e=this.model.get("categories"),t=this.model.get("series");if(0===t.length)this.$el.append("<div>No retention information available.</div>");else{for(var n=0;n<t.length;n++){var a=t[n];a.color=o.getSeriesColor(a.name)}this.renderChart(this.el,e,t)}},onDestroy:function(){this.chart&&(this.chart.destroy(),delete this.chart)}})},function(e,t,n){var a=n(9),i=n(29).Highstock,r=n(13),o=(n(352),n(353));e.exports=r.ItemView.extend({template:!1,className:"rpo-view",renderChart:function(e,t,n){this.chart=new i.Chart({chart:{type:"column",renderTo:e,height:350,events:{redraw:function(){},load:function(){var e=this;a.delay(function(){e.reflow.call(e)},50)}}},credits:{enabled:!1},title:{text:"RPO"},subtitle:{text:"Applications Derived by the Volume Performance Policy"},legend:{enabled:!0},xAxis:{type:"category",title:{text:"Snapshot Schedule Intervals"},categories:t,crosshair:!1,labels:{formatter:function(){return o.scheduleCategoryLabelFormatter(this.value)}}},yAxis:{min:0,max:100,title:{text:"% of Application Total Data"},labels:{enabled:!0}},tooltip:{enabled:!0,valueDecimals:2,valueSuffix:" TiB",formatter:function(){return"<b>"+i.numberFormat(this.point.y,0)+"% ("+i.numberFormat(this.point.values.volumeUsedTib,2)+' TiB)</b> of your total <span style="color: '+this.series.color+'">'+this.point.section+"</span><span> data has an RPO of <b>"+o.scheduleCategoryLabelFormatter(this.x)+"</b></span>"}},plotOptions:{series:{dataLabels:{enabled:!1,formatter:function(){return i.numberFormat(this.y,2)+" TiB"}},minPointLength:3}},series:n})},onRender:function(){var e=this.model.get("categories"),t=this.model.get("series");if(0===t.length)this.$el.append("<div>No RPO information available.</div>");else{for(var n=0;n<t.length;n++){var a=t[n];a.color=o.getSeriesColor(a.name)}this.renderChart(this.el,e,t)}},onDestroy:function(){this.chart&&(this.chart.destroy(),delete this.chart)}})},function(e,t,n){var a=n(11),i=n(1339);e.exports=a.View.extend({render:function(){this.$el.html(this.el);var e=document.createDocumentFragment();return this.collection.each(function(t){var n=new i({model:t});e.appendChild(n.render().el)}),this.$el.append(e),this}})},function(e,t,n){var a=n(9),i=n(11),r=n(1340),o=(n(686),a.template(r));e.exports=i.View.extend({className:"upgrade-summary-item-view",render:function(){return this.$el.html(o(this.model.toJSON())),this}})},function(e,t){e.exports='<div>\n    <TABLE>\n        <THEAD>\n            <TH class="name-column"></TH>\n            <TH ALIGN="LEFT" class="first-value-column">Current</TH>\n            <TH ALIGN="LEFT" class="second-value-column">Recommended</TH>\n        </THEAD>\n        <TBODY>\n            <TR>\n                <TD class="name-column">Model</TD>\n                <TD class="first-value-column"><%= currentModel %></TD>\n                <TD class="second-value-column recommended-model"><%= recModel %></TD>\n            </TR>\n            <TR>\n                <TD class="name-column">Capacity</TD>\n                <TD class="first-value-column"><%= currentCapacity %></TD>\n                <TD class="second-value-column"><%= recCapacity %></TD>\n            </TR>\n            <TR>\n                <TD class="name-column">Controller</TD>\n                <TD class="first-value-column"><%= currentController %></TD>\n                <TD class="second-value-column"><%= recController %></TD>\n            </TR>\n            <TR>\n                <TD class="name-column">Cache</TD>\n                <TD class="first-value-column"><%= currentCache %></TD>\n                <TD class="second-value-column"><%= recCache %></TD>\n            </TR>\n        </TBODY>\n    </TABLE>\n\n</div>'},function(e,t,n){var a=n(16),i=n(9),r=n(13),o=n(1342),s=n(110),l=n(1343),c=n(1347),u=n(1348),d=n(1350);e.exports=r.ItemView.extend({template:i.template(o),className:"upgrades-view",upgradeSummaryCollection:null,ui:{downloadLink:".download-link",spinner:".loading-spinner2"},onRender:function(){this.ui.spinner.show(),this.upgradeSummaryCollection=new l([],{}),this.capacityCollection=new c([],{}),this.ui.downloadLink.attr("href",this.api().pod().account().segment("/dashboard/upgrade_export")),this.loadCollections()},onDestroy:function(){this.collectionView&&(this.collectionView.destroy(),delete this.collectionView),this.upgradeSummaryCollection&&(this.upgradeSummaryCollection.reset(),delete this.upgradeSummaryCollection),this.capacityCollection&&(this.capacityCollection.reset(),delete this.capacityCollection)},loadCollections:function(){var e=this;a.when(this.upgradeSummaryCollection.fetch().done(function(){e.renderCollection()}).fail(function(){}),this.capacityCollection.fetch().done(function(){}).fail(function(){})).done(function(){var t={};e.upgradeSummaryCollection.each(function(e){t[e.get("serialNumber")]=e}),e.capacityCollection.each(function(e){var n=t[e.get("serialNumber")];n&&n.set("capacity",e)})}).always(function(){e.ui.spinner.hide()}).fail(function(t){var n=i.template(s);e.$el.append(n({message:"Upgrade Information is not available."}))})},renderCollection:function(){var e=this.$(".upgrade-collection-view");this.collectionView=new u({collection:this.upgradeSummaryCollection,cardClass:d,emptyCollectionMessage:"No upgrades recommended."}),e.empty(),e.append(this.collectionView.render().el),this.upgradeSummaryCollection.isEmpty()&&a("div.upgrade-section").addClass("hidden-print")}})},function(e,t){e.exports='<div class="upgrade-section">\n    <h2>Upgrade Needs</h2>\n    <div class="upgrade-section-notes">Note: Upgrade recommendations are based on the last 4 weeks of activity.</div>\n    <div class="upgrade-needs-container">\n        <a href="#" class="download-link button secondary small hidden-print" style="float: right; margin-top: -75px;"><i class="fa fa-download"></i> <span>Export</span></a>\n        <div class="upgrade-collection-view"></div>\n        <div class="loading-spinner2">Loading upgrades...</div>\n    </div>\n</div>'},function(e,t,n){var a=n(11),i=n(1344);e.exports=a.Collection.extend({model:i,url:function(){return this.api().pod().account().segment("/dashboard/upgrade_summary")}})},function(e,t,n){var a=n(9),i=(n(11),n(687)),r=n(1346),o=n(688),s=n(686);e.exports=i.extend({defaults:a.defaults({utilization:[],capacity:new o,upgradeSummary:new s},i.prototype.defaults),parse:function(e,t){for(var n=[],i=0;i<e.utilization.length;i++){var o=e.utilization[i],l=this.getColorCodedBreakdown(o.cache),c=this.getColorCodedBreakdown(o.cpu);n.push({ts:o.ts,cache:o.cache,cpu:o.cpu,cacheGreen:l.green,cacheYellow:l.yellow,cacheRed:l.red,cpuGreen:c.green,cpuYellow:c.yellow,cpuRed:c.red})}return a.defaults({utilization:n,capacity:new r(e.capacity),upgradeSummary:new s(e.upgradeSummary)},e)},getColorCodedBreakdown:function(e){var t,n,a;return e>=100?(a=e-100,n=20,t=80):e>=80?(a=0,n=e-80,t=79):(a=0,n=0,t=e),{green:t,yellow:n,red:a}}})},function(e,t){e.exports={arraySn:void 0,initialize:function(e,t){t&&(this.arraySn=t.arraySn),this.listenTo(this,"api:create",this.decorateApi)},decorateApi:function(e){return console.assert(this.arraySn,"Missing arraySn parameter"),e.array(this.arraySn)}}},function(e,t,n){var a=n(11);e.exports=a.Model.extend({defaults:{serialNumber:null,hostname:null,details:[]}})},function(e,t,n){var a=n(11),i=n(688);e.exports=a.Collection.extend({model:i,monthRange:3,url:function(){return this.api().pod().account().segment("capacity").addQuery("monthRange",this.monthRange)}})},function(e,t,n){var a=n(9),i=(n(16),n(54),n(13)),r=n(1349),o=n(81),s=a.template(r);e.exports=i.ItemView.extend({requiredParams:["cardClass","emptyCollectionMessage"],optionalParams:["header","footer"],currentView:null,className:"card-collection-view",renderedViews:[],initialize:function(e){a.bindAll(this,"renderList"),a.each(this.requiredParams,function(t){if(!e[t])throw new Error(t+" must be specified.");this[t]=e[t]},this),a.each(this.optionalParams,function(t){this[t]=e[t]},this)},onDestroy:function(){console.warn("CardCollectionView:onDestroy()"),this.removeSubviews(),this.spinner&&this.spinner.destroy()},render:function(){return this.$el.html(s({emptyCollectionMessage:this.emptyCollectionMessage})),this.spinner=new o,this.$el.find(".spinner").append(this.spinner.render().el),this.renderList(),this},renderList:function(){var e=this;if(this.collection.isEmpty())this.$el.find(".empty-collection").show(),this.$el.find(".nonempty-collection").hide();else{this.header&&this.$el.find(".header").append(this.header);var t=document.createDocumentFragment();this.collection.each(function(n){var a=new e.cardClass({model:n});t.appendChild(a.render().el),e.renderedViews.push(a)}),this.$el.find(".card-collection-contents").append(t),this.footer&&this.$el.find(".footer").append(this.footer)}return this.spinner.hide(),this},removeSubviews:function(){for(var e=this.renderedViews.length-1;e>=0;e--)this.renderedViews[e].destroy()}})},function(e,t){e.exports='<div class="empty-collection" style="display: none;">\n    <span class="ui-icon ui-icon-info"></span>\n    <span class="empty-collection-message"><%= emptyCollectionMessage %></span>\n</div>\n<div class="nonempty-collection">    \n    <div class="header"/>\n    <div class="card-collection-contents"/>\n    <div class="footer"/>\n    <div class="spinner"/>\n</div>\n\n'},function(e,t,n){var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(9),r=n(29).Highstock,o=n(1351),s=n(81),l=n(1361),c=n(1362),u=n(1363),d=n(1364),p=n(1365),h=i.template(p);e.exports=o.extend({showDetailsLink:!1,modelEvents:{"change:capacity":"onChangeCapacity"},attributes:function(){return{"data-array-type":this.model.get("arrayType")}},onClose:function(){},onChangeCapacity:function(){var e=new c({model:this.model.get("capacity"),chartOptions:{height:150,tooltipsEnabled:!1,enableMouseTracking:!1,showYAxisLabel:!1,showBoundsSeries:!1,tickInterval:7776e6,dateTimeLabelFormats:{month:"%b"}}});this.$el.find(".dashboard-capacity-chart").html(e.render().el)},renderContents:function(e){this.spinner=new s,e.append(h(a({},this.model.toJSON(),{Highcharts:r})));var t=this.model.get("upgradeSummary"),n=(t.get("recommendScaleOut"),t.get("recommendCacheUpgrade"),t.get("recommendDiskUpgrade"),t.get("recommendControllerUpgrade"),new l({model:this.model}),new u({model:this.model})),i=new d({model:this.model});e.find(".dashboard-cpu-chart").append(n.render().el),e.find(".dashboard-cache-chart").append(i.render().el)},addReadableUpgradeNote:function(e){var t=this.model.get("upgradeSummary"),n=this.model.get("currentController"),a=this.model.get("recommendedController"),i=t.get("recommendScaleOut"),r=t.get("recommendCacheUpgrade"),o=t.get("recommendDiskUpgrade"),s=t.get("recommendControllerUpgrade"),l=[];o&&l.push("capacity"),s&&l.push("cpu"),r&&l.push("cache");for(var c="",u=0;u<l.length;u++)c+=l[u],u<l.length-2&&(c+=", "),u<l.length-1&&(c+=" and ");var d=null;i?d="Note: Scale out is recommended based on your "+c+" needs.":s||n==a||(d="Note: A controller upgrade is required to support the recommended "+c+" upgrades"),d&&e.find(".upgrade-contents").append('<div class="upgrade-note"><span class="ui-icon ui-icon-info"></span> <span>'+d+"</span></div>")}})},function(e,t,n){var a=n(9),i=(n(16),n(54),n(13)),r=n(1352),o=n(1360);e.exports=i.LayoutView.extend({template:a.template(o),className:"array-card",regions:{headerRegion:".header-region",footerRegion:".array-card-footer"},showDetailsLink:!0,showFooter:!0,onClose:function(){console.log("BaseArrayCard::onClose()"),this.recommendationChart&&this.recommendationChart.close()},onRender:function(){this.headerRegion.show(new r({hyperlinkHostname:!0,model:this.model})),this.renderContents(this.$el.find(".array-card-contents")),this.getOption("footerView")&&this.footerRegion.show(this.getOption("footerView"));var e=this.$el.find(".details-link");return this.showDetailsLink?e.tooltip({tooltipClass:"details-link-tooltip"}):e.hide(),this},renderContents:function(e){throw new Error("renderContents must be overridden")}})},function(e,t,n){var a=n(9),i=n(16),r=n(13),o=n(24),s=n(1353),l=n(1355),c=n(319),u=n(43).buildUrlFromBase,d=n(1359);e.exports=r.ItemView.extend({template:a.template(d),templateHelpers:function(){return{hyperlinkHostname:this.options.hyperlinkHostname,versionSupported:a.isFunction(this.model.versionSupported)?this.model.versionSupported():this.model.versionSupported,getAssetLink:u.bind(null,"/infrastructure/storage/nimble/arrays")}},className:"array-summary-header",events:{"click .array-version a":"onClickVersion"},onRender:function(){var e=this,t=this.model.get("expansionShelves");if(t>0){this.$el.find(".array-shelves").html("(+"+t+" "+(t>1?"shelves":"shelf")+")"),this.assetShelfCollection=new s([],{serialNumber:this.model.get("serialNumber")}),this.assetShelfTooltip=new l({collection:this.assetShelfCollection});var n=this.assetShelfTooltip.render().el;this.$el.tooltip({items:".model-info-icon",tooltipClass:"asset-details",content:function(t){e.assetShelfCollectionLoaded?t(n.innerHTML):(e.assetShelfCollectionLoaded=!0,e.assetShelfCollection.fetch().done(function(){t(n.innerHTML)}))},show:null,close:function(e,t){t.tooltip.hover(function(){i(this).stop(!0).fadeTo(400,1)},function(){i(this).fadeOut("400",function(){i(this).remove()})})}}),this.$('[data-toggle="popover"]').popover({trigger:"hover",placement:"bottom"})}},onClickVersion:function(e){e.preventDefault(),o.modalRegion.show(new c({model:this.model}))}})},function(e,t,n){var a=n(11),i=n(1354);e.exports=a.Collection.extend({model:i,serialNumber:null,initialize:function(e,t){if(!t||!t.serialNumber)throw new Error("AssetShelfCollection requires a serial number.");this.serialNumber=t.serialNumber},url:function(){return this.api().array(this.serialNumber).segment("shelves")}})},function(e,t,n){var a=n(11);e.exports=a.Model.extend({defaults:{arraySerial:null,arrayHostname:null,shelfSerialNumber:null,model:null,position:null,controllerName:null,free:null,capacity:null,disks:null,state:null,shelfCount:0,usedTiB:null,capacityTiB:null,rawCapacity:null}})},function(e,t,n){var a=n(9),i=n(11),r=n(1356),o=n(1357),s=n(81),l=a.template(r);e.exports=i.View.extend({initialize:function(e){this.listenTo(this.collection,"sync",this.onCollectionLoaded),this.listenTo(this.collection,"error",this.onLoadFailed)},onCollectionLoaded:function(){console.log("onCollectionLoaded!");var e=document.createDocumentFragment();this.collection.each(function(t){var n=new o({model:t});e.appendChild(n.render().el)}),this.spinner.hide(),this.$el.find(".shelf-container").append(e)},onLoadFailed:function(){this.spinner.hide(),this.$el.append("<div>Unable to fetch shelves at this time.</div>")},render:function(){return this.$el.html(l()),this.spinner=new s,this.$el.find(".spinner").append(this.spinner.render().el),this}})},function(e,t){e.exports='<table class="shelf-container tooltip-grid">\n\t<tr class="tooltip-title">\n\t<th>Shelf Serial #</th>\n\t<th>Shelf Model</th>\n\t<th>Raw Capacity (TB)</th>\n\t</tr>\n</table>\n<div class="spinner"></div>'},function(e,t,n){var a=n(9),i=n(11),r=n(1358),o=a.template(r);e.exports=i.View.extend({tagName:"tr",render:function(){var e=this.model.get("rawCapacity");return this.$el.html(o(this.model.toJSON())),this.$el.find(".raw-capacity-cell").html(e?e+"TB":"Unavailable"),this}})},function(e,t){e.exports='<td><%= shelfSerialNumber %></td>\n<td><%= model %></td>\n<td class="raw-capacity-cell"></td>\n'},function(e,t){e.exports='<% var hostnameDisplay = hostname || "Unknown"; %>\n<span class="array-hostname">\n<% if (hyperlinkHostname) { %>\n    <a href="<%= getAssetLink(serialNumber) %>" class="history-aware"><%= hostnameDisplay %></a>\n<% } else { %>\n    <%= hostnameDisplay %>\n<% } %>\n</span>\n\n<span class="separator">|</span>\n<span class="array-serial">S/N: <%= serialNumber %></span>\n\n<span class="separator">|</span>\n<span class="array-model">Model: <%= model %></span>\n\n<% if ( expansionShelves ) { %>\n    <span class="array-shelves"></span>\n    <span class="ui-icon ui-icon-info model-info-icon"></span>\n<% } %>\n\n<span class="separator">|</span>\n<span class="array-version">\n    Version: <a href="#"><%= version %></a>\n    <% if (versionSupported === false) { %>\n        <i class="text-warning fa fa-exclamation-triangle" data-toggle="popover" data-content="This version is no longer supported."></i>\n    <% } else if (upgradable) { %> \n        <i class="fa fa-arrow-up" data-toggle="popover" data-content="Upgrade available!"></i> \n    <% } %>\n</span>\n\n<% if (group) { %>\n<span class="separator">|</span>\n<span class="array-group">Group: <%= group %></span>\n<% } %>\n\n<% if (pool) { %>\n<span class="separator">|</span>\n<span class="array-pool">Pool: <%= pool %></span>\n<% } %>\n'},function(e,t){e.exports='<div class="header-region"></div>\n<div class="array-card-contents">\n    \x3c!-- Expects overridden classes to render contents here --\x3e\n</div>\n<div class="array-card-footer">\n    \x3c!-- Optional overridden classes to render contents here --\x3e\n</div>\n<a href="#assets/<%= serialNumber %>" class="details-link" title="Click to view details for this array.">View Details &gt;</a>\n<div style="clear: both;"></div>\n'},function(e,t,n){var a=n(16),i=n(9),r=n(13),o=n(29).Highstock;e.exports=r.ItemView.extend({className:"upgrade-capacity-details-view",renderChart:function(e,t,n){var r=this;this.chart=new o.Chart({chart:{type:"line",renderTo:e,height:150,events:{redraw:function(){var e=a(this.container).width();r.svgNoDataLabelGroup&&r.svgNoDataLabelGroup.translate(e/2-r.svgNoDataLabelGroup.element.getBoundingClientRect().width/2+20,65)},load:function(){var e=this,t=e.renderer;e.series[0].data&&0===e.series[0].data.length&&(r.svgNoDataLabelGroup=t.g().attr({id:"svgNoDataLabel"}).add(),r.svgNoDataLabelText=t.text("No Capacity Data Available").attr({fill:"#666"}).add(r.svgNoDataLabelGroup)),i.delay(function(){e.reflow.call(e)},50)}}},credits:{enabled:!1},title:{text:null},legend:{enabled:!1},xAxis:{categories:["-90 Days","Current","+90 Days"]},yAxis:{min:0,max:n,title:{text:"Array Usage (%)"},labels:{enabled:!0,format:"{value}%"}},tooltip:{enabled:!0,valueDecimals:1,valueSuffix:" TiB",formatter:function(){var e=this.point.y/100*this.point.arrayCapacity;return'<span style="color: '+this.series.color+'">'+this.x+"</span><br/>Capacity Used: <b>"+o.numberFormat(e,2)+" TiB</b><br/>Array Usage: <b>"+o.numberFormat(this.point.y,2)+" %</b>"}},plotOptions:{line:{dataLabels:{enabled:!1,formatter:function(){return o.numberFormat(this.y,2)+" TiB"}}}},series:t})},render:function(){this.$el.html(this.el);for(var e=this.model.get("capacity"),t={name:"Capacity Used",data:[]},n=100,a=0;a<e.length;a++){var i=e[a],r=i.arrayUsedPct,o=i.capacityUsed;n=Math.max(r,n),t.data.push({y:r,pctUsed:r,arrayCapacity:o/1024/1024})}return this.renderChart(this.el,[t],n),this},onDestroy:function(){console.log("UpgradeCapacityDetailsView:onDestroy()"),this.chart&&(this.chart.destroy(),delete this.chart)}})},function(e,t,n){var a=n(9),i=n(29).Highstock,r=n(16),o=(n(54),n(13)),s=n(351),l=n(342),c=n(39).CHART_COLORS;e.exports=o.ItemView.extend({tagName:"div",chartOptions:{height:175,tooltipsEnabled:!0,enableMouseTracking:!0,showYAxisLabel:!0,showBoundsSeries:!0,tickInterval:null,dateTimeLabelFormats:{day:"%e of %b",month:"%b"}},initialize:function(e){this.listenTo(this.model,"change:events",this.onChangeEvents),e.chartOptions&&(this.chartOptions=a.defaults(e.chartOptions,this.chartOptions))},onChangeEvents:function(){var e=this.model.get("events"),t=this.chart.get("shelfFlagSeries");e.each(function(e){e.get("change");t.addPoint({x:e.get("date"),title:"+Shelf",text:e.get("current")+" shelf added "+e.get("change")},!1)}),this.chart.redraw()},renderChart:function(e,t){var n=this;this.model.get("arrayModel");this.chart=new i.Chart({chart:{renderTo:e,height:this.chartOptions.height,events:{redraw:function(){var e=r(this.container).width();n.svgNoDataLabelGroup&&n.svgNoDataLabelGroup.translate(e/2-n.svgNoDataLabelGroup.element.getBoundingClientRect().width/2+20,65)},load:function(){for(var e=this.renderer,t=!1,i=0;i<this.series.length&&!t;i++)this.series[i].data&&this.series[i].data.length>0&&(t=!0);t||(n.svgNoDataLabelGroup=e.g().attr({id:"svgNoDataLabel"}).add(),n.svgNoDataLabelText=e.text("No Capacity Data Available").attr({fill:"#666"}).add(n.svgNoDataLabelGroup)),n.width||a.delay(function(){n.chart.reflow.call(n.chart)},50);for(var r=0;r<this.series.length;r++){switch(this.series[r].options.id){case"future":this.futureSeries=this.series[r];break;case"range":this.rangeSeries=this.series[r];break;case"throttle":this.throttleSeries=this.series[r]}}}}},credits:{enabled:!1},title:{text:null},xAxis:{type:"datetime",dateTimeLabelFormats:this.chartOptions.dateTimeLabelFormats,title:{text:"Week Ending",enabled:!1},tickInterval:this.chartOptions.tickInterval},yAxis:{title:{text:this.chartOptions.showYAxisLabel?"Capacity %":null},labels:{format:"{value}%"},min:0},legend:{enabled:!1},tooltip:{enabled:this.chartOptions.tooltipsEnabled,shared:!1,style:{width:"300px"},valueSuffix:"%",formatter:function(){var e=null,t=null,a=[],r=null,o=null,l=null,c=null,u=this.point.series,d=u.options.id,p=this.point.index,h=n.chart.throttleSeries.data[p].y,m=n.chart.throttleSeries.color;switch(d){case"current":e=this.point.y,r=u.color,this.point.capacityMB&&(c=this.point.capacityMB);break;case"future":t=this.point.y,o=u.color,this.point.capacityMB&&(c=this.point.capacityMB),a.push(n.chart.rangeSeries.data[p].low,n.chart.rangeSeries.data[p].high),l=n.chart.rangeSeries.color;break;case"range":a.push(this.point.low,this.point.high),l=u.color,t=n.chart.futureSeries.data[p].y,o=n.chart.futureSeries.color,n.chart.futureSeries.data[p].capacityMB&&(c=n.chart.futureSeries.data[p].capacityMB);break;case"throttle":return'<b><span style="color: '+u.color+'">Performance Degradation Possible: </span></b><span>'+this.point.y+"%</span>";case"shelfFlagSeries":return"<b>"+i.dateFormat("%A, %b %e, %Y",this.point.x)+"</b><br/>"+this.point.text}var f=null;c&&(f=s.formatSize(c,2));var v="<b>Week Of:</b> "+i.dateFormat("%e of %b, %Y",this.x)+"<br/>";return e&&(v+='<b><span style="color: '+r+'">Capacity: </span></b><span>'+e+"% ("+f+")</span><br/>"),t&&(v+='<b><span style="color: '+o+'">Projected Capacity: </span></b><span>'+t+"% ("+f+")</span><br/>"),a.length>0&&(v+='<b><span style="color: '+l+'">Projected Range: </span></b><span>'+a[0]+"% - "+a[1]+"%</span><br/>"),(t>=h||e>=h||a[1]>=h)&&(v+='<b><span style="color: '+m+'">Performance Degradation Possible: </span></b><span>'+h+"%</span>"),v}},plotOptions:{series:{enableMouseTracking:this.chartOptions.enableMouseTracking,marker:{enabled:!1}}},series:t})},render:function(){this.$el.html(this.el);var e=this.model.get("data");this.model.get("possiblyExceedsThreshold"),this.model.get("probablyExceedsThreshold");if(e){for(var t={id:"current",type:"line",name:"Current Capacity",zIndex:1,color:c.legacyLightBlue,data:[],connectNulls:!1},n={id:"future",type:"line",name:"Projected Capacity",zIndex:2,dashStyle:"shortdash",color:c.legacyLightBlue,data:[],connectNulls:!1},a={id:"range",type:"arearange",lineWidth:0,zIndex:1,name:"Range",color:c.legacyLightBlue,fillOpacity:.3,data:[],connectNulls:!1},i={id:"throttle",type:"line",name:"Performance Degradation Possible",zIndex:1,dashStyle:"ShortDot",color:c.legacyRed,data:[],connectNulls:!1},r=0;r<e.length;r++){var o=e[r],s=null;!o.pctUse?(s=o.cap*(.01*o.predUse),t.data.push([o.ts,null]),n.data.push({x:o.ts,y:o.predUse,capacityMB:s}),a.data.push([o.ts,o.low,o.high])):(s=o.cap*(.01*o.pctUse),t.data.push({x:o.ts,y:o.pctUse,capacityMB:s}),n.data.push([o.ts,null]),a.data.push([o.ts,null,null])),i.data.push([o.ts,o.thresh])}var u=[t,n];this.chartOptions.showBoundsSeries&&u.push(a),u.push(i,{id:"spaceFlagSeries",type:"flags",data:[],onSeries:"future",shape:"flag",width:50,zIndex:10,fillColor:"#F20C0C",color:"#F20C0C",style:{color:"white"},states:{hover:{fillColor:l("#F20C0C").desaturate(25).toString()}}},{id:"shelfFlagSeries",type:"flags",data:[],onSeries:"current",shape:"flag",width:50,zIndex:10,fillColor:"#5FAEE3",color:"#5FAEE3",style:{color:"white"},states:{hover:{fillColor:l("#5FAEE3").desaturate(25).toString()}}}),this.renderChart(this.el,u)}return this},onDestroy:function(){console.log("CapacityForecastChart:onDestroy()"),this.chart&&(this.chart.destroy(),delete this.chart)}})},function(e,t,n){var a=n(16),i=n(9),r=n(11),o=n(29).Highstock,s=n(39).CHART_COLORS;e.exports=r.View.extend({className:"cpu-area-chart",renderChart:function(e,t,n){var r=this;this.chart=new o.Chart({chart:{type:"area",renderTo:e,height:150,events:{redraw:function(){var e=a(this.container).width();r.svgNoDataLabelGroup&&r.svgNoDataLabelGroup.translate(e/2-r.svgNoDataLabelGroup.element.getBoundingClientRect().width/2+20,65)},load:function(){for(var e=this,t=e.renderer,n=!1,a=0;a<e.series.length&&!n;a++)e.series[a].data&&e.series[a].data.length>0&&(n=!0);n||(r.svgNoDataLabelGroup=t.g().attr({id:"svgNoDataLabel"}).add(),r.svgNoDataLabelText=t.text("No Utilization Data Available").attr({fill:"#666"}).add(r.svgNoDataLabelGroup)),r.width||i.delay(function(){e.reflow.call(e)},50)}}},credits:{enabled:!1},title:{text:null},legend:{enabled:!1},xAxis:{type:"datetime",dateTimeLabelFormats:{day:"%e. %b",year:"%b",month:"%b"},title:{text:"Week Ending",enabled:!1},tickInterval:7776e6},yAxis:{min:0,max:n,title:{text:null},labels:{format:"{value}%"}},tooltip:{enabled:!1},plotOptions:{area:{animation:!1,enableMouseTracking:!1,marker:{enabled:!1},stacking:"normal"}},series:t})},render:function(){this.$el.html(this.el);for(var e=this.model.get("utilization"),t={name:"Sufficient",id:"cpuGreenSeries",color:s.legacyGreen,data:[],pointInterval:6048e5,yAxis:0},n={name:"Insufficient",id:"cpuRedSeries",color:s.legacyRed,data:[],pointInterval:6048e5,yAxis:0},a={name:"Marginal",id:"cpuYellowSeries",color:s.legacyYellow,data:[],pointInterval:6048e5,yAxis:0},i=100,r=0;r<e.length;r++){var o=e[r];i=Math.max(i,o.cpu),n.data.push([o.ts,o.cpuRed]),a.data.push([o.ts,o.cpuYellow]),t.data.push([o.ts,o.cpuGreen])}return this.renderChart(this.el,[n,a,t],i),this}})},function(e,t,n){var a=n(16),i=n(9),r=n(11),o=n(29).Highstock,s=n(39).CHART_COLORS;e.exports=r.View.extend({className:"cache-area-chart",renderChart:function(e,t,n){var r=this;this.chart=new o.Chart({chart:{type:"area",renderTo:e,height:150,events:{redraw:function(){var e=a(this.container).width();r.svgNoDataLabelGroup&&r.svgNoDataLabelGroup.translate(e/2-r.svgNoDataLabelGroup.element.getBoundingClientRect().width/2+20,65)},load:function(){for(var e=this,t=e.renderer,n=!1,a=0;a<e.series.length&&!n;a++)e.series[a].data&&e.series[a].data.length>0&&(n=!0);n||(r.svgNoDataLabelGroup=t.g().attr({id:"svgNoDataLabel"}).add(),r.svgNoDataLabelText=t.text("No Utilization Data Available").attr({fill:"#666"}).add(r.svgNoDataLabelGroup)),i.delay(function(){e.reflow.call(e)},50)}}},credits:{enabled:!1},title:{text:null},legend:{enabled:!1},xAxis:{type:"datetime",dateTimeLabelFormats:{day:"%e. %b",year:"%b",month:"%b"},title:{text:"Week Ending",enabled:!1},tickInterval:7776e6},yAxis:{min:0,max:n,title:{text:null},labels:{format:"{value}%"}},tooltip:{enabled:!1},plotOptions:{area:{animation:!1,enableMouseTracking:!1,marker:{enabled:!1},stacking:"normal"}},series:t})},render:function(){this.$el.html(this.el);for(var e=this.model.get("utilization"),t={name:"Sufficient",id:"cacheGreenSeries",color:s.legacyGreen,data:[],pointInterval:6048e5,yAxis:0},n={name:"Insufficient",id:"cacheRedSeries",color:s.legacyRed,data:[],pointInterval:6048e5,yAxis:0},a={name:"Marginal",id:"cacheYellowSeries",color:s.legacyYellow,data:[],pointInterval:6048e5,yAxis:0},i=100,r=0;r<e.length;r++){var o=e[r];i=Math.max(i,o.cache),n.data.push([o.ts,o.cacheRed]),a.data.push([o.ts,o.cacheYellow]),t.data.push([o.ts,o.cacheGreen])}return this.renderChart(this.el,[n,a,t],i),this}})},function(e,t){e.exports='<div class="upgrade-contents">\n    <div class="upgrade-card-recommendation-column">\n        <div class="upgrade-list cpu-upgrade-list">\n            <TABLE class="component-table">\n                <THEAD>\n                    <TH align="left"></TH>\n                    <TH align="left">Current</TH>\n                    <TH align="left">Recommended</TH>\n                </THEAD>\n                <TBODY>\n                <TR>\n                    <TD>Controller</TD>\n                    <TD class="current-value">\n                        <%- upgradeSummary.attributes.currentController%>\n                    </TD>\n                    <TD class="recommended-value">\n                        <%- upgradeSummary.attributes.recommendedController != upgradeSummary.attributes.currentController ? upgradeSummary.attributes.recommendedController : null %>\n                    </TD>\n                </TR>\n                <% if (arrayType != \'all-flash\' ) { %><TR>\n                    <TD class="cache-table-container-cell" colspan="3">\n                        <div>Cache</div>\n                        <TABLE class="cache-table">\n                            <TR>\n                                <TD>Head Shelf:</TD>\n                                <TD class="current-value">\n\n\n                                <%- Highcharts.numberFormat(upgradeSummary.attributes.currentCacheHeadGB, 0) + \' GB\' %>\n                                </TD>\n                                <TD class="recommended-value">\n                                    <%- upgradeSummary.attributes.cacheHeadShelfRecommendationObject ?\n                                        upgradeSummary.attributes.cacheHeadShelfRecommendationObject.recommended : null %>\n                                </TD>\n                            </TR>\n                            <TR>\n                                <TD>All-Flash Shelf:</TD>\n                                <TD class="current-value"><%- Highcharts.numberFormat(upgradeSummary.attributes.currentCacheTotalAfsGB, 0) + \' GB\' %></TD>\n                                <TD class="recommended-value">\n                                    <%- upgradeSummary.attributes.cacheSSDShelfRecommendationObject ?\n                                        upgradeSummary.attributes.cacheSSDShelfRecommendationObject.recommended : null %>\n                                </TD>\n                            </TR>\n                            <TR>\n                                <TD>HDD Shelf:</TD>\n                                <TD class="current-value"><%- Highcharts.numberFormat(upgradeSummary.attributes.currentCacheExpNonAfsGB, 0) + \' GB\' %></TD>\n                                <TD class="recommended-value">\n                                    <%- upgradeSummary.attributes.cacheHDDShelfRecommendationObject ?\n                                        upgradeSummary.attributes.cacheHDDShelfRecommendationObject.recommended : null %>\n                                </TD>\n                            </TR>\n                            <TR>\n                                <TD>Total:</TD>\n                                <TD class="current-value"><%- Highcharts.numberFormat(upgradeSummary.attributes.currentCacheSystemTotalGB, 0) + \' GB\' %></TD>\n                                <TD class="recommended-value">\n                                    <%- upgradeSummary.attributes.cacheTotalSystemRecommendationObject ?\n                                        upgradeSummary.attributes.cacheTotalSystemRecommendationObject.recommended : null %>\n                                </TD>\n                            </TR>\n                        </TABLE>\n                    </TD>\n                </TR><%}%>\n                <TR>\n                    <TD>Capacity</TD>\n                    <TD class="current-value">\n                        <%-\n                        (arrayType != \'all-flash\' ) ?\n                             Highcharts.numberFormat(upgradeSummary.attributes.currentHddGB / 1000, 0) + \' TB\' :\n                                Highcharts.numberFormat(upgradeSummary.attributes.currentCacheSystemTotalGB / 1000, 0) + \' TB\'\n                        %>\n                    </TD>\n                    <TD class="recommended-value">\n                        <%- upgradeSummary.attributes.capacityRecommendationObject ? upgradeSummary.attributes.capacityRecommendationObject.recommended : null %>\n                    </TD>\n                </TR>\n                </TBODY>\n            </TABLE>\n\n        <TABLE>\n        <% upgradeSummary.attributes.upgradeNotes.map(function(upgradeNote) { %>\n            <TR class="upgrade-note">\n                <TD class="ui-icon ui-icon-info"></TD>\n                <TD><%- upgradeNote %></TD>\n            </TR>\n        <% }); %>\n        </TABLE>\n        </div>\n\n\n    </div>\n    <div class="upgrade-columns-container">\n        <div class="upgrade-card-column">\n            <div class="column-header">CPU</div>\n            <div class="dashboard-cpu-chart"></div>\n            <div class="upgrade-list capacity-upgrade-list">\n                <% if (upgradeSummary.attributes.cpuRecommendationObject ) { %>\n                    <div class="upgrade-recommendation">\n                        <span class="fa fa-arrow-circle-o-up"></span>\n                        <span>Upgrade recommended</span>\n                    </div>\n                <% } %>\n            </div>\n        </div>\n        <div class="upgrade-card-column cache-chart">\n            <div class="column-header">Cache</div>\n            <div class="dashboard-cache-chart"></div>\n            <div class="upgrade-list capacity-upgrade-list">\n                <% if (upgradeSummary.attributes.cacheTotalSystemRecommendationObject ) { %>\n                    <div class="upgrade-recommendation">\n                        <span class="fa fa-arrow-circle-o-up"></span>\n                        <span>Upgrade Recommended</span>\n                    </div>\n                <% } %>\n            </div>\n        </div>\n        <div class="upgrade-card-column last-column">\n            <div class="column-header">Capacity</div>\n            <div class="dashboard-capacity-chart">\n                <div class="temporary-loading-text">Loading...</div>\n            </div>\n            <div class="upgrade-list capacity-upgrade-list">\n                <% if (upgradeSummary.attributes.capacityRecommendationObject) { %>\n                    <div class="upgrade-recommendation">\n                        <span class="fa fa-arrow-circle-o-up"></span>\n                        <span>Upgrade recommended</span>\n                    </div>\n                <% } %>\n            </div>\n        </div>\n    </div>\n\n    <div style="clear: left;"></div>\n</div>\n'},function(e,t,n){var a=n(16),i=n(24),r=n(9),o=n(13),s=(n(74),n(95)),l=n(45),c=n(1367),u=n(1368),d=n(690),p=n(691),h=n(1369),m=n(1370),f=o.ItemView.extend({template:r.template('<li><b> No email subscription is set up <i name="deleteButton"  class="fa fa-exclamation-triangle" style="color:red"></i> </b></li>')}),v=o.CompositeView.extend({className:"email-settings-view",template:r.template(c),fetchModel:!0,model:h,collection:p,childView:u,emptyView:f,childViewContainer:"ul",readonly:!1,behaviors:{FormBehavior:{behaviorClass:s}},bindings:{'input[name="frequencyDays"]':{observe:"frequencyDays",setOptions:{validate:!0}},"#enabled":{observe:"enabled"},'input[name="email"]':{observe:"email",setOptions:{validate:!0}}},ui:{form:"form",messageArea:"#message",emailInput:'input[name="email"]',testEmailButton:'button[name="testEmail"]',addEmailButton:'button[name="addEmail"]'},events:{"click @ui.addEmailButton":"addEmail","click @ui.testEmailButton":"testEmail","focus @ui.emailInput":"resetEmailButton","click @ui.submitButton":"submit"},collectionEvents:{remove:"collectionModelDeleted"},initialize:function(){this.model=new h,this.collection=new p,this.listenTo(this.model,"validated",this.onValidate),this.onEmailListLoad()},collectionModelDeleted:function(e){this.saveCollection()},onEmailListLoad:function(){this.collection=this.model.get("emailList"),this.render()},onValidate:function(e){this.model.get("email");""!==this.model.get("email").trim()?(this.ui.addEmailButton.prop("disabled",!e),this.ui.testEmailButton.prop("disabled",!e)):(this.ui.addEmailButton.prop("disabled",!0),this.ui.testEmailButton.prop("disabled",!0))},onRender:function(){this.stickit(),i.request("global","get:current:session").isInternal()?this.decorateAsReadonly():this.$(".deleteEmailButton").show(),this.ui.testEmailButton.prop("disabled",!0),this.ui.addEmailButton.prop("disabled",!0)},decorateAsReadonly:function(){a("#executive-dashboard-email-modal-title").append("<strong>(Read Only)</strong>"),this.ui.testEmailButton.prop("disabled",!0),this.ui.addEmailButton.prop("disabled",!0),this.ui.emailInput.prop("disabled",!0),this.$(".deleteEmailButton").hide(),this.$("#frequencyDays").prop("disabled",!0),this.$("#enabled").prop("disabled",!0),this.readonly=!0},resetEmailButton:function(){this.readonly||(this.ui.testEmailButton.bs_button("reset"),this.ui.testEmailButton.prop("disabled",!0),this.ui.messageArea.hide())},testEmail:function(e){e.preventDefault();var t=this.addEmailModel.get("email"),n=this;n.ui.testEmailButton.bs_button("loading");JSON.stringify(r.pick(this.addEmailModel.toJSON(),"email"));a.ajax({type:"POST",url:this.api().pod().account().segment("executiveDashboard/emailSettings/test"),contentType:"application/json",dataType:"json",data:JSON.stringify(r.pick(this.addEmailModel.toJSON(),"email"))}).done(function(){n.ui.testEmailButton.bs_button("success")}).error(function(e){i.command("notification","show:error",{title:"Error sending test email to "+t,message:e.responseJSON.message})}).always(function(){r.defer(r.bind(n.ui.testEmailButton.prop,n.ui.testEmailButton,"disabled",!0))})},addEmail:function(e){var t=this.ui.emailInput.val(),n=new d({email:t});this.collection.findWhere({email:t})?(this.ui.messageArea.text("This email is already subscribed"),this.ui.messageArea.css("color","red"),this.ui.messageArea.show()):(this.collection.add(n),this.saveCollection(),this.ui.emailInput.val(""),this.model.set("email",""),this.ui.addEmailButton.prop("disabled",!0),this.ui.testEmailButton.prop("disabled",!0))},saveCollection:function(){this.model.set("emailList",this.collection)},submit:function(){this.saveCollection(),this.model.save().done(function(){i.command("notification","show:success",{title:"executive dashboard email settings successfully updated"})}).fail(function(e){i.command("notification","show:error",{title:"Failed to update executive dashboard email settings:",message:e.responseJSON.message})})}});e.exports=o.LayoutView.extend({className:"email-settings-dialog",template:r.template(m),emailSettingsView:null,regions:{bodyRegion:".modal-body"},ui:{submitButton:'button[name="submit"]',cancelButton:'button[name="cancel"]'},events:{"click @ui.submitButton":"onSubmit"},onRender:function(){this.emailSettingsView=new v,this.bodyRegion.show(l.wrap(this.emailSettingsView)),i.request("global","get:current:session").isInternal()&&(this.ui.submitButton.hide(),this.ui.cancelButton.text("Close"))},onSubmit:function(){this.emailSettingsView.submit()}})},function(e,t){e.exports='<form id="executive-dashboard-settings-form" class="form-horizontal">\n    <div class="form-group has-feedback">\n        <div class="row expanded">\n            <label class="column small-10 control-label">Email Subscription Enabled</label>\n            <div class="column small-4">\n                <input class="form-control" type="checkbox" id="enabled" />\n            </div>\n        </div>\n        <div class="row expanded">\n            <label class="column small-10 control-label">Email Frequency in Days</label>\n            <div class="column small-4">\n                <input class="form-control" type="number" min="1" max="365" oninput="validity.valid||(value=30);" step="1" name="frequencyDays" id="frequencyDays"\n                    value="30" placeholder="30" maxlength=6 size=6 title="Enter the number of days between 1 to 365" style="padding-right:10px"/>\n            </div>\n        </div>\n        <div class="row expanded">\n            <label class="control-label column small-12">Subscribed Emails</label>\n        </div>\n        <div class="row expanded">\n            <div class="column small-20">\n                \x3c!-- placeholder for email list --\x3e\n                <ul class="executive-dashboard-email-list"></ul>\n            </div>\n        </div>\n    <div class="form-group" id="executive-dashboard-email-form">\n        <div class="row expanded">\n            <label class="column small-4 control-label" style="margin-left:35px">Add Email</label>\n            <div class="column small-12">\n                <input type="email" class="form-control" name="email" id="email"  placeholder="user@company.com" size=50\n                    title="Enter a valid Email address. Use \'Add\' button to add to the subscription list."/>\n                <i class="glyphicon form-control-feedback"></i>\n            </div>\n            <div class="column small-4">\n                <button type="button" class="button" name="addEmail" style="width: 12ch;" title="Add this email to the subscription email list"\n                    data-loading-text="<i class=\'fa fa-spinner fa-spin\'></i> Adding"\n                    data-success-text="<i class=\'fa fa-check\'></i> Added"\n                    data-error-text="<i class=\'fa fa-times\'></i> Error">\n                    <i class="fa fa-plus-square-o"></i> Add\n                </button>\n            </div>\n        </div>\n    </div>\n    <div class="row expanded">\n        <div class="column small-24">\n            <div class="column small-22 help-block" id="message"></div>\n        </div>\n    </div>\n</div>\n</form>\n'},function(e,t,n){var a=n(9),i=n(13);n(74);e.exports=i.ItemView.extend({tagName:"li",template:a.template('<%=email%>&nbsp;<span name="deleteButton" class="glyphicon glyphicon-trash deleteEmailButton"  title="Delete this email" ></span>'),onRender:function(){this.stickit()},ui:{deleteButton:'span[name="deleteButton"]'},events:{"click @ui.deleteButton":"deleteEmail"},deleteEmail:function(){this.model.collection.remove(this.model)}})},function(e,t,n){var a=n(9),i=n(11),r=n(691);e.exports=i.Model.extend({defaults:{enabled:!1,frequencyDays:30,email:"",emailList:new r},validation:{email:{pattern:"email",required:!1}},initialize:function(){},isNew:function(){return!1},url:function(){return this.api().central().account().segment("admin/executiveDashboard/emailSettings")},parse:function(e){return this.get("emailList").reset(e.emailList),e},save:function(e,t){return t={},delete(e=a.clone(this.attributes)).email,t.data=JSON.stringify(e),t.contentType="application/json",i.Model.prototype.save.call(this,e,t)}})},function(e,t){e.exports='<div class="modal-dialog">\n    <div class="modal-content">\n        <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal">\n                <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title" id="executive-dashboard-email-modal-title">Executive Dashboard Email Settings</h4>\n        </div>\n        <div class="modal-body">\n        </div>\n        <div class="modal-footer">\n            <button type="button" class="button" name="submit" id="submitButton" data-dismiss="modal">Submit</button>\n            <button type="button" class="button secondary" name="cancel" id="cancelButton" data-dismiss="modal">Cancel</button>\n        </div>\n    </div>\n</div>\n'},function(e,t,n){e.exports={legacyPage:"legacyPage__3ZR2m"}},,function(e,t,n){var a=n(9),i=n(13),r=n(1374),o=(n(110),n(1375)),s=n(1378),l=n(692),c=n(1386),u=n(1391),d=n(24),p=n(43).buildUrlFromBase,h=n(80).NimbleUserTenantHelpers;e.exports=i.LayoutView.extend({template:a.template(r),templateHelpers:{getNestedLink:p.bind(null,"/dashboards/nimble/wellness")},ui:{downloadLink:".download-link",spinner:".loading-spinner2",contentEl:".wellness-summary",caseCreateBtn:"#wellness-case-creation-btn",dailyEmailBtn:"#wellness-daily-email-btn",wellnessEmailInfo:"#wellness-info .email-info",caseCreateInfo:"#wellness-info .case-creation-info",emptyResults:".empty-wellness",issuesEl:"#wellness-issues-container",viewMaintenanceWindowBtn:"#view-maintenance-window-btn"},events:{"click @ui.dailyEmailBtn":"onClickDailyEmail","click @ui.viewMaintenanceWindowBtn":"onClickMaintenanceWindow"},regions:{maintenanceWindowStatusRegion:".maintenance-window-status-region"},initialize:function(){this.wellnessSummaryModel=new l,this.wellnessSummary=new o({model:this.wellnessSummaryModel,history:this.options.history}),this.wellnessIssues=new s({model:this.model})},onClickDailyEmail:function(e){e.preventDefault(),d.modalRegion.show(new c)},onRender:function(){var e=this;this.ui.contentEl.append(this.wellnessSummary.render().el),this.ui.issuesEl.append(this.wellnessIssues.render().el),h.isExternal()&&!h.isPrimaryTenant()&&(this.ui.dailyEmailBtn.hide(),this.ui.wellnessEmailInfo.hide()),this.getRegion("maintenanceWindowStatusRegion").show(new u),this.ui.downloadLink.attr("href",this.api().central().account().segment("/wellness/export")),this.listenTo(this.wellnessIssues,"issue-action:clear",this.wellnessSummary.refresh),this.listenTo(this.wellnessIssues,"issue-action:ack",this.wellnessSummary.refresh),this.listenTo(this.wellnessIssues,"issue-action:unack",this.wellnessSummary.refresh),this.listenTo(this.wellnessSummary,"summary-error",function(){e.ui.spinner.hide()}),this.listenTo(this.wellnessSummary,"summary-load",function(t){e.ui.spinner.hide(),e.$("#wellness-summary-toolbar").show(),a.isEmpty(t)?e.ui.emptyResults.show():(e.ui.contentEl.show(),e.ui.issuesEl.show())})},onDestroy:function(){this.wellnessSummary&&(this.wellnessSummary.destroy(),delete this.wellnessSummary),this.wellnessIssues&&(this.wellnessIssues.destroy(),delete this.wellnessIssues)},showDetails:function(e){var t=this,n=function(){t.ui.issuesEl[0].scrollIntoView({block:"start",behavior:"smooth"}),a.isEmpty(e)||t.ui.issuesEl.find(".grid-filter-wrapper").effect("highlight",{color:"#78c639"},2e3)};this.wellnessIssues.filterModel.clearValues(),this.wellnessIssues.filterModel.set(e),this.isRendered&&this.ui.contentEl.is(":visible")?n():this.listenToOnce(this.wellnessIssues,"load",n)}})},function(e,t){e.exports='<div class="maintenance-window-status-region"></div>\n<div>\n    <a href="#" class="download-link button dark" style="float: right;" download><i class="fa fa-download"></i> <span>Export</span></a>\n    <div style="clear: right;"></div>\n</div>\n\n<div class="loading-spinner2">Loading...</div>\n\n<div id="wellness-main" class="wellness-content">\n    <div class="wellness-summary"></div>\n    <div class="empty-wellness">\n        <span class="ui-icon ui-icon-info"></span>\n        <span>There are no outstanding issues on any of your arrays.</span>\n    </div>\n    <div id="wellness-wrapper1">\n        <div id="wellness-summary-toolbar">\n            <a id="wellness-daily-email-btn" href="#" class="button dark">\n                <i class="fa fa-envelope fa-lg"></i> <span>Daily Summary Emails</span>\n            </a>\n            <a id="wellness-case-creation-btn" href="<%= getNestedLink(\'rules\') %>" class="history-aware button dark">\n                <i class="fa fa-gear fa-lg"></i> <span>Configure Wellness Rules</span>\n            </a>\n            <a id="view-maintenance-window-btn" href="<%= getNestedLink(\'maintenance-windows\') %>" class="history-aware button dark">\n                <i class="fa fa-calendar fa-lg"></i> <span>Manage Maintenance Windows</span>\n            </a>\n        </div>\n        <ul id="wellness-info" class="wellness-text">\n            <li class="email-info">You can receive a daily email of your Issue Summary and brief details of your Urgent and Critical issues by clicking "Daily Summary Emails" above.</li>\n            <li class="case-creation-info">You can enable/disable issue and case creation for all conditions by clicking "Configure Wellness Rules" above</li>\n            <li>Issues associated with a support case will show if the case status is open or if the case was closed within the last 7 days.</li>\n        </ul>\n    </div>\n    <div class="wellness-details">\n        <div id="wellness-issues-container"></div>\n    </div>\n</div>\n\n'},function(e,t,n){var a=n(16),i=n(9),r=n(13),o=n(1376),s=n(1377),l=n(110),c=(n(692),n(81)),u=(i.template(o),i.template(s,void 0,{variable:"matrix"}));e.exports=r.ItemView.extend({template:i.template(o),className:"wellness-summary-view",ui:{wellnessContent:".wellness-summary-content",wellnessSummaryEmpty:".wellness-summary-empty",spinner:".spinner"},events:{"click .highlight-badge":"onCellClick"},initialize:function(){i.bindAll(this,"onLoad","changeSummaryFilter")},onRender:function(){var e=this;this.$contentEl=this.$el.find("#wellness-summary-wrapper"),this.ui.spinner.append((new c).render().el);return this.model.fetch().always(function(){e.ui.spinner.hide()}).done(this.onLoad).fail(function(t){e.trigger("summary-error");var n="";n=t.responseText&&t.responseText.length>0?t.responseText:"Server currently unavailable.";var r=i.template(l);e.$contentEl.append(r({message:n})),a(".wellness-summary").find(".sub-title").hide(),a(".wellness-summary").show()}),this},onLoad:function(e){var t=this.model.toJSON();0===i.keys(t).length?(this.ui.wellnessContent.hide(),this.ui.wellnessSummaryEmpty.show()):(this.ui.wellnessContent.show(),this.ui.wellnessSummaryEmpty.hide(),this.$contentEl.append(u(t)),this.$("#summary-filter INPUT").change(this.changeSummaryFilter)),this.trigger("summary-load",e)},changeSummaryFilter:function(){var e=this.$("#summary-filter INPUT").is(":checked")?"total":"unacked";this.$(".wellness-summary-table .highlight-badge").each(function(){var t=a(this),n=t.data("count-"+e);t.attr("data-count",n),t.find("SPAN.highlight-item-text").text(n)})},onCellClick:function(e){e.preventDefault();var t=a(e.currentTarget),n={Severity:t.attr("data-severity"),"Target Type":t.attr("data-level"),Acknowledged:this.$("#summary-filter INPUT").is(":checked")?"":"No"};this.model.inventoryFilter&&this.model.inventoryFilter.get("arraySn")&&(n["Array SN"]=this.model.inventoryFilter.get("arraySn")),this.options.history.push("/dashboards/nimble/wellness/details?"+a.param(n))}})},function(e,t){e.exports='<div class="spinner"/>\n<div class="wellness-summary-content" style="display: none;">\n    <p><span class="sub-title">Issue Summary</span></p>\n    <div id="wellness-summary-wrapper"></div>\n</div>\n<div class="wellness-summary-empty" style="display: none;">\n    <i class="fa fa-check-circle"></i>\n    <span>There are no outstanding issues.</span>\n</div>'},function(e,t){e.exports='<div>\n<table class="wellness-summary-table">\n<tr>\n    <th class="wellness-category"></th>\n    <th>Critical</th>\n    <th>Urgent</th>\n    <th>Important</th>\n    <th>For Review</th>\n</tr>\n\n<% [ \'Array\', \'Pool\', \'Volcoll\', \'Volume\', \'Snapshot\' ].forEach(function (level) {\n    var row = matrix[level] || {};\n%>\n<tr class="highlight-view">\n    <td class="wellness-category"><%= level == \'Volcoll\' ? \'Volume Collection\' : level %>s</td>\n    <% [ \'Critical\', \'Urgent\', \'Important\', \'For Review\' ].forEach(function (severity) {\n        var cell = row[severity] || { unacked: 0, total: 0 };\n    %>\n        <td>\n            <a class="highlight-badge"\n                data-severity="<%= severity %>"\n                data-level="<%= level %>"\n                data-count="<%= cell.unacked %>"\n                data-count-total="<%= cell.total %>"\n                data-count-unacked="<%= cell.unacked %>"\n                href="#">\n                <span class="highlight-item-text"><%= cell.unacked %></span>\n            </a>\n        </td>\n    <% }); %>\n</tr>\n<% }); %>\n</table>\n<div id="summary-filter">\n    <label>\n        <input type="checkbox"/>\n        <span class="checkbox-label">Include acknowledged issues</span>\n    </label>\n</div>\n</div>\n\n'},function(e,t,n){var a=n(9),i=(n(29).Highstock,n(16)),r=(n(54),n(11),n(13)),o=n(10),s=n(90),l=n(228),c=(n(321),n(617),n(227)),u=n(693),d=n(1379),p=n(238),h=n(1382),m=n(81),f=n(1383),v=n(1384),b=n(1385),g=n(110),y=n(24),w=(0,n(43).buildUrlFromBase)("/dashboards/nimble/wellness/rules"),T=a.template(h),S=function(e){return a.extend(e,{moment:o}),T(e)};e.exports=r.ItemView.extend({template:a.template(f),className:"wellness-issues-grid-view",mode:"local",issues:{},events:{"click .toolbar button":"onButtonClick"},ui:{gridContent:".grid-content"},columns:function(){var e=y.request("global","get:account:selection").isAll();return[{data:"issueDate",visible:!0,render:function(e,t,n){return o(n.issueDate).format("L LT")}},{data:function(e,t){return"sort"==t?11+e.severityIndex:e.severityName},render:function(e,t,n){return"display"==t?'<div style="height:30px;min-width:70px;line-height:30px;border-radius:2px;color:white" class="severity '+e.replace(" ","").toLowerCase()+'">'+e+"</div>":e},visible:!0,filter:!0},{data:"conditionName",visible:!0,render:function(t,n,a){return e?a.conditionName:'<a class="history-aware"\n                                title="Click to configure case creation for this condition"\n                                href="'+w+"?condition="+a.conditionName+'">\n                                '+a.conditionName+"\n                            </a>"}},{data:"issueLevel",visible:!1},{data:"arrayName",visible:!0,render:function(t,n,a){var i,r;return a.groupName&&' class="multi-row"',a.arrayHostname&&(r=i=a.arrayHostname),a.groupName&&(r+="<br />(Group: "+a.groupName+")"),a.poolName&&(r+="<br />(Pool: "+a.poolName+")"),(e?r:'<a class="history-aware"\n                                title="Click to configure case creation for this array"\n                                href="'+w+"?condition="+a.conditionName+"&array_sn="+a.arraySN+"&array_hostname="+a.arrayHostname+'">\n                                '+r+"\n                            </a>")+'<a class="array-management-ui link" target="nimble-'+a.arraySN+'" href="/InfoSight/static/nimosLauncher.html?arraySn='+a.arraySN+"&hostname="+i+'"><i class="fa fa-external-link"></i><span>Click to launch the management interface for this array.</span></a>'}},{data:"targetType",visible:!0,filter:!0},{data:"target",visible:!0,render:function(t,n,a){if(e||"Array"==a.caseLevel)return a.target;a.caseLevel.toLowerCase();if(a.target){var i=w+"?condition="+a.conditionName+"&array_sn="+a.arraySN+"&array_hostname="+a.arrayHostname;return a.volumeCollectionName&&(i+="&volcol="+a.volumeCollectionName),a.volumeName&&(i+="&volume="+a.volumeName),'<a class="history-aware"\n                                    title="Click to configure case creation for this target"\n                                    href="'+i+'">\n                                    '+a.target+"\n                                </a>"}return a.target}},{data:"caseNumber",visible:!0},{data:"caseStatus",visible:!0},{data:"severityIndex",visible:!1},{data:"arraySN",visible:!1,filter:!0},{data:"arrayHostname",visible:!1,filter:!0},{data:"groupName",visible:!1},{data:"poolName",visible:!1},{data:"volumeName",visible:!1},{data:"volumeCollectionName",visible:!1},{data:"snapshotName",visible:!1},{data:"caseCategory",visible:!1},{data:"caseCreatedDate",visible:!1},{data:"caseClosedDate",visible:!1},{visible:!1,data:function(e,t,n){if(e)return"display"===t&&(e.caseDescription=e.caseDescription?e.caseDescription.replace(/\n/g,"<br />").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;"):"(No description entered)"),e.caseDescription}},{data:"caseCreated",visible:!1,filter:!0},{data:"caseStatusType",visible:!1,filter:!0},{data:"lastObservedAt",visible:!1},{data:function(e,t){return"filter"===t?e.ackedAt?"Yes":"No":e.ackedAt},render:{display:function(e,t,n){return n.ackedAt?n.ackedBy.split("@",1)[0]+'<span class="ack-timestamp">('+o(n.ackedAt).fromNow()+")</span>":null}},filter:!0}]},buttons:["#ack","#unack","#clear"],actions:{ack:{title:"Acknowledge Issue(s)",action:"Acknowledge",content:"<p>Acknowledged issues will be <b>hidden from the view</b> (by default).</p><p>Are you sure you want to acknowledge the selected wellness issues?</p>",submit:function(){var e=this.getSelectedIssues();e.acknowledge().done(function(){y.command("notification","show:success",{title:e.length+" issue(s) acknowledged"})}).fail(function(e){y.command("notification","show:error",{title:"Failed to acknowledge issues:",message:e.responseJSON.message})}).always(a.partial(this.afterAction,"ack"))}},unack:{title:"Unacknowledge Issue(s)",action:"Unacknowledge",content:"<p>Are you sure you want to unacknowledge the selected wellness issues?</p>",submit:function(){var e=this.getSelectedIssues();e.unacknowledge().done(function(){y.command("notification","show:success",{title:e.length+" issue(s) unacknowledged"})}).fail(function(e){y.command("notification","show:error",{title:"Failed to unacknowledge issues:",message:e.responseJSON.message})}).always(a.partial(this.afterAction,"unack"))}},clear:{title:"Clear Issue(s)",action:"Clear",content:b,submit:function(){var e=this.getSelectedIssues();e.clear().done(function(){y.command("notification","show:success",{title:e.length+" issue(s) cleared"})}).fail(function(e){y.command("notification","show:error",{title:"Failed to clear issues:",message:e.responseJSON.message})}).always(a.partial(this.afterAction,"clear"))}}},filterModel:null,createModel:function(){return"local"==this.mode?this.createBulkLoadModel():this.createRemoteModel()},createBulkLoadModel:function(){return new c({url:this.api().central().account().segment("/wellness/issues"),columns:this.columns(),emptyLabel:"No issues found",showFilters:!0,pageLength:100})},initialize:function(){a.bindAll(this,"onRowSelectionChange","onCreateRow","afterAction"),this.filterModel=new l({Acknowledged:"No"})},onRender:function(){var e=this.$el.find("TABLE"),t=(i(e),this.createModel());return this.spinner=new m,this.$el.find(".spinner").append(this.spinner.render().el),this.grid=new s({model:t,id:"wellness-issues-grid",tableTemplate:this.ui.gridContent.html(),childTemplate:S,rowSelectionMode:s.RowSelectionMode.MULTI,toolbar:v,dataTableOptions:{createdRow:this.onCreateRow},filterModel:this.filterModel,sort:[{column:"Creation Time",order:"desc"},{column:"Severity",order:"asc"}]}),this.listenTo(this.grid,"init",this.onGridLoaded),this.listenTo(this.grid,"error",this.onEventsLoadFailed),this.listenTo(this.grid,"row-selection:changed",this.onRowSelectionChange),this.$el.find("#wellness-issues-grid-container").append(this.grid.render().el),this},onCreateRow:function(e,t){var n=i(e);t.ackedAt&&n.attr("data-acked",!0)},onGridLoaded:function(e){this.spinner.hide(),this.$("#wellness-issues-grid-container").show(),this.trigger("load")},onEventsLoadFailed:function(e,t,n){this.spinner.hide();var i=a.template(g);this.$el.find("#wellness-issues-grid-container").html(i({message:n})),this.$el.find("#wellness-issues-grid-container").show()},onButtonClick:function(e){var t=i(e.currentTarget).attr("id"),n=this.actions[t],r=new p(n);this.listenTo(r,"submit",a.bind(n.submit,this)),y.modalRegion.show(r)},afterAction:function(e){this.grid.refreshData(),this.trigger("issue-action:"+e)},getSelectedIssues:function(e){return new d(a.map(this.grid.getSelectedRowsData(),function(e){return new u(e)}))},onRowSelectionChange:function(e){0===e.length?this.$(this.buttons.join(",")).prop("disabled",!0):(this.$("#ack,#clear").prop("disabled",!1),e.is(":not([data-acked])")?this.$("#unack").prop("disabled",!0):this.$("#unack").prop("disabled",!1))}})},function(e,t,n){var a=n(16),i=n(11),r=n(693),o=function(e){return a.ajax({url:this.api().central().account().segment("/wellness/issues").segment(e),type:"PUT",contentType:"application/json",dataType:"json",data:JSON.stringify(this.pluck("id"))})};e.exports=i.Collection.extend({model:r,clear:function(){return o.call(this,"cleared")},acknowledge:function(){return o.call(this,"acknowledged")},unacknowledge:function(){return o.call(this,"unacknowledged")}})},function(e,t,n){var a=n(11);e.exports=a.Model.extend({defaults:{title:"Confirmation",action:"Submit"}})},function(e,t){e.exports='<div class="modal-dialog">\n    <div class="modal-content">\n        <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal">\n                <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title"><%= title %></h4>\n        </div>\n        <div class="modal-body">\n        </div>\n        <div class="modal-footer">\n            <button type="button" class="button" name="submit" data-dismiss="modal"><%= action %></button>\n            <button type="button" class="button secondary" name="cancel" data-dismiss="modal">Cancel</button>\n        </div>\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="grid-child-row">\n    <TABLE cellpadding="5" cellspacing="0" border="0">\n\x3c!-- non cabo, array level, no case --\x3e\n<% if (groupName == undefined && volumeName == undefined && volumeCollectionName == undefined && snapshotName == undefined && caseNumber == \'N/A\') { %>\n        <TR>\n            <TD class="grid-child-label">Hostname:</TD>\n            <TD class="grid-child-value"><%= arrayHostname %></TD>\n\n            <TD class="empty"></TD>\n\n            <TD class="grid-child-label">Last Observed At:</TD>\n            <TD class="grid-child-value"><%= moment(lastObservedAt).format("L LT") %></TD>\n        </TR>\n        <TR>\n            <TD class="grid-child-label">ArraySN:</TD>\n            <TD class="grid-child-value"><%= arraySN %></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n        </TR>\n<% } %>\n\x3c!-- non cabo, vol/volcoll/snap level, no case --\x3e\n<% if (groupName == undefined && (volumeName != undefined || volumeCollectionName != undefined || snapshotName != undefined) && caseNumber == \'N/A\') { %>\n        <TR>\n            <TD class="grid-child-label">Hostname:</TD>\n            <TD class="grid-child-value"><%= arrayHostname %></TD>\n\n            <TD class="empty"></TD>\n            <TD class="grid-child-label">Volume Collection Name:</TD>\n             <% if (volumeCollectionName != undefined) { %>\n                <TD class="grid-child-value"><%= volumeCollectionName %></TD>\n            <% } else { %>\n                <TD class="grid-child-value">n/a</TD>\n            <% } %>\n\n            <TD class="empty"></TD>\n\n            <TD class="grid-child-label">Last Observed At:</TD>\n            <TD class="grid-child-value"><%= moment(lastObservedAt).format("L LT") %></TD>\n        </TR>\n        <TR>\n            <TD class="grid-child-label">ArraySN:</TD>\n            <TD class="grid-child-value"><%= arraySN %></TD>\n\n            <TD class="empty"></TD>\n            <TD class="grid-child-label">Volume Name:</TD>\n            <% if (volumeName != undefined) { %>\n                <TD class="grid-child-value"><%= volumeName %></TD>\n            <% } else { %>\n                <TD class="grid-child-value">n/a</TD>\n            <% } %>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n        </TR>\n        <% if (snapshotName != undefined) { %>\n        <TR>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="grid-child-label">Snapshot Name:</TD>\n            <TD class="grid-child-value"><%= snapshotName %></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n        </TR>\n        <% } else { %>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="grid-child-label">Snapshot Name:</TD>\n            <TD class="grid-child-value">n/a</TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n        <% } %>\n<% } %>\n\x3c!-- non cabo, array level, case --\x3e\n<% if (groupName == undefined && volumeName == undefined && volumeCollectionName == undefined && snapshotName == undefined && caseNumber != \'N/A\') { %>\n        <TR>\n            <TD class="grid-child-label">Hostname:</TD>\n            <TD class="grid-child-value"><%= arrayHostname %></TD>\n\n            <TD class="empty"></TD>\n\n            <TD class="grid-child-label">Case Number:</TD>\n            <TD class="grid-child-value"><%= caseNumber %></TD>\n\n            <TD class="empty"></TD>\n\n            <TD class="grid-child-label">Case Created:</TD>\n            <TD class="grid-child-value"><%= moment(issueDate).format("L LT") %></TD>\n        </TR>\n        <TR>\n            <TD class="grid-child-label">ArraySN:</TD>\n            <TD class="grid-child-value"><%= arraySN %></TD>\n\n            <TD class="empty"></TD>\n\n            <TD class="grid-child-label">Case Category:</TD>\n            <TD class="grid-child-value"><%= caseCategory %></TD>\n\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n        </TR>\n        <TR>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n\n            <TD class="grid-child-label">Case Closed:</TD>\n            <% if (caseClosedDate != undefined) { %>\n                <TD class="grid-child-value"><%= moment(caseClosedDate).format("L LT") %></TD>\n            <% } else { %>\n                <TD class="empty"></TD>\n            <% } %>\n\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n        </TR>\n<% } %>\n\x3c!-- non cabo, vol/volcoll/snap level, case --\x3e\n<% if (groupName == undefined && (volumeName != undefined || volumeCollectionName != undefined || snapshotName != undefined) && caseNumber != \'N/A\') { %>\n        <TR>\n            <TD class="grid-child-label">Hostname:</TD>\n            <TD class="grid-child-value"><%= arrayHostname %></TD>\n\n            <TD class="empty"></TD>\n            <TD class="grid-child-label">Volume Collection Name:</TD>\n             <% if (volumeCollectionName != undefined) { %>\n                <TD class="grid-child-value"><%= volumeCollectionName %></TD>\n            <% } else { %>\n                <TD class="grid-child-value">n/a</TD>\n            <% } %>\n\n            <TD class="empty"></TD>\n\n            <TD class="grid-child-label">Case Number:</TD>\n            <TD class="grid-child-value"><%= caseNumber %></TD>\n\n            <TD class="empty"></TD>\n\n            <TD class="grid-child-label">Case Created:</TD>\n            <TD class="grid-child-value"><%= moment(issueDate).format("L LT") %></TD>\n        </TR>\n        <TR>\n            <TD class="grid-child-label">ArraySN:</TD>\n            <TD class="grid-child-value"><%= arraySN %></TD>\n\n            <TD class="empty"></TD>\n            <TD class="grid-child-label">Volume Name:</TD>\n            <% if (volumeName != undefined) { %>\n                <TD class="grid-child-value"><%= volumeName %></TD>\n            <% } else { %>\n                <TD class="grid-child-value">n/a</TD>\n            <% } %>\n\n            <TD class="empty"></TD>\n\n            <TD class="grid-child-label">Case Category:</TD>\n            <TD class="grid-child-value"><%= caseCategory %></TD>\n\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n        </TR>\n\n        <TR>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n\n            <TD class="empty"></TD>\n            <TD class="grid-child-label">Snapshot Name:</TD>\n            <% if (snapshotName != undefined) { %>\n                <TD class="grid-child-value"><%= snapshotName %></TD>\n            <% } else { %>\n                <TD class="grid-child-value">n/a</TD>\n            <% } %>\n\n            <TD class="empty"></TD>\n\n            <TD class="grid-child-label">Case Closed:</TD>\n            <% if (caseClosedDate != undefined) { %>\n                <TD class="grid-child-value"><%= moment(caseClosedDate).format("L LT") %></TD>\n            <% } else { %>\n                <TD class="empty"></TD>\n            <% } %>\n\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n        </TR>\n<% } %>\n\n\x3c!-- cabo, array level, no case --\x3e\n<% if (groupName != undefined && volumeName == undefined && volumeCollectionName == undefined && snapshotName == undefined && caseNumber == \'N/A\') { %>\n        <TR>\n            <TD class="grid-child-label">Hostname:</TD>\n            <TD class="grid-child-value"><%= arrayHostname %></TD>\n\n            <TD class="empty"></TD>\n\n            <TD class="grid-child-label">Last Observed At:</TD>\n            <TD class="grid-child-value"><%= moment(lastObservedAt).format("L LT") %></TD>\n        </TR>\n        <TR>\n            <TD class="grid-child-label">ArraySN:</TD>\n            <TD class="grid-child-value"><%= arraySN %></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n        </TR>\n        <TR>\n            <TD class="grid-child-label">Group Name:</TD>\n            <TD class="grid-child-value"><%= groupName %></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n        </TR>\n        <TR>\n            <TD class="grid-child-label">Pool Name:</TD>\n            <TD class="grid-child-value"><%= poolName %></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n        </TR>\n\n<% } %>\n\x3c!-- cabo, vol/volcoll/snap level, no case --\x3e\n<% if (groupName != undefined && (volumeName != undefined || volumeCollectionName != undefined || snapshotName != undefined) && caseNumber == \'N/A\') { %>\n        <TR>\n            <TD class="grid-child-label">Hostname:</TD>\n            <TD class="grid-child-value"><%= arrayHostname %></TD>\n\n            <TD class="empty"></TD>\n            <TD class="grid-child-label">Volume Collection Name:</TD>\n             <% if (volumeCollectionName != undefined) { %>\n                <TD class="grid-child-value"><%= volumeCollectionName %></TD>\n            <% } else { %>\n                <TD class="grid-child-value">n/a</TD>\n            <% } %>\n\n            <TD class="empty"></TD>\n\n            <TD class="grid-child-label">Last Observed At:</TD>\n            <TD class="grid-child-value"><%= moment(lastObservedAt).format("L LT") %></TD>\n        </TR>\n        <TR>\n            <TD class="grid-child-label">ArraySN:</TD>\n            <TD class="grid-child-value"><%= arraySN %></TD>\n\n            <TD class="empty"></TD>\n            <TD class="grid-child-label">Volume Name:</TD>\n            <% if (volumeName != undefined) { %>\n                <TD class="grid-child-value"><%= volumeName %></TD>\n            <% } else { %>\n                <TD class="grid-child-value">n/a</TD>\n            <% } %>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n        </TR>\n        <TR>\n            <TD class="grid-child-label">Group Name:</TD>\n            <TD class="grid-child-value"><%= groupName %></TD>\n\n            <TD class="empty"></TD>\n            <TD class="grid-child-label">Snapshot Name:</TD>\n            <% if (snapshotName != undefined) { %>\n                <TD class="grid-child-value"><%= snapshotName %></TD>\n            <% } else { %>\n                <TD class="grid-child-value">n/a</TD>\n            <% } %>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n        </TR>\n        <TR>\n            <TD class="grid-child-label">Pool Name:</TD>\n            <TD class="grid-child-value"><%= poolName %></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n        </TR>\n<% } %>\n\x3c!-- cabo, array level, case --\x3e\n<% if (groupName != undefined && volumeName == undefined && volumeCollectionName == undefined && snapshotName == undefined && caseNumber != \'N/A\') { %>\n        <TR>\n            <TD class="grid-child-label">Hostname:</TD>\n            <TD class="grid-child-value"><%= arrayHostname %></TD>\n\n            <TD class="empty"></TD>\n\n            <TD class="grid-child-label">Case Number:</TD>\n            <TD class="grid-child-value"><%= caseNumber %></TD>\n\n            <TD class="empty"></TD>\n\n            <TD class="grid-child-label">Case Created:</TD>\n            <TD class="grid-child-value"><%= moment(issueDate).format("L LT") %></TD>\n        </TR>\n        <TR>\n            <TD class="grid-child-label">ArraySN:</TD>\n            <TD class="grid-child-value"><%= arraySN %></TD>\n\n            <TD class="empty"></TD>\n\n            <TD class="grid-child-label">Case Category:</TD>\n            <TD class="grid-child-value"><%= caseCategory %></TD>\n\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n        </TR>\n        <TR>\n            <TD class="grid-child-label">Group Name:</TD>\n            <TD class="grid-child-value"><%= groupName %></TD>\n            <TD class="empty"></TD>\n\n            <TD class="grid-child-label">Case Closed:</TD>\n            <% if (caseClosedDate != undefined) { %>\n                <TD class="grid-child-value"><%= moment(caseClosedDate).format("L LT") %></TD>\n            <% } else { %>\n                <TD class="empty"></TD>\n            <% } %>\n\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n        </TR>\n        <TR>\n            <TD class="grid-child-label">Pool Name:</TD>\n            <TD class="grid-child-value"><%= poolName %></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n        </TR>\n<% } %>\n\x3c!-- cabo, vol/volcoll/snap level, case --\x3e\n<% if (groupName != undefined && (volumeName != undefined || volumeCollectionName != undefined || snapshotName != undefined) && caseNumber != \'N/A\') { %>\n       <TR>\n            <TD class="grid-child-label">Hostname:</TD>\n            <TD class="grid-child-value"><%= arrayHostname %></TD>\n\n            <TD class="empty"></TD>\n            <TD class="grid-child-label">Volume Collection Name:</TD>\n            <% if (volumeCollectionName != undefined) { %>\n                <TD class="grid-child-value"><%= volumeCollectionName %></TD>\n            <% } else { %>\n                <TD class="grid-child-value">n/a</TD>\n            <% } %>\n\n            <TD class="empty"></TD>\n\n            <TD class="grid-child-label">Case Number:</TD>\n            <TD class="grid-child-value"><%= caseNumber %></TD>\n\n            <TD class="empty"></TD>\n\n            <TD class="grid-child-label">Case Created:</TD>\n            <TD class="grid-child-value"><%= moment(issueDate).format("L LT") %></TD>\n        </TR>\n        <TR>\n            <TD class="grid-child-label">ArraySN:</TD>\n            <TD class="grid-child-value"><%= arraySN %></TD>\n\n            <TD class="empty"></TD>\n            <TD class="grid-child-label">Volume Name:</TD>\n            <% if (volumeName != undefined) { %>\n                <TD class="grid-child-value"><%= volumeName %></TD>\n            <% } else { %>\n                <TD class="grid-child-value">n/a</TD>\n            <% } %>\n\n            <TD class="empty"></TD>\n\n            <TD class="grid-child-label">Case Category:</TD>\n            <TD class="grid-child-value"><%= caseCategory %></TD>\n\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n        </TR>\n\n        <TR>\n            <TD class="grid-child-label">Group Name:</TD>\n            <TD class="grid-child-value"><%= groupName %></TD>\n\n            <TD class="empty"></TD>\n            <TD class="grid-child-label">Snapshot Name:</TD>\n            <% if (snapshotName != undefined) { %>\n                <TD class="grid-child-value"><%= snapshotName %></TD>\n            <% } else { %>\n                <TD class="grid-child-value">n/a</TD>\n            <% } %>\n\n            <TD class="empty"></TD>\n\n            <TD class="grid-child-label">Case Closed:</TD>\n            <% if (caseClosedDate != undefined) { %>\n                <TD class="grid-child-value"><%= moment(caseClosedDate).format("L LT") %></TD>\n            <% } else { %>\n                <TD class="empty"></TD>\n            <% } %>\n\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n        </TR>\n        <TR>\n            <TD class="grid-child-label">Pool Name:</TD>\n            <TD class="grid-child-value"><%= poolName %></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n            <TD class="empty"></TD>\n        </TR>\n<% } %>\n\n        <TR>\n                <TD class="grid-child-label">Description:</TD>\n                <TD colspan="10" class="grid-child-value"><%= caseDescription %></TD>\n        </TR>\n    </TABLE>\n</div>\n'},function(e,t){e.exports='<div id="issues-details-title-container">\n    <div id="issues-details-title" class="sub-title">Issue Details</div>\n</div>\n\n<div class="spinner"/>\n\n<div id="wellness-issues-grid-container"></div>\n\n<script class="grid-content" type="text/html">\n    <table cellpadding="0" cellspacing="0" border="0" class="wellness display table table-striped table-bordered dataTable no-footer responsive" id="wellness-issues-table" style="width: 100%;">\n        <thead>\n            <tr>\n                <th>Creation Time</th>\n                <th>Severity</th>\n                <th>Condition</th>\n                <th>Level</th>\n                <th style="width:150px">Array</th>\n                <th>Target Type</th>\n                <th>Target</th>\n                <th>Auto Created Case #</th>\n                <th>Case Status</th>\n                <th>severityIndex</th>\n                <th>Array SN</th>\n                <th>Array Hostname</th>\n                <th>groupName</th>\n                <th>poolName</th>\n                <th>volumeName</th>\n                <th>volumeCollectionName</th>\n                <th>snapshotName</th>\n                <th>caseCategory</th>\n                <th>caseCreatedDate</th>\n                <th>caseClosedDate</th>\n                <th>caseDescription</th>\n                <th>Case Created</th>\n                <th>Case Status</th>\n                <th>lastObservedAt</th>\n                <th style="width: 60px;">Acknowledged</th>\n            </tr>\n        </thead>\n        <tbody></tbody>\n    </table>\n<\/script>\n'},function(e,t){e.exports='<button type="button" class="button" id="ack" disabled>\n    <i class="fa fa-check fa-lg"></i><span style="margin-left: 5px;">Acknowledge</span>\n</button>\n<button type="button" class="button secondary" id="unack" disabled>\n    <i class="fa fa-undo fa-lg"></i><span style="margin-left: 5px;">Unacknowledge</span>\n</button>\n<button type="button" class="button secondary" id="clear" disabled>\n    <i class="fa fa-trash fa-lg"></i><span style="margin-left: 5px;">Clear</span>\n</button>\n'},function(e,t){e.exports="<p>\n    Clearing a wellness issue will <b>permanently and irreversibly</b> remove it from the system.\n    The issue will continue to remain cleared while the condition persists.\n</p>\n<p>\n    If the condition is resolved and reoccurs in the future, a <b>new</b> issue will be created.\n    <b>All future reoccurrences</b> of this condition can be suppressed by\n    configuring your wellness rules (see button on this page).\n</p>\n<p>Are you sure you want to clear the selected wellness issues?</p>\n"},function(e,t,n){var a=n(16),i=n(9),r=n(13),o=(n(74),n(95)),s=n(45),l=n(1387),c=n(1388),u=n(1389),d=n(694),p=n(1390),h=n(24),m=r.ItemView.extend({template:i.template('<li><b> No email subscription is set up <i name="deleteButton"  class="fa fa-exclamation-triangle" style="color:red"></i> </b></li>')}),f=r.CompositeView.extend({className:"email-settings-view",template:i.template(l),model:d,collection:u,childView:c,emptyView:m,childViewContainer:"ul",readonly:!1,behaviors:{FormBehavior:{behaviorClass:o}},bindings:{'input[name="email"]':{observe:"email",setOptions:{validate:!0}}},ui:{form:"form",messageArea:"#message",emailInput:'input[name="email"]',testEmailButton:'button[name="testEmail"]',addEmailButton:'button[name="addEmail"]',submitButton:'button[name="submit"]'},events:{"click @ui.addEmailButton":"addEmail","click @ui.testEmailButton":"testEmail","focus @ui.emailInput":"resetEmailButton"},collectionEvents:{remove:"collectionModelDeleted"},initialize:function(){this.model=new d,this.collection=new u,this.listenTo(this.model,"validated",this.onValidate)},collectionModelDeleted:function(e){this.saveCollection()},onValidate:function(e){this.ui.testEmailButton.prop("disabled",!e),this.ui.addEmailButton.prop("disabled",!e)},onRender:function(){this.stickit(),h.request("global","get:current:session").isInternal()?(this.decorateAsReadonly(),this.$(".deleteEmailButton").hide()):this.$(".deleteEmailButton").show(),this.ui.testEmailButton.prop("disabled",!0),this.ui.addEmailButton.prop("disabled",!0)},decorateAsReadonly:function(){a("#wellness-email-modal-title").append(" <strong>(Read Only)</strong>"),this.$("input").prop("disabled",!0),this.ui.testEmailButton.prop("disabled",!0),this.ui.addEmailButton.prop("disabled",!0),this.$(".deleteEmailButton").hide(),this.readonly=!0},resetEmailButton:function(){this.readonly||(this.ui.testEmailButton.bs_button("reset"),this.ui.testEmailButton.prop("disabled",!0),this.ui.messageArea.hide())},testEmail:function(e){e.preventDefault();var t=this.model.get("email"),n=this;n.ui.testEmailButton.bs_button("loading");JSON.stringify(i.pick(this.model.toJSON(),"email"));a.ajax({type:"POST",url:this.api().central().account().segment("wellness/emailSettings/test"),contentType:"application/json",dataType:"json",data:JSON.stringify(i.pick(this.model.toJSON(),"email"))}).done(function(){n.ui.testEmailButton.bs_button("success")}).error(function(e){h.command("notification","show:error",{title:"Error sending test email to "+t,message:e.responseJSON.message})}).always(function(){i.defer(i.bind(n.ui.testEmailButton.prop,n.ui.testEmailButton,"disabled",!0))})},addEmail:function(e){var t=this.model.get("email"),n=new d({email:t});this.collection.findWhere({email:t})?(this.ui.messageArea.text("This email is already subscribed"),this.ui.messageArea.css("color","red"),this.ui.messageArea.show()):(this.collection.add(n),this.saveCollection(),this.model.set({email:""}),this.ui.addEmailButton.prop("disabled",!0),this.ui.testEmailButton.prop("disabled",!0))},saveCollection:function(){var e=JSON.stringify(this.collection);a.ajax({type:"PUT",url:this.api().central().account().segment("wellness/emailSettings"),contentType:"application/json",dataType:"json",data:e}).error(function(e){h.command("notification","show:error",{title:"Error saving email subscription list",message:e.responseJSON.message})})}});e.exports=r.LayoutView.extend({className:"email-settings-dialog",template:i.template(p),regions:{bodyRegion:".modal-body"},onRender:function(){this.bodyRegion.show(s.wrap(new f))}})},function(e,t){e.exports='<form id="wellness-settings-form" class="form-horizontal">\n    <div class="row expanded">\n        <div class="column small-20">\n            <h4>Subscribed Emails:</h4>\n        </div>\n    </div>\n    <div class="row expanded">\n        <div class="column small-20">\n            \x3c!-- placeholder for email list --\x3e\n            <ul class="email-list"></ul>\n        </div>\n    </div>\n    <div class="form-group has-feedback">\n        <div class="row expanded">\n            <label class="column small-4 control-label">Add Email</label>\n            <div class="column small-10">\n                <input type="email" class="form-control" name="email" id="email"  placeholder="user@company.com" size=50\n                    title="Enter a valid Email address. Use \'Test\' button to send test email. Use \'Add\' button to add to the subscription list."/>\n                <i class="glyphicon form-control-feedback"></i>\n            </div>\n            <div class="column small-5">\n                <button type="button" class="button secondary" style="width: 13ch;" name="testEmail" title="Send a test email"\n                    data-loading-text="<i class=\'fa fa-spinner fa-spin\'></i> Sending"\n                    data-success-text="<i class=\'fa fa-check\'></i> Sent"\n                    data-error-text="<i class=\'fa fa-times\'></i> Error">\n                    <i class="fa fa-envelope-o"></i> Test\n                </button>\n            </div>\n            <div class="column small-4">\n                <button type="button" class="button secondary" name="addEmail" title="Add this email to the subscription email list"\n                    data-loading-text="<i class=\'fa fa-spinner fa-spin\'></i> Adding"\n                    data-success-text="<i class=\'fa fa-check\'></i> Added"\n                    data-error-text="<i class=\'fa fa-times\'></i> Error">\n                    <i class="fa fa-plus-square-o"></i> Add\n                </button>\n            </div>\n        </div>\n    </div>\n    <div class="row expanded">\n        <p class="column small-24 help-block" id="message"></p>\n    </div>\n</form>\n'},function(e,t,n){var a=n(9),i=n(13);n(74);e.exports=i.ItemView.extend({tagName:"li",template:a.template('<%=email%>&nbsp;<span name="deleteButton" class="glyphicon glyphicon-trash deleteEmailButton"  title="Delete this email" ></span>'),onRender:function(){this.stickit()},ui:{deleteButton:'span[name="deleteButton"]'},events:{"click @ui.deleteButton":"deleteEmail"},deleteEmail:function(){this.model.collection.remove(this.model)}})},function(e,t,n){var a=n(11),i=n(694);e.exports=a.Collection.extend({model:i,url:function(){return this.api().central().account().segment("wellness/emailSettings")}})},function(e,t){e.exports='<div class="modal-dialog">\n    <div class="modal-content">\n        <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal">\n                <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title" id="wellness-email-modal-title">Daily Wellness Email Settings</h4>\n        </div>\n        <div class="modal-body">\n        </div>\n        <div class="modal-footer">\n            <button type="button" class="button" name="submit" data-dismiss="modal">Close</button>\n        </div>\n    </div>\n</div>\n'},function(e,t,n){var a=n(9),i=n(13),r=n(1392),o=n(1393);e.exports=i.ItemView.extend({template:a.template(o),className:"maintenance-window-status",initialize:function(){this.model=new r,this.model.fetch().done(this.render.bind(this))}})},function(e,t,n){var a=n(11);e.exports=a.Model.extend({defaults:{active:null,scheduled:null},url:function(){return this.api().central().account().segment("maintenancewindow/status")}})},function(e,t){e.exports="<% if (active || scheduled) { %>\n<div class=\"callout secondary\">\n    <i class=\"fa fa-lg fa-info-circle\"></i>&nbsp;\n    <% if (active) { %>\n        <span><strong><%= active %></strong> <%= ' Maintenance Window' + (active == 1 ? ' is' : 's are') %> <em>active</em>.</span>\n    <% } %>\n    <% if (scheduled) { %>\n        <span><strong><%= scheduled %></strong> <%= ' Maintenance Window' + (scheduled == 1 ? ' is' : 's are') %> <em>scheduled</em>.</span>\n    <% } %>\n</div>\n<% } %>\n"},function(e,t,n){var a=n(9),i=n(11),r=n(13),o=(n(74),n(1395),n(696).sprintf),s=(n(95),n(45)),l=n(1396),c=n(1399),u=n(1401),d=n(354),p=n(697),h=n(1404),m=n(1405),f=n(24),v=r.ItemView.extend({template:a.template(m),className:"empty-details"}),b=r.LayoutView.extend({className:"maintenance-window-view",template:a.template(h),regions:{sidePanelRegion:"#side-panel-region",detailsPanelRegion:"#details-panel-region"},ui:{newButton:'button[name="new"]'},events:{"click @ui.newButton":"onClickNew"},initialize:function(){this.collection=new p,this.sidePanelView=new u({collection:this.collection}),this.listenTo(this.sidePanelView,"childview:selected",this.onItemSelect)},onRender:function(){this.sidePanelRegion.show(this.sidePanelView),this.showEmptyDetailsView()},showEmptyDetailsView:function(){this.detailsPanelRegion.show(new v({model:new i.Model({maintenanceWindowCount:this.collection.length})}))},showDetailsView:function(e){var t=new c({model:e});this.listenTo(t,"edit",this.onItemEdit),this.listenTo(t,"delete",this.onItemDelete),this.detailsPanelRegion.show(t)},showFormView:function(e){e.startTracking();var t=new l({model:e});this.listenTo(t,"cancel",this.onFormCancel),this.listenTo(t,"submit",this.onFormSubmit),this.detailsPanelRegion.show(t)},onItemSelect:function(e){this.showDetailsView(e.model)},onItemEdit:function(e){this.showFormView(e.model)},onItemDelete:function(e){var t=e.model;t.destroy().done(function(e){f.command("notification","show:success",{title:o('Successfully deleted maintenance window "%s"',t.get("name"))})}).fail(function(e){f.command("notification","show:error",{title:o('Error deleting maintenance window "%s"',t.get("name")),message:e.responseJSON.message})}),this.showEmptyDetailsView()},onFormCancel:function(e){var t=e.model;t.resetAttributes(),t.isNew()?this.showEmptyDetailsView():this.showDetailsView(t)},onFormSubmit:function(e){var t=this,n=e.model,a=n.isNew();n.set("startTime",n.get("trackStartTime")),n.set("endTime",n.get("trackEndTime")),n.unset("trackStartTime"),n.unset("trackEndTime"),n.unset("startTimeOnly"),n.unset("endTimeOnly"),this.showDetailsView(n),n.save().done(function(e){f.command("notification","show:success",{title:o('Successfully %s maintenance window "%s"',a?"created":"updated",n.get("name"))}),n.collection.add(n),t.sidePanelView.selectOne(n)}).fail(function(e){f.command("notification","show:error",{title:o('Error %s maintenance window "%s"',a?"creating":"updating",n.get("name")),message:e.responseJSON.message}),t.showEmptyDetailsView()})},onClickNew:function(){this.sidePanelView.unselectAll(),this.showFormView(new d({},{collection:this.collection}))},openPrepopulatedForm:function(e){this.showFormView(new d({arrays:[e]},{collection:this.collection}))}});e.exports=s.extend({ViewConstructor:b,openPrepopulatedForm:function(e){this.view.isRendered?this.view.openPrepopulatedForm(e):this.listenToOnce(this.view,"render",this.view.openPrepopulatedForm.bind(this.view,e))}})},,function(e,t,n){var a=n(16),i=n(9),r=n(13),o=(n(74),n(689),n(95));n(1397);var s=n(10),l=n(1398),c=n(45),u=n(24),d=r.LayoutView.extend({className:"maintenance-window-details animated fadeIn",template:i.template(l),templateHelpers:function(){return{isNew:this.model.isNew()}},behaviors:{FormBehavior:{behaviorClass:o}},bindings:{'[name="name"]':{observe:"name",setOptions:{validate:!0}},'[name="notes"]':{observe:"notes"},'[name="startTime"]':{observe:"startTime",onSet:function(e){var t=new Date(e+" "+this.$('[name="startTimeOnly"]').val());return this.model.set("trackStartTime",t),e?t:null},onGet:function(e){var t=e?s(e).format("hh:mm A"):"";return this.model.set("startTimeOnly",t),this.model.set("trackStartTime",e),e?s(e).format("MM/DD/YYYY"):""},setOptions:{validate:!0}},'[name="startTimeOnly"]':{observe:"startTimeOnly",onSet:function(e){var t=this.$('[name="startTime"]').val(),n=new Date(t+" "+e);return this.model.set("trackStartTime",n),e},setOptions:{validate:!0}},'[name="endTime"]':{observe:"endTime",onSet:function(e){var t=new Date(e+" "+this.$('[name="endTimeOnly"]').val());return this.model.set("trackEndTime",t),e?t:null},onGet:function(e){var t=e?s(e).format("hh:mm A"):"";return this.model.set("endTimeOnly",t),this.model.set("trackEndTime",e),e?s(e).format("MM/DD/YYYY"):""},setOptions:{validate:!0}},'[name="endTimeOnly"]':{observe:"endTimeOnly",onSet:function(e){var t=this.$('[name="endTime"]').val(),n=new Date(t+" "+e);return this.model.set("trackEndTime",n),e},setOptions:{validate:!0}}},ui:{submitButton:'button[name="submit"]',unselectedArrays:'select[name="arrays-unselected"]',selectedArrays:'select[name="arrays"]',selectArray:'button[name="array-select"]',unselectArray:'button[name="array-unselect"]'},events:{"click @ui.selectArray":"selectArray","click @ui.unselectArray":"unselectArray"},triggers:{'click button[name="submit"]':"submit",'click button[name="cancel"]':"cancel"},initialize:function(e){this.listenTo(this.model,"validated",this.onValidated)},onRender:function(){var e=this,t=this.arrays;t.each(function(t){var n=t.get("hostname")?t.get("hostname"):"";e.ui.unselectedArrays.append(a("<option>").text(n+" ("+t.get("serialNumber")+")").val(t.get("serialNumber")))}),this.model.get("arrays").forEach(function(n){var i=t.findWhere({serialNumber:n}).get("hostname")||"";e.ui.selectedArrays.append(a("<option>").text(i+" ("+n+")").val(n))}),this.model.isNew()&&this.onValidated(!1)},selectArray:function(e){e.preventDefault(),this.ui.selectedArrays.append(this.ui.unselectedArrays.find("option:selected")),this.refreshArraysInModel()},unselectArray:function(e){e.preventDefault(),this.ui.unselectedArrays.append(this.ui.selectedArrays.find("option:selected")),this.refreshArraysInModel()},refreshArraysInModel:function(){this.model.set("arrays",this.ui.selectedArrays.find("option").map(function(){return this.value}).get(),{validate:!0})},onValidated:function(e){this.ui.submitButton.prop("disabled",!e),this.trigger("validated",e)}});e.exports=c.extend({ViewConstructor:d,load:function(){var e=a.Deferred(),t=this.view;return u.request("global","get:assets:async").then(function(n){t.arrays=n,e.resolve(t)}).catch(function(){return e.reject.apply(e,arguments)}),e}})},,function(e,t){e.exports='<div class="toolbar clearfix">\n    <div class="pull-right">\n        <button class="button" name="submit"><%= isNew ? \'Create\': \'Save\' %></button>\n        <button class="button cancel" name="cancel">Cancel</button>\n    </div>\n</div>\n\n<form class="form-horizontal">\n    <div class="form-group row expanded">\n        <label class="control-label column small-2">Name</label>\n        <div class="column small-14">\n            <div class="row expanded">\n                <div class="column small-24 input-group">\n                    <input class="form-control" type="text" name="name"/>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="form-group row expanded">\n        <label class="control-label column small-2">From</label>\n        <div class="column small-20">\n            <div class="row expanded">\n                <div class="column small-8">\n                    <div class="input-group date" data-provide="datepicker">\n                        <input class="form-control" type="text" name="startTime"></input>\n                        <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>\n                    </div>\n                </div>\n                <div class="column small-8">\n                    <div class="input-group">\n                        <input class="form-control" type="text" placeholder="e.g. 12:30 AM" name="startTimeOnly"></input>\n                        <span class="input-group-addon"><i class="glyphicon glyphicon-time"></i></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="form-group row expanded">\n        <label class="control-label column small-2">To</label>\n        <div class="column small-20">\n            <div class="row expanded">\n                <div class="column small-8">\n                    <div class="input-group date" data-provide="datepicker">\n                        <input class="form-control" type="text" name="endTime"></input>\n                        <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>\n                    </div>\n                </div>\n                <div class="column small-8">\n                    <div class="input-group">\n                        <input class="form-control" type="text" placeholder="e.g. 12:30 AM" name="endTimeOnly"></input>\n                        <span class="input-group-addon"><i class="glyphicon glyphicon-time"></i></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="form-group row expanded">\n        <label class="control-label column small-2" for="notes">Notes</label>\n        <div class="column small-20">\n            <div class="row expanded">\n                <div class="column small-24 input-group">\n                    <textarea class="form-control" rows="3" name="notes"></textarea>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="form-group row expanded" data-field="arrays">\n        <label class="control-label column small-2" for="notes">Arrays</label>\n        <div class="column small-20">\n            <div class="row expanded">\n                <div class="column small-10">\n                    <select class="form-control" name="arrays-unselected" size="10" multiple>\n                    </select>\n                </div>\n\n                <div class="column small-4 flex-container flex-dir-column align-center button-container">\n                    <button class="button secondary" name="array-select">\n                        Add <i class="fa fa-angle-double-right fa-lg"></i>\n                    </button>\n                    <button class="button secondary" name="array-unselect">\n                        <i class="fa fa-angle-double-left fa-lg"></i> Remove\n                    </button>\n                </div>\n\n                <div class="column small-10">\n                    <select class="form-control" size="10" name="arrays" multiple>\n                    </select>\n                </div>\n            </div>\n        </div>\n    </div>\n\n</form>\n'},function(e,t,n){var a=n(16),i=n(9),r=n(13),o=n(1400),s=n(10),l=n(45),c=n(24),u=r.ItemView.extend({template:i.template(o),templateHelpers:function(){var e=this.arrays;return{moment:s,hostnameFor:function(t){return e.findWhere({serialNumber:t}).get("hostname")||""}}},className:"maintenance-window-details animated fadeIn",triggers:{'click button[name="edit"]':"edit",'click button[name="delete"]':"delete"},modelEvents:{change:"render"}});e.exports=l.extend({ViewConstructor:u,load:function(){var e=a.Deferred(),t=this.view;return c.request("global","get:assets:async").then(function(n){t.arrays=n,e.resolve(t)}).catch(function(){return e.reject.apply(e,arguments)}),e}})},function(e,t){e.exports='<div class="flex-container align-justify">\n    <h3 class=""><%= name %></h3>\n    <div class="">\n        <button class="button" name="edit">\n            <i class="fa fa-pencil-square-o"></i> Edit\n        </button>\n        <button class="button" name="delete">\n            <i class="fa fa-trash"></i> Delete\n        </button>\n    </div>\n</div>\n\n<form class="form-horizontal">\n    <div class="form-group">\n        <label class="control-label">Duration</label>\n        <div class="">\n            <%= moment(startTime).format(\'L LT\') %> - <%= moment(endTime).format(\'L LT\') %>\n        </div>\n    </div>\n    <div class="form-group">\n        <label class="control-label">Notes</label>\n        <div class="">\n            <%= notes %>\n        </div>\n    </div>\n    <div class="form-group">\n        <label class="control-label">Arrays</label>\n        <div class="">\n            <ul class="list-unstyled">\n                <% arrays.map(function(arraySn) { %>\n                    <li><%= hostnameFor(arraySn) + \' (\' + arraySn + \')\' %></li>\n                <% }) %>\n            </ul>\n        </div>\n    </div>\n</form>\n'},function(e,t,n){var a=n(9),i=n(13),r=(n(74),n(95),n(354),n(697),n(1402)),o=n(1403),s=n(10),l=i.ItemView.extend({template:a.template(o),tagName:"a",attributes:function(){return{href:"#","data-model-id":this.model.id}},templateHelpers:{moment:s},className:"list-group-item",triggers:{click:"selected"},modelEvents:{sync:"render"}});e.exports=i.CompositeView.extend({template:a.template(r),childView:l,childViewContainer:".list-group",childEvents:{selected:"onItemSelected"},emptyView:i.ItemView.extend({template:a.constant('<li class="list-group-item"> There are no maintenance windows scheduled</li>')}),onItemSelected:function(e){this.selectOne(e.model)},selectOne:function(e){this.unselectAll(),this.$('.list-group-item[data-model-id="'+e.id+'"]').addClass("active")},unselectAll:function(){this.$(".list-group-item.active").removeClass("active")}})},function(e,t){e.exports='<button class="button expanded" datat-toggle="tooltip" title="New Maintenance Window" name="new">\n    <i class="fa fa-plus-circle"></i> New\n</button>\n<div class="list-group"></div>\n'},function(e,t){e.exports='<h4 class="list-group-item-heading"><%= name %></h4>\n<ul class="list-unstyled">\n    <li><small class="list-group-item-text"><strong>Start</strong> <%= moment(startTime).format("L LT z") %></small></li>\n    <li><small class="list-group-item-text"><strong>End</strong> <%= moment(endTime).format("L LT z") %></small></li>\n</ul>'},function(e,t){e.exports='<div class="well">\n    <p>\n        <i class="fa fa-info-circle"></i>\n        Maintenance Windows allow for disabling automated support case generation during planned outages.\n    </p>\n    <p>\n        Please note that automated support case generation will be disabled <em>only for maintenance related</em> events encountered during the defined period on the Nimble group.\n        Support cases related to any unexpected array behavior will continue to be generated during this period, as will cases triggered through\n        longer term analytical recommendations unrelated to the maintenance window.\n    </p>\n</div>\n<div class="row expanded">\n    <div class="column medium-6" id="side-panel-region"></div>\n    <div class="column medium-18 panel panel-default">\n        <div class="panel-body" id="details-panel-region"></div>\n    </div>\n</div>\n'},function(e,t){e.exports="<h4>\n    <em>\n    <% if (maintenanceWindowCount > 0) { %>\n        Select a Maintenance Window to view details\n    <% } else { %>\n        Click the 'New' button to schedule a Maintenance Window\n    <% } %>\n    </em>\n</h4>"},function(e,t,n){var a=n(16),i=n(24),r=n(9),o=n(37).SERVER_BASE_URL,s=n(22).buildUrl,l=n(13),c=n(698),u=n(1408),d=n(1409),p=n(10),h=l.ItemView.extend({tagName:"li",class:"lab-app",template:r.template(u),attributes:function(){return{"data-app-id":this.model.id}},templateHelpers:function(){var e=this;return{moment:p,url:function(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return s.apply(void 0,[o,e.getOption("path")].concat(n))}}}});e.exports=l.CompositeView.extend({template:r.template(d),className:"labs-view",childView:h,childViewOptions:function(){return{path:this.getOption("path")}},childViewContainer:"ul.labs-apps",events:{"click a[data-category]":"filterLabApps"},selectedCategory:"all",filterLabApps:function(e){var t=this,n=a(e.currentTarget);t.selectedCategory=n.attr("data-category");var i=this.getOption("collection").filter(function(e,n,a){return"all"===t.selectedCategory||e.get("category")===t.selectedCategory});t.collection=new c(i),t.render(),t.$el.find("ul.labs-nav li a").removeClass("selected"),t.$el.find("ul.labs-nav li a[data-category="+this.selectedCategory+"]").addClass("selected")},initialize:function(){i.request("global","get:account:selection").isSingle()||setTimeout(function(){window.location=s(o,"/#assets")},50)}})},function(e,t,n){var a=n(11);e.exports=a.Model.extend({defaults:{id:null,name:null,category:null,description:null,creationTime:null}})},function(e,t){e.exports='<a href="<%= url(id) %>" class="box-wrapper history-aware">\n\n    <h3><%= name %></h3>\n\n    \x3c!--  <%= category %> --\x3e\n\n    \x3c!-- show the ratings for the reports? --\x3e\n    \x3c!-- div class="starset">TBD</div --\x3e\n\n    <p><%= description %></p>\n\n    \x3c!-- shows the number of views for the report --\x3e\n    \x3c!-- div class="lab-app-views">1,286</div --\x3e\n\n    \x3c!-- if the report is less than 45 days old, we can highlight it: --\x3e\n    <% if (moment().diff(moment(creationTime), \'days\') <= 45) { %>\n        <div class="label label-success">New!</div>\n    <% } %>\n</a>\n'},function(e,t){e.exports='<div>\n\n    <div class="labs-landing">\n\n        <div class="banner"><div class="label label-warning">Beta</div></div>\n\n        <h1>Experiment with the next generation of storage insights.</h1>\n\n        <ul class="labs-nav">\n            <li><a href="#labs" class="selected" data-category="all">All</a></li>\n            <li><a href="#labs" data-category="performance">Performance</a></li>\n            <li><a href="#labs" data-category="capacity">Capacity</a></li>\n            <li><a href="#labs" data-category="data-protection">Data Protection</a></li>\n        </ul>\n\n        \x3c!-- the lab apps will be populated into this list: --\x3e\n        <ul class="labs-apps"></ul>\n\n    </div>\n\n\n</div>\n'},function(e,t,n){function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=n(16),r=n(24),o=n(9),s=n(37),l=s.SERVER_BASE_URL,c=s.BASE_URL,u=n(22).buildUrl,d=n(13),p=n(1411),h=n(1412),m=n(1414);e.exports=d.ItemView.extend({className:"lab-app",template:o.template(p),templateHelpers:function(){var e=this.popReportIdFromUrl(),t=r.request("global","get:account:selection");if(t){var n=t.getAccount();if(n)return{id:e,account:n.toJSON(),pod:this.getOption("pod"),url:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.apply(void 0,[c].concat(a(t)))}}}return{id:e,account:{id:"invalid"},url:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.apply(void 0,[c].concat(a(t)))}}},ui:{feedbackData:".labsFeedback"},events:{"click .labsFeedback":"onClickLabsFeedback"},userManualAdded:!1,popReportIdFromUrl:function(){return this.getOption("appid")},onRender:function(){var e=this.$el,t=e.find(".shiny-container iframe");t.on("load error ready",function(){e.find(".shiny-container .lab-app-loading").hide(),t.show()}),t.hide(),this.setHeight()},setHeight:function(){var e=0,t=this.el.querySelector(".shiny-container");if(t){var n=i("#infosight-app-footer");n.length&&(e+=i(document).height()-n.get(0).getBoundingClientRect().top),e+=t.getBoundingClientRect().top,e+=10,t.style.height="calc(100vh - "+e+"px)"}},onDestroy:function(){i("ul.breadcrumb li").last().find("a.fa-info-circle").off("click")},onClickLabsFeedback:function(e){r.modalRegion.show(new h({model:this.model}))},collectionReady:function(){var e=this.popReportIdFromUrl(),t=this.collection.find({id:e});this.model=t,this.userManualAdded||(this.userManualAdded=!0,setTimeout(function(){var e=i("ul.breadcrumb li").last();e.find("a.fa-info-circle").remove(),e.append('<a href="#" class="fa fa-info-circle">&nbsp;</a>').on("click",function(e){return e.preventDefault(),r.modalRegion.show(new m({model:t})),!1})},100))},initialize:function(){r.request("global","get:account:selection").isSingle()?(this.userManualAdded=!1,this.model||(this.collection.length?this.collectionReady.call(this):this.collection.bind("change reset add remove",this.collectionReady,this))):setTimeout(function(){window.location=u(l,"/#assets")},50)}})},function(e,t){e.exports='<div class="flex-container align-justify align-middle">\n    <div class="breadcrumbs-region">\n        <ul class="breadcrumb">\n            <li><a href="/dashboards/nimble/labs" class="history-aware">InfoSight Labs</a></li>\n            <li class="active"><%= name %></li>\n        </ul>\n    </div>\n    <button class="feedbacking labsFeedback button">Give Feedback <i class="fa fa-comment" /></button>\n</div>\n<div class="embed-responsive shiny-container">\n\n    <% if(id) { %>\n\t   <iframe src="<%= url(\'labs/apps/customer\', id) %>/?account=<%= account.id %>&pod=<%= pod %>"></iframe>\n    <% } %>\n\n    <div class="lab-app-loading"></div>\n\n</div>\n'},function(e,t,n){var a=n(16),i=n(24),r=n(9),o=n(66).default,s=n(13),l=n(1413),c=n(22).buildUrl,u=n(37).API_BASE_URL;e.exports=s.ItemView.extend({className:"lab-app-feedback",template:r.template(l),templateHelpers:function(){return{userLogin:i.request("global","get:current:session").get("userLogin")}},ui:{uploadButton:'[data-action="uploadDocument"]',starduo:".starduo",feedbackText:"form.upload-labs-feedback textarea"},events:{"click @ui.uploadButton":"onClickUpload","mousedown @ui.starduo":"updateRatings","input @ui.feedbackText":"adjustUploadButton","change #contact-form input[type=radio]":"updateChoice"},initialize:function(){this.labAppModel=this.model},onClickUpload:function(e){var t=this.model.get("id"),n=this.$(".upload-labs-feedback")[0],i=new FormData(n);this.$el.find("form .rating").each(function(e,t){var n=a(t),r=n.attr("data-score-rel"),o=n.attr("data-score-current")||"0";i.append(r,o)}),a.ajax({url:c(u,"labs/apps",t,"feedback"),type:"POST",success:function(){o.success("Successfully submitted the feedback.")},error:function(){o.error("Error submitting the feedback.")},data:i,contentType:!1,processData:!1})},updateRatings:function(e){var t=a(e.target).closest(".starduo"),n=t.closest(".rating"),i=t.attr("data-score");n.attr("data-score-current",i),this.adjustUploadButton(e)},updateChoice:function(e){var t=a(e.target),n=t.closest(".rating"),i=t.val()>>>0;n.attr("data-score-current",i),this.adjustUploadButton(e)},adjustUploadButton:function(e){this.ui.uploadButton.prop("disabled",!1)}})},function(e,t){e.exports='<div class="modal-dialog">\n    <div class="modal-content">\n        <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal">\n                <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title">Feedback - <%=name%></h4>\n        </div>\n        <div class="modal-body">\n            <form id="contact-form" class="form-horizontal upload-labs-feedback">\n                <div class="form-group">\n\n                    <label class="control-label column small-16">Clarity of results</label>\n                    <div class="column small-16">\n                        <div class="row expanded">\n                            <div class="column small-24 rating" data-score-current="0" data-score-rel="interpretabilityOfResults">\n\n                                <div class="starduo" data-score="1"><i class="fa fa-star"></i><i class="fa fa-star-o"></i></div>\n                                <div class="starduo" data-score="2"><i class="fa fa-star"></i><i class="fa fa-star-o"></i></div>\n                                <div class="starduo" data-score="3"><i class="fa fa-star"></i><i class="fa fa-star-o"></i></div>\n                                <div class="starduo" data-score="4"><i class="fa fa-star"></i><i class="fa fa-star-o"></i></div>\n                                <div class="starduo" data-score="5"><i class="fa fa-star"></i><i class="fa fa-star-o"></i></div>\n\n                            </div>\n                        </div>\n                    </div>\n\n\n                </div>\n                <div class="form-group">\n                    <label class="control-label column small-16">Ease of use</label>\n                    <div class="column small-16">\n                        <div class="row expanded">\n\n                            <div class="column small-24 rating" data-score-current="0" data-score-rel="easeOfUse">\n\n                                <div class="starduo" data-score="1"><i class="fa fa-star"></i><i class="fa fa-star-o"></i></div>\n                                <div class="starduo" data-score="2"><i class="fa fa-star"></i><i class="fa fa-star-o"></i></div>\n                                <div class="starduo" data-score="3"><i class="fa fa-star"></i><i class="fa fa-star-o"></i></div>\n                                <div class="starduo" data-score="4"><i class="fa fa-star"></i><i class="fa fa-star-o"></i></div>\n                                <div class="starduo" data-score="5"><i class="fa fa-star"></i><i class="fa fa-star-o"></i></div>\n\n                            </div>\n\n                        </div>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="control-label column small-16">Usefulness of results</label>\n                    <div class="column small-16">\n                        <div class="row expanded">\n                            <div class="column small-24 rating" data-score-current="0" data-score-rel="usefulness">\n\n                                <div class="starduo" data-score="1"><i class="fa fa-star"></i><i class="fa fa-star-o"></i></div>\n                                <div class="starduo" data-score="2"><i class="fa fa-star"></i><i class="fa fa-star-o"></i></div>\n                                <div class="starduo" data-score="3"><i class="fa fa-star"></i><i class="fa fa-star-o"></i></div>\n                                <div class="starduo" data-score="4"><i class="fa fa-star"></i><i class="fa fa-star-o"></i></div>\n                                <div class="starduo" data-score="5"><i class="fa fa-star"></i><i class="fa fa-star-o"></i></div>\n\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="control-label column small-16">How often would you use this application?</label>\n                    <div class="column small-16">\n                        <div class="row expanded">\n                            <div class="column small-24 frequency">\n                                <label><input type="radio" name="frequencyOfUse" value="1"> daily</label>\n                                <label><input type="radio" name="frequencyOfUse" value="2"> weekly</label>\n                                <label><input type="radio" name="frequencyOfUse" value="3"> monthly</label>\n                                <label><input type="radio" name="frequencyOfUse" value="4"> longer</label>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="control-label column small-16">How can we make this report better?</label>\n                    <div class="column small-16">\n                        <div class="row expanded">\n                            <div class="column small-20">\n                                <textarea class="form-control" name="comments" rows="4"></textarea>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="form-group">\n                   <label class="control-label column small-16" style="vertical-align: top">Screenshot</label>\n                    <div class="column small-16">\n                        <div class="row expanded">\n                            <div class="column">\n                                <input class="btn-file" type="file" name="file" id="file"/>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <button data-dismiss="modal" class="button secondary center-block" type="button" disabled data-action="uploadDocument"><i class="fa fa-upload"></i> Submit <span class="uploadSpinner" style="display:none"><i class="fa fa-spinner fa-lg"></i></span></button>\n                </div>\n                <input type="text" style="visibility: hidden;" name="appName" value="<%= name %>"/>\n                <input type="text" style="visibility: hidden;" name="userLogin" value="<%= userLogin %>"/>\n            </form>\n        </div>\n    </div>\n</div>\n'},function(e,t,n){var a=n(9),i=n(13),r={replication_planning:n(1415),replication_timeline:n(1416),volume_capacity_subset:n(1417),volume_performance_subset:n(1418),volume_capacity_birdseye:n(1419),perf_regularity_heatmap:n(1420),volume_performance_birdseye:n(1421),performance_recommendations_storage:n(1422),ncv_sizing:n(1423),capacity_forecast:n(1424),controller_planning:n(1425),cross_stack_recommendation:n(1426)};e.exports=i.ItemView.extend({className:"lab-app-user-guide",ui:{},events:{},initialize:function(){var e=this.model.get("id");this.template=a.template(r[e])}})},function(e,t){e.exports='<div class="modal-dialog">\n    <div class="modal-content lab-app-user-guide">\n        <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal">\n                <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title">Labs User Guide</h4>\n        </div>\n        <div class="modal-body">\n\n            <h3>Replication Planning Tool</h3>\n\n            <p>Purpose: Estimate the bandwidth needed to replicate data.  This tool provides more flexibility than the current replication planning tool by leveraging data from the entire installed base to allow exploration of replication &ldquo;what-if&rdquo; scenarios, so inputs can that differ from current snapshot schedules. </p>\n\n            <p>Inputs:</p>\n            <ul>\n                <li>Select a Pool: Allows the user to select a specific pool. After selecting a specific pool, a subset of volumes within that pool can be selected for analysis.</li>\n\n                <li>Aggregate By: This menu together with the subsequent field defines the set of volumes to be analyzed. A list of volumes can be hand-picked by selecting the &ldquo;Volumes&rdquo; option, or larger groups of volumes can be selected at once selecting &ldquo;Applications&rdquo;, &ldquo;Performance Policies&rdquo;, &ldquo;Volume Collections&rdquo;, or &ldquo;Folders&rdquo; (if configured).</li>\n\n                <li>Select {Applications/Performance Policies/Volume Collections/Folders/Volumes}: The name of this field changes based on the choice made in the &ldquo;Aggregate By&rdquo; field. It allows for the selection filed of multiple such objects by name. The set of volumes to be analyzed is determined by the contents of this list.</li>\n\n                <li>Select Minimum Replication Interval: Input the smallest time interval (value and unit) at which you want to replicate.</li>\n\n                <li>Select Recovery Point Objective: Input the amount of time (value and unit) before replication is complete on the downstream array (must be smaller than the replication interval)</li>\n            </ul>\n\n            <p>Output: A categorical scatter plot showing you the best estimate of bandwidth needed, as well as a range bar showing the confidence of the bandwidth estimate.  Radio buttons allow you to toggle between a graph showing the total estimated bandwidth needed for all selected aggregates and a view that breaks down bandwidth needed by aggregate (note: if you have selected only one aggregate, both plots will be the same).</p>\n\n        </div>\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="modal-dialog">\n    <div class="modal-content lab-app-user-guide">\n        <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal">\n                <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title">Labs User Guide</h4>\n        </div>\n        <div class="modal-body">\n\n            <h3>Replication Timeline</h3>\n\n            <p>Purpose: Allow for flexible investigation of historical bandwidth usage.  Note: if none of the pools associated with this account are currently configured for replication, a message will appear stating as such. </p>\n\n            <p>Inputs:</p>\n            <ul>\n                <li>Date Range: Allows the user to configure the range of dates for which the information is desired. </li>\n                <li>Upstream Pool: Select one of the pools from your account that is configured to transmit data using Nimble replication.</li>\n                <li>Downstream Pool: Choose one of the downstream pools that is configured to receive data from the selected upstream pool. </li>\n                <li>Aggregate Usage By: Select the method in which to aggregate volumes.  To see each individually, select the &ldquo;Volumes&rdquo; option, or select larger groups of volumes by choosing </li>&ldquo;Applications&rdquo;, &ldquo;Performance Policies&rdquo;, &ldquo;Volume Collections&rdquo;, or &ldquo;Folders&rdquo; (if enabled).\n                <li>Time Granularity: This field allows the user to determine whether data is displayed with one data point per minute, per hour, per day or per week.  Note that available options will change based on the inputs to the Date Range field.</li>\n\n            </ul>\n\n            <p>Output: A stacked area chart showing historical bandwidth usage by aggregation.  Individual consumers of bandwidth can be hidden by clicking on their legend name..</p>\n\n        </div>\n    </div>\n</div>\n\n\n\n\n\n\n\n\n\n'},function(e,t){e.exports='<div class="modal-dialog">\n    <div class="modal-content lab-app-user-guide">\n        <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal">\n                <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title">Labs User Guide</h4>\n        </div>\n        <div class="modal-body">\n\n            <h3>Capacity Forecast Explorer</h3>\n\n            <p>Purpose: Allow for flexibility in capacity usage forecasting. Forecasting can be performed for any set of selected volumes, can be broken out by Snapshot vs. Volume consumption, and the basis of the forecast (i.e. how far back in time the forecasting algorithm looks when determining the forecast trajectory) can be changed to exclude known events that are not expected to recur. </p>\n\n            <p>Inputs:</p>\n            <ul>\n                <li>Date Range: Allows the user to configure the range of dates for which the information is desired. </li>\n                <li>Basis for Forecast: The user can configure how far back in time the forecasting algorithm looks when determining the forecast trajectory and uncertainty.</li>\n                <li>Group: Allows the user to select a specific group. </li>\n                <li>Pool: Allows the user to select a specific pool. </li>\n                <li> Aggregate By: This menu together with the subsequent field defines the set of volumes to be analyzed. A list of volumes can be hand-picked by selecting the &ldquo;Volumes&rdquo; option, or larger groups of volumes can be selected at once selecting &ldquo;Applications&rdquo;, &ldquo;Performance Policies&rdquo;, &ldquo;Volume Collections&rdquo;, or &ldquo;Folders&rdquo; (if configured).</li>\n                <li>Select {Applications/Performance Policies/Volume Collections/Folders/Volumes}: The name of this field changes based on the choice made in the &ldquo;Aggregate By&rdquo; field. It allows for the selection filed of multiple such objects by name. The set of volumes to be analyzed is determined by the contents of this list.</li>\n                <li>Metrics: This allows the user to select one or more charts to be rendered at once. </li>\n            </ul>\n\n            <p>Outputs: For each item selected in the &ldquo;Metrics&rdquo; section, a plot is generated showing both the aggregate historical timeline for that selected metric and the forecasted values. The band around the forecast represents the 68% confidence interval (i.e. future capacity is expected to fall within that range with 68% probability).</p>\n\n            <p>Notes: On deduplication-enabled arrays, some aggregations relating to physical usage will not be available; this is because physical usage is shared across multiple volumes.\n            </p>\n\n        </div>\n    </div>\n</div>'},function(e,t){e.exports='<div class="modal-dialog">\n    <div class="modal-content lab-app-user-guide">\n        <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal">\n                <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title">Labs User Guide</h4>\n        </div>\n        <div class="modal-body">\n\n            <h3>Volume Performance</h3>\n\n            <p>Purpose: Allow for flexible investigation of performance metrics for any selected subset of volumes. </p>\n\n            <p>Inputs:</p>\n            <ul>\n                <li>Date Range: Allows the user to configure the range of dates for which the information is desired.</li> \n                <li>Group: Allows the user to select a specific group. </li>\n                <li>Pool: Allows the user to select a specific pool. After selecting a specific group and pool, a subset of volumes within that pool can be selected for analysis.</li>\n                <li>Aggregate By: This menu together with the subsequent field defines the set of volumes to be analyzed. A list of volumes can be hand-picked by selecting the &ldquo;Volumes&rdquo; option, or larger groups of volumes can be selected at once selecting &ldquo;Applications&rdquo;, &ldquo;Performance Policies&rdquo;, &ldquo;Volume Collections&rdquo;, or &ldquo;Folders&rdquo; (if configured).</li>\n                <li>Select {Applications/Performance Policies/Volume Collections/Folders/Volumes}: The name of this field changes based on the choice made in the &ldquo;Aggregate By&rdquo; field. It allows for the selection filed of multiple such objects by name. The set of volumes to be analyzed is determined by the contents of this list.</li>\n                <li>Metrics: this field allows the user to select one or more charts to be rendered at once (e.g. IOPS, Latency, and Cache Hit Rate). </li>\n                <li>Select Time Granularity: This field allows the user to determine whether data is displayed with one data point per minute, per hour, per day or per week.  Note that available options will change based on the inputs to the Date Range field.</li>\n            </ul>\n\n            <p>Outputs: Several plots will be rendered that all share the same X-axis time scale. Individual metrics can be added, removed and reordered by rearranging them in the &ldquo;Metrics&rdquo; field. The individual metrics available are as follows:</p>\n            \n            <ul>\n                <li>IOPS: Shows read and write average operations per second.</li>\n                <li>IOPS (detailed): Same as &ldquo;IOPS&rdquo; except sequential and random operations are shown separately.</li>\n                <li>MBPS: Shows read and write average mebibytes per second.</li>\n                <li>MBPS (detailed): Same as &ldquo;MBPS&rdquo; except sequential and random operations are shown separately.</li>\n                <li>Latency: Shows read and write average latency in milliseconds.</li>\n                <li>Cache Hit: Shows both average SSD cache hit rates and average memory hit rates as percentage values.</li>\n                <li>Operation Size Heatmap: Operation size is on the Y-axis and time is on the X-axis. The darker the region the larger the proportion of the total operations fell into that size range at that time. For each range of IO sizes, the square bracket denotes a closed interval endpoint and the curved parenthesis denotes an open interval endpoint (e.g. [4k-8k) is inclusive of 4k operations but does not include 8k operations). The symbol k indicates kibibytes.</li>\n            </ul>\n            \n        </div>\n    </div>\n</div>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n'},function(e,t){e.exports='<div class="modal-dialog">\n    <div class="modal-content lab-app-user-guide">\n        <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal">\n                <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title">Labs User Guide</h4>\n        </div>\n        <div class="modal-body">\n\n            <h3>Capacity Consumers Timeline</h3>\n\n            <p>Purpose: Allow for flexible investigation of capacity usage and the primary of sources capacity growth. </p>\n\n            <p>Inputs:</p>\n            <ul>\n                <li>Date Range: Allows the user to configure the range of dates for which the information is desired. </li>\n                <li>Pool: After selecting a specific pool, the contents of that pool can be examined and the major consumers of capacity can be identified relative to the total space available in the system.</li>\n                <li>Aggregate Usage By: Select the method in which to aggregate volumes.  To see each individually, select the &ldquo;Volumes&rdquo; option, or select larger groups of volumes by choosing &ldquo;Applications&rdquo;, &ldquo;Performance Policies&rdquo;, &ldquo;Volume Collections&rdquo;, or &ldquo;Folders&rdquo; (if enabled).</li>\n                <li>Show Usage For: This field allows the user to select whether Volume and Snapshot data will be shown separately as distinct capacity consumers, whether they will be treated as one consumer, or whether only one will be shown and the other hidden.</li>\n                <li>Max Objects Shown (Top N): This field allows the user to limit the number of objects (a.k.a. capacity consumers, e.g. a Volume or a Performance Policy) that will be drawn on the chart at once. This improves readability and render-time. For example: when the input value is 5, the 5 largest consumers of capacity as will be shown and the rest will be aggregated into a 6th &ldquo;[Other]&rdquo; category.</li>\n            </ul>\n\n            <p>Outputs: One stacked-area chart is rendered with all of the consumers of capacity shown relative to the available capacity of the pool. Individual consumers of capacity can be hidden by clicking on their legend name. The &ldquo;Capacity Available&rdquo; for the pool can be hidden in the same way – allowing the plot to rescale if the total amount of data consumed is much less than the total capacity available.</p>\n\n            <p>Notes: On deduplication-enabled arrays, some aggregations relating to physical usage will not be available; this is because physical usage is shared across multiple volumes.\n            </p>\n\n        </div>\n    </div>\n</div>\n\n\n\n\n\n\n\n\n'},function(e,t){e.exports='<div class="modal-dialog">\n    <div class="modal-content lab-app-user-guide">\n        <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal">\n                <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title">Labs User Guide</h4>\n        </div>\n        <div class="modal-body">\n\n            <h3>Recurring Performance Patterns</h3>\n\n            <p>Purpose: Allow for flexible investigation of recurring patterns in workload and performance metrics on a daily, weekly, or monthly basis for any selected subset of volumes.</p>\n\n            <p>Inputs:</p>\n            <ul>\n                <li>Select a Pool: Allows the user to select a specific pool. After selecting a specific group and pool, a subset of volumes within that pool can be selected for analysis.</li>\n\n                <li>Filter By: This menu together with the subsequent field defines the set of volumes to be analyzed. A list of volumes can be hand-picked by selecting the &ldquo;Volumes&rdquo; option, or larger groups of volumes can be selected at once selecting &ldquo;Applications&rdquo;, &ldquo;Performance Policies&rdquo;, &ldquo;Volume Collections&rdquo;, or &ldquo;Folders&rdquo; (if configured).</li>\n\n                <li>Select {Applications/Performance Policies/Volume Collections/Folders/Volumes}: The name of this field changes based on the choice made in the &ldquo;Filter By&rdquo; field. It allows for the selection filed of multiple such objects by name. The set of volumes to be analyzed is determined by the contents of this list.</li>\n\n                <li>Select Performance Metric: this field allows the user to select one or more charts to be rendered at once (e.g. IOPS, Latency, and Cache Hit Rate).</li>\n\n                <li>Time Granularity: This field allows the user to look at repetitive patterns on a daily, weekly, or monthly basis.  The daily heat map shows up to 28 days of data at a 5 minute cadence, the weekly heat map shows up to 24 weeks of data at a 1 hour cadence, and the monthly heat map shows up to a years worth of data at a 6 hour cadence.</li>\n\n                <li>Select most recent date: Pick the most recent date to be associated with the look back intervals based on selected time granularity.  Note that this option is unavailable for the monthly selection, as all available data will be displayed.</li>\n            </ul>\n\n            <p>Outputs: A heat map showing repeating interval on the x-axis (e.g. time of day, day of week, day of month) and individual days/weeks/months on the y-axis.  Colors on the heat map correspond to metric values retrieved – blue for low values and red for high (note that there is an additional checkbox field to convert the heat map to gray scale for colorblind users).  Based on the performance metric selected from the inputs, you will have a choice of various metrics to display on the heat map:</p>\n\n            <ul>\n                <li>IOPS: Shows average operations per second.  Option to toggle between read, write, and total IOPS.</li>\n\n                <li>Throughput: Shows average mebibytes per second. Option to toggle between read, write, and total MBPS.</li>\n\n                <li>Latency: Shows average latency in milliseconds. Option to toggle between read, write, and total latency.</li>\n\n                <li>Cache Hit: Shows average cache hit rates as percentage values.  Option to toggle between SSD and memory hit rates.</li>\n\n                <li>IOPS (detailed): Same as &ldquo;IOPS&rdquo; except sequential and random operations are shown separately.</li>\n\n                <li>Throughput (detailed): Same as &ldquo;Throughput&rdquo; except sequential and random operations are shown separately.</li>\n            </ul>\n\n        </div>\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="modal-dialog">\n    <div class="modal-content lab-app-user-guide">\n        <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal">\n                <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title">Labs User Guide</h4>\n        </div>\n        <div class="modal-body">\n\n            <h3>Inter-Volume Performance &amp; Contention</h3>\n\n            <p>Purpose: To enable users to find out which volumes are consuming resources and/or experiencing high latency at specific times. This is particularly helpful for identifying &ldquo;Noisy Neighbor&rdquo; volumes and candidates for QoS IOPS or MBPS throttling.</p>\n\n            <p>Inputs:</p>\n            <ul>\n\n                <li>Date Range: Allows the user to configure the range of dates for which the information is desired.</li>\n\n                <li>Pool: Allows the user to select a specific pool. After selecting a specific group and pool, a subset of volumes within that pool can be selected for analysis.</li>\n\n                <li>Display Activity by: These three drop-down menus determine the metric used to display volume activity (e.g. IOPS or MBPS) as well as the subset of the activity shown (e.g. Reads Only vs. Writes Only vs. Both &amp; Sequential IO vs. Random IO vs. Both). These selections can be combined to enable the user to display, for example: Total Sequential MBPS or, Random Read IOPS.</li>\n\n                <li>Display Latency by: This menu determines the metric used to display volume latency. Latency can be shown as a raw average or using the &ldquo;Potential Impact Score&rdquo; (see details below). As with activity (above), latency can be filtered by the subset of the activity (e.g. Reads Only vs. Writes Only vs. Both).</li>\n\n                <li>Aggregate by: These two drop-down menus allow users to group sets of volumes together under common labels to ease visualization, particularly in environments with many volumes. Volumes can be aggregated by any one of a number of volume properties including the Application Category, Performance Policy, Volume Collection or Folder. Alternatively volumes can be viewed individually by selecting &ldquo;Volumes&rdquo;.</li>\n\n                <li>Max. Distinct Objects Shown: To ensure readability, if an environment contains more than a set number of distinct volumes (or sets of volumes) then the top N (default 10) will be displayed individually while the others will be aggregated together into a single &ldquo;[Other]&rdquo; category. This default number of objects can be overridden here.</li>\n\n                <li>Distinct Objects Rank Highest for: The top N volumes (or set of volumes) is determined by sorting the volumes (or sets of volumes) either by their selected Activity metric or their selected Latency metric.</li>\n\n            </ul>\n\n            <p>Outputs: Two heatmap plots will be rendered that share the same X-axis time scale; the top plot shows the selected activity metric of each volume (or set of volumes) over time while the bottom plot shows the selected latency metric. This comparison is useful – because it enables the user to identify when latency events are either global (i.e. spanning all volumes) or localized to specific volumes. When latency events do span volumes and there is a corresponding activity spike in one or more volumes at the same time: that is good evidence of a Noisy neighbor scenario. The volume(s) with transient high activity are likely contending for resources with the other volumes that are active during that time. The Y-axis of each plot is broken down by the selected object names (e.g. volume names) but if the count of those object exceeds the configured threshold (see above) then the performance statistics for the remaining objects are aggregated into one time series (labeled \'other\').</p>\n\n            <ul>\n                <li>Potential Impact Score: Using InfoSight intelligence, this score identified those periods where the impact of latency on application behavior is expected to be strongest. Larger-block operations, for example, tend to be more latent; at the same time the workloads driving them tend to be less latency sensitive. InfoSight’s Potential Impact Score corrects for this bias and highlights those latency events expected to cause the most impact to end users when accessing applications. We have shown by analyzing customer support cases that this score is significantly more accurate at determining periods of customer performance concern than a simple latency average.</li>\n            </ul>\n\n       </div>\n   </div>\n</div>\n'},function(e,t){e.exports='<div class="modal-dialog modal-lg">\n    <div class="modal-content lab-app-user-guide">\n        <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal">\n                <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title">Labs User Guide</h4>\n        </div>\n        <div class="modal-body">\n\n            <h3>AI Storage Performance Recommendations</h3>\n\n            <p>Purpose: To provide actionable recommendations to improve storage performance. These recommendations are generated by InfoSight’s\n            AI Recommendation System which leverages Machine Learning to identify and diagnose a wide variety of performance issues.</p>\n\n            <p>Inputs:</p>\n            <ul>\n                <li>Pool: Allows the user to select a specific pool for which performance recommendations will be generated.</li>\n                <li>Date Range: Allows the user to configure the range of dates for which performance telemetry will be analyzed. Additional time\n                filtering can be performed using the “Scheduled Time Filter” and the “Targeted Time Filter” to generate actionable recommendations\n                based on even more specific time periods. This first data range field sets the scope for the performance information that will be\n                displayed in the performance timeline charts.</li>\n                <li>Get Recommendations: Once the desired pool and date range has been selected, press this button to generate recommendations for\n                improving performance on the selected system.</li>\n                <li>Scheduled Time Filter: This panel enables the recommendation system to ignore specific days of the week or times of day when\n                identifying problems and proposing interventions. This is useful when the user wants to selectively prioritize certain times of day as\n                being "high priority" while ignoring off-hour jobs where performance is less of a concern. To use this feature: first uncheck the days\n                of the week to be ignored and second move the time slider so that only the hours of the day when latency-sensitive jobs are running\n                are highlighted; lastly, press the “Apply Filter” button to rerun the performance analysis and generate new recommendations.</li>\n                <li>Targeted Time Filter: This panel enables the recommendation system to filter its attention to only one specific time period when\n                proposing recommendations. This is useful, for example, when the user wants to investigate a performance anomaly that occurred at a\n                particular time. To use this feature: first use the cursor to click and drag over one of the performance timelines to zoom in on a\n                particular interval of time. The visible range can be zoomed in multiple times and double clicking will return the user to the fully\n                zoomed-out view. Once the view is zoomed in to the particular time range of interest, click the “Filter to Current Zoom” button to\n                rerun the performance recommendations for the selected time period. The chart will zoom out automatically at this point to provide\n                context – but the specific region of interest will remain highlighted on the timeline, and new recommendations will be generated based\n                only on the telemetry highlighted in the selected region.</li>\n                <li>Latency Sensitivity: This panel enables the sensitivity of the recommendation system to be tuned, either to allow recommendations\n                to be shown earlier (for particularly latency sensitive workloads) or to suppress recommendations (for particularly latency\n                insensitive workloads). Ultimately this sensitivity feature will be used to determine when recommendations will be surfaced elsewhere\n                in the portal and via InfoSight’s alerting system.</li>\n            </ul>\n\n            <p>Outputs:</p>\n            <p>On the left, three timelines are provided highlighting in red the periods of time where different classes of IO are experiencing\n            high latency. This coloration is determined based on InfoSight’s Potential Impact Score (see below). On this timeline – the\n            specific time periods for which recommendations are generated are highlighted. Note that, by default, the entire timeline\n            is highlighted (See the “Scheduled Time Filter” and the “Targeted Time Filter” above).</p>\n\n            <p>On the right, the results of the performance analysis are provided.</p>\n            First, the overall system status is described which indicates the time interval(s) examine and which workloads (if any)\n            were experiencing elevated latencies. Only when latency problems are detected will the following additional panels appear.\n            <ul>\n                <li>Second, a set of tabs – one for each separate diagnosis – are shown; these issues are prioritized in order of the severity\n                of the latency they are causing and the tab for the highest priority issue is shown first. A description of the diagnosis\n                is provided at the top of the tab.</li>\n\n                <li>Third, InfoSight’s recommendations for how to remedy the described performance issue are\n                provided in the order in which they should be considered. It is possible that performing one of the several recommended interventions\n                may be sufficient to remedy the described issue – so not all recommendations need to be enacted at once, the effects of performing\n                one intervention can be observed before enacting additional interventions. InfoSight prioritizes its recommendations based\n                on the relative effort and cost required to perform the interventions – in most cases, array software updates are listed\n                first, configuration changes are proposed second, workload changes are proposed third and hardware upgrades are proposed\n                last.</li>\n\n                <li>Lastly, for many recommendations InfoSight provides volume level breakdown of resource consumption to help the user\n                decide whether the workloads consuming the most of or an oversubscribed resource actually merits their current levels of\n                consumption. In some circumstances the top consumer workloads will be lower priority, in which case QoS limits, workload\n                staggering and/or workload attenuation are all reasonable solutions. In other circumstances, the top consumer workloads will\n                be higher priority solutions, in which case a hardware upgrade may be the appropriate choice.</li>\n            </ul>\n\n            <p>Additional Details:</p>\n            <ul>\n                <li>Potential Impact Score: Using InfoSight intelligence, this score identified those periods where the impact of latency on\n                application behavior is expected to be strongest. Larger-block operations, for example, tend to be more latent; at the same\n                time the workloads driving them tend to be less latency sensitive. InfoSight’s Potential Impact Score corrects for this bias\n                and highlights those latency events expected to cause the most impact to end users when accessing applications. We have shown\n                by analyzing customer support cases that this score is significantly more accurate at determining periods of customer performance\n                concern than a simple latency average.</li>\n            </ul>\n\n        </div>\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="modal-dialog">\n    <div class="modal-content lab-app-user-guide">\n        <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal">\n                <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title">Labs User Guide</h4>\n        </div>\n        <div class="modal-body">\n\n            <h3>HPE Cloud Volumes Sizing Tool</h3>\n\n            <p>Purpose: Estimate the capacity needed and associated cost for replicating to HPE Cloud Volumes. </p>\n\n            <p>Inputs:</p>\n            <ul>\n                <li>Use the “Add Volume(s)” button to add a default volume and protection schedule to your table of inputs.</li>\n\n                <li>The “Edit” button brings up a window allowing you to configure the volumes and schedule as desired. Add as many rows to the table as you’d like.</li>\n\n                <li>Once satisfied with the set of volumes and schedules for replication, click “Calculate Required Replication Store Size” to estimate your capacity needs.</li>\n\n            </ul>\n\n            <p>Output: Results include an estimate of total capacity needed, a breakdown of capacity needs per configured schedule, and a description of associated costs.  </p>\n\n        </div>\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="modal-dialog">\n    <div class="modal-content lab-app-user-guide">\n        <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal">\n                <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title">Labs User Guide</h4>\n        </div>\n        <div class="modal-body">\n\n            <h3>Capacity Consumers Forecast</h3>\n\n            <p>Purpose: Breakdown capacity forecasting to see the biggest players. This app will show how different volumes, applications or other groups use capacity in a given pool along with corresponsding forecasts.</p>\n\n            <p>Inputs:</p>\n            <ul>\n                <li>Start Date: Allows the user to configure how far in the past historical data is displayed.</li>\n                <li>Basis for Forecast: Allows the user to configure what time slice of data the forecasting algorithm looks when determining the forecast trajectory and uncertainty.</li>\n                <li>Pool: Allows the user to select a specific pool.</li>\n                <li>Display: Allows the user to choose whether Logical, Allocated or Physical (when available) usage is used to plot historical data and forecasts.</li>\n                <li>Aggregate By: This menu defines the set of volumes to be analyzed. "Volumes" options examines all volumes individually. Groups of volumes can be selected at once selecting “Applications”, “Performance Policies”, “Volume Collections”, or “Folders” (if configured).</li>\n                <li>Show Usage For: This field allows the user to select whether Volume and Snapshot data will be shown separately as distinct capacity consumers, whether they will be treated as one consumer, or whether only one will be shown and the other hidden.</li>\n                <li>Max Objects Shown (Top N): This field allows the user to limit the number of objects (a.k.a. capacity consumers, e.g. a Volume or a Performance Policy) that will be drawn on the chart at once. This improves readability and render-time. For example: when the input value is 5, the 5 largest consumers of capacity as will be shown and the rest will be aggregated into a 6th “[Other]” category.</li>\n            </ul>\n\n            <p>Outputs: One stacked-area chart is rendered with all of the consumers of capacity shown relative to the available capacity of the pool. Individual consumers of capacity can be hidden by clicking on their legend name. The “Capacity Available” for the pool can be hidden in the same way – allowing the plot to rescale if the total amount of data consumed is much less than the total capacity available.</p>\n            <p>Notes: On deduplication-enabled arrays, some aggregations relating to physical usage will not be available; this is because physical usage is shared across multiple volumes.</p>\n        </div>\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="modal-dialog modal-lg">\n    <div class="modal-content lab-app-user-guide">\n        <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal">\n                <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title">Labs User Guide</h4>\n        </div>\n        <div class="modal-body">\n\n            <h3>What If Planning Tool</h3>\n\n            <p>Purpose: Plan for future growth by expanding existing workloads or creating new workloads. See their resource needs on your arrays. </p>\n\n            <p>Inputs:</p>\n\n            <p>Add New Workload: Use this button to create a hypothetical workload. Clicking it produces a table below the button with a short \n            summary a workload you can either modify or delete. Clicking modify brings up a popup menu. The corresponding inputs are:</p>\n            <ul>\n\n                <li>Name: Distinguishes this workload from others.</li>\n\n                <li>Application Category: Indicates the type of application this workload will contain, such as SQL Server, Oracle, etc.</li>\n\n                <li>Dataset Size (TB): Estimated capacity needs.</li>\n\n                <li>Max IOPS: Estimated maximum performance needs.</li>\n\n                <li>Workload Description: Specify whether the max IOPS should be achieved intermittently (“bursty”), or will need to be \n                sustained. Most workloads are described as “bursty”.</li>\n\n                <li>Deduplication Status: Indicates whether deduplication will be enabled. Changes to these inputs can be saved with the button \n                in the bottom right corner of the popup or discarded with the button in the top right corner.</li>\n\n            </ul>\n\n            <p>Add Existing Workload: Use this button to combine and modify workloads already running on your pools. Clicking it produces a table \n            below the button with a short summary a workload you can either modify or delete. Clicking modify brings up a popup menu. \n            The corresponding inputs are:</p>\n\n            <ul>\n\n                <li>Name: Distinguishes this workload from others.</li>\n\n                <li>Pools: Select pools from which workloads will be aggregated.</li>\n\n                <li>Aggregate By: Select a category of aggregation such as Applications, Performance Polices, Volumes, etc.</li>\n\n                <li>Volume Objects: Select values of the Aggregate By category to include in this workload, e.g. SQL Server and File Server for \n                Performance Policies category.</li>\n\n                <li>Start Date: Select the date you would like the workload analysis to begin. The start and end dates configure the time range \n                over which you would like to capture workload characteristics.</li>\n\n                <li>End Date: Select the date you would like the workload analysis to end. The start and end dates configure the time range \n                over which you would like to capture workload characteristics.</li>\n\n                <li>Workload Multiplier: Expected IOPS and throughput growth factor. E.g. multiplier of 1.2 means a 20% increase.</li>\n\n                <li>Capacity Multiplier: Expected capacity growth factor. E.g. multiplier of 1.2 means a 20% increase in capacity.</li>\n\n                <li>Deduplication Status: Indicates whether deduplication will be enabled.</li>\n            \n            </ul>\n\n            <p>Changes to these inputs can be saved with the button in the bottom right corner of the popup or discarded with the button in the \n            top right corner.</p>\n\n            <p>Clear All Existing Workloads: Once an existing workload has been added, all added existing workloads can be dismissed with this button.</p>\n\n            <p>Select Destination Array: Once any workload has been added, select an array to see whether the created workloads will fit on it. \n            Please note that the workloads currently present on this array will be taken into account when computing resource needs.</p>\n\n            <p>Analyze: Updates Capacity, Cache and CPU needs on the right side of the page. Please note that changes to the above \n            inputs require re-running the analysis.</p>\n\n            <p>Outputs:</p>\n\n            <p>Array Information Table: This table appears in the middle of the window, to the right of input selection sidebar, \n            once a workload is added. It describes current array resource availability.</p>\n\n            <p>Resource Needs Panels: These panels appear to the right of Array Information Table. They are updated once a workload is selected and \n            Analyze button is clicked. These panels describe whether the selected workloads can fit on the Destination Array. System Status indicates \n            overall fit: “Impacted” means that the workloads\' needs exceed the Destination Array\'s resources; “Not Impacted” means the needs can be \n            met with the available resources. This statement is expanded with numeric values of needs and available resources. A supplemental chart \n            shows how new arrays of the same category would handle this workload.</p>\n\n            <p>Please note that the Cache Needs chart only appears for Adaptive Flash Arrays.</p>\n\n        </div>\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="modal-dialog modal-lg">\n    <div class="modal-content lab-app-user-guide">\n        <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal">\n                <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title">Labs User Guide</h4>\n        </div>\n        <div class="modal-body">\n\n            <h3>Cross Stack Performance Recommendations</h3>\n\n            <p>Purpose: To provide actionable recommendations to improve virtual environment performance. These recommendations are generated \n            by InfoSight’s AI Recommendation System which leverages Machine Learning to identify and diagnose a wide variety of performance issues</p>\n\n            <p>Inputs:</p>\n\n            <p>Date Range : Allows the user to configure how far in the past historical data is displayed.</p>\n            \n            <p>Outputs</p>\n\n            <p>On the left, the results of the performance analysis are provided.</p>\n\n            <ul>\n                <li>First, the overall system status is described which indicates the time interval(s) examined. Only when problems are detected will \n                the following additional panels appear.</li>\n\n                <li>Second, a set of tabs – one for each separate diagnosis – are shown; A description of the diagnosis is provided at the top of the tab.</li>\n\n                <li>Third, InfoSight’s recommendations for how to remedy the described performance issue are provided in the order in which they \n                should be considered. It is possible that performing one of the several recommended interventions may be sufficient to remedy the \n                described issue – so not all recommendations need to be enacted at once, the effects of performing one intervention can be observed \n                before enacting additional interventions. InfoSight prioritizes its recommendations based on the relative effort and cost required \n                to perform the interventions.</li>\n            \n            </ul>\n            \n            <p>On the right, There are sankey and Treemap that summarizes the entire environment pertaining to the problem.</p>\n\n            <ul>\n                <li>The sankey chart shows the relationships between storage arrays (left), datastores (center), and hosts (right); \n                the width of the lines connecting them represents the problem scope. The color of each array, datastore, and host \n                denotes severity of the issue.</li>\n            \n                <li>The treemap provides an alternate view of the environment. The more widespread the issue, more of this treemap will be colored</li>\n\n            </ul>   \n\n            <p>Additional Details:</p>\n\n            <ul>\n                <li>Potential Impact Score: Using InfoSight intelligence, this score identified those periods where the impact of latency on application \n                behavior is expected to be strongest. Larger-block operations, for example, tend to be more latent; at the same time the workloads driving \n                them tend to be less latency sensitive. InfoSight’s Potential Impact Score corrects for this bias and highlights those latency events \n                expected to cause the most impact to end users when accessing applications. We have shown by analyzing customer support cases that this \n                score is significantly more accurate at determining periods of customer performance concern than a simple latency average.</li>\n            </ul>\n\n        </div>\n    </div>\n</div>'},function(e,t,n){e.exports={container:"container__1e_GD"}},,,,,function(e,t,n){e.exports={arrayWarrantyExpiring:"arrayWarrantyExpiring__3p6cc",warrantyCol:"warrantyCol__oromM",icon:"icon__1vVz7"}},,,function(e,t,n){var a=n(9),i=n(75),r=n(13),o=n(239),s=n(1436),l=n(1438),c=n(701),u=n(702),d=n(1443),p=(n(705),n(1457)),h=n(1463),m=n(706),f=n(1469),v=n(1473);e.exports=r.LayoutView.extend({template:a.template(v),className:"documentation-view",regions:{languageRegion:'[data-region="language"]',searchRegion:'[data-region="search"]',mainRegion:'[data-region="main"]',facetsRegion:'[data-region="facets"]'},ui:{spinner:".spinner",results:".search-results"},initialize:function(){a.bindAll(this,"processHits","processFacets"),this.query=new l,this.facets=new u,this.languageFilter=new m,this.languagePreferenceView=new f},onRender:function(){this.languageRegion.show(this.languagePreferenceView),this.searchRegion.show(new s({model:this.query})),this.facetsRegion.show(new h({collection:this.facets})),this.listenTo(this.query,"update",this.doQuery),this.listenTo(this.facets,"update",this.doQuery),this.listenTo(this.facets,"change",this.doQuery),this.listenTo(this.languagePreferenceView.model,"change",this.doQuery),this.doQuery()},doQuery:function(){var e=this,t=a.extend({},this.query.toQueryParamMap(),this.facets.toQueryParamMap()),n=this.getOption("history"),r=this.getOption("match"),s=new i(r.url).setQuery(t).valueOf();i(s.valueOf()).equals(i(""+n.location.pathname+n.location.search))||n.replace(s),this.ui.results.hide(),this.ui.spinner.show(),this.mainRegion.empty(),o.searchTemplate({index:"docs",template:"docs",params:{size:this.hasQueryOrFilter()?500:0,term:this.query.get("term"),languages:this.languagePreferenceView.model.get("languages"),filters:this.facets.reduce(function(e,t){var n=t.getSelectedBucket();if(n){var a={};a[t.get("field")]=n.get("value"),e.push({term:a})}return e},[])}}).done(this.processFacets).done(this.processHits).always(function(){e.ui.spinner.hide(),e.ui.results.show()})},hasQueryOrFilter:function(){return this.query.get("term")||this.facets.hasSelected()},processHits:function(e){var t,n=new c(e.hits.hits,{parse:!0});t=this.hasQueryOrFilter()?new d({query:this.query,facets:this.facets,hits:n}):new p,this.mainRegion.show(t)},processFacets:function(e){var t=this;this.facets.reset(a.chain(e.aggregations).map(function(e,n){var i=t.facets.findWhere({field:n});return{field:n,buckets:a.chain(e.buckets).map(function(e){return{value:e.key,count:e.doc_count,selected:i&&i.isSelected(e.key)}}).union(i?i.getSelectedBuckets().map(function(e){return e.toJSON()}):[]).unique(!1,"value").value()}}).filter(function(e){return!a.isEmpty(e.buckets)}).value(),{parse:!0})},setParams:function(e){this.query.set("term",e.term),delete e.term,this.facets.reset(a.map(e,function(e,t){return{field:t,buckets:[{value:e,selected:!0}]}}),{parse:!0}),this.isRendered&&this.doQuery()}})},function(e,t,n){var a=n(9),i=n(13),r=n(1437);e.exports=i.ItemView.extend({template:a.template(r),ui:{input:"input"},events:{"click button":"onClick"},bindings:{input:"term"},onRender:function(){this.stickit()},onClick:function(e){e.preventDefault(),this.model.trigger("update")}})},function(e,t){e.exports='<form class="flex-container flex-dir-row align-stretch">\n    <div class="form-group flex-child-grow">\n        <input type="text" class="form-control search-box" placeholder="Search for a document" style="height: 100%;">\n    </div>\n    <button class="button" style="margin-left: 5px;"><i class="fa fa-search"></i> Search</button>\n</form>\n'},function(e,t,n){var a=n(11);e.exports=a.Model.extend({defaults:{term:null},hasTerm:function(){return this.get("term")},toQueryParamMap:function(){return this.hasTerm()?this.toJSON():{}}})},function(e,t,n){var a=n(9),i=n(11);n(702),n(703);e.exports=i.Model.extend({sortKey:function(){var e=this.get("_source"),t=this.get("_score"),n=[];n.push({value:t,order:"desc"},{value:0,order:"asc"},{value:e.title,order:"asc"},{value:function(e){if(!e)return"";var t="000000";return e.split(/\.|\-/).map(function(e){return e.length>=t.length?e:(t+e).slice(-t.length)}).join(".")}(a.first(e.Version)),order:"desc"});var i=e["Version Family"];return i&&(Array.isArray(i)||(i=[i]),i.sort(function(e,t){return-e.localeCompare(t)}),n.push({value:a.first(i),order:"desc"})),n},parse:function(e){return Array.isArray(e._source["Version Family"])&&(e._source["Version Family"]=a.without(e._source["Version Family"],null)),e}})},function(e,t,n){var a=n(9),i=n(11),r=n(703),o={"Version Family":"Software Version"};e.exports=i.Model.extend({defaults:{field:null},idAttribute:"field",parse:function(e){return e.buckets=new r(e.buckets,{parse:!0,facet:this,facetField:e.field}),this.listenTo(e.buckets,"change",this.onBucketChange),e},onBucketChange:function(){this.trigger("change",this,{})},getSelectedBucket:function(){return this.get("buckets").findWhere({selected:!0})},getSelectedBuckets:function(){return this.get("buckets").where({selected:!0})},selectBucket:function(e){var t=this.get("buckets").findWhere({value:e});t&&t.set("selected",!0)},clearSelection:function(){this.get("buckets").where({selected:!0}).forEach(function(e){e.set("selected",!1)})},isSelected:function(e){var t=this.get("buckets").findWhere({value:e});return t&&t.get("selected")},hasSelected:function(){return a.some(this.get("buckets").pluck("selected"))},getTitle:function(){var e=this.get("field");return o[e]||e}})},function(e,t,n){var a=n(11);e.exports=a.Model.extend({defaults:{value:null,count:null,selected:null},idAttribute:"value",getFacet:function(){return this.collection.facet}})},function(e,t,n){"use strict";n.r(t),n.d(t,"sortThis",function(){return a}),n.d(t,"compareVersion",function(){return i});var a=function(e,t,n){return e<t?"asc"===n?-1:1:e>t?"asc"===n?1:-1:0},i=function(e,t){var n=e.replace(/\s*\d(\.\d)*\.x\s*/,""),i=t.replace(/\s*\d(\.\d)*\.x\s*/,""),r=e.replace(/[^\d]/g,""),o=t.replace(/[^\d]/g,"");return"nos"===n&&"nos"===i?a(r,o,"desc"):"nos"===n&&"nos"!==i?-1:"nos"!==n&&"nos"===i?1:""!==n&&""!==i?n===i?a(r,o,"desc"):a(n,i,"asc"):""!==n&&""===i?-1:""===n&&""!==i?1:a(r,o,"desc")}},function(e,t,n){var a=n(9),i=n(13),r=n(1444),o=n(1445),s=n(1448),l=n(1450),c=n(705),u=n(1456);e.exports=i.LayoutView.extend({template:a.template(u),regions:{breadcrumbs:'[data-region="breadcrumbs"]',hits:'[data-region="hits"]',pagination:'[data-region="pagination"]'},initialize:function(e){this.query=e.query,this.facets=e.facets,this.hits=e.hits,this.hits.getFirstPage(),this.pagination=new r({},{collection:this.hits})},onRender:function(){this.showChildView("breadcrumbs",new o({query:this.query,facets:this.facets,pagination:this.pagination})),this.hits.isEmpty()?this.showChildView("hits",new c):(this.showChildView("hits",new l({collection:this.hits})),this.hits.state.totalPages>1&&(this.showChildView("pagination",new s({model:this.pagination})),this.$('[data-region="pagination"]').removeClass("hidden")))}})},function(e,t,n){var a=n(11);e.exports=a.Model.extend({initialize:function(e,t){this.collection=t.collection,this.set({total:this.collection.fullCollection.length}),this.listenTo(this.collection,"reset",this.refresh),this.refresh()},refresh:function(){this.set({from:this.collection.state.currentPage*this.collection.state.pageSize+1,to:Math.min((this.collection.state.currentPage+1)*this.collection.state.pageSize,this.collection.fullCollection.length)})}})},function(e,t,n){var a=n(9),i=n(11),r=n(13),o=n(1446),s=n(1447),l=r.ItemView.extend({template:a.template(o),templateHelpers:function(){return{facet:this.model.getFacet().toJSON()}},tagName:"li",events:{'click [data-action="deselect-facet"]':"deselectFacet"},deselectFacet:function(e){e.preventDefault(),this.model.set("selected",!1)}});e.exports=r.CompositeView.extend({template:a.template(s),childViewContainer:"ul",childView:l,bindings:["from","to","total"].reduce(function(e,t){return e['[data-bind="'+t+'"]']=t,e},{}),events:{'click [data-action="deselect-query"]':"deselectQuery",'click [data-action="clear-all"]':"clearAll"},initialize:function(e){this.pagination=e.pagination,this.query=e.query,this.facets=e.facets,this.collection=new i.Collection(this.facets.getSelectedBuckets()),this.model=new i.Model({query:e.query.toJSON()}),this.refreshPagination(),this.listenTo(this.pagination,"change",this.refreshPagination)},onRender:function(){this.stickit()},refreshPagination:function(){this.model.set({from:this.pagination.get("from"),to:this.pagination.get("to"),total:this.pagination.get("total")})},deselectQuery:function(e){e.preventDefault(),this.query.set("term",null),this.query.trigger("update")},clearAll:function(e){e.preventDefault(),this.query.set("term",null),this.collection.each(function(e){e.set("selected",!1,{silent:!0})}),this.facets.trigger("update")}})},function(e,t){e.exports='<span class="label">\n    <span title="<%= facet.field %>"><%= value %></span>\n    <i data-action="deselect-facet" class="fa fa-lg fa-times-circle"></i>\n</span>'},function(e,t){e.exports='<div class="pull-right">\n    <a href="#" data-action="clear-all">Clear All</a>\n</div>\n\n<% if (total > 0) { %>\n    <b data-bind="from"></b> - <b data-bind="to"></b> of\n<% } %>\n<b data-bind="total"></b> <%= total === 1 ? \'result\' : \'results\' %> for:\n\n<ul class="list-unstyled" style="margin-left: 0px;">\n<% if (query.term) { %>\n    <li>\n        <span class="label">\n            <span class="field">Search:</span> <%= query.term %>\n            <i data-action="deselect-query" class="fa fa-lg fa-times-circle"></i>\n        </span>\n    </li>\n<% } %>\n</ul>\n'},function(e,t,n){var a=n(16),i=n(9),r=n(13),o=n(1449);e.exports=r.ItemView.extend({template:i.template(o),bindings:["from","to","total"].reduce(function(e,t){return e['[data-bind="'+t+'"]']=t,e},{}),ui:{previous:'[data-action="previous"]',next:'[data-action="next"]'},events:{"click @ui.previous":"previousPage","click @ui.next":"nextPage"},collectionEvents:{reset:"adjustLinkState scrollToTop"},initialize:function(){this.collection=this.model.collection},onRender:function(){this.stickit(),this.adjustLinkState()},nextPage:function(e){e.preventDefault(),this.collection.getNextPage(),this.adjustLinkState()},previousPage:function(e){e.preventDefault(),this.collection.getPreviousPage(),this.adjustLinkState()},adjustLinkState:function(){this.ui.previous.toggleClass("disabled",!this.collection.hasPreviousPage()),this.ui.next.toggleClass("disabled",!this.collection.hasNextPage())},scrollToTop:function(){a("html,body").animate({scrollTop:0},500)}})},function(e,t){e.exports='<div class="pull-right">\n    <ul class="flex-container flex-dir-row list-unstyled paging">\n        <li>\n            <a href="#" data-action="previous" class="disabled"><span>&larr;</span> Previous</a>\n        </li>\n        <li style="padding: 0 0.5em">|</li>\n        <li>\n            <a href="#" data-action="next">Next <span>&rarr;</span></a>\n        </li>\n    </ul>\n</div>\n\nShowing <b data-bind="from"></b> to <b data-bind="to"></b> of <b data-bind="total"></b> <%= total === 1 ? \'result\' : \'results\' %>\n'},function(e,t,n){var a=n(9),i=n(13),r=n(704),o=n(1454);e.exports=i.CompositeView.extend({template:a.template(o),childView:r,childViewContainer:"ul.search-hits"})},function(e,t,n){var a=n(9),i=n(37).BASE_URL,r=n(22).buildUrl,o=n(13),s=n(1452);e.exports=o.ItemView.extend({template:a.template(s,{variable:"hit"}),tagName:"li",className:"search-inner-hit",templateHelpers:function(){return{mediaUrl:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(void 0,[i,"media"].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t)))}}}})},function(e,t){e.exports='<a target="_blank" href="<%= hit.mediaUrl(hit._source.media[0].url) %>"><%= hit._source.title %></a>\n<% if (hit.highlight) { %>\n<p class="highlights">\n    <% _.each(hit.highlight[\'topics.body\'], function(fragment) { %>\n        <span class="fragment">...<%= fragment %>...</span>\n    <% }); %>\n</p>\n<% } %>\n'},function(e,t){e.exports='<a target="_blank" href="<%= hit.mediaUrl(hit._source.media[0].url) %>"><%= hit._source.title %></a>\n\n<% _.each(_.tail(hit._source.media), function(mediaItem) { %>\n    <small class="alt-media">\n    <% if (mediaItem.format === \'pdf\') { %>\n        (<a target="_blank" href="<%= hit.mediaUrl(mediaItem.url) %>">PDF <i class="fa fa-file-pdf-o"></i></a>)\n    <% } else if (mediaItem.format === \'zip\') { %>\n        (<a target="_blank" href="<%= hit.mediaUrl(mediaItem.url) %>">ZIP <i class="fa fa-file-zip-o"></i></a>)\n    <% } %>\n    </small>\n<% }); %>\n\n<ul class="labels list-unstyled">\n<% if (hit._source.Version && (!Array.isArray(hit._source.Version) || hit._source.Version.length)) { %>\n    <li>\n        <span class="label" data-field="version">Version: <%= Array.isArray(hit._source.Version) ? hit._source.Version.join(\', \') : hit._source.Version %></span>\n    </li>\n<% } else if (hit.versionFamilies.length) {%>\n    <li>\n        <span class="label" data-field="version">Version: <%= hit.versionFamilies.join(\', \') %></span>\n    </li>\n<% } %>\n\n<% if (!_.contains(hit._source.Visibility, \'Customer\')) { %>\n    <li>\n        <span class="label" data-field="visibility">\n            <%= !_.contains(hit._source.Visibility, \'Partner\') ? \'Internal\' : \'Internal/Partner\'%>\n        </span>\n    </li>\n<% } %>\n</ul>\n\n<%\n// Don\'t show root-level highlights if inner hits are present\nif (hit.highlight && !hit.inner_hits.topics.hits.hits.length) { %>\n<p class="highlights">\n    <% _.each(hit.highlight[\'body\'], function(fragment) { %>\n        <span class="fragment">...<%= fragment %>...</span>\n    <% }); %>\n</p>\n<% } %>\n<ul class="search-inner-hits"></ul>\n'},function(e,t){e.exports='<ul class="search-hits list-unstyled"></ul>\n'},function(e,t){e.exports="<h3>No results found.</h3>\n\n<p>Please revise your search and/or filter selections and try again.</p>"},function(e,t){e.exports='<div class="panel panel-default">\n    <ul class="list-group">\n        <li class="list-group-item" data-region="breadcrumbs"></li>\n        <li class="list-group-item" data-region="hits"></li>\n        <li class="list-group-item hidden" data-region="pagination"></li>\n    </ul>\n</div>\n'},function(e,t,n){var a=n(9),i=n(13),r=n(1458),o=n(1459),s=n(1460),l=n(1461),c=n(1462);e.exports=i.ItemView.extend({templateHelpers:function(){return{releaseNotes:o,solutionGuides:s,support:l,userGuides:c}},template:a.template(r),className:"home-view"})},function(e,t){e.exports='<h1>Nimble Storage Documentation</h1>\n\n<p>\n    Nimble Storage provides a wide range of documentation covering the entire product family.\n</p>\n\n<table class="table table-bordered">\n    <tbody>\n        <tr>\n            <td data-column="doc-icon">\n                <img src="<%= releaseNotes %>">\n            </td>\n            <td data-column="doc-text">\n                <h3>Release Notes</h3>\n                <p>\n                    Summarize new features, important changes and enhancements for each Nimble Storage software release version.\n                </p>\n                <p>\n                    Includes: <a href="?Document+Type=Release+Notes&Nimble+Software+and+Solutions=NimbleOS" class="history-aware">Release Notes for NimbleOS</a>,\n                    as well as other Nimble Storage software solutions\n                </p>\n            </td>\n        </tr>\n        <tr>\n            <td data-column="doc-icon">\n                <img src="<%= userGuides %>">\n            </td>\n            <td data-column="doc-text">\n                <h3>Product User Guides</h3>\n                <p>\n                    Provide detailed step-by-step instructions on how to install, configure, operate, and maintain your Nimble Storage hardware and software.\n                </p>\n                <p>\n                    Includes: <a href="?Document+Type=Installation+/+Administration+Guide" class="history-aware">Installation, administration (CLI and GUI), and reference guides</a>,\n                    plus <a href="?Document+Type=Hardware+/+Quick+Start+Guide" class="history-aware">hardware quick start</a>, upgrade, and maintenance guides\n                </p>\n            </td>\n        </tr>\n        <tr>\n            <td data-column="doc-icon">\n                <img src="<%= solutionGuides %>">\n            </td>\n            <td data-column="doc-text">\n                <h3>Solution and Integration Guides</h3>\n                <p>\n                    Offer various setup and configuration solutions to help you obtain the best performance and efficiency for your Nimble Storage arrays.\n                    These guides outline the process for integrating with other software products, and deployment considerations for different workloads and environments.\n                </p>\n            </td>\n        </tr>\n        <tr>\n            <td data-column="doc-icon">\n                <img src="<%= support %>">\n            </td>\n            <td data-column="doc-text">\n                <h3>Support and Knowledge Base Articles</h3>\n                <p>\n                    Created by Support professionals, these articles provide time-saving methods for troubleshooting and fixing common issues.\n                    The Knowledge Base is updated regularly to provide you with the latest information directly from the Nimble Storage Support team.\n                    Refer also to various support matrices for upgrades and compatibility.\n                </p>\n                <p>\n                    Includes: <a href="?Document+Type=Knowledge+Base+Article" class="history-aware">Knowledge base articles</a>,\n                    <a href="?Document+Type=Support+Policy" class="history-aware">support lifecycle notifications</a>,\n                    plus <a href="?Document+Type=Compatibility+Matrix" class="history-aware">upgrade, configuration, interoperability, and compatibility matrices</a>\n                </p>\n            </td>\n        </tr>\n    </tbody>\n</table>\n\n<p>\n    To get started, use the search box above or browse/refine using the categories on the left.\n</p>\n'},function(e,t,n){e.exports=n.p+"app/modules/documentation/images/releaseNotes.svg"},function(e,t,n){e.exports=n.p+"app/modules/documentation/images/solutionGuides.svg"},function(e,t,n){e.exports=n.p+"app/modules/documentation/images/support.svg"},function(e,t,n){e.exports=n.p+"app/modules/documentation/images/userGuides.svg"},function(e,t,n){var a=n(9),i=n(13),r=n(1464),o=n(1468);e.exports=i.CompositeView.extend({template:a.template(o),childView:r,className:"panel panel-default",childViewContainer:"ul",collectionEvents:{reset:"onCollectionReset"},onCollectionReset:function(){this.$el.toggle(!this.collection.isEmpty())}})},function(e,t,n){var a=n(9),i=n(13),r=n(1465),o=n(1467);e.exports=i.CompositeView.extend({template:a.template(o),templateHelpers:function(){return{title:this.model.getTitle()}},childView:r,tagName:"li",className:function(){return"facet "+(this.model.hasSelected()?" has-selected":"")},childViewContainer:"ul",initialize:function(){this.collection=this.model.get("buckets")}})},function(e,t,n){var a=n(9),i=n(13),r=n(1466);e.exports=i.ItemView.extend({template:a.template(r),tagName:"li",className:function(){return"facet-bucket flex-container"+(this.model.get("selected")?" selected":"")},events:{'click [data-action="select"]':"selectBucket",'click [data-action="deselect"]':"deselectBucket"},selectBucket:function(e){e.preventDefault(),this.model.set("selected",!0)},deselectBucket:function(e){e.preventDefault(),this.model.set("selected",!1)}})},function(e,t){e.exports='<% if (selected) { %>\n    <span class="selected facet-name" title="<%= value %>"><%= value %></span> <i data-action="deselect" class="fa fa-lg fa-times-circle" style="align-self: center"></i>\n<% } else { %>\n    <a data-action="select" title="<%= value %>" href="#" class="facet-name"><%= value %></a> <span class="small count">(<%= count %>)</span>\n<% } %>\n'},function(e,t){e.exports='<h4 class="facet-title no-margin"><%= title %></h4>\n<ul class="facet-buckets"></ul>\n'},function(e,t){e.exports='<div class="panel-heading">\n    <h2 class="panel-title">Refine by</h2>\n</div>\n<div class="panel-body">\n    <ul class="facets list-unstyled"></ul>\n</div>\n'},function(e,t,n){var a=n(9),i=n(13),r=n(706),o=n(1470),s=n(1472);e.exports=i.ItemView.extend({template:a.template(s),className:"language-preferences",ui:{anchor:"a"},events:{"click @ui.anchor":"showPopover","click .close":"hidePopover","hidden.bs.popover @ui.anchor":"onPopoverHidden"},initialize:function(){this.model=new r},showPopover:function(e){e.preventDefault(),this.ui.anchor.popover("show")},hidePopover:function(){this.ui.anchor.popover("hide")},onPopoverHidden:function(){this.form.destroy()},onRender:function(){this.ui.anchor.popover({html:!0,container:!1,content:this.renderForm.bind(this),title:'<button type="button" class="close">&times;</button> Languages',placement:"bottom",trigger:"manual"})},renderForm:function(){return this.form=new o({model:this.model}),this.form.render().$el}})},function(e,t,n){var a=n(16),i=n(9),r=n(13),o=n(1471);e.exports=r.ItemView.extend({template:i.template(o),events:{"change :checkbox":"onChange"},onRender:function(){var e=this;this.model.get("languages").forEach(function(t){e.$(':checkbox[value="'+t+'"]').prop("checked",!0)})},onChange:function(){this.model.set("languages",this.$(":checkbox:checked").map(function(){return a(this).val()}).get())}})},function(e,t){e.exports='<form>\n    <div class="checkbox">\n        <label>\n            <input name="languages" type="checkbox" value="en">English</input>\n        </label>\n    </div>\n    <div class="checkbox">\n        <label>\n            <input name="languages" type="checkbox" value="ja">Japanese</input>\n        </label>\n    </div>\n</form>'},function(e,t){e.exports='<small><a href="#">Language Preferences</a></small>'},function(e,t){e.exports='<div class="row expanded">\n    <div class="column small-12 small-offset-6" data-region="search"></div>\n    <div class="column small-6 text-right" data-region="language"></div>\n</div>\n\n<div class="row expanded spinner animated fadeIn">\n    <div class="sk-three-bounce">\n        <div class="sk-child sk-bounce1"></div>\n        <div class="sk-child sk-bounce2"></div>\n        <div class="sk-child sk-bounce3"></div>\n    </div>\n</div>\n\n<div class="row expanded search-results animated fadeIn">\n    <div class="column small-6">\n        <div data-region="facets"></div>\n    </div>\n    <div class="column small-18">\n        <div data-region="main"></div>\n    </div>\n</div>'},function(e,t,n){var a=n(24),i=n(9),r=n(13),o=n(1475),s=n(45),l=n(1480),c=n(1484),u=n(1487),d=n(1488),p=n(1500),h=n(1509),m=n(27).default,f=n(16),v=r.LayoutView.extend({template:i.template(h),className:"software-view",regions:{sidePanel:'[data-region="sidePanel"]',whitelistCategoryPanel:'[data-region="whitelistCategoryPanel"]',mainPanel:'[data-region="mainPanel"]'},ui:{},initialize:function(e){this.collection=new o},onDestroy:function(){a._getChannel("software").reset()},onRender:function(){var e=this;this.whitelistCollection=new u,e.whitelistCategoryPanel=new c({collection:this.whitelistCollection}),this.whitelistCollection.bind("change reset add remove",function(){e.whitelistCollection.length<0?e.whitelistCategoryPanel.$el.hide():e.whitelistCategoryPanel.$el.show()}),this.showChildView("whitelistCategoryPanel",this.whitelistCategoryPanel),e.whitelistCategoryPanel.$el.hide(),this.showChildView("sidePanel",new l({collection:this.collection}))},showProduct:function(e,t){this.collection.unselectAllProducts();var n=this.collection.findWhere({name:e}).get("products").findWhere({name:t});n&&(n.set("selected",!0),this.showChildView("mainPanel",new d({model:n})))},showHome:function(){this.collection.unselectAllProducts(),this.showChildView("mainPanel",new p({collection:this.collection}))}});e.exports=s.extend({ViewConstructor:v,loadCategories:function(){var e=this,t=f.Deferred();return(new m).urlSegments("software","categories").get().then(function(t){e.view.collection.prioritizedCategories=t.data}).then(t.resolve).catch(t.reject),t},load:function(){var e=this;return this.loadCategories().then(function(){return e.view.collection.fetch()}).then(function(){return e.view})},invokePostRender:function(e){this.view.isRendered?e():this.listenToOnce(this.view,"render",e)},showProduct:function(e,t){this.invokePostRender(this.view.showProduct.bind(this.view,e,t))},showHome:function(){this.invokePostRender(this.view.showHome.bind(this.view))}})},function(e,t,n){var a=n(9),i=n(11),r=n(239),o=n(1476);e.exports=i.Collection.extend({model:o,fetch:function(){return r.searchTemplate({index:"software",template:"software"}).done(this.load.bind(this))},load:function(e){var t=a.chain(e.hits.hits).pluck("_source").groupBy("category").reduce(function(e,t,n){return e.push({name:n,products:t}),e},[]).value();this.reset(t,{parse:!0,prioritizedCategories:this.prioritizedCategories})},unselectAllProducts:function(){this.pluck("products").forEach(function(e){e.forEach(function(e){e.set("selected",!1)})})},flattenToProductVersions:function(){return this.pluck("products").reduce(function(e,t){return t.pluck("versions").reduce(function(e,t){return e.concat(t.map(function(e){var t=e.clone();return t.set("product",e.collection.product),t}))},e)},[])},comparator:function(e){var t=this.prioritizedCategories.findIndex(function(t){return t.name===e.get("name")});return-1===t?Number.POSITIVE_INFINITY:t}})},function(e,t,n){var a=n(11),i=n(1477);e.exports=a.Model.extend({idAttribute:"name",parse:function(e,t){var n=t.prioritizedCategories;return e.products=new i(e.products,{prioritizedCategories:n,category:this,parse:!0}),e}})},function(e,t,n){var a=n(11),i=n(1478);e.exports=a.Collection.extend({model:i,initialize:function(e,t){console.assert(t.category),this.category=t.category,this.categoryName=t.category.name,this.ORDERING=t.prioritizedCategories.reduce(function(e,t){return e[t.name]=t.products,e},{})},comparator:function(e){var t=this.ORDERING[e.collection.categoryName];if(!t)return Number.POSITIVE_INFINITY;var n=t.indexOf(e.get("value"));return-1===n?Number.POSITIVE_INFINITY:n}})},function(e,t,n){var a=n(11),i=n(707);e.exports=a.Model.extend({defaults:{selected:!1},parse:function(e){return e.versions=new i(e.versions,{product:this,parse:!0}),e}})},function(e,t,n){var a=n(11);e.exports=a.Model.extend({defaults:{notes:""}})},function(e,t,n){var a=n(13),i=n(1481);e.exports=a.CollectionView.extend({childView:i,tagName:"ul",className:"list-unstyled CategoryPanel"})},function(e,t,n){var a=n(9),i=n(22).buildUrl,r=n(13),o=n(1482),s=n(1483),l=r.ItemView.extend({tagName:"li",template:a.template(o),templateHelpers:function(){return{href:i("resources/nimble/software",window.encodeURI(this.model.collection.category.get("name")),window.encodeURI(this.model.get("name")))}},modelEvents:{change:"render"}});e.exports=r.CompositeView.extend({template:a.template(s),tagName:"li",className:"software-category panel panel-default",childView:l,childViewContainer:"ul",initialize:function(){this.collection=this.model.get("products")}})},function(e,t){e.exports='<% if (selected) { %>\n    <strong><%= name %></strong>\n<% } else { %>\n    <a href="<%= href %>" class="history-aware"><%= name %></a>\n<% } %>\n'},function(e,t){e.exports='<div class="panel-heading">\n    <h2 class="panel-title"><%= name %></h2>\n</div>\n<div class="panel-body">\n    <ul class="list-unstyled"></ul>\n</div>\n'},function(e,t,n){var a=n(9),i=(n(22).buildUrl,n(13)),r=(n(11),n(10),n(1485)),o=n(1486),s=(n(708),i.ItemView.extend({tagName:"li",template:a.template(r)}));e.exports=i.CompositeView.extend({template:a.template(o),childView:s,childViewContainer:"ul.whitelist",initialize:function(e){this.collection.fetch()}})},function(e,t){e.exports='<div><a target="_blank" href="/InfoSight/media/software/active/<%= url %>"><%= name %></a></div>\n'},function(e,t){e.exports='<div class="panel panel-default">\n    <div class="panel-heading">\n        <h2 class="panel-title">Support Downloads</h2>\n    </div>\n    <div class="panel-body">\n        <ul class="whitelist list-unstyled"></ul>\n    </div>\n</div>'},function(e,t,n){n(9);var a=n(11),i=n(708),r=n(27).default;e.exports=a.Collection.extend({model:i,fetch:function(){var e=this;return(new r).urlSegments("software","access").get().then(function(t){e.set(t.data)})}})},function(e,t,n){var a=n(24),i=n(9),r=n(13),o=n(1489),s=n(707),l=n(1493),c=n(1496),u=n(1498),d=n(1499),p=n(245);e.exports=r.LayoutView.extend({template:i.template(d),className:"product-view animated fadeIn",ui:{otherVersionsToggle:'a[href="#otherVersionsContainer"]',otherVersionsToggleContainer:".other-versions-link-container"},events:{"show.bs.collapse #otherVersionsContainer":"onShowOtherVersions","hide.bs.collapse #otherVersionsContainer":"onHideOtherVersions"},regions:{documentation:'[data-region="documentation"]',currentVersion:'[data-region="currentVersion"]',otherVersions:'[data-region="otherVersions"]'},initialize:function(){this.documents=new u([],{productName:this.model.get("name")})},onRender:function(){var e=a.request("global","get:current:session");this.model.get("hasEula")&&e.isExternal()&&!p.isEulaAccepted(this.model.get("name"))?this.showEulaView():this.showProductView()},showProductView:function(){var e=this;this.$el.show();var t=this.model.get("versions"),n=new s(t.where({default:!0}),{product:this.model}),a=new s(t.where({default:!1}),{product:this.model});this.showChildView("currentVersion",new o({collection:n})),this.showChildView("otherVersions",new o({collection:a})),this.ui.otherVersionsToggleContainer.toggle(!a.isEmpty()),this.documents.fetch().done(function(){e.documents.isEmpty()||e.showChildView("documentation",new c({collection:e.documents}))})},showEulaView:function(){this.$el.hide();var e=new l({product:this.model});this.listenTo(e,"accept",this.showProductView),a.modalRegion.show(e)},onShowOtherVersions:function(){this.ui.otherVersionsToggle.text("Hide other versions")},onHideOtherVersions:function(){this.ui.otherVersionsToggle.text("Show other versions")}})},function(e,t,n){var a=n(9),i=n(13),r=n(1490),o=n(1492);e.exports=i.CompositeView.extend({template:a.template(o),childViewContainer:"tbody",childView:r})},function(e,t,n){var a=n(9),i=n(37).BASE_URL,r=n(22).buildUrl,o=n(13),s=n(1491);e.exports=o.ItemView.extend({template:a.template(s),tagName:"tr",templateHelpers:{mediaUrl:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(void 0,[i,"media"].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t)))}}})},function(e,t){e.exports='<td data-column="version">\n    <%= version %>\n<% if (status) { %>\n    <small>(<%= status %>)</small>\n<% } %>\n</td>\n<td data-column="release-date"><%= releaseDate %></td>\n<td data-column="downloads">\n    <ul class="list-unstyled" style="margin: 0;">\n    <% artifacts.forEach(function(artifact) { %>\n        <li><a target="_blank" href="<%= mediaUrl(artifact.url) %>"><%= artifact.name %></a></li>\n    <% }); %>\n    </ul>\n</td>\n<td data-column="notes"><%= notes %></td>\n'},function(e,t){e.exports='<table class="table table-bordered">\n    <thead>\n        <th data-column-header="version">Version</th>\n        <th data-column-header="release-date">Release Date</th>\n        <th data-column-header="downloads">Downloads</th>\n        <th data-column-header="notes">Notes</th>\n    </thead>\n    <tbody></tbody>\n</table>'},function(e,t,n){var a=n(9),i=n(13),r=n(1494),o=n(81),s=n(1495),l=n(245);e.exports=i.LayoutView.extend({template:a.template(s),regions:{spinner:'[data-region="spinner"]'},ui:{eulaWrapper:".eula-wrapper"},events:{'click [name="submit"]':"accept",'click [name="cancel"]':"cancel"},modelEvents:{sync:"onFetch"},initialize:function(e){this.product=e.product,this.acceptanceModel=this.model=new r({},{product:this.product})},onRender:function(){this.showChildView("spinner",new o({message:"Loading license agreement..."})),this.ui.eulaWrapper.hide(),this.model.fetch()},onFetch:function(){this.getRegion("spinner").empty();var e=this.$("iframe")[0];e.contentWindow.document.open(),e.contentWindow.document.write(this.model.get("eula")),e.contentWindow.document.close(),this.ui.eulaWrapper.show()},accept:function(){l.acceptEula(this.product.get("name")),this.trigger("accept")},cancel:function(e){return e}})},function(e,t,n){var a=n(11),i=n(75),r=n(37).BASE_URL,o=n(22).buildUrl;e.exports=a.Model.extend({initialize:function(e,t){this.product=t.product},url:function(){return o(r,i("es/software/product").segment(this.product.id.toString()).segment("_source").query({_source:"eula"}))}})},function(e,t){e.exports='<div class="modal-dialog modal-lg">\n    <div class="modal-content">\n        <div class="modal-header">\n            <h4 class="modal-title">End User License Agreement</h4>\n        </div>\n        <div class="modal-body">\n            <p class="lead">You are required to accept the following License Agreement before proceeding.</p>\n            <div data-region="spinner"></div>\n            <div class="animated fadeIn eula-wrapper">\n                <div class="well embed-responsive eula-body-container">\n                    <iframe></iframe>\n                </div>\n                <p>By clicking the "Accept" button below you are accepting these terms and conditions.</p>\n            </div>\n        </div>\n        <div class="modal-footer">\n            <button type="button" class="button" name="submit" data-dismiss="modal">Accept</button>\n            <button type="button" class="button secondary" name="cancel" data-dismiss="modal">Cancel</button>\n        </div>\n    </div>\n</div>'},function(e,t,n){var a=n(9),i=n(13),r=n(704),o=n(1497);e.exports=i.CompositeView.extend({template:a.template(o),childViewContainer:"ul",childView:r})},function(e,t){e.exports='<h3>Documentation</h3>\n\n<ul class="search-hits"></ul>'},function(e,t,n){n(11);var a=n(239),i=n(701);e.exports=i.extend({initialize:function(e,t){this.productName=t.productName},fetch:function(){return a.searchTemplate({index:"docs",template:"docs",params:{size:50,filters:[{term:{"Nimble Software and Solutions":this.productName}},{terms:{"Document Type":["Release Notes","Installation / Administration Guide","Integration / Solution Guide"]}}]}}).done(this.load.bind(this))},load:function(e){this.reset(e.hits.hits,{parse:!0})}})},function(e,t){e.exports='<h2><%= name %></h2>\n<p><%= description %></p>\n\n<h3>\n    Current Version\n    <span class="other-versions-link-container">(<a href="#otherVersionsContainer" data-toggle="collapse">Show other versions</a>)</span>\n</h3>\n<div data-region="currentVersion"></div>\n\n<div id="otherVersionsContainer" class="collapse">\n    <h3>Other Versions</h3>\n    <div data-region="otherVersions"></div>\n</div>\n\n<div data-region="documentation"></div>\n'},function(e,t,n){var a=n(9),i=n(13),r=n(1501),o=n(1504),s=n(1508);e.exports=i.LayoutView.extend({template:a.template(s),regions:{whatsNew:'[data-region="whatsNew"]',nimbleOsReleases:'[data-region="nimbleOsReleases"]'},onRender:function(){this.showChildView("whatsNew",new r({categories:this.collection})),this.showChildView("nimbleOsReleases",new o({categories:this.collection}))}})},function(e,t,n){var a=n(9),i=n(22).buildUrl,r=n(13),o=n(11),s=n(10),l=n(1502),c=n(1503),u=(n(75),r.ItemView.extend({tagName:"li",template:a.template(l),templateHelpers:function(){var e=this.model.get("product").collection.category.toJSON(),t=this.model.get("product").toJSON();return{href:i("resources/nimble/software",window.encodeURI(e.name),window.encodeURI(t.name)),product:t,category:e,moment:s}}}));e.exports=r.CompositeView.extend({template:a.template(c),childView:u,childViewContainer:"ul",initialize:function(e){var t={};this.collection=new o.Collection(a.chain(e.categories.flattenToProductVersions()).filter(function(e){return s().diff(e.get("releaseDate"),"days")<90}).sortBy(function(e){return e.get("releaseDate")}).reverse().filter(function(e){var n=e.get("product").id;try{return!t[n]}finally{t[n]=!0}}).value())},onRender:function(){this.$el.toggle(!this.collection.isEmpty())}})},function(e,t){e.exports='<a href="<%= href %>" class="history-aware"><%= product.name %></a>\n<strong><%= version %></strong>\n<small>(released <%= moment(releaseDate).format(\'L\') %>)</small>\n'},function(e,t){e.exports="<h2>What's New?</h2>\n<ul></ul>\n"},function(e,t,n){var a=n(16),i=n(24),r=n(9),o=n(37).BASE_URL,s=n(22).buildUrl,l=n(13),c=n(45),u=n(1505),d=n(1506),p=n(1507),h=n(94),m=n(10),f=l.ItemView.extend({template:r.template(p),tagName:"tr",templateHelpers:function(){return{_:r,moment:m,mediaUrl:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return s.apply(void 0,[o,"media"].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t)))},releaseNotes:this.model.get("releaseNotes")?this.model.get("releaseNotes").toJSON():null}}}),v=l.CompositeView.extend({template:r.template(d),childView:f,childViewContainer:"tbody",initialize:function(){this.releaseNotesCollection=new u},mergeCollections:function(e){var t=this;this.collection=new h(e,{filter:function(e){var t=e.attributes.displayStatus,n=e.attributes.status.code;return"GA"===n||"LTSR"===n||!("EA"!==n||!r(["Initial Production Release","GA Candidate"]).contains(t))}}),this.collection.each(function(e){var n=e.get("shortVersion"),a=t.releaseNotesCollection.filter(function(e){var t=e.get("version");if(t==n||t=="NOS "+n)return e});a&&e.set("releaseNotes",a[0])})}});e.exports=c.extend({ViewConstructor:v,load:function(){var e=this;return a.when(i.request("global","get:nimbleosreleases:async","jQuery.Deferred"),this.view.releaseNotesCollection.fetch()).then(function(t){return e.view.mergeCollections(t),e.view})}})},function(e,t,n){var a=n(9),i=n(11),r=n(239),o=i.Model.extend({parse:function(e){return e.version=a.first(e.Version),e}});e.exports=i.Collection.extend({model:o,fetch:function(){return r.searchTemplate({index:"docs",template:"docs",params:{size:50,filters:[{term:{"Nimble Software and Solutions":"NimbleOS"}},{term:{"Document Type":"Release Notes"}}]}}).done(this.load.bind(this))},load:function(e){this.reset(a.pluck(e.hits.hits,"_source"),{parse:!0})}})},function(e,t){e.exports='<p>\n    This table provides a reference for currently available NimbleOS releases.\n    <strong>NimbleOS software can be downloaded directly via the System Management User Interface.</strong>\n</p>\n\n<table class="table table-striped table-bordered responsive">\n    <thead>\n        <th data-column-header="version">Version</th>\n        <th data-column-header="release-date">Release Date</th>\n        <th data-column-header="eoss-date">End of Support Date</th>\n        <th data-column-header="status">Status</th>\n        <th data-column-header="release-notes">Release Notes</th>\n        <th data-column-header="release-stream">Release Stream</th>\n    </thead>\n    <tbody></tbody>\n</table>'},function(e,t){e.exports='<td><%= shortVersion %></td>\n<td><%= releaseDate ? moment(releaseDate).format(\'ll\') : \'\' %></td>\n<td><%= eossDate ? moment(eossDate).format(\'ll\') : \'TBD\' %></td>\n<td><%= displayStatus %></td>\n<td>\n<% if (releaseNotes) { %>\n    <a target="_blank" href="<%= mediaUrl(releaseNotes.media[0].url) %>">Release Notes</a>\n\n    <% _.each(_.tail(releaseNotes.media), function(mediaItem) {\n        // TODO We assume alternate media formats are all PDFs\n    %>\n        <small class="alt-media">(<a target="_blank" href="<%= mediaUrl(mediaItem.url) %>">PDF <i class="fa fa-file-pdf-o"></i></a>)</small>\n    <% }); %>\n<% } %>\n</td>\n<td><%= releaseStream %></td>\n'},function(e,t){e.exports='<p>\n    Download additional software to complement your Nimble Storage Array.\n    To get started, please click one of the products on the left.\n</p>\n\n<div>\n    <div data-region="whatsNew"></div>\n</div>\n\n<div>\n    <h2>Integration Kits</h2>\n    <p>Software providing integration between your Nimble Storage Array and products from other technology vendors.\n    Includes plugins and adapters for popular third party frameworks and orchestration tools, and connectivity kits for major operating systems.</p>\n</div>\n\n<div>\n    <h2>Solution Kits</h2>\n    <p>Curated tools, utilities and scripts that have been developed by Nimble Storage and the Nimble community.</p>\n    <p>Provide feedback and connect with us on <a href="https://connect.nimblestorage.com/" target="_blank">Nimble Connect.</a></p>\n</div>\n\n<div>\n    <h2>NimbleOS Releases</h2>\n    <div data-region="nimbleOsReleases"></div>\n</div>\n\n\n\n'},function(e,t){e.exports='<div class="row expanded">\n    <div class="column small-6">\n        <div data-region="whitelistCategoryPanel"></div>\n        <div data-region="sidePanel"></div>\n    </div>\n    <div class="column small-18">\n        <div class="panel panel-default">\n            <div class="panel-body" data-region="mainPanel"></div>\n        </div>\n    </div>\n</div>'},function(e,t,n){var a=n(16),i=n(9),r=n(11),o=n(13),s=n(45),l=n(90),c=(n(228),n(128)),u=n(1511),d=n(1513),p=n(1514),h=n(709);n(1515);var m=o.LayoutView.extend({template:i.template(d),defaultCategory:"iSCSI Initiator Support",defaultSupportType:"iSCSI Software Initiators",sortColumnConfig:{"Replication Support":[{column:"Upstream OS",order:"desc"},{column:"Downstream OS",order:"desc"}],"iSCSI Software Initiators":[{column:"Host OS",order:"desc"},{column:"NimbleOS",order:"desc"}],"iSCSI Hardware Initiators":[{column:"Initiator",order:"desc"},{column:"Host OS",order:"desc"},{column:"NimbleOS",order:"desc"}],"Cisco UCSM Managed Servers Support (iSCSI)":[{column:"UCS Type",order:"desc"},{column:"Firmware",order:"desc"},{column:"Host OS",order:"desc"},{column:"Adapter",order:"desc"},{column:"NimbleOS",order:"desc"}],"Fibre Channel Hardware Initiators":[{column:"Host OS",order:"desc"},{column:"Initiator",order:"desc"},{column:"Driver version",order:"desc"},{column:"Firmware",order:"desc"},{column:"NimbleOS",order:"desc"}],"Fibre Channel (SAN) Switches":[{column:"Switch Model",order:"desc"},{column:"Firmware",order:"desc"},{column:"NimbleOS",order:"desc"}],"Cisco UCSM Managed Servers Support (FC)":[{column:"UCS Type",order:"desc"},{column:"Firmware",order:"desc"},{column:"Host OS",order:"desc"},{column:"Adapter",order:"desc"},{column:"NimbleOS",order:"desc"}],"Veritas Storage Foundation Support":[{column:"Application",order:"desc"},{column:"Host OS",order:"desc"}],"Storage Virtualization Appliances":[{column:"Storage Virtualization Appliance",order:"desc"}],"Nimble OS Support":[{column:"Nimble Windows Toolkit Version",order:"desc"},{column:"NimbleOS",order:"desc"}],"Nimble Setup Manager (NSM)":[{column:"Host OS",order:"desc"},{column:"NimbleOS",order:"desc"}],"Nimble Connection Manager (NCM) for Windows":[{column:"Host OS",order:"desc"},{column:"Nimble Windows Toolkit Version",order:"desc"}],"Nimble VSS Services":[{column:"Application",order:"desc"},{column:"Host OS",order:"desc"},{column:"Nimble Windows Toolkit Version",order:"desc"}],"NCM for VMware Compatibility with Nimble OS":[{column:"NCM",order:"desc"},{column:"NimbleOS",order:"desc"}],"Nimble Connection Manager for VM":[{column:"NCM",order:"desc"},{column:"vSphere Version",order:"desc"}],"SRA for SRM":[{column:"SRA",order:"desc"},{column:"SRM",order:"desc"},{column:"NimbleOS",order:"desc"}],"VMware Synchronized Snapshots":[{column:"vSphere Version",order:"desc"},{column:"NimbleOS",order:"desc"}],"Management Plugin for vCenter":[{column:"vCenter Version",order:"desc"},{column:"NimbleOS",order:"desc"}],"Nimble Connection Manager for Linux":[{column:"NCM",order:"desc"},{column:"Host OS",order:"desc"},{column:"NimbleOS",order:"desc"}],"NimbleOS Support for Cisco UCS Director Integration":[{column:"UCS Director Open Automation Module Version",order:"desc"},{column:"NimbleOS",order:"desc"}],"Nimble Storage UCS Director Open Automation Module":[{column:"Open Automation Module Version",order:"desc"},{column:"UCS Director Version",order:"desc"}],"NimbleOS Support for Adaptive Flash Cinder Driver Integration":[{column:"Adaptive Flash Cinder Driver Version",order:"desc"},{column:"NimbleOS",order:"desc"}],"Nimble Storage Adaptive Flash Cinder Driver":[{column:"Cinder Driver Version",order:"desc"},{column:"Openstack Version",order:"desc"}],"Backup Software Support":[{column:"Backup Software",order:"desc"},{column:"NimbleOS",order:"desc"}],"Browser Support":[{column:"Browser",order:"desc"},{column:"NimbleOS",order:"desc"}]},className:"support-matrix-view card card-no-margin card-section",regions:{gridRegion:".grid-region"},ui:{titlenotesContainer:".title-notes-container",titlenotes:".title-notes",gridContent:".grid-content",supportTypeLabel:".support-type-label",dropdownMenu:".support-type-list",selectedSupportType:".support-type",footNotes:".category-footnotes"},events:{"click a.support-type":"onSupportTypeClicked"},showFilters:!0,initialize:function(){this.collection=new u},onRender:function(){this.loadSupportTypes(),this.renderTable(this.allConfigsBySupportType(this.defaultSupportType)),this.category=this.defaultCategory,this.type=this.defaultSupportType,this.displayTitlenotes(this.type),this.displayFootnotes(this.type)},loadSupportTypes:function(){var e="",t=this.collection.models.length-1;this.collection.each(function(n,a){var r="";i.each(n.get("supportTypes"),function(e){r+=i.template('<li><a href="#" class="support-type"><%= type%></a></li>')({type:e.type})}),e+=i.template('<li class="dropdown-header"><h4 class="no-margin"><%= categoryName%></h4></li>')({categoryName:n.get("category")})+r,a!=t&&(e+='<li role="separator" class="divider"></li>')}),this.ui.supportTypeLabel.text(this.defaultSupportType).append('<span class="caret"></span>'),this.ui.dropdownMenu.append(e)},renderTable:function(e){var t=["NimbleOS","Nimble Windows Toolkit Version","Downstream OS","SRM"];if(e&&e.supportedConfigs){var n=e.metadata.map(function(e){var n={multipleSelect:!0};return-1!=t.indexOf(e)&&(n.splitValueOn=","),{data:e,filter:n,name:e,title:e}});this.grid=new l({id:"support-matrix-grid",tableTemplate:this.ui.gridContent.html(),sort:this.sortColumnConfig[e.type],model:new c({collection:new r.Collection(e.supportedConfigs),columns:n,emptyLabel:"Loading...",showFilters:this.getOption("showFilters")})}),this.gridRegion.show(this.grid);var a=this;this.$("#generatePdf").off().on("click",function(){!function(e,t){var n=[];e.grid.rawRows().every(function(){for(var e=this.data(),a=[],i=0,r=t.length;i<r;i++)a.push(e[t[i].data]);n.push(a)});for(var a=[],i=0,r=t.length;i<r;i++)a.push(t[i].data);var o=new h;o.setFontSize(10);var s=10,l=Math.round(30),c=Math.round(12.65);o.addImage(p,"png",10,s,l,c),s+=c+10,o.setFontSize(18),o.text("HPE Nimble Storage Validated Configuration Matrix",20+l,15),o.setFontSize(10);var u=(e.getTitlenotes(e.type)||"").replace("<br>","\n"),d="";u&&(d=o.splitTextToSize(u,160)),""!==d&&(o.setFontSize(12),o.text(10,s,d),o.setFontSize(10),s+=5*d.length+5),o.autoTable(a,n,{startY:s+10,margin:{top:25,bottom:20},addPageContent:function(t){console.log("pageContent",t);var n=t.settings.margin.left+15,a=t.table.pageStartY-15;o.setFillColor(120,198,57),o.rect(n/2-.5,a,181.75,15,"F"),o.text(e.type,n/2+2,9.5+a),o.setFontSize(7),o.text("© Copyright 2018 Hewlett-Packard Development Company, L.P.",n/2,o.internal.pageSize.height-10);var i="PDF Generated: "+(new Date).toString()+".";o.text(i,o.internal.pageSize.width-n/2,o.internal.pageSize.height-10,"right"),o.text("See https://infosight.hpe.com/resources/nimble/validated-configuration-matrix for the latest updates.",n/2,o.internal.pageSize.height-6),o.setFontSize(10)},theme:"striped",headerStyles:{textColor:0,fillColor:[120,198,57]},bodyStyles:{valign:"top"},styles:{fontSize:8,overflow:"linebreak",columnWidth:"auto"}}),o.addPage(),s=20;var m=e.getFootnotes(e.type);if(o.setFontSize(10),m&&m.length)for(var f=0,v=m.length;f<v;f++){var b=m[f],g=o.splitTextToSize(b,180);o.text(g,10,s),s+=4*g.length+5}o.output("save","HPE Nimble Storage Validated Configuration Matrix: "+e.type+".pdf")}(a,n)})}},onSupportTypeClicked:function(e){e.preventDefault(),this.type=a(e.target).text(),this.category=a(e.target).parent().prevAll(".dropdown-header").eq(0).text(),this.ui.supportTypeLabel.text(this.type).append('<span class="caret"></span>'),this.renderTable(this.allConfigsBySupportType(this.type)),this.displayTitlenotes(this.type),this.displayFootnotes(this.type)},displayFootnotes:function(e){this.ui.footNotes.empty();var t=this.getFootnotes(e);t&&t.length&&this.ui.footNotes.append("<p>Notes:</p>"+t.join("<br>"))},getFootnotes:function(e){var t=i.findWhere(this.collection.pluck("supportTypes").reduce(function(e,t){return e.concat(t)}),{type:e});if(t)return t.footnotes},displayTitlenotes:function(e){this.ui.titlenotesContainer.hide(),this.ui.titlenotes.empty();var t=this.getTitlenotes(e);t&&(this.ui.titlenotesContainer.show(),this.ui.titlenotes.append(t.replace(/\n/g,"<br>")))},getTitlenotes:function(e){var t=i.findWhere(this.collection.pluck("supportTypes").reduce(function(e,t){return e.concat(t)}),{type:e});if(t)return t.titlenotes},allConfigsBySupportType:function(e){return i.findWhere(this.collection.pluck("supportTypes").reduce(function(e,t){return e.concat(t)}),{type:e})}});e.exports=s.extend({ViewConstructor:m})},function(e,t,n){var a=n(11),i=n(1512);e.exports=a.Collection.extend({model:i,url:function(){return this.api().central()+"/validatedConfigurations"}})},function(e,t,n){var a=n(11);e.exports=a.Model.extend({})},function(e,t){e.exports='<div class="support-matrix flex-container align-justify">\n\n    <div class="">\n        <h4 class="no-margin">Support For:\n            <div class="dropdown">\n                <a class="dropdown-toggle support-type-label" data-toggle="dropdown" href="#"></a>\n                <ul class="dropdown-menu support-type-list"></ul>\n            </div>\n        </h4>\n    </div>\n\n    <button id="generatePdf" class="button"><i class="fa fa-file-pdf-o" aria-hidden="true"></i> Download PDF</button>\n</div>\n\n<div class="panel panel-default title-notes-container">\n  <div class="panel-body title-notes"></div>\n</div>\n\n<div class="grid-region"></div>\n\n<p class="category-footnotes"></p>\n\n<script class="grid-content" type="text/html">\n    <table id="support-matrix-grid" class="display table table-striped table-bordered" style="width: 100%;">\n        <thead></thead>\n        <tbody></tbody>\n    </table>\n<\/script>\n\n'},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAD9CAYAAABgKAmoAAAABGdBTUEAALGPC/xhBQAACjtpQ0NQUGhvdG9zaG9wIElDQyBwcm9maWxlAABIiZ2Wd1RT2RaHz703vVCSEIqU0GtoUgJIDb1IkS4qMQkQSsCQACI2RFRwRFGRpggyKOCAo0ORsSKKhQFRsesEGUTUcXAUG5ZJZK0Z37x5782b3x/3fmufvc/dZ+991roAkPyDBcJMWAmADKFYFOHnxYiNi2dgBwEM8AADbADgcLOzQhb4RgKZAnzYjGyZE/gXvboOIPn7KtM/jMEA/5+UuVkiMQBQmIzn8vjZXBkXyTg9V5wlt0/JmLY0Tc4wSs4iWYIyVpNz8ixbfPaZZQ858zKEPBnLc87iZfDk3CfjjTkSvoyRYBkX5wj4uTK+JmODdEmGQMZv5LEZfE42ACiS3C7mc1NkbC1jkigygi3jeQDgSMlf8NIvWMzPE8sPxc7MWi4SJKeIGSZcU4aNkxOL4c/PTeeLxcwwDjeNI+Ix2JkZWRzhcgBmz/xZFHltGbIiO9g4OTgwbS1tvijUf138m5L3dpZehH/uGUQf+MP2V36ZDQCwpmW12fqHbWkVAF3rAVC7/YfNYC8AirK+dQ59cR66fF5SxOIsZyur3NxcSwGfaykv6O/6nw5/Q198z1K+3e/lYXjzkziSdDFDXjduZnqmRMTIzuJw+Qzmn4f4Hwf+dR4WEfwkvogvlEVEy6ZMIEyWtVvIE4gFmUKGQPifmvgPw/6k2bmWidr4EdCWWAKlIRpAfh4AKCoRIAl7ZCvQ730LxkcD+c2L0ZmYnfvPgv59V7hM/sgWJH+OY0dEMrgSUc7smvxaAjQgAEVAA+pAG+gDE8AEtsARuAAP4AMCQSiIBHFgMeCCFJABRCAXFIC1oBiUgq1gJ6gGdaARNIM2cBh0gWPgNDgHLoHLYATcAVIwDp6AKfAKzEAQhIXIEBVSh3QgQ8gcsoVYkBvkAwVDEVAclAglQ0JIAhVA66BSqByqhuqhZuhb6Ch0GroADUO3oFFoEvoVegcjMAmmwVqwEWwFs2BPOAiOhBfByfAyOB8ugrfAlXADfBDuhE/Dl+ARWAo/gacRgBAROqKLMBEWwkZCkXgkCREhq5ASpAJpQNqQHqQfuYpIkafIWxQGRUUxUEyUC8ofFYXiopahVqE2o6pRB1CdqD7UVdQoagr1EU1Ga6LN0c7oAHQsOhmdiy5GV6Cb0B3os+gR9Dj6FQaDoWOMMY4Yf0wcJhWzArMZsxvTjjmFGcaMYaaxWKw61hzrig3FcrBibDG2CnsQexJ7BTuOfYMj4nRwtjhfXDxOiCvEVeBacCdwV3ATuBm8Et4Q74wPxfPwy/Fl+EZ8D34IP46fISgTjAmuhEhCKmEtoZLQRjhLuEt4QSQS9YhOxHCigLiGWEk8RDxPHCW+JVFIZiQ2KYEkIW0h7SedIt0ivSCTyUZkD3I8WUzeQm4mnyHfJ79RoCpYKgQo8BRWK9QodCpcUXimiFc0VPRUXKyYr1iheERxSPGpEl7JSImtxFFapVSjdFTphtK0MlXZRjlUOUN5s3KL8gXlRxQsxYjiQ+FRiij7KGcoY1SEqk9lU7nUddRG6lnqOA1DM6YF0FJppbRvaIO0KRWKip1KtEqeSo3KcRUpHaEb0QPo6fQy+mH6dfo7VS1VT1W+6ibVNtUrqq/V5qh5qPHVStTa1UbU3qkz1H3U09S3qXep39NAaZhphGvkauzROKvxdA5tjssc7pySOYfn3NaENc00IzRXaO7THNCc1tLW8tPK0qrSOqP1VJuu7aGdqr1D+4T2pA5Vx01HoLND56TOY4YKw5ORzqhk9DGmdDV1/XUluvW6g7ozesZ6UXqFeu169/QJ+iz9JP0d+r36UwY6BiEGBQatBrcN8YYswxTDXYb9hq+NjI1ijDYYdRk9MlYzDjDON241vmtCNnE3WWbSYHLNFGPKMk0z3W162Qw2szdLMasxGzKHzR3MBea7zYct0BZOFkKLBosbTBLTk5nDbGWOWtItgy0LLbssn1kZWMVbbbPqt/pobW+dbt1ofceGYhNoU2jTY/OrrZkt17bG9tpc8lzfuavnds99bmdux7fbY3fTnmofYr/Bvtf+g4Ojg8ihzWHS0cAx0bHW8QaLxgpjbWadd0I7eTmtdjrm9NbZwVnsfNj5FxemS5pLi8ujecbz+PMa54256rlyXOtdpW4Mt0S3vW5Sd113jnuD+wMPfQ+eR5PHhKepZ6rnQc9nXtZeIq8Or9dsZ/ZK9ilvxNvPu8R70IfiE+VT7XPfV8832bfVd8rP3m+F3yl/tH+Q/zb/GwFaAdyA5oCpQMfAlYF9QaSgBUHVQQ+CzYJFwT0hcEhgyPaQu/MN5wvnd4WC0IDQ7aH3wozDloV9H44JDwuvCX8YYRNRENG/gLpgyYKWBa8ivSLLIu9EmURJonqjFaMTopujX8d4x5THSGOtYlfGXorTiBPEdcdj46Pjm+KnF/os3LlwPME+oTjh+iLjRXmLLizWWJy++PgSxSWcJUcS0YkxiS2J7zmhnAbO9NKApbVLp7hs7i7uE54Hbwdvku/KL+dPJLkmlSc9SnZN3p48meKeUpHyVMAWVAuep/qn1qW+TgtN25/2KT0mvT0Dl5GYcVRIEaYJ+zK1M/Myh7PMs4qzpMucl+1cNiUKEjVlQ9mLsrvFNNnP1IDERLJeMprjllOT8yY3OvdInnKeMG9gudnyTcsn8n3zv16BWsFd0VugW7C2YHSl58r6VdCqpat6V+uvLlo9vsZvzYG1hLVpa38otC4sL3y5LmZdT5FW0ZqisfV+61uLFYpFxTc2uGyo24jaKNg4uGnupqpNH0t4JRdLrUsrSt9v5m6++JXNV5VffdqStGWwzKFsz1bMVuHW69vctx0oVy7PLx/bHrK9cwdjR8mOlzuX7LxQYVdRt4uwS7JLWhlc2V1lULW16n11SvVIjVdNe61m7aba17t5u6/s8djTVqdVV1r3bq9g7816v/rOBqOGin2YfTn7HjZGN/Z/zfq6uUmjqbTpw37hfumBiAN9zY7NzS2aLWWtcKukdfJgwsHL33h/093GbKtvp7eXHgKHJIcef5v47fXDQYd7j7COtH1n+F1tB7WjpBPqXN451ZXSJe2O6x4+Gni0t8elp+N7y+/3H9M9VnNc5XjZCcKJohOfTuafnD6Vderp6eTTY71Leu+ciT1zrS+8b/Bs0Nnz53zPnen37D953vX8sQvOF45eZF3suuRwqXPAfqDjB/sfOgYdBjuHHIe6Lztd7hmeN3ziivuV01e9r567FnDt0sj8keHrUddv3ki4Ib3Ju/noVvqt57dzbs/cWXMXfbfkntK9ivua9xt+NP2xXeogPT7qPTrwYMGDO2PcsSc/Zf/0frzoIflhxYTORPMj20fHJn0nLz9e+Hj8SdaTmafFPyv/XPvM5Nl3v3j8MjAVOzX+XPT806+bX6i/2P/S7mXvdNj0/VcZr2Zel7xRf3PgLett/7uYdxMzue+x7ys/mH7o+Rj08e6njE+ffgP3hPP74FSqLwAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAB7CAAAewgFu0HU+AAAAB3RJTUUH4gMODy4G2R/27gAAIABJREFUeNrt3Xe8HHW5x/HPKTnpjQSSQAgBBOlFCAREAZWilw7S7Iheil5BBAH12gX0Ckjz0psioFKk2ajSey/SktATSspJPe3+8Tx7sxzOzsxvZnbPnN3v+/WaF5qzOzP7m/bMrzw/uO5ERERERCQ/TQBcd+IIYF2gRUUiEmsR8BS7HtulohARkb60+n/XBa4GRqpIRGJfSp4APgPMU3GIiEhUgNXiwdUoFYlIrOGUan9FRET60KwiEBEREVGAJSIiIqIAS0REREQBloiIiIgowBIRERFRgCUiIiKiAEtEREREFGCJiIiIKMASERERUYAlIiIiIr20Zvjuc8AtaIJoGdjagJ2BiSoKEREpQoB1J7see5iKUAa0605sA/6hAEtERPLU3E/fFSmKwTqXRUSkSAGWiIiIiCjAEhEREVGAJSIiIqIAS0REREQBloiIiIgowBIRERFRgCUiIiKiAEtEREREFGCJiIiIKMASERERUYAlIiIiIgqwRERERBRgiYiIiCjAEhEREREFWCIiIiIKsEREREQUYImIiIgowBIRERERBVgiIiIiCrBEREREFGCJiIiIiAIsEREREQVYIiIiIgqwREREREQBloiIiIgCLBEREREFWCIiIiKiAEtEREREAZaIiIhIAwRY3So+qQMdQI+KQURE8tSa4buTue7EjwNtKkYZwIYCY1UMIiJSlABrJ19EREREpIz6YImIiIgowBIRERFRgCUiIiKiAEtEREREFGCJiIiIKMASERERUYAlIiIiIgqwRERERBRgiYiIiCjAEhEREZFKAVYzmlNQJCldKyIiEqk0F+HrwJnAEBWJSKQm4FVgqYpCREQqu+5ElYGIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIjkrsn/OxrYBGgN+N5rwDNV2q+1gVUDv3MnsFSHtG6sBUwJ+Px7wGNAl4quoa0LrAL05LzeLr+/tANvAbNV1IXWBmwNtCT8fDfwtB9bkXLDgI8BnQk/3wk8Cswr/cNWfuPoCVguqmLQd3rgvvQAk3Ue1JWTA4//bcAIFVvDuzDFvSPt8pJvb0+/CTer+AtjErA44Fh2APur2KQPHw68L7R7TPX/NVY9Kd78u6v4g3p0TBteT4HOR6nf8yaL1X35sv//vwJXeLA/Q4ei38+DkGea7h+S1z2lq/QdvXGJiORjZ6xG6zbgVGCoikSkcSnAEhHJ12rAt4AXsL6tIqIAS0QGiNbApSnDtppqvL16sTLwiAdbLSoOkca7SYvIwDIB+DvWiTeJxcCxwH0pt7cScDEwJuHnhwJHALfqUAHWXLgq8B0VhYgCLBEprsHARgGfX4ilYkmrDdgMGB/wnRV0mN7nKGzU4VkqCpHGoCZCEZHaOBPYScUgogBLRETydS7WN0tEFGCJiEhOVgUOVTGI1D/1wRKRRnc7MCfihbMZ64c2CpgIrEm2UZJfxDq+v6OiF1GAJSJSr44B7k/wuWFYR/81sFqofVNubwrwSeBKFb1I/VIToYg0uraEn1sEzMIyte8H7JJhm99UsYsowBIRkQ+6AZgOLEjx3W0CAjsRUYAlItJQ7gN+QbrJgndW8YnUL/XBitdU9t/BWFbrIcASrJPqIpbPtt2j4mqI86G0jMOym3cB7X4+dOt8aDjnA0f6vSHENsBfMtyTSv+7FVgRGO7/tsjPxaW9zsOeAl5HPcAILDFt6b76nl9PpX3WddT38wgvu3H+bFpWdh/qGYD3od4DR3pyXm+zXycj/T79ni9N1TrPFGBVthawIdYZdTqwvp/EfXkeeBjrm/Ew8KTf5EKPxc5AZ8LPtwB3EN48sQawdsxnmoGZwFOB627BMn4nzeK9DLiH5FO+9JcxwAbA1sC2wKbApAqffdeP/93Av7wMZ6bc7jp+vHrXjqyY4rhsXvZQC9HjgUNoc9amwHwqz8HXjGU2f7YO7hVz/DzePfB7Idn4R/i5MNWvsY2Bdf3/Rx2bV72MHwbuBf4NPBdwn8nTKsCHgWl+LW3k+x+170/6ft/lv+PVAh33qX6NhuoE/hnw+ZV9W2sDW/iz6MPYlFmVLAZe9PK7D3jMj/1rOf32lfwcbAm4Rh71l9He5/Umfn/aCBtE0gnMBp7w8/Y+0tUQT/Xy+rS/zHyowudmAA8CN/u59ljewdZ0YF5ZFJdkuaCKUexpgfvSA0zOafult8pXU+xDjz9U7gMOS7Ht0G19JXD9zcAZCdf9QIr9XwF4OWD/Z0c8HH4dWBa3+MWap2HAT/yCW5LyfHgRuAgbORbq1JTbHCjLqVW4f1yQYj+2yWG7B6XY7jMJ1ruJ3w/v9+sla5m/4S+CX69hILIJ8HsP7DpS7nc38AI2J+ZaCbY50Wtzkq5/KbB/wG8a4vf5NL/l7ITbONCfRc+yvKUk7bLMy/93fjyy2j3wnniT3097r+OBmPW8AowN3LexwP8GPotKy7se/G5ftr61A9cxz2MqBVi9Iuk/sLyJJ4/lZa8FS+qKwPX/I/A3jvI37aTrHxS4/g0C9//yiHX1d4D1ab/Y8gwofhS4D6fUeYB1Sh0FWFuk2O6siPVt7g+fapb/W8B2VQysRgNXVWG/O4DjiG6BqXaAdUbKfY9LB9KKNTe3V/nYX50icOkdHIUEfTf2CrDOCDhHQ+ZA3Yr3N5GmXbqAE/x4pA6w1Mnd7ORvR/uTLYFgX1WUDwNfS/j5CwPXv7EHTUmNBD4S8PnPBu7PfoGfP7+A58IEf0u+MeMNqC8/BP6esjZLim1uypfJvmznwdXmVd7nlYBbgdMD7yNxBmF5wuYAe1Zhv1uxgQUT+ulYHwQcnuJ7M/zFLapW7CrgZJb3p6uWPbxmbLcal10z8JuU5Rd3ThyDdc1YIaf9PNafBSOzrKTRHQdcV8WLtRU4BzgrwWcfJiy78/DeVZEJ3rJD+tIcEPhbvxTw2aUpauCqbYrXhH2xitvYAWuiWUOXXl0ZnOO6RtZ437/hgX8eNcDDgOv9fjeoivu8jP7pvL016Zq2O4GDY+7vLcDQGv6WlYA/Az+r0fYWA4cA/1WFdf8SOKkK6z0QuLTeAqxaXTjf9jehQTXY1iHA92I+Mx+4M/BmtkXA50NrpDYLeHBMxuZZS+qygp1zE4CngfVqsK3VsQ7wE5B6kSZg7uzn+1+5LbE+RUMyXkNPAjvW6TEe7cFVmgD4e1gn6qI8+8orAI6l+olvO7HO+WdWYd2HY82q1bJulsJNa5S/8Q/O+cc0YaO2qu0wrJ9PrTQBP8aq5O+u8Jkl2GiZkNFI0/ytJ8lIvD0C93mEB1l3J/js5wLXfXGBbpyrYKNHhtdwmytj/RAOoH9GdEm+PpXiO68X7Des5zUBRxA+amsccI2/PNSrn/v9NtRFXq5F1YL1N7odeLyK27iiCuvd2e+jhdSa8YeVhn4PtABrpxoHV+Un2Z/8gV7pTeUuLPVC0rekLT0wiAuwNiW8+nmEH+MkAVZI/6s3CE8BUS2DgN+S3yjUEPtg89H9UfHJgNYCfCbF954p4G/5JtYX9JHA711BWHeFgeYY0vUbuo2BMS3ScKxVYYMqrX878m/+nAKcV+RCbc14QIYPwAtljEfrQ/pp+5Ow0VNHVPj73dgohKQB1gSseeLtmM+lmZi2CavBGoSN3Ik60UOaB+8k3fQi1XAgsGs/bv8SBVgD3mdTBuj3FvT3nAF8NODzp2L5AuvVx4AfpPjeu1hn//YB8jvXx/qJVSNoGZbz+pr9GbpKvQZYA9XXsNqcNG+bL/syz6Px1bDkZRsSVpP3ZeBXVE76dgPwnwHrO4D44b9pR4tsjtVkvRfxmS0DAsIerJZuaQHOhfFY9X2aG2fpfHiN5ck41/SbVMiw4iFYrq3/bsDrsx5+32Tg+6SbV/DvGbbb7fehRSxvYh7kD7KsLQClJKCPJ/zsIXV8jo7xF+I0AwC+SnUS6S72F9Slfh6UZhkZmUMg810KXitUdt19peg72WgB1oqEjzSY628ht2NNW309pLfxt76k0fQorHnoNxX+fk5ggPV5ojv5TcXywqSxHpauoFKA1YR1tE/aF2++B1hFcG6K75yDDWt/vo8gsZQz5dt+cw0JuE8CFvb699s9AOtdezgC+ELA+juBv2J5l9I06Y/wWpqQWt+/YUlWK21vkP++gWwdrIl3/RTffYXoPFh9ecnL9W7//vwKAdZof+nbl7CaqHLH+H0lymA/17P2w73Tg80nPXDo8XVOwdLK7ExYDXmezsZq8UMdgvVJy8ut2AjnR7HWivayAKvZA/wRWIvGdn5PSZNmZqKfM3cV/No7NIcXiYewkftv+bWzKlZbmfu5libRaNGWJFX0oUkI3wk4iJt5MJZ03TfEvG28F7ivH45Y1z6kz0TeQ3RW+pHYlD1J1zUjYXlWO9HoxinKOGk+s1JqjqTrXURYM+WUwP1uJ9vIrlWxnEYh29y7n268tUg02ua1VlmuqeMi1r8L70+qeSlWO5rGrqRLWplkSpp1Mt6z/07yptWNPcgoJYJeig0UiQoUsiYa/W7K33UR6UamD/cyKU9Ee2jKALYNS+ScJmP+EQnWH5poNEsy3L5aBLKs87qYc2c61kc47fobMtHoioSNzlvkkXzSBIIPETZS5KNEN6uFJuE8ICb4y/KWuX9MgBUysuaqgpwPewS+AZ0bUOPViSUVfTPh54eSTzZxSWdbrAl9zwrLXl5j+APgWn9w/zTDNbUU63sXdf7MAU70QOELXhuYxnUeXHcFfm8Y8cPTv59yn97Gauh3JPncgo9h05d8Cuu7Vu1n18f8GId6Gjia6D6rlZRehu7CaoynYANw0nSnWOb37dARdk1Yq0VLlcu33Wv49vYAqqlsmezX45n+XO09yvqglNuc68/JXYkewXsvViv9U3Ia4d0INVhfYHlyuiTLyaRrTlkcsI1tI9azSeDvfyLhW1HapdINba8ca9pqVYM1EmuWCHkj+VCKcyFkOo1/kHzQiGqw8q3BqvVyEdHdM8YQPQlyGicE7uPCmHNmWIYaiayjDYdiaWFGVqkGa4QHSqG/bXHK+0RJs3+/LcfjvgI2S0nI7+hr3sA8a7BeJPkUTUP6eA7fTbq5GPdIUX5fUQ1WvBavMUpabbsAG9mVJunbnwM+G5U7Z5ZfGElNou9kh8MJmx6nkkqd5D8fsI7XsAlH+9towvqm3BJ4LEouCvjsuuQ/0kaKZ76/mXfGvGnPyHm7of0NW4kerPGFFPvQgTW7ZR09uRibPLpaI5EvJF1yyR1S3idKShNaL8v5fLst8DvjqV7y7bn+Up50n5b0eg6vSLrm8ktI1yfuQqw1IpVG6eReSpiZ1GxsUuQ0biN50s3pMUHeXQFvRKWmupd6/fuaWBLArParcIKGzDVWlNEpoR1/T0u5nQcDPrsKtZ0mQ/rHmdg8g1nvZ+P8v0NY3pzT4cFHuz/IytMDtGN9DpN2fG4hukb1symvh4sKelxKtVhHYn1WQ/2YsFk40hqP1XAO9yCoBWv+XYbVKM3HRjmXAvhOwgdTDKN6lS/HYs29aW2Y4kW0g2wjXS/x46sAq4KhhI30eRfraBp6ILsJy2S8YcxJcacHa0mOUxs2mu/KXhH/Z3Mqw4/6RVee4XmnwHVcWZDzYefAz0/wcgxtMl7sb2BJR99NSXEzlIHjUuD4lN8dhzW7fhJLDzPOX6qG+P2hpyzAWuAB1mwsYei/sJQL8wMCrKaI+04b6aaUKnLCzR6s2StNcPV3qjuf3zSseWtzvxeN9eB6UNk9eSnWrFsKsGZ6JcHNhE9E3kr+CcTBRomenXEdH0rxInoa2fpSpW6ybZQAa3zgQZmGdQ6ttri56EpZ3ZPeFLfwC29BFQKsUVhTY3mtTMj0OE/Rd5qL/hDaB+QPGW7aITeqNWr0Fiy1dzM2IizUClhakH0T3q973yt2LXvhCu3y0BRxnoZ28H8J67BcVEMIm6y+5I0UL5pJy34H4H8TvrSP5INNul9k+cjAPI57Vr/IYR1TCO+Af0l/nVRZAqwbsLbJtiqcWEfkGBhA9dL/53UMKkXXz2CjHZIGWNM8ECoFWJNINgz6Er8Yo5SmzXmw7Dh9IuB33uVvV0WwTo22E3qjmojUoxv9ZWRhwHfGAN8g3Ui2SudhXg/OlVMEWFfU4XGdS/RApbQ2wfLi7ZjTsW8pSHllzXvXkqBSord3+vPFPkuA9VYV30j2zXl9Uwt8kY4hepqbywNusoOx2plSR/uk8wMei3VabYo5uTcrCwi3IHn29g4PsLoKUN6DCnwujFYsUlc6gaOwZpGQofaTgav9haaIxqV4dtxdZ8d2MZYf8Pmc13soNuKz3u4F3Tmso5Xw5KKvkC5lRi6ydGSrVjViE/l3sBtf4BMv7u0itGP4gWX/O0kt4PUe5SeZ3LU0bQ6ETY9TpOztKw3gc0EGjgewlCSnBQZX47EUAZsX+LcNT3GuPl9nx3cZ+Y+IPgg4q05ftJpyiBlaCO8XPZecclnVOsAaSAby6Kw3/YabVGlU3xhgrQSfv9JvFklGvG3i6x2E1WAlvWBmkT5RYt6GIFIds4C/YH1ytuCDI3rjjPPAbGTBf+egFA/LRXV2rEcDPyf7NEElexCeXLrRRA28iAqEe/prhxslwOoa4Pt/duBJuL0HQ0mi/Tv8vw8lLKdtPWAN6Sh+aYHKshuRfLRjgxJOwvLEfRIbiZZmEudW4EcUuztD+f009KE1qA6P/86EzRlbyVrY1FoSLU2H/X5tFWiUUYTtA3z/r6HyxNB9ORAblh2XGfxRLOssWA1WO/HV0/tiub5Ckr0V6c1sASLvdyLwbIKbcQfW5PAqViPbTvoRer1NJnrOzyJZlOJBtxrhNXq1fvFaRngN92+widT/nXK7zcDhWAJNiT9GiwO/M7o/45xGCbDeTHEgm2qwX0m3MRdrOkg659/uJOsM+FBZ8PmwbycuwNqJ+BGH5R6gOKMHIXpAQX+eD030Y1V2g7sGuK+f9+Eo0rUovID1b3oSy3vV4S9WE7CcQZM8uFkhx30t9WsJGUG+GTZZc1Etw9JhHEzyUdsl1wGbkq4ZdBzpRswvwlLfPOfB3QJ/QRiNTW21Ostn96iX53xXWYVAUhPpx9rTRgmwQqcveMBveMOrvF8tWHblOKWs7kkDrPFY/pu4k/VB3t8B8A7ip8BowSYzTersAp4Piwnrl7erP7iqGWQ1U5x+ao2mCM1XoZmme7DJli8hesLkUVht86fJL63Omx6QhHQ43gf4nwKfA81+j50D/DLwu2tjCWR/kOIlaXMs7UWIJ7BURvcRnfpjMpYQ9ruEpdQpqo4UL8iTPeh8uz92uFECrGdSHJR7KU7frR6sr8ehJOtU2ZTgcwv5YJqNK0g2x1jSTrjdwN8KeD48Amwd8PlhwJ8Uh0iVTE9xLz6RZIkb5/v5/qrfPybnsL8zCBsZCTbqeCWslq2ohgK/8mBwi8DvHo/Njxj6rNkz8PPvYZNSJxn49KovG9ZJgFX6TaEJnHcDTumvqL0RtBPWTLgC8JmC/YY7ybf/UOnGW+6GnPf5bsKrdGvhX4GfP7IOrgE1PxY7wArRSfiUOz05ngNzSZe88eQBcjz2I7zfbhNwLeE1hFsGfv4mwkaV15sXsOnHann/Tl3R0igB1iKsWjXkTearFKuG763A3xDnXvrOD3Jzjtu4i2J2Kr8+8PMfwaatGKjBUhO1bwbTxNXJTQ38/O01Om+iXJ3iO3sD2w2A4zEDGxkaWl5rARdU+dinmcKtnkZOP0V4X7dVCevW0tvOab/YKAHWQsI7se7uN4QiuTjHdVWaePnynNa/mNomFw3JzfNvwpoqhgA/oTj5iUJv/G1Yh9e0OlNsc30kqdBcSmleWlrJN+HyeSm+MwT4LeGdyPuyOdXtI3sS6UY97k3YhNGhx35hin0aV0fXygzS9ac6HktdFGpb4AwFWPFuSXFyXk58Z/GQAGAHrBYq7ZDcy3Isj2sr/Ps/clr/gowBVuhb1wSS5zyZR/iIpunYxKtjcyqfNYBTsQ6oacomJDtxK7AV6TvpL0lxPPZDQl5GQqybYhvfIjwLdpTXgXtSfG8dbDDNeim3OxXrJ/UA4dOmhOgADkgZRP4oIJhdkqL8QqxYh9fi71N8Zww2IGSjgO/slfV52EgB1q3YvEShrvIHYZaMvftguVJuwCaebs5w0efRafx+bBRQpeDj8Ry28SDwbobvh3aiXSvg4lnqxyJ0jqoDsSSSWTqMTsWGg9/iD700w+c7sX4wIT6XYb/nEt4PYXUs07XEmxn4+Q8HBll7YvON5u17Kb+3Adan9JcB5/8Gft3cDnyH2mTofiDlC9D6wK8TfnZGintQiNOwdB315PSU39vQn58/j3lR3gT4g1do5NK1Yro/WHsClguqVHhNflL0BC5JRsfsl2K9pWUR8OOAN5Mp2LDoN/ztv3xdEzKUz94ZfkNp+XZMbcf5OWxjn4znwdEptrkUS4RaCmBHAl+vEHi1sXxESprln8DHE/6WQVhN6D/7OBdOTFE2Y7G8R2n2+3Q+2O9jdSzJ5acitvl0im11eSC7Wa91jQO+go2GytsFKfZzm35+YGyTYp+fIVk/t11YnhA19NjFJT4d6YFS2muo25e/Yrn11saa/Yb4/XwHbKTkjD6um6VEpzeYGPi7l1Y4H0dhNfFpft/nEhyf0HttJ5aiIYk/pdzvfycIfHf3Z2LIsV4lx2vm8oznXQdWk/ozLEXKN7GmwOdZ3iUi7TKPXgNXGiXAKr2VZA0eXvCT9xSsOviH/qA83x+i78V8P0uAtRLW1Jll/9eO2cZhLJ8OI+2S1RfL3lKzLrtV2Mbnc1j3Eiyz/bn+ZvQDv2hP83PkqZjvpwmwhmGjiXpyXr4Rsc3f57D+7j6CPQVYJk15PuXn9lr+4jcSawpZFRud9tsMxypJgFV6ae2swrmYJCCqRYAFllx5SYp9nEt8J/a9MrwobebPvTF+7Mf7vX2vDC9gAyXAWr8fzrngAKtR8mCV+wrWRJZllNOahE0Vk6fS/Gc7pvz+C8R3EixNmzMq5TauyuF3vuw3tTyqaCv1H/qd34z2zLDuwVhHyG1reA4s8hqMnXNcZzfR/axuTtE80dfLU7lOpOQKwvvKrIf1pXwNG7Sx2O/pY7E+fi012u8DI15i6sHfsP47Xwv83mh/gfp8xLleSmUzOnDd3/Da+Rksz6w/1APLSQ1wvfzba7H2L/JONlIfrJIngRMYuHmBFpGt8/hDxHf2LwVYaZ2Xw+98jHRTT4Q6hHR98/rbw4T3IctCiVar6xcZvrsKNlXL1liCzLWo7SS3e1DsBKJ5+DqWKifUfkTnVHwH+EvKfWrDaqy28GO/aYMEV/i972SKNQ2bAiz3M/JPqllLd5JuuG4pwIrrQN7t20ijNG9iVvOxmsZqm+1B1sIBdg7cQnhH96zH4xbFQVV9I792gO57DzZKtd6DrN1SvphfReXmzA5/IV2kSyDYA/RThnYFWPE3hH3JN+1BrQOsNLlw2vng9DiVpM2H9a8cg5Xv1qg8byRZh9QieZ3a1yr9QPf0qlmC9edcMkD3/yWsX868Oj5GDwBnpfheC/BnKnfJuSPlesWumbOLunPNDXxgFgMHYR3TB5plpMu4vhBr/kvi6pT7djfheX0qeQbrqFsL12LJCxcMoPPgcGpb8/ZwhvNC4j2K9dep1j1jVpX3/16sX1i91mT1YAmH56T47pZET9lyNNVrVXmF8LQ3A8m3CZ+dI8QcUk5P1MgBFn7SHexv5m/VcJvLclhPmsDwWcLarEPn7FtA+qbFqBvPIzU6Ng/5jbCWGejfyXjD/xS1q/VYguU+molUy5+x2tQ8A+cFWKfoq2qw/68Dq2EzRVSzj2BLPx2f2USPtq2kCTiOyiO4m7C+bHm/wNyLTfvWXsfXzCIsKWw1AtSnsBGBqV68Gz3AKvmZP6jOqfJ2rge2x9I4ZHUr4e32VwR+PrSZcD5Wg5Wnhdgov/tqdC48g43Q/BI2krFa5mK5V7JWb9+LNXcvqWH57EpjTzhbbZdhOaAezWFdjwOfxtKIjKhhIH6Anyd3Vmkbv83pPprGldisDqHGUrlbSinH1eewGpk85g88xY/9zAZ41rf7c+Jb5FdbdzE2d+ZsMmZcmO4Px5BcDxdWqaCqnQcrzsrY8P0882LcgjU/5e2cwP0InZNq9cD1VztAPZZ0+bl2Sbm9VqwZ+fUcz4V3/Aaad4qUlbAaxyw5qg4P2N5wf2hnKYtTq3COpMmD9bECPzgO9mA8Tfn+oOw8awk8Xt0ky4OV5Br6BNnyMpUvd2FZ3eNMIixP0zLChvyPx1LepPkNZyZ4Bq6I1WamWf+LWE18KS3K+sTnZkyTBys0N9gqNbpmpmL92tKeY2/y/jRIo7HWjaTfn0+vPFive1CTdDqYQVWoqSh3C1a9nCSKb/Ilr74zr2P9IA71t7Bd/ICNxfJCDafv6umlfkEv8BviLKyf1BVYNvdqONW3uyRBGS0lvDlqNvB9/+09Cc6JagdYJ/o2DsWGPq/E8iR7vc/dLj/R2zO86Xb6A/sCbBj0/tiQ6PF+0Y2scM10+TFZ4PvwNtZ/6RrS9Z1Leqw+hmWXPxzrCzPOz9lhfDAHVYeXzVzfv9uxzv4hNYtf87fkw4CP+vbG+PZa+iiThVgn6Dles3JxFcrhr4RN7VPK6F9U5/myPzaLw9pexsP93Gv283SRl+3rwHVYp+mlvWpI/ubnY5L7ag/5NM13+v18A2x6n8/7eTrB7ysjscztfd3YHtSFAAAVNUlEQVRPS9fuO1iN/SVeg5q0RuMUL6MkI/+6sC4USb0N/KfXEIWOLFycoOzn+PGeguVu/ISXWel6Lj27l/lvfdeD2Iv54Px5b2OJSZPkfmzybcc9U17w8m1NuM5uate/dYbfB6dhzbkfKXtWtPVR2zrfz7EXvfz+1Me5eImfg0mO9VK/DlNP/tpoRnrN1jh/sJZO8Ca/MJf5w2O+n+hvUt9t3kWxit90VvAHTps/2Lu8/N/Bqsfz7l832S/YsVizS+lBV5qEebGfD+/6ze3Nfiib0V4+K5Y9xFrL3tYXeiDylr8MZM0LN9gfBiv5toeWXSMdXiZz/eb9KvkNhGg0w712ZoyXcYsfzwUeZL81QH7HJCwp5tiyF5XSNbS07PqZXfAAuJYmsDxjf1tZsDbXX+L1zOnbGL83TSgru1L2/gV+j36N+ATcIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIrXR5P+dBOwDtBVkn5YAFwILdYhERERkoJoOvAd0FWDpBt4FJuiwiBTaCsAJwMO+nASMVLGIiLw/wJoH9BRkmasAS6TQdgLa+7h2O4HdVTwiIgqwRCTM5h5IVbp+FwLrqJhEpJE1qwhEJNBZQEvE34cBP1QxiYgCLBGRZMYDUxN8bjcVlYg0stYC71dTA5T/KGBEhb/1YM22i3SaSoG0Jbw2h6moREQBVrwu4AVgaY32awHQ0QDlfzRwHLCsj791AocDl+o0lQJ5HevcPj7mc/eoqEREAVa8ediooZkqstzLvwUYWiHAalURSQH9Ajgn5jM/VzGJSCNL2gericpNWSLSWM4Ffhnx91OBv6qYREQBlohImOOBXYAXy/7tRWAv4EisW4GISMNSE5SIpNEF3OBLCzYoo1vFIiKiAEtE8gu2RESkjJoIRURERBRgiYiIiCjAEhEREVGAJSIiIiLpDfRO7oOAlbERTH1ZALxX4W9jgVWBrYCPAmv5vzVjiVVnAo8AdwAvA6+m3MexwMg+/n0xNlVOlBWAVYieWBf//a/kUJ6jgUnAel4m6/r2h/o23vNyeRy4C5gBvEG+Gf5Xjjgvu4A3+WCn6mY/lmsD07G58lr8+L8APAA8VGE/m/wYVcrz1uTHvq+O3BOA1YBtgS2B1f1YdwHv+nnzCHAvMMv3Pe8ZCtr8mPVU2Pd3vRwqnf+bARv7/+8A3vLje7f/7p4Ux6m0njxGFTb771sF2ML3d3VgHDDYt7UAyzD/EvAE8Cjwju9DLWaEGAVMBNb362Y93+fhXgbv+fEvXTcv+3WzTI8gkfo33YOKngrLu37zKJp1gDn+0O+9vAL8jA/W0rUBx/pDryviN5cvM4BLPBgL0QT8yPel9/7NiCnzbuDtCr+tfJkFPJ+xHMcDPwTuBBYmLJMef0hcA3wux2N6X8RvfcQf7OW2AC7zfYna1y0iXjL+p8Ixmunn1yq9vrMm8BvgqYCymgn8Edg352tgY78++9r32cDBfXznW37+d0fs7zXAkIjt3lOhzGYB//RgPatPYVNFvRBQzqXlJeBa4L88eKyGSWXXzaLA6+Y64At69IgowCpqgLVhzI3srF4B1lb+0OlOccPu8ZvoSSSfiLoJOC3ltkKWLDVIxwNLMpRJjweqz3oNUlavRmxnjte6lAcK7Qn3cZuIAOvCmO9OKfv8UV77mLasOoHngI1yugamxWzvyLLPjvAaniT7eS19T+FUMiviu09lDGpGArcEvADFlfc84Hs533uOAuZm3MdOPx5r6hEkogBroAZYTcBhOQY0fwSGFSjAWpKi7NYEbq3CvhwcEID25ZWEAdZ3AvcrS4C1qtfI/C3nsjoWa+aqRYC1JtZklnTf+ivA+mRgLWrI8m+sWTeLKcDNVdi3L6M+sSJ1pREu6G6vpTkzx3XuA1yN9bEYiP4DuA3YrgrrPhc4oYr7vtBrD35Vw/IaC9wI7Jjzek/Amjfbqrz/bcCVwEoFPy93B/6S8OUljYm8vzYyTfB3D/CJKuzbhcBP9UgSUYA1UCzymqufVWHdO2LNDk0DrEw+7Q/1yVXcxneBE6sULG9H/s09ca4Atq7SuvfC+vBUK8haAvwE+EjBz8v1sH5fw6q4jVIzeBobe/C3chX373i/X4lIHaj3qXKmAd9I8LllZW/6Ib4NXIQ1PfRnEJv0OH4IOJ/40YtgfUvewfo4dXggOdi/OzZh2dwO3JTj72wDDqV6nZYrWSfBg3ux/7cFa1prCjxPzwL+k/ynnfkw1let6PehaxN8rtRMPN8Dxy4v50FYh/wRfm7kfV+bAtyf8P7Q7dfNAr+vNPv3Ric8b8/ERhveqceTSOMEWEsH4O/7eMTf7vQA4Hm/YeM36DWB7WO+WzIYq6nZK+Iz//IbbO83506vFdkk4kZ9B9YhOuph3USy4d5NwJ+wkU9xrsH6mT0BvIY1yzUBY7C0BNOAr2N94CoZBPzcy3hRTsdzNNHNmrN8f7ux5tuVWd4sVo1A9wlssuMnsBGfy/xBPw5LcbEDlUcv9vZVP96X5LyPh0T8rQN42oOBQVhakKn+v9tqeJ1+CUu9EOU+4Gws3caMsmu2dGzH+fH+kJf5nljqlazG+DFOUh5X+zX2JDZYo90D7tEepE0DDiK+NvFSYHMP1ESkzgOsNmBv0ueCSmKQByMvVvk33+83uRf8AdPdRyByArCpBxpxnWL3xJrbXq3wxv1H4M99/K0TG5EYFWD9DriA+DxYSZyHNXNEWexBwT30ncPoTV9KD7ufA0dHrG9T4ACs1iwPTRXO2dOAU7x2o6vssy1YjdvXcn5YvQF80YP0ZRXKqhlrml7Xj+N6CdZ7MXA9NqgkL311on8OOAbrrF1qNmvypdnPkw2pzSTOQ4E9Ys7xc7Cay+6Ia2WOL495oPMDrM/UmQmCt6jz7TvABjGfexvrP/YAfefdWuzXzf1YjffxwHERL05T/QXmBERkwIsbRVir5euB+70hYSkWQptKWoCHE6z7lynL/YSIdXYAX8np+E4jPp3B01g+rFBHxKx3XuD6Xgk4pvfx/rQNaV8yLgzY5jVEj66r5H89qI5b/00pjm3SfV9Ifh2p8xpFOMEDyrzKoy/HYiMo271mKKnVsFQMUWX6POnSLPwkwfU4FhFRgJXTclCVAqwl2Mi5NCYSn+jwuQIHWK3YyL6o/Z9DtuaU83M8rkkDrGupnH29WgHWf2fc1iHE5xtbROWUElkCrPcyXAPVDLA2itnvdXPa3w2wprfNAr5zdsy+zc5QOwbW7y5q/Tvr0SSiAKvoAdYBGcvnv4hOKDiHdKPyahFgTcD62ESVz04Zt7FmTC3EYzkHWE/leO4nDbDOJHvn6aaYY15aTid5n7EkAVYH1oE+T3kFWPvFBDB5ppYYRPLm9hUSlOv0HK7NmRHrv0GPJpGBqxHyYF0O/CHjOq6h8pyGYB2b1yjo7987pqbnaiyBZhYvAn+P+PvkHMunC+vvUksvYakhOjOupwdrGoqb2ug/yLd56AGvjSmiqN85LOd7VAfJ+5UdH/P3y7AO91nMxlKAVPIZPaJEFGAVVTvW/yKPt/WZMW/GEwtaBkdF/K0b62ybh6i8V8PJLw/T77DJcmvpGKwvTh4WA9+M+czqxKeGCHFwga/Rzpjzpj+CjGYsmXDUMbyE7BNJ92DzNi5SkCWiAKva8k7aeSM2eicP90b8rZVidkidQnTN0T+xJrk8POoPnr4MzilgWIL1veqqcTk+kPP6/oZNXB3lgJy2dRfWYbqoZsX8/XxsNGAtbRFzPc8me61vyYNYE34ln9JjSmRgStqnpBOrDl9YxX0ZiuUwytPbObxllrwcE6gOLuDxjWtKyzNHFVjagh0q/G11P9+yNLO1Y6M668GvsGamSnYjWZLcONcUvBySBH//xFKCnIelQ+ms8j5tSnSz+pU5butdrHZ0QkSwJyJ1HGDNB/bHEvwNJHnWiC2K2U4Rs+JHvf0uxGo38vRYRIA1CcunlvXh2F0n195tWPLeSoH5qv63rAl+uwpeDvOxWpy49Anfw5Kx3ozlCruWyjWmWe8Z6xBdu593MtinsIz7fVlNjymR+g6wmhi4ExvnpSdBGRXNxjH7uxuwVU773kV0Zvfx1P/UTCEWYlOiTIv4zGbA3XVeDvOxgRZJ8lNNBD4H7Is1F9+EJZi9N8f9GUJ86oVdgF1z2t4yoiegbsVq09p1yYjUZ4AlA88oopsth2HzBdbKSJ1v77MEG30ZFWCt2wABFlgS1q9g09wkMciXfX15G0u1cQU2GOXtDPvSRvyEzrXMsN7i144CLJEBpllFULfG+UOoKAZTzFq+/tJB/ACMyQ1SFu8CnyU6FUqU8diUTQ9i/bV+TfpRq61+7RTpHj1El4uIAiwpjpHkM4dhXloVYL1PD++fsLhSkNwoHsU6dM/IuJ6NsZrZe7BRxBMCv99CPjME5EnXjYgCLCmQNt2YCy9uhOugBiuPF7ARfNeRvUmsDfg0Vkv4DZKP8m3274qIKMASvfUOUHE1jJ0NWCZzscEXuwMX5VQGp2OzOSQdqKP7oogowJKKlhE/8rGWhivo+4C4pqh5DVw2twBfw5r4jgbeyri+PYFbiR9o0UP21Bi6bkREAVYdW0B0DqQX/MZdq2UcNim2mEHAijGfeb3By6gT6wD/P1iKhq2AC7B+WmmaEKcBP44JWLpi1n17ja+bodhoUxFRgCUF8Q7RzSsjgTEqpn4zmPgkks+rmN7nXizZ6AZYjdSPCZ/G6JtEp2HoIDrNgzKri4gCrAY3D8u1VMlQLM+S9I+hHihEeVjF1KeFWDqGHwPbYpnXL0743ZHAlyL+vozomsOhNE76DBFRgCUVPBjxtxFEJ7mU6loby99USTtWCymV9WDT5TwHfBmbXuifxE+n9OWIvy3Bms+jHKCiFxEFWI3tpphj/wmKOUl1ER/keTsm5u/Xq9iDvYrNhfn9mM+tFXOsnyK6ef2LKmoRUYDV2A/2y2P+vjs2CbNEyzvx5OpYKoIol6nYUzsdG4UYZZWIvz1AdEf3NYBPqphFRAHWwAygmsheu7QQuCPmM6foMMQ6Lef1nRvz97nkO4Fxo2nHMrlHGRbxt8eJ7oc1DDiUxksEKyIKsAaMRRF/ayGfqVJOjPn7HsC3dCgibY/lZMrDF4HtYj5zI42TA2tiP1xbJCjfuBePvYHP69IQEQVYxRTXiXl9sk/bcY+/kUf5OdZcmLeNSJ49u8hasGanrEP01wXOJDqD+1LgKmw0WyP4CXB8FY7X1JjPzI75+3nETz59ATYdT96mYh32RaRBAqweFVfuXor5+2eI7iuSxFzg/JjjNxzrr/UZ4jNdJzEaOBLryzK6To7VYOA+YJcULyZNwNbAE8T353oe+HMDXQMjPMC/FOsPmEfW8qlYzWwljyZczyEJ7onXA/uRz8TqI4HvYolFJyIiDRNgtfjNr6UGS6PUrMX1sxlT9uDJ4lzg6ZjPDAFu8GDsIym3Mwo4HLgNOBkbidVdZ8fsOq+52Cjh59fC+nDdmfAhfHCD3os+DzwJ/BrYPMN6Ngb+RHSW/EsSrutaP5ejAudmbJ7DC0if9mSsXzf/wpr0F+iFVqR+TMf6JPRUWLqxKSvm1Gh5EVgpwX5vGLHPPcBZOQZrh8Zs66iU630xZr092Dxs3/cbcW/DgQMTbGfNBNspLYv8Zr8vyZooPwX8HmtS6SxbT3uKN/FXIvZrDvk3nbQCFwaUTflvuwPYnw/W0q3gZfcPYH7AOn+UYv+nxazzyCrdM2ZFbPOpCudqXy6rULZP+b4nfbkYjTXjzk1wbockCt0CGyyS5PgtKDsnWhNeN5f5ed1Rtp65GYNMESmApM1BTQE3zDwMonEmOP0t8KuYz6wE/NSXUqbpHixR5ciyB1VcILcncHWCfRoKbONLKeh53gO9Tv/7ithw9UbtKzIc+JgvJctI32fuX8BJuiX9f9muh9WCnuwB1/1+Ds70QKbDg6o1/TxdL+G6LwLeDNiX+7HJps9M8NkRZefEH/w6fcYDqE6smXlF4EMoG7yIAiyput8Dx3mtRxJtfLAD79KE370GOAI4NXAfV6WxO93OJdm8jWmDq5nAQVhWcuk7cPmEL1m8DpxAdBLRvpyFNe/+JvDFb2Wi5z0UkTqmUYT97w3yz7MU5Tcka1LMQxP1URP5OQ+yqnX8pxE/PYvuQdl9EquNTeN0bIod9Y0SEQVYA8hPgVtruL0/AJtizYbV9DzJa9eK7HEsjcVrOa/3NqwT/JwGPvfvxJr7qukVrAnx2YzruQRrjpxV5f19HXhbt0URBViSXTeWT+eMGm7zUWBLrPP8qzmv+z3gF8CO2OCIerhO7sCaqPKYwmYWltx1Z6wDdSM7A0vkenkV1t2D9XH8KNYXKg93Y4Nrvo/VPuZprl832wEzdFsUqQ9be01DT0GWJSQbfbZxzHrOzTGI/GbMto7JYRstfiweCSyvrKkQxmHpAV7LeNwWYHl8JmYo9zkx65+S87mfZBRh+TYH+QP7kRTlsxDrAzc+x/3fMmabR1fpnvFWxDZfIHmfwpLBXs4/IX4kYJLlHKyvYrX6mTZhaUm+SvSIyiTLPOB7wAQaZ3CPSN0rXcxjsH4gLQXZpw5sVFVc89JIYFv67rTa5De+p8mn38QUf3PtqvD3Z3N+69wA6/Oxgz+s2vxhUerX1OXl8w7WUf6kHLe7n293kj/4WsvOjR7fdic2au4t4GbgL8TP/5bE9lSeg7EDuMsD8DwDrHO9rCtZjb6bhTYGDvN9HunHqLmsjJZ5UHUv1ix7UxWul9HAx+m7ma0FS3dQjdqQ7bDRpD19XHcLsKSsWZr+1sNq+LbHMuAP8WPV6mXc5C8WXb6dhcDDfh72x0TZGwH7+HWzsp8LgyKumzexCamvRfNOitR1gCXFNhwb3j3Kb9xNWD6fN4mfbidr8DHJH+JDygK7Rf7W/RYDP5FolgCr3CQ/RoO9TBZi/WjUlyYfo7BUMaPKAtlSYPUOxWqKHoTVRo2p4+tGREQkNsAKaSIUERGJpU7uIiIiIgqwRERERBRgiYiIiCjAEhEREREFWCIiIiIKsEREREQUYImIiIiIAiwRERERBVgiIiIiCrBERERERAGWiIiIiAIsERERkYGlVUUgwmKgHeju42/DsQmfRUREEmtSEYiuAdYAVqzw92bgIWCpikpERERERESkn/wfGpf+s2BIw+sAAAAASUVORK5CYII="},,function(e,t,n){var a=n(16),i=n(9),r=n(13),o=n(11),s=n(90),l=n(128),c=n(81),u=n(10),d=n(1517),p=i.template(d);e.exports=r.View.extend({className:"audit-log-detailed-grid",mode:"local",events:{},columns:[{data:"username",filter:!1},{data:"timestamp",render:{display:function(e){return u(e).format("L LT")}}},{data:"category",filter:!0},{data:"description"},{data:"status",filter:!0},{data:"details"}],createModel:function(){return new l({collection:new o.Collection(this.getOption("collection")),columns:this.columns,emptyLabel:"No audit entries found",showFilters:!0})},render:function(){this.$el.html(p());var e=this.$("TABLE"),t=(a(e),this.createModel());return this.spinner=new c,this.$(".spinner").append(this.spinner.render().el),this.grid=new s({model:t,id:"audit-log-detail-grid",tableTemplate:e,sort:[{column:"Timestamp",order:"desc"}]}),this.listenTo(this.grid,"error",this.onGridError),this.$("#audit-log-detailed-grid-container").append(this.grid.render().el),this},onGridError:function(e,t,n){this.$("#audit-log-detailed-grid-container").hide(),this.$("#audit-log-unavailable").show()}})},function(e,t){e.exports='<div id="audit-log-detailed-grid-container">\n    <table cellpadding="0" cellspacing="0" border="0" class="display table table-striped table-bordered responsive" style="width: 100%;">\n        <thead>\n            <tr>\n                <th class="nowrap">Username</th>\n                <th class="nowrap">Timestamp</th>\n                <th class="nowrap">Categories</th>\n                <th class="nowrap">Description</th>\n                <th class="nowrap">Status</th>\n                <th class="nowrap">Details</th>\n            </tr>\n        </thead>\n        <tbody>\n        </tbody>\n    </table>\n</div>\n<div id="audit-log-unavailable" style="display: none;">\n    <i class="fa fa-warning"/>\n    <span style="margin-left: 5px;">\n        Audit log is currently unavailable.\n    </span>\n</div>\n\n'},function(e,t,n){e.exports={container:"container__32p8_"}},function(e,t,n){var a=n(11),i=n(136).default;e.exports=a.Collection.extend({model:i,url:function(){return this.api().account().segment("cases")},parse:function(e){return e}})},function(e,t,n){e.exports={"support-tab":"support-tab__3o4NN","support-content":"support-content__1EOtX"}},function(e,t,n){},function(e,t,n){e.exports={"search-nav":"search-nav__3eCuz","actions-options":"actions-options__1HUn1","case-owner":"case-owner__2Ml4-","filter-label":"filter-label__3ylUj","search-stuff":"search-stuff__3SGE5","search-bar":"search-bar__UmLK4","cancel-search":"cancel-search__aVWp4","hide-auto-cases":"hide-auto-cases__1lifS","is-internal":"is-internal__bJy_b","local-stuff":"local-stuff__3I96n"}},function(e,t,n){},function(e,t,n){},,,function(e,t,n){e.exports={"nmbl-date-picker":"nmbl-date-picker__aTebu",close:"close__1RD_V"}},function(e,t,n){e.exports={"support-list-cases":"support-list-cases__1ropj","status-banner":"status-banner__22O5x","actions-options":"actions-options__2bJhR","grid-inset":"grid-inset__1fddo","filter-form":"filter-form__3a6wo","top-buttons":"top-buttons__2rueR",holdit:"holdit__36kS8",biggie:"biggie__3gWYl",selected:"selected__1gg-W","create-case":"create-case__1XQTD"}},function(e,t,n){e.exports={"kcs-document":"kcs-document__2nR55","kcs-body-text":"kcs-body-text__1P5Eq"}},function(e,t,n){e.exports={"type-ahead-input":"type-ahead-input__zsOEy","type-ahead-results":"type-ahead-results__2H0iw",selected:"selected__3OzLz"}},function(e,t,n){e.exports={"support-create-case":"support-create-case__357KO","create-banner":"create-banner__3aJcc","content-inset":"content-inset__2yxJh",measured:"measured__cBrD-","severity-buttons":"severity-buttons__1jbwV",assets:"assets__ct2Yx","kcs-suggestions":"kcs-suggestions__18xWS","suggestion-card":"suggestion-card__3FMOR","read-suggestion-card":"read-suggestion-card__Jaqau"}},function(e,t,n){e.exports={"comment-item":"comment-item__-uFb2",attribution:"attribution__2CaEp","user-icon":"user-icon__3U_JE",caret:"caret__2Vh4r","comment-text":"comment-text__36stS","from-nimble":"from-nimble__3HaFv"}},function(e,t,n){e.exports={"case-comments":"case-comments__2PVsw"}},function(e,t,n){e.exports={attachments:"attachments__24cIO"}},function(e,t,n){e.exports={"rma-labels":"rma-labels__dJdof"}},function(e,t,n){e.exports={"case-section":"case-section__17RRy","sub-text":"sub-text__37FBV","extend-line":"extend-line__3ifOG","child-content":"child-content__-ZxPt"}},function(e,t,n){e.exports={"add-comment":"add-comment__37ZHQ","textbox-wrapper":"textbox-wrapper__34cdn",sending:"sending__2tP03","busy-sending":"busy-sending__3Msk0"}},function(e,t,n){e.exports={"attach-doc":"attach-doc__19bXF","big-file":"big-file__2ZDPV"}},function(e,t,n){e.exports={"case-resolver":"case-resolver__1C3Xg","textbox-wrapper":"textbox-wrapper__1S1Lg",sending:"sending__WIUxB","busy-sending":"busy-sending__-pvjn"}},function(e,t,n){e.exports={"case-information":"case-information__3-m-G","case-banner":"case-banner__2_z8t","support-logo":"support-logo__CcOTm",closed:"closed__QFVUh","page-inset":"page-inset__KQHw7","action-set":"action-set__1ZPdu"}},function(e,t,n){e.exports={container:"container__3gBdb"}},function(e,t,n){var a=n(9),i=(n(11),n(13)),r=(n(54),n(1543)),o=n(714),s=n(1547),l=n(24);e.exports=i.LayoutView.extend({template:a.template(s),templateHelpers:function(){var e=l.request("global","get:current:session");return{vmImageLicenseLimit:e.get("vmImageLicenseLimit"),login:e.get("username")}},regions:{licenseKeysGridRegion:"#license-keys-grid"},initialize:function(){this.collection=new o},onRender:function(){this.licenseKeysGridRegion.show(new r({collection:this.collection}))}})},function(e,t,n){var a=n(24),i=n(16),r=n(9),o=(n(54),n(10)),s=n(11),l=n(13),c=n(90),u=n(238),d=n(128),p=n(713),h=(n(714),n(1544)),m=n(110),f=n(1546),v=n(36),b=v.AuthorizationEvaluator,g=v.AUTHORITIES,y=n(66).default,w=r.template(m),T=s.Model.extend({message:null,errorThrown:null}),S={sortable:!0,searchable:!1,render:function(e){return e?o(e).format("L LTS"):""}};e.exports=l.LayoutView.extend({template:r.template(f),templateHelpers:function(){return{userCanViewAllAccounts:this.userCanViewAllAccounts,userCanExtendLicense:this.userCanExtendLicense,userCanDeleteLicense:this.userCanDeleteLicense,login:this.session.get("username")}},events:{"click @ui.generateLicenseButton":"generateLicense","click @ui.extendExpirationButton":"extendExpirationDate","click @ui.expireLicenseButton":"expireLicenseKey"},columns:[{data:"owner"},{data:"arraySn"},{data:"licenseKey"},{data:"macAddress"},{data:"ipAddress"},{data:"uuid"},r.defaults({data:"registrationDate"},S),r.defaults({data:"activationDate"},S),r.defaults({data:"expirationDate"},S),{data:"status"}],ui:{table:"table",toolbarContent:".toolbar-content",generateLicenseButton:'button[name="generate-license"]',extendExpirationButton:'button[name="extend-expiration-date"]',expireLicenseButton:'button[name="expire-license-key"]'},regions:{gridRegion:"#license-keys-grid-container",messageRegion:".message-region"},initialize:function(){this.listenTo(this.collection,"sync",this.renderGrid),this.listenTo(this.collection,"error",this.onErroneuousCollectionLoad),this.session=a.request("global","get:current:session"),this.currentAccount=a.request("global","get:account:selection").getAccount(),this.getAuthorization(),this.collection.fetch()},getAuthorization:function(){var e=b.evaluate({access:{authorities:[[g.ATTRIBUTE_NIMBLE_RESELLER]]}}),t=b.evaluate({access:{authorities:[[g.REALM_INTERNAL],[g.VIRTUAL_ARRAY_ADMIN]]}}),n=b.evaluate({access:{authorities:[[g.SITE_ADMIN]]}}),a=t&&!n;this.userCanViewAllAccounts=t&&!a,this.userCanExtendLicense=t,this.userCanDeleteLicense=t||e},renderGrid:function(){this.columns[0].visible=this.userCanViewAllAccounts;var e=this;r.each(this.collection.models,function(t){t.get("accountId")===e.currentAccount.get("id")?t.set("owner",e.currentAccount.get("name")):t.set("owner",e.session.get("username"))});var t=new d({collection:this.collection,columns:this.columns,emptyLabel:"No license keys found",showFilters:!1,pageLength:10});this.grid=new c({id:"license-keys-grid",tableTemplate:this.ui.table,toolbar:this.ui.toolbarContent.html(),model:t,rowSelectionMode:c.RowSelectionMode.SINGLE,sort:[{column:"Registration Date",order:"desc"}]}),this.listenTo(this.grid,"error",this.onErroneuousGridLoad),this.gridRegion.show(this.grid),this.ui.table.show(),this.listenTo(this.grid,"row-selection:changed",this.onRowSelectionChange)},onErroneuousCollectionLoad:function(e,t){var n=new T({message:"Error while fetching license keys: "+t.statusText+". Contact Nimble Storage support."});this.gridRegion.show(new l.ItemView({model:n,template:w}))},onErroneuousGridLoad:function(e,t,n){var a=new T({message:"Error while loading the grid: "+n+". Contact Nimble Storage support."});this.gridRegion.show(new l.ItemView({model:a,template:w}))},onRowSelectionChange:function(){this.bindUIElements();var e=this.grid.getSelectedRowData();this.ui.extendExpirationButton.prop("disabled",!e),this.ui.expireLicenseButton.prop("disabled",!e)},generateLicense:function(){var e=this,t=new p({},{collection:this.collection});null!==this.session.get("vmImageLicenseLimit")&&this.collection.length>=this.session.get("vmImageLicenseLimit")?y.error("There was a problem while generating a new license: You have reached your license key limit."):t.save().done(function(){t.set("owner",e.session.get("username")),e.collection.add(t),y.success("Generated new License: "+t.get("licenseKey"))}).fail(function(e){y.error("There was a problem while generating a new license. Please contact Nimble Support: "+e.responseJSON.message)})},extendExpirationDate:function(){var e=this,t=this.grid.getSelectedRowData(),n=new h({model:new s.Model({licenseKey:t.licenseKey})});this.listenTo(n,"expiration-date:updated",function(){e.collection.fetch()}),n.showDialog()},expireLicenseKey:function(){var e=this,t=this.grid.getSelectedRowData(),n=new u({title:"Expire License Key",action:"Yes",content:"<p>Are you sure you would like to expire license key "+t.licenseKey+"?</p>"});this.listenTo(n,"submit",function(){e.expireLicenseKeyCallback(t.licenseKey)}),a.modalRegion.show(n)},expireLicenseKeyCallback:function(e){var t=this;i.ajax({url:this.api().central().segment("vmarrays").segment(e),type:"PUT",contentType:"application/json",dataType:"json",data:JSON.stringify({expirationDate:Date.now()})}).done(function(){y.success("License key is now expired: "+e),t.collection.fetch()}).fail(function(t){y.error("Could not expire license key "+e+": "+t.responseJSON.message)})}})},function(e,t,n){var a=n(16),i=n(24),r=n(9),o=n(13),s=n(10);n(74);var l=n(1545),c=n(66).default;e.exports=o.LayoutView.extend({className:"virtual-arrays-dialog",template:r.template(l),templateHelpers:function(){return{licenseKey:this.model.get("licenseKey")}},bindings:{"#extension-in-days":{observe:"expirationDate",onSet:function(e,t){return 1e3*s().add(e||0,"day").unix()},updateView:!1}},ui:{extensionInDays:"#extension-in-days",submit:'button[name="submit"]'},events:{"click @ui.submit":"submit"},initialize:function(){r.bindAll(this,"showDialog")},showDialog:function(){i.modalRegion.show(this)},submit:function(){var e=this,t=e.model.get("licenseKey");if(!e.model.get("expirationDate")){var n=s().add(this.ui.extensionInDays.val()||0,"day").unix();this.model.set("expirationDate",1e3*n)}a.ajax({url:this.api().central().segment("vmarrays").segment(t),type:"PUT",contentType:"application/json",dataType:"json",data:JSON.stringify(this.model.pick("expirationDate"))}).done(function(){c.success("Expiration date of license key "+t+" was updated")}).fail(function(e){c.error("Could not update expiration date of license key "+t+": "+e.responseJSON.message)}).always(function(){e.trigger("expiration-date:updated")})},onRender:function(){this.stickit()}})},function(e,t){e.exports='<div class="modal-dialog">\n    <div class="modal-content">\n        <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal">\n                <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title">Extend Expiration Date</h4>\n        </div>\n        <div class="modal-body">\n\n            <form id="virtual-arrays-expiration-date-form" class="form-inline">\n                <div class="form-group">\n                    <p>Set expiration of license key <%= licenseKey %> to <div class="form-group"><input id="extension-in-days" class="form-control" value=90 type="number" style="width: 70px;" /></div> days from today.</p>\n                </div>\n                <p id="message"></p>\n            </form>\n\n        </div>\n        <div class="modal-footer">\n            <button type="button" class="button" name="submit" data-dismiss="modal">Extend</button>\n            <button type="button" class="button secondary" name="cancel" data-dismiss="modal">Cancel</button>\n        </div>\n    </div>\n</div>\n'},function(e,t){e.exports='<div id="license-keys-grid-container">\n    <table style="display: none;" cellpadding="0" cellspacing="0" border="0" class="display table table-striped table-bordered responsive" style="width: 100%;" width="100%">\n        <thead>\n            <tr>\n                <th>Owner</th>\n                <th>Array S/N</th>\n                <th>License</th>\n                <th>MAC</th>\n                <th>IP</th>\n                <th>VM UUID</th>\n                <th>Registration Date</th>\n                <th>Activation Date</th>\n                <th>Expiration Date</th>\n                <th>Status</th>\n            </tr>\n        </thead>\n        <tbody></tbody>\n    </table>\n    <div class="message-region">\n        <p><i class="fa fa-spin fa-spinner"/> Loading license keys. Please wait...</p>\n    </div>\n</div>\n\n<script type="text/html" class="toolbar-content">\n    <% if (userCanViewAllAccounts) { %>\n        <p>License keys shown are associated with your individual InfoSight login (<%= login %>) and with the current account.</p>\n        <button class="button secondary" name="generate-license">Generate New License for <%= login %></button>\n    <% } else { %>\n        <p>A license key is required to activate a Virtual Array. License keys are associated with your individual InfoSight login (<%= login %>).</p>\n        <button class="button secondary" name="generate-license">Generate New License</button>\n    <% } %>\n\n    <% if (userCanExtendLicense) { %>\n        <button class="button" name="extend-expiration-date" disabled>Extend</button>\n    <% } %>\n    <% if (userCanDeleteLicense) {%>\n        <button class="button alert" name="expire-license-key" disabled>Delete</button>\n    <% } %>\n<\/script>\n\n'},function(e,t){e.exports='<% if (vmImageLicenseLimit) { %>\n<p><i class="fa fa-info-circle"/> You have a maximum limit of <%= vmImageLicenseLimit %> license key(s).</p>\n<% } %>\n\n<div id="license-keys-grid"></div>\n'},function(e,t,n){e.exports={container:"container__1TUYD"}},,,function(e,t,n){e.exports={container:"container__2v1mJ"}},function(e,t,n){var a=n(9),i=n(13),r=n(45),o=n(1553),s=n(1554),l=n(1561),c=n(1568),u=n(1571),d=i.LayoutView.extend({template:a.template(u),className:"permissions-view",regions:{inbound:'[data-region="inbound"]',outbound:'[data-region="outbound"]',requested:'[data-region="requested"]'},initialize:function(){this.collection=new o},onRender:function(){this.$el.popover({selector:'[data-toggle="popover"]',trigger:"hover"});var e=this.getOption("account");e.resellerEquivalent&&this.showChildView("inbound",new l({collection:this.collection,account:e})),this.showChildView("requested",new c({collection:this.collection,account:e})),this.showChildView("outbound",new s({collection:this.collection,account:e}))}});e.exports=r.extend({ViewConstructor:d})},function(e,t,n){var a=n(11),i=n(174);e.exports=a.Collection.extend({model:i,url:function(){return this.api().central().account().segment("admin/permissions")}})},function(e,t,n){var a=n(9),i=n(11),r=n(13),o=(n(10),n(94)),s=n(90),l=n(128),c=n(716),u=n(1555),d=n(1560);e.exports=r.LayoutView.extend({template:a.template(d),regions:{grid:'[data-region="grid"]'},columns:[{data:"grantee.account.name"},{data:"grantee.userLogin"},{data:"permissions",orderable:!1,render:function(){return""},createdCell:function(e,t,n){var a=this.api().init(),r=new u({collection:new i.Collection(t),permissionCollection:a.permissionGroupCollection.collection,permissionGroup:a.permissionGroupCollection.get(n.id)});r.render(),e.appendChild(r.el)}}],collectionEvents:{update:"updateVisibility"},templateHelpers:function(){return{account:this.getOption("account")}},initialize:function(e){var t=this.getOption("account");this.collection=new c(new o(e.collection,{filter:function(e){return e.get("target").account&&e.get("target").account.id===t.id&&"Granted"===e.get("status")}})),this.isResellerEquivalent=t.resellerEquivalent},onRender:function(){this.showChildView("grid",new s({tableTemplate:this.$("script").html(),model:new l({collection:this.collection,columns:this.columns,emptyLabel:"No permissions granted",pageLength:10}),dataTableOptions:{dom:"ftip",permissionGroupCollection:this.collection},sort:["Organization"]})),this.updateVisibility()},updateVisibility:function(){this.isResellerEquivalent&&this.$el.toggle(!this.collection.isEmpty())}})},function(e,t,n){var a=n(16),i=n(24),r=n(9),o=n(13),s=n(238),l=n(1556),c=n(174),u=n(1558),d=n(1559),p=n(66).default,h=o.ItemView.extend({tagName:"li",template:r.template(d),templateHelpers:function(){var e=this.model.get("privilege");return{privilegeName:c.privilegeNameMap[e],revocable:"Feature.Core.Access"!=e}},events:{'click [data-action="revoke"]':"onClickRevoke"},initialize:function(e){console.assert(e.permissionCollection),this.permissionCollection=e.permissionCollection},onClickRevoke:function(e){e.preventDefault();var t=new s({title:"Revoke Permission",action:"Revoke",content:"<p>Are you sure you want to revoke <strong>"+c.privilegeNameMap[this.model.get("privilege")]+"</strong> permission granted to user <strong>"+this.model.get("grantee").userLogin+"</strong> within organization <strong>"+this.model.get("grantee").account.name+"</strong>?"});this.listenTo(t,"submit",this.revokePermission),i.modalRegion.show(t)},revokePermission:function(){var e=this.permissionCollection.get(this.model.id);e.destroy({wait:!0}).done(function(){p.success("Successfully revoked permission "+c.privilegeNameMap[e.get("privilege")]+" from "+e.get("grantee").userLogin)}).fail(function(t){p.error("Error revoking permission "+c.privilegeNameMap[e.get("privilege")]+" from "+e.get("grantee").userLogin+": "+t.responseJSON.message)})}});e.exports=o.CompositeView.extend({template:r.template(u),childView:h,childViewOptions:function(){return{permissionCollection:this.permissionCollection}},childViewContainer:"ul",ui:{addLink:'[data-action="add"]'},events:{"click @ui.addLink":"onClickAdd",'click [name="revoke-all"]':"onClickRevokeAll"},initialize:function(e){console.assert(e.permissionCollection),this.permissionGroup=e.permissionGroup,this.permissionCollection=e.permissionCollection,this.grantee=this.collection.first().get("grantee")},onRender:function(){this.ui.addLink.toggle(this.collection.length<r.size(c.privilegeNameMap))},onClickAdd:function(e){e.preventDefault(),i.modalRegion.show(new l({collection:this.permissionCollection,permissionGroup:this.permissionGroup}))},onClickRevokeAll:function(){var e=this.collection.first().get("grantee"),t=new s({title:"Revoke All Permissions",action:"Revoke",content:"<p>Are you sure you want to revoke all permissions granted to user <strong>"+e.userLogin+"</strong> within organization <strong>"+e.account.name+"</strong>?"});this.listenTo(t,"submit",this.revokeAll),i.modalRegion.show(t)},revokeAll:function(){var e=this.permissionCollection,t=this.grantee,n=this.collection.pluck("id");a.ajax({type:"DELETE",url:this.permissionCollection.url().addQuery({id:n})}).done(function(){e.remove(n),p.success("Successfully revoked all permissions from "+t.userLogin)}).fail(function(e){p.error("Error revoking all permissions from "+t.userLogin+": "+e.responseJSON.message)})}})},function(e,t,n){var a=n(9),i=n(13),r=(n(229),n(95)),o=n(174),s=n(1557),l=n(66).default;e.exports=i.ItemView.extend({template:a.template(s),behaviors:{FormBehavior:{behaviorClass:r}},ui:{submitButton:'button[name="submit"]'},events:{"click @ui.submitButton":"submit"},initialize:function(e){this.permissionGroup=e.permissionGroup,this.model=new o({grantee:this.permissionGroup.get("grantee")},{collection:this.permissionGroup.collection.collection}),this.listenTo(this.model,"validated",this.onValidated)},bindings:{'[name="privilege"]':{observe:"privilege",setOptions:{validate:!0},selectOptions:{defaultOption:{label:"Choose one...",value:null,disabled:!1},collection:function(){var e=a.pluck(this.permissionGroup.get("permissions"),"privilege");return a.pairs(o.privilegeNameMap).map(function(t){return{label:t[1],value:t[0],disabled:a(e).contains(t[0])}})}}}},onValidated:function(e){this.ui.submitButton.prop("disabled",!e)},submit:function(){var e=this.model;e.save().done(function(){e.collection.add(e),l.success("Successfully granted permission "+o.privilegeNameMap[e.get("privilege")]+" to "+e.get("grantee").userLogin)}).fail(function(e){l.error("Error granting permission: "+e.responseJSON.message)})}})},function(e,t){e.exports='<div class="modal-dialog">\n    <div class="modal-content">\n        <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal">\n                <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title">Grant New Permission</h4>\n        </div>\n        <div class="modal-body">\n            <form class="form-horizontal">\n                <div class="form-group">\n                    <label class="control-label column small-8">Organization</label>\n                    <div class="column small-16">\n                        <p class="form-control-static"><%= grantee.account.name %></p>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="control-label column small-8">User</label>\n                    <div class="column small-16">\n                        <p class="form-control-static"><%= grantee.userLogin %></p>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="control-label column small-8">Privilege</label>\n                    <div class="column small-16">\n                        <div class="row expanded">\n                            <div class="column small-24">\n                                <select name="privilege" class="form-control"></select>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </form>\n        </div>\n        <div class="modal-footer">\n            <button type="button" class="button" name="submit" data-dismiss="modal" disabled>Grant</button>\n            <button type="button" class="button secondary" name="cancel" data-dismiss="modal">Cancel</button>\n        </div>\n    </div>\n</div>'},function(e,t){e.exports='<div class="pull-right">\n    <button class="button alert" name="revoke-all">Revoke All</button>\n</div>\n\n<ul class="list-unstyled"></ul>\n\n<a href="#" data-action="add"><i class="fa fa-plus"></i> Add Permission</button>'},function(e,t){e.exports='<span class="label label-info"><i class="fa fa-key"></i></span> <strong><%= privilegeName %></strong>\n<% if (revocable) { %>\n    <small>(<a href="#" data-action="revoke"><i class="fa fa-ban"></i> Revoke</a>)</small>\n<% } %>'},function(e,t){e.exports='<p>\n    The following <strong>users in other organizations</strong> have been granted read-only InfoSight access for <strong><%= account.name %></strong>.\n</p>\n\n<div data-region="grid"></div>\n\n<script type="text/html">\n    <table class="table table-striped table-bordered responsive" style="width: 100%;">\n        <thead>\n            <tr>\n                <th>Organization</th>\n                <th>User</th>\n                <th>Permissions</th>\n            </tr>\n        </thead>\n    </table>\n<\/script>'},function(e,t,n){var a=n(16),i=n(24),r=n(9),o=n(13),s=n(10),l=n(696).sprintf,c=n(238),u=n(94),d=n(90),p=n(128),h=n(174),m=n(1562),f=n(716),v=n(1565),b=n(1566),g=n(1567),y=n(66).default,w=n(36),T=w.AUTHORITIES,S=w.AuthorizationEvaluator,E=r.template(g),C=r.template(b);e.exports=o.LayoutView.extend({template:r.template(v),regions:{grid:'[data-region="grid"]'},columns:[{data:"status",render:function(e,t,n){var a=r.chain(n.permissions).sortBy("updatedAt").last().value();return E({status:e,moment:s,updatedBy:a.updatedBy,updatedAt:a.updatedAt})}},{data:"target",render:function(e){return e.account?e.account.name:"<i>"+e.opaqueName+"</i>"}},{data:"grantee.userLogin"},{data:"permissions",orderable:!1,render:function(e){return C({permissions:e,privilegeNameMap:h.privilegeNameMap})}},{data:null,orderable:!1,render:function(e,t,n){return'<button class="button hollow" name="delete"><i class="fa fa-trash-o"></i> Delete</button>'}}],events:{'click button[name="request"]':"onClickRequest",'click button[name="delete"]':"onClickDelete"},templateHelpers:function(){return{account:this.getOption("account"),session:i.request("global","get:current:session").toJSON()}},initialize:function(e){var t=this.getOption("account");this.collection=new f(new u(e.collection,{filter:function(e){return e.get("grantee").account.id===t.id}}))},onRender:function(){S.evaluate({access:{authorities:T.REALM_INTERNAL}})&&this.$('button[name="request"]').prop("disabled",!0),this.showChildView("grid",new d({tableTemplate:this.$("script").html(),model:new p({collection:this.collection,columns:this.columns,emptyLabel:"No permissions granted",pageLength:10}),dataTableOptions:{dom:"ftip"},sort:["Target Organization"]}))},onClickRequest:function(){i.modalRegion.show(new m({collection:this.collection.collection}))},onClickDelete:function(e){var t=a(e.currentTarget).closest("tr").attr("data-model-id"),n=this.collection.get(t),o=n.get("target"),s=new c({title:"Delete Permission",action:"Delete",content:l("<p>Are you sure you want to delete the permission granted to user <strong>%s</strong> upon target account <strong>%s</strong>?",n.get("grantee").userLogin,o.account?o.account.name:o.opaqueName)});this.listenTo(s,"submit",r.partial(this.deletePermissionGroup,n)),i.modalRegion.show(s)},deletePermissionGroup:function(e){var t=this.collection.collection,n=e.get("grantee"),i=r(e.get("permissions")).pluck("id");a.ajax({type:"DELETE",url:t.url().addQuery({id:i})}).done(function(){t.remove(i),y.success("Successfully deleted permission granted to "+n.userLogin)}).fail(function(e){y.error("Error deleting permission granted to "+n.userLogin)})}})},function(e,t,n){var a=n(9),i=n(13),r=(n(229),n(95)),o=n(1563),s=n(174),l=n(1564),c=n(66).default;e.exports=i.ItemView.extend({template:a.template(l),behaviors:{FormBehavior:{behaviorClass:r}},ui:{submitButton:'button[name="submit"]'},events:{"click @ui.submitButton":"submit"},bindings:{'input[name="arraySn"]':{observe:"arraySn",setOptions:{validate:!0},onSet:function(e){return e.toUpperCase()}}},initialize:function(){this.model=new o,this.listenTo(this.model,"validated",this.onValidated)},onValidated:function(e){this.ui.submitButton.prop("disabled",!e)},submit:function(){var e=this;this.model.save().done(function(e){e.grantee.affiliation?c.success("Successfully requested permission for "+e.target.opaqueName):c.warning("Customer affiliation not found within purchase records. Permission request will still be sent to "+e.target.opaqueName+" however it will be annotated as coming from an unaffiliated third party.")}).done(function(t){e.collection.add(new s(t))}).fail(function(e){c.error("Failed to request permission: "+e.responseJSON.message)})}})},function(e,t,n){var a=n(11);e.exports=a.Model.extend({url:function(){return this.api().central().account().segment("admin/permissions/request")},validation:{arraySn:{pattern:/^[A-Z]{2}-[0-9]{6}$/,msg:"The provided input is not a properly formatted Array SN"}}})},function(e,t){e.exports='<div class="modal-dialog">\n    <div class="modal-content">\n        <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal">\n                <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title">Request New Permission</h4>\n        </div>\n        <div class="modal-body">\n            <form class="form-horizontal">\n                <div class="form-group has-feedback" id="arraySn-field">\n                    <label class="column small-4 control-label" for="arraySn">Array SN</label>\n                    <div class="column small-20">\n                        <div class="row expanded">\n                            <div class="column small-10">\n                                <input class="form-control" name="arraySn" type="text" required/>\n                                <i class="glyphicon form-control-feedback"></i>\n                            </div>\n                        </div>\n                        <div class="row expanded">\n                            <p class="column small-24 help-block text-info">\n                                <i class="fa fa-info-circle"></i>\n                                Please provide the Serial Number of an Array owned by the organization to which access is desired.\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            </form>\n        </div>\n        <div class="modal-footer">\n            <button type="button" class="button" name="submit" data-dismiss="modal" disabled>Request</button>\n            <button type="button" class="button secondary" name="cancel" data-dismiss="modal">Cancel</button>\n        </div>\n    </div>\n</div>'},function(e,t){e.exports='<div class="clearfix">\n    <p class="pull-right">\n        <button class="button large" name="request">Request New Permission <i class="fa fa-key"></i></button>\n    </p>\n    <p>\n        The following permissions have been granted <strong>by other organizations</strong> to\n\n    <% if (session.internal || session.role === \'SuperUser\') { %>\n        users within <strong><%= account.name %></strong>.\n    <% } else { %>\n        <strong><%= session.userLogin %></strong>.\n    <% } %>\n    </p>\n</div>\n\n\n<div data-region="grid"></div>\n\n<script type="text/html">\n    <table class="table table-striped table-bordered responsive" style="width: 100%;">\n        <thead>\n            <tr>\n                <th>Status</th>\n                <th>Target Organization</th>\n                <th>Grantee</th>\n                <th>Permissions</th>\n                <th></th>\n            </tr>\n        </thead>\n    </table>\n<\/script>\n'},function(e,t){e.exports='<ul class="list-unstyled">\n<% permissions.forEach(function(permission) { %>\n    <li><span class="label label-info"><i class="fa fa-key"></i></span> <strong><%= privilegeNameMap[permission.privilege] %></strong></li>\n<% }) %>\n</ul>'},function(e,t){e.exports='<% if (status === \'Granted\') { %>\n    <h4>\n        <span class="label success" data-toggle="popover" data-content="<%= updatedBy %> at <%= moment(updatedAt).format(\'L LT\') %>">Granted</span>\n    </h4>\n<% } else if (status === \'Requested\') { %>\n    <h4>\n        <span class="label secondary">Requested</span>\n    </h4>\n<% } else if (status === \'Denied\') { %>\n    <h4>\n        <span class="label alert" data-toggle="popover" data-content="<%= updatedBy %> at <%= moment(updatedAt).format(\'L LT\') %>">Denied</span>\n    </h4>\n<% } %>\n\n'},function(e,t,n){var a=n(9),i=n(13),r=(n(10),n(94)),o=n(1569),s=n(1570),l=n(66).default,c=i.ItemView.extend({template:a.template(s),tagName:"div",className:"callout",events:{'click button[name="approve"]':"approve",'click button[name="deny"]':"deny"},approve:function(){this.model.save({status:"Granted"},{patch:!0,emulateHTTP:!0,wait:!0}).done(function(){l.success("Permission request approved")}).fail(function(e){l.error("Failed to approve request: "+e.responseJSON.message)})},deny:function(){this.model.save({status:"Denied"},{patch:!0,emulateHTTP:!0,wait:!0}).done(function(){l.success("Permission request denied")}).fail(function(e){l.error("Failed to deny request: "+e.responseJSON.message)})}});e.exports=i.CompositeView.extend({template:a.template(o),childView:c,childViewContainer:".child-container",className:"requested-grants",collectionEvents:{remove:"updateVisibility"},initialize:function(e){var t=this.getOption("account");this.collection=new r(e.collection,{filter:function(e){return e.get("target").account&&e.get("target").account.id===t.id&&"Requested"===e.get("status")}}),this.onRender()},onRender:function(){this.updateVisibility()},updateVisibility:function(){this.$el.toggle(!this.collection.isEmpty())}})},function(e,t){e.exports='<div class="callout secondary">\n    <div class="row expanded">\n        <div class="column medium-10">\n            <h3>Action Required</h3>\n            <p>Please approve or deny these outstanding permissions requests.</p>\n            <p>Approving the request provides the grantee user read-only access to your organization\'s InfoSight data.</p>\n        </div>\n        <div class="column medium-14">\n            <div class="child-container"></div>\n        </div>\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="pull-right">\n    <button class="button" name="approve">Approve</button>\n    <button class="button alert" name="deny">Deny</button>\n</div>\n\n<dl>\n    <dt>User</dt>\n    <dd><%= grantee.userLogin %></dd>\n\n    <dt>Organization</dt>\n    <dd><%= grantee.account.name %></dd>\n\n    <dt>Affiliation</dt>\n    <dd>\n        <% if (grantee.affiliation) { %>\n            <%= grantee.affiliation %><br/>\n            <i class="fa fa-check-circle text-success"></i>\n            <small>Purchase records confirm a <%= grantee.affiliation %> affiliation between <%= grantee.account.name %> and <%= target.account.name %></small>\n        <% } else { %>\n            Unconfirmed<br/>\n            <i class="fa fa-warning text-danger"></i>\n            <small>Purchase records <b>do not</b> confirm any affiliation between <%= grantee.account.name %> and <%= target.account.name %></small>\n        <% } %>\n    </dd>\n</dl>\n'},function(e,t){e.exports='<p>\n    An organization can grant <strong>read-only</strong> access to its InfoSight data to another "third party" organization such as an authorized Nimble Reseller.\n    Such permission grants can be managed using this page.\n</p>\n<p>\n    Users within <strong>your own organization</strong> can be managed in the <a class="history-aware" href="/settings/iam/users">User Profiles</a> page.\n</p>\n\n<hr/>\n\n<div data-region="requested"></div>\n<div data-region="inbound"></div>\n<div data-region="outbound"></div>\n\n'},function(e,t,n){e.exports={container:"container__1zWZ4"}},,,function(e,t,n){var a=n(16),i=n(24),r=n(9),o=n(11),s=(n(1576),n(10)),l=n(90),c=n(228),u=(n(227),n(321)),d=n(717),p=n(1577),h=n(1578),m=(n(1580),n(1584)),f=n(1586),v=n(1),b=n(6),g=n(666).default,y=n(205).ThemeProvider,w=n(17).Provider,T=n(40).getStore,S=r.template(f),E=function(e){return e.replace(/([a-z])([A-Z])/g,"$1 $2")};e.exports=o.View.extend({bannerCollection:null,rowButtons:["#edit","#delete","#preview","#notify"],columns:[{data:"id",visible:!1},{data:"title"},{data:"type",filter:!0,render:{display:E}},{data:"status",filter:!0,render:{display:E}},{data:"visibility",filter:!0,render:{display:E}},{data:"accountId"},{data:"feature"},{data:"creationTimestamp",render:{display:function(e){return s(e).format("L LT")}}},{data:"notificationTimestamp",render:{display:function(e){return e?s(e).format("L LT"):""}}},{data:"expirationDate",visible:!1}],initialize:function(){r.bindAll(this,"enableToolbarActions","disableToolbarActions","reloadGrid","onPreview","onNotify","onOpenDialog")},render:function(){var e=this;return this.$el.html(S()),this.$("#banners-grid-container").hide(),this.setupAndLoadCollection(),a(document).click(function(){var e=a(".ui-menu");e.is(":visible")&&e.hide()}),this.$el.find(".toolbar BUTTON").click(function(){var t=a(this);switch(t.attr("id")){case"create":e.onOpenDialog(new d);break;case"edit":e.onOpenDialog(e.getSelectedModel());break;case"delete":e.getSelectedModel().destroy({wait:!0});break;case"preview":e.onPreview(e.getSelectedModel());break;case"notify":e.onNotify(e.getSelectedModel());break;default:throw new Error("Unexpected button with id: "+t.attr("id"))}}),this},setupAndLoadCollection:function(){var e=this;this.bannerCollection=new p,this.bannerCollection.fetch().done(function(){var t=new u({data:e.bannerCollection.toJSON(),columns:e.columns,emptyLabel:"No banners found",showFilters:!0,pageLength:25});e.grid=new l({model:t,id:"banners-grid",tableTemplate:e.$el.find("TABLE"),rowSelectionMode:l.RowSelectionMode.SINGLE,filterModel:new c({Status:"Active"}),sort:[{column:"Created",order:"desc"}]}),e.listenTo(e.grid,"row-selection:changed",function(t){0===t.length?e.disableToolbarActions():e.enableToolbarActions()}),e.$el.find("#banners-grid-container").append(e.grid.render().el),e.listenTo(e.bannerCollection,"remove",e.reloadGrid),e.listenTo(e.bannerCollection,"sync",e.reloadGrid),e.$("#banners-grid-container").show()})},reloadGrid:function(){this.grid.getDataTableApi().clear().rows.add(this.bannerCollection.toJSON()).draw(),this.disableToolbarActions()},enableToolbarActions:function(){this.$el.find(this.rowButtons.join(",")).prop("disabled",!1)},disableToolbarActions:function(){this.$el.find(this.rowButtons.join(",")).prop("disabled",!0)},onOpenDialog:function(e){var t=this,n=(this.$el,new h({model:e}));i.modalRegion.show(n),this.listenTo(n,"submit",function(n){var r=n.model;t.bannerCollection.add(r),r.save().done(function(){i.command("notification","show:success",{title:'Banner "'+r.get("title")+'" successfully saved'}),t.grid.filterView.clearFilters(),t.bannerCollection.fetch(),t.grid.getDataTableApi().one("draw",function(){t.grid.eachRow(function(t){t.data().id==e.get("id")&&a(t.node()).effect("highlight",{color:"#78c639"},3e3)})})}).fail(function(e){i.command("notification","show:error",{title:'Failed to save banner "'+r.get("title")+'":',message:e.responseJSON.message})})})},onPreview:function(e){b.render(v.createElement(y,null,v.createElement(w,{store:T()},v.createElement(g,{closeModal:this.onPreviewClose,bulletins:[e.attributes],hidePrimaryButton:!0}))),document.getElementById("modal-region"))},onPreviewClose:function(){b.unmountComponentAtNode(document.getElementById("modal-region"))},onNotify:function(e){var t=this,n=new m({model:e});a("body").append(n.render().el),n.showDialog(),this.listenTo(n,"close",function(){n.remove(),t.bannerCollection.fetch()})},getSelectedModel:function(){var e=this.grid.getSelectedRowData();return this.bannerCollection.findWhere({id:e.id})}})},,function(e,t,n){var a=n(37).API_BASE_URL,i=n(22).buildUrl,r=n(11),o=n(717);e.exports=r.Collection.extend({model:o,url:i(a,"admin/banners")})},function(e,t,n){var a=n(9),i=n(27).default,r=n(13),o=n(95),s=n(1579);n(74);e.exports=r.ItemView.extend({template:a.template(s),behaviors:{FormBehavior:{behaviorClass:o}},ui:{submitButton:'button[name="submit"]',accountIdContainer:"#accountId-container",featureContainer:"#feature-container"},triggers:{"click @ui.submitButton":{event:"submit",stopPropagation:!1}},bindings:{"#title":{observe:"title",setOptions:{validate:!0}},"#type":{observe:"type",setOptions:{validate:!0}},"#status":{observe:"status",setOptions:{validate:!0}},"#visibility":{observe:"visibility",setOptions:{validate:!0}},"#accountId":{observe:"accountId",setOptions:{validate:!0}},"#contents":{observe:"contents",setOptions:{validate:!0}},"#feature":{observe:"feature",setOptions:{validate:!0}}},modelEvents:{"change:visibility":"onChangeVisibility",validated:"onValidated"},onValidated:function(e){this.ui.submitButton.prop("disabled",!e)},onRender:function(){var e=this;this.$("#accountName").autocomplete({appendTo:"#accountId-container",source:function(e,t){return(new i).central().slash("accounts").query({term:e.term}).get().then(function(e){t(e.data.map(function(e){return{label:e.name,value:e.id}}))}).catch(function(){return t(["An error has occurred."])})},select:function(t,n){return e.$("#accountName").val(n.item.label),e.model.set("accountId",n.item.value,{validate:!0}),!1}}),"SpecificAccount"!==this.model.get("visibility")&&this.ui.accountIdContainer.hide(),"Feature"!==this.model.get("visibility")&&this.ui.featureContainer.hide()},onChangeVisibility:function(e,t){"SpecificAccount"===t?this.ui.accountIdContainer.slideDown("fast"):(this.ui.accountIdContainer.slideUp("fast"),this.model.set("accountId",null,{validate:!0}),this.$("#accountName").val(null)),"Feature"===t?this.ui.featureContainer.slideDown("fast"):(this.ui.featureContainer.slideUp("fast"),this.model.set("feature",null,{validate:!0}),this.$("#feature").val(null))}})},function(e,t){e.exports='<div class="modal-dialog" id="edit-banner-form-modal">\n    <div class="modal-content">\n        <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal">\n                <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title"><%= creationTimestamp ? (\'Edit: \' + title) : \'Create New Banner\' %></h4>\n        </div>\n        <div class="modal-body">\n            <form id="edit-banner-form" class="form-horizontal">\n                <div class="form-group form-group-sm row expanded">\n                    <label class="control-label column small-4" for="title">Title</label>\n                    <div class="column small-20">\n                        <div class="row expanded">\n                            <div class="column small-24">\n                                <input type="text" name="title" id="title" class="" placeholder="New Banner" required/>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="form-group form-group-sm row expanded">\n                    <label class="control-label column small-4" for="type">Type</label>\n                    <div class="column small-20">\n                        <select name="type" id="type" class="">\n                            <option value="ReleaseNotes">Release Notes</option>\n                            <option value="Notice">Notice</option>\n                            <option value="Tip">Tip</option>\n                            <option value="Maintenance">Maintenance</option>\n                            <option value="FieldAlert">Field Alert</option>\n                        </select>\n                    </div>\n                </div>\n\n                <div class="form-group form-group-sm row expanded">\n                    <label class="control-label column small-4" for="status">Status</label>\n                    <div class="column small-20">\n                        <select name="status" id="status" class="">\n                            <option value="Active">Active</option>\n                            <option value="Inactive">Inactive</option>\n                        </select>\n                    </div>\n                </div>\n\n                <div class="form-group form-group-sm row expanded">\n                    <label class="control-label column small-4" for="visibility">Visibility</label>\n                    <div class="column small-20">\n                        <select name="visibility" id="visibility" class="">\n                            <option value="AllUsers">All Users</option>\n                            <option value="Internal">Internal</option>\n                            <option value="External">External</option>\n                            <option value="Reseller">Reseller</option>\n                            <option value="SpecificAccount">Specific Tenant</option>\n                        </select>\n                    </div>\n                </div>\n\n                <div id="accountId-container">\n                    <div class="form-group form-group-sm row expanded">\n                        <label class="control-label column small-4" for="accountName">Tenant</label>\n                        <div class="column small-20">\n                            <input name="accountName" id="accountName" class=""/>\n                            <input name="accountId" id="accountId" class="" disabled/>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="form-group form-group-sm row expanded">\n                    <label class="control-label column small-4" for="contents">Contents</label>\n                    <div class="column small-20">\n                        <div class="row expanded">\n                            <div class="column small-24">\n                                <textarea name="contents" id="contents" class="" rows=17 cols=70\n                                placeholder="Banner contents (as HTML)..."></textarea>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </form>\n        </div>\n        <div class="modal-footer">\n            <button type="button" class="button" name="submit" data-dismiss="modal" disabled>Save</button>\n            <button type="button" class="button secondary" name="cancel" data-dismiss="modal">Cancel</button>\n        </div>\n    </div>\n</div>\n'},function(e,t,n){var a=n(9),i=n(13),r=n(1581),o=n(1583);e.exports=i.CompositeView.extend({template:a.template(o),childView:r,childViewContainer:"#banner-list"})},function(e,t,n){var a=n(13);n(1582).htmlEncode;e.exports=a.ItemView.extend({template:!1,tagName:"tr",className:"list-group-item banner",render:function(){var e=this.model.get("contents");this.attachElContent(e)}})},function(e,t,n){var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(16),r=function(e){return null===e||void 0===e?e:i("<div />").text(e).html()};e.exports={getUrlParameter:function(e){var t=RegExp("[?&]"+e+"=([^&]*)").exec(window.location.search),n=t&&decodeURIComponent(t[1].replace(/\+/g," ")),i=r(n);return console.log("val",n,void 0===n?"undefined":a(n),i,void 0===i?"undefined":a(i)),i},htmlEncode:r,htmlDecode:function(e){return i("<div />").html(e).text()}}},function(e,t){e.exports='<div class="modal-dialog modal-lg">\n    <div class="modal-content">\n        <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal">\n                <i class="glyphicon glyphicon-remove"></i>\n            </button>\n            <h3 class="modal-title">Banner Preview</h4>\n        </div>\n        <div class="modal-body banner-container">\n            <ul id="banner-list" class="list-group">\n            </ul>\n        </div>\n        <div class="modal-footer">\n            <button type="button" class="button secondary" name="close" data-dismiss="modal">Close</button>\n        </div>\n    </div>\n</div>'},function(e,t,n){var a=n(16),i=n(9),r=n(37).API_BASE_URL,o=n(22).buildUrl,s=n(11),l=n(10),c=n(1585),u=i.template(c);e.exports=s.View.extend({initialize:function(){i.bindAll(this,"showDialog","notify")},showDialog:function(){var e=this;this.dialog=this.$("#banner-notify").dialog({appendTo:this.el,autoOpen:!0,height:"auto",width:600,modal:!0,title:"Email Notification: "+this.model.get("title"),close:function(){e.trigger("close")},dialogClass:"banner-notify-dialog"})},render:function(){var e=this;return this.$el.html(u(i.extend(this.model.toJSON(),{moment:l}))),this.$status=this.$("#status"),this.$notify=this.$("#notify"),this.$confirmation=this.$("#confirmation"),this.$("#cancel").button().click(function(){e.dialog.dialog("close")}),this.$("#confirm").button().click(function(){e.$confirmation.fadeOut({done:e.notify})}),this.$notify.hide(),this.$confirmation.show(),this},notify:function(){var e=this;this.$notify.fadeIn(),this.$status.addClass("fa-spinner fa-spin"),a.post(o(r,"admin/banners",e.model.get("id"),"/notify")).done(function(){e.$status.removeClass("fa-spinner fa-spin").addClass("fa-check"),e.$("#success").show()}).fail(function(t,n,a){e.$status.removeClass("fa-spinner fa-spin").addClass("error fa-times"),e.$("#banner-notify-error").text(a),e.$("#error").show()})}})},function(e,t){e.exports='<div id="banner-notify" class="card-section">\n\n    <div id="confirmation">\n        <% if (notificationTimestamp) { %>\n            <p><b>Notification emails were already sent for this banner (at <%= moment(notificationTimestamp).format("L LT") %>).</b></p>\n        <% } %>\n\n        <p>Please confirm that you wish to send notification emails for this bulletin.</p>\n        <div id="button-list" class="flex-container flex-dir-row align-right">\n            <button id="confirm" class="button">Confirm</button>\n            <button id="cancel" class="button cancel">Cancel</button>\n        </div>\n    </div>\n\n    <div id="notify">\n        <p><i id="status" class="fa"></i>Sending notification emails for banner: <span id="banner-title"><%= title %></span></p>\n\n        <p id="success" style="display: none;">Spawned asynchronous notification job - monitor server logs for status</p>\n        <p id="error" style="display: none;">Error sending email notifications: <span id="banner-notify-error"></span></p>\n    </div>\n\n</div>\n\n'},function(e,t){e.exports='<div class="banners-container">\n    <div class="toolbar">\n        <button id="create" class="button">\n            <i class="fa fa-plus"></i><span style="margin-left: 5px;">Add</span>\n        </button>\n        <button id="edit" disabled="disabled" class="button">\n            <i class="fa fa-pencil"></i><span style="margin-left: 5px;">Edit</span>\n        </button>\n        <button id="delete" disabled="disabled" class="button">\n            <i class="fa fa-times"></i><span style="margin-left: 5px;">Remove</span>\n        </button>\n        <div style="width: 1em; display: inline-block"></div>\n        <button id="preview" disabled="disabled" class="button">\n            <i class="fa fa-file-image-o"></i><span style="margin-left: 5px;">Preview</span>\n        </button>\n        <button id="notify" disabled="disabled" class="button">\n            <i class="fa fa-envelope"></i><span style="margin-left: 5px;">Notify</span>\n        </button>\n    </div>\n    <div id="banners-grid-container">\n        <table id="banners-table" class="elmer-grid-view" style="width: 100%;">\n            <thead>\n                <tr>\n                    \x3c!-- hidden column, but allows us to default sort by creation date --\x3e\n                    <th>Internal ID</th>\n                    <th>Title</th>\n                    <th>Type</th>\n                    <th>Status</th>\n                    <th>Visibility</th>\n                    <th>Account ID</th>\n                    <th>Feature</th>\n                    <th>Created</th>\n                    <th>Notified</th>\n                    <th>Expires</th>\n                </tr>\n            </thead>\n        </table>\n    </div>\n\n</div>\n'},function(e,t,n){},,function(e,t,n){e.exports=function(){return n(1590)('!function(n){var t={};function e(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var i in n)e.d(r,i,function(t){return n[t]}.bind(null,i));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=3)}([function(n,t){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(n){"object"==typeof window&&(e=window)}n.exports=e},function(n,t){var e,r,i=n.exports={};function o(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function a(n){if(e===setTimeout)return setTimeout(n,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(n,0);try{return e(n,0)}catch(t){try{return e.call(null,n,0)}catch(t){return e.call(this,n,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:o}catch(n){e=o}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(n){r=u}}();var s,c=[],f=!1,l=-1;function h(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&d())}function d(){if(!f){var n=a(h);f=!0;for(var t=c.length;t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,f=!1,function(n){if(r===clearTimeout)return clearTimeout(n);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(n);try{r(n)}catch(t){try{return r.call(null,n)}catch(t){return r.call(this,n)}}}(n)}}function v(n,t){this.fun=n,this.array=t}function p(){}i.nextTick=function(n){var t=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)t[e-1]=arguments[e];c.push(new v(n,t)),1!==c.length||f||a(d)},v.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(n){return[]},i.binding=function(n){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(n){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(n,t,e){"use strict";(function(n,e){var r=Object.keys,i=Array.isArray,o="undefined"!=typeof self?self:"undefined"!=typeof window?window:n;function u(n,t){return"object"!=typeof t?n:(r(t).forEach(function(e){n[e]=t[e]}),n)}var a=Object.getPrototypeOf,s={}.hasOwnProperty;function c(n,t){return s.call(n,t)}function f(n,t){"function"==typeof t&&(t=t(a(n))),r(t).forEach(function(e){h(n,e,t[e])})}var l=Object.defineProperty;function h(n,t,e,r){l(n,t,u(e&&c(e,"get")&&"function"==typeof e.get?{get:e.get,set:e.set,configurable:!0}:{value:e,configurable:!0,writable:!0},r))}function d(n){return{from:function(t){return n.prototype=Object.create(t.prototype),h(n.prototype,"constructor",n),{extend:f.bind(null,n.prototype)}}}}var v=Object.getOwnPropertyDescriptor;var p=[].slice;function y(n,t,e){return p.call(n,t,e)}function m(n,t){return t(n)}function g(n){if(!n)throw new Error("Assertion Failed")}function b(n){o.setImmediate?e(n):setTimeout(n,0)}function w(n,t){return n.reduce(function(n,e,r){var i=t(e,r);return i&&(n[i[0]]=i[1]),n},{})}function _(n,t){return function(){try{n.apply(this,arguments)}catch(n){t(n)}}}function k(n,t,e){try{n.apply(null,e)}catch(n){t&&t(n)}}function x(n,t){if(c(n,t))return n[t];if(!t)return n;if("string"!=typeof t){for(var e=[],r=0,i=t.length;r<i;++r){var o=x(n,t[r]);e.push(o)}return e}var u=t.indexOf(".");if(-1!==u){var a=n[t.substr(0,u)];return void 0===a?void 0:x(a,t.substr(u+1))}}function j(n,t,e){if(n&&void 0!==t&&!("isFrozen"in Object&&Object.isFrozen(n)))if("string"!=typeof t&&"length"in t){g("string"!=typeof e&&"length"in e);for(var r=0,i=t.length;r<i;++r)j(n,t[r],e[r])}else{var o=t.indexOf(".");if(-1!==o){var u=t.substr(0,o),a=t.substr(o+1);if(""===a)void 0===e?delete n[u]:n[u]=e;else{var s=n[u];s||(s=n[u]={}),j(s,a,e)}}else void 0===e?delete n[t]:n[t]=e}}function A(n){var t={};for(var e in n)c(n,e)&&(t[e]=n[e]);return t}var E=[].concat;function O(n){return E.apply([],n)}var P="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(O([8,16,32,64].map(function(n){return["Int","Uint","Float"].map(function(t){return t+n+"Array"})}))).filter(function(n){return o[n]}).map(function(n){return o[n]});function T(n){if(!n||"object"!=typeof n)return n;var t;if(i(n)){t=[];for(var e=0,r=n.length;e<r;++e)t.push(T(n[e]))}else if(P.indexOf(n.constructor)>=0)t=n;else for(var o in t=n.constructor?Object.create(n.constructor.prototype):{},n)c(n,o)&&(t[o]=T(n[o]));return t}function S(n,t,e,i){return e=e||{},i=i||"",r(n).forEach(function(r){if(c(t,r)){var o=n[r],u=t[r];"object"==typeof o&&"object"==typeof u&&o&&u&&""+o.constructor==""+u.constructor?S(o,u,e,i+r+"."):o!==u&&(e[i+r]=t[r])}else e[i+r]=void 0}),r(t).forEach(function(r){c(n,r)||(e[i+r]=t[r])}),e}var I="undefined"!=typeof Symbol&&Symbol.iterator,C=I?function(n){var t;return null!=n&&(t=n[I])&&t.apply(n)}:function(){return null},D={};function K(n){var t,e,r,o;if(1===arguments.length){if(i(n))return n.slice();if(this===D&&"string"==typeof n)return[n];if(o=C(n)){for(e=[];!(r=o.next()).done;)e.push(r.value);return e}if(null==n)return[n];if("number"==typeof(t=n.length)){for(e=new Array(t);t--;)e[t]=n[t];return e}return[n]}for(t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return e}var F="undefined"!=typeof location&&/^(http|https):\\/\\/(localhost|127\\.0\\.0\\.1)/.test(location.href);function M(n,t){F=n,B=t}var B=function(){return!0},N=!new Error("").stack;function q(){if(N)try{throw q.arguments,new Error}catch(n){return n}return new Error}function R(n,t){var e=n.stack;return e?(t=t||0,0===e.indexOf(n.name)&&(t+=(n.name+n.message).split("\\n").length),e.split("\\n").slice(t).filter(B).map(function(n){return"\\n"+n}).join("")):""}var U=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],L=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(U),V={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function z(n,t){this._e=q(),this.name=n,this.message=t}function W(n,t,e,r){this._e=q(),this.failures=t,this.failedKeys=r,this.successCount=e}function Q(n,t){this._e=q(),this.name="BulkError",this.failures=t,this.message=function(n,t){return n+". Errors: "+t.map(function(n){return n.toString()}).filter(function(n,t,e){return e.indexOf(n)===t}).join("\\n")}(n,t)}d(z).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+R(this._e,2))}},toString:function(){return this.name+": "+this.message}}),d(W).from(z),d(Q).from(z);var H=L.reduce(function(n,t){return n[t]=t+"Error",n},{}),J=z,G=L.reduce(function(n,t){var e=t+"Error";function r(n,r){this._e=q(),this.name=e,n?"string"==typeof n?(this.message=n,this.inner=r||null):"object"==typeof n&&(this.message=n.name+" "+n.message,this.inner=n):(this.message=V[t]||e,this.inner=null)}return d(r).from(J),n[t]=r,n},{});G.Syntax=SyntaxError,G.Type=TypeError,G.Range=RangeError;var Y=U.reduce(function(n,t){return n[t+"Error"]=G[t],n},{});var $=L.reduce(function(n,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(n[t+"Error"]=G[t]),n},{});function X(){}function Z(n){return n}function nn(n,t){return null==n||n===Z?t:function(e){return t(n(e))}}function tn(n,t){return function(){n.apply(this,arguments),t.apply(this,arguments)}}function en(n,t){return n===X?t:function(){var e=n.apply(this,arguments);void 0!==e&&(arguments[0]=e);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?tn(r,this.onsuccess):r),i&&(this.onerror=this.onerror?tn(i,this.onerror):i),void 0!==o?o:e}}function rn(n,t){return n===X?t:function(){n.apply(this,arguments);var e=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),e&&(this.onsuccess=this.onsuccess?tn(e,this.onsuccess):e),r&&(this.onerror=this.onerror?tn(r,this.onerror):r)}}function on(n,t){return n===X?t:function(e){var r=n.apply(this,arguments);u(e,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?tn(i,this.onsuccess):i),o&&(this.onerror=this.onerror?tn(o,this.onerror):o),void 0===r?void 0===a?void 0:a:u(r,a)}}function un(n,t){return n===X?t:function(){return!1!==t.apply(this,arguments)&&n.apply(this,arguments)}}function an(n,t){return n===X?t:function(){var e=n.apply(this,arguments);if(e&&"function"==typeof e.then){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return e.then(function(){return t.apply(r,o)})}return t.apply(this,arguments)}}$.ModifyError=W,$.DexieError=z,$.BulkError=Q;var sn={},cn=100,fn=7,ln=function(){try{return new Function("let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];")()}catch(t){var n=o.Promise;return n?[n.resolve(),n.prototype,n.resolve()]:[]}}(),hn=ln[0],dn=ln[1],vn=ln[2],pn=dn&&dn.then,yn=hn&&hn.constructor,mn=ln[3],gn=!!vn,bn=!1,wn=vn?function(){vn.then(Un)}:o.setImmediate?e.bind(null,Un):o.MutationObserver?function(){var n=document.createElement("div");new MutationObserver(function(){Un(),n=null}).observe(n,{attributes:!0}),n.setAttribute("i","1")}:function(){setTimeout(Un,0)},_n=function(n,t){Sn.push([n,t]),xn&&(wn(),xn=!1)},kn=!0,xn=!0,jn=[],An=[],En=null,On=Z,Pn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ft,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(n){try{ft(n[0],n[1])}catch(n){}})}},Tn=Pn,Sn=[],In=0,Cn=[];function Dn(n){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=X,this._lib=!1;var t=this._PSD=Tn;if(F&&(this._stackHolder=q(),this._prev=null,this._numPrev=0),"function"!=typeof n){if(n!==sn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Mn(this,this._value))}this._state=null,this._value=null,++t.ref,function n(t,e){try{e(function(e){if(null===t._state){if(e===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&Ln();e&&"function"==typeof e.then?n(t,function(n,t){e instanceof Dn?e._then(n,t):e.then(n,t)}):(t._state=!0,t._value=e,Bn(t)),r&&Vn()}},Mn.bind(null,t))}catch(n){Mn(t,n)}}(this,n)}var Kn={get:function(){var n=Tn,t=$n;function e(e,r){var i=this,o=!n.global&&(n!==Tn||t!==$n);o&&tt();var u=new Dn(function(t,u){Nn(i,new Fn(at(e,n,o),at(r,n,o),t,u,n))});return F&&Rn(u,this),u}return e.prototype=sn,e},set:function(n){h(this,"then",n&&n.prototype===sn?Kn:{get:function(){return n},set:Kn.set})}};function Fn(n,t,e,r,i){this.onFulfilled="function"==typeof n?n:null,this.onRejected="function"==typeof t?t:null,this.resolve=e,this.reject=r,this.psd=i}function Mn(n,t){if(An.push(t),null===n._state){var e=n._lib&&Ln();t=On(t),n._state=!1,n._value=t,F&&null!==t&&"object"==typeof t&&!t._promise&&k(function(){var e=function n(t,e){var r;return v(t,e)||(r=a(t))&&n(r,e)}(t,"stack");t._promise=n,h(t,"stack",{get:function(){return bn?e&&(e.get?e.get.apply(t):e.value):n.stack}})}),function(n){jn.some(function(t){return t._value===n._value})||jn.push(n)}(n),Bn(n),e&&Vn()}}function Bn(n){var t=n._listeners;n._listeners=[];for(var e=0,r=t.length;e<r;++e)Nn(n,t[e]);var i=n._PSD;--i.ref||i.finalize(),0===In&&(++In,_n(function(){0==--In&&zn()},[]))}function Nn(n,t){if(null!==n._state){var e=n._state?t.onFulfilled:t.onRejected;if(null===e)return(n._state?t.resolve:t.reject)(n._value);++t.psd.ref,++In,_n(qn,[e,n,t])}else n._listeners.push(t)}function qn(n,t,e){try{En=t;var r,i=t._value;t._state?r=n(i):(An.length&&(An=[]),r=n(i),-1===An.indexOf(i)&&function(n){var t=jn.length;for(;t;)if(jn[--t]._value===n._value)return void jn.splice(t,1)}(t)),e.resolve(r)}catch(n){e.reject(n)}finally{En=null,0==--In&&zn(),--e.psd.ref||e.psd.finalize()}}function Rn(n,t){var e=t?t._numPrev+1:0;e<cn&&(n._prev=t,n._numPrev=e)}function Un(){Ln()&&Vn()}function Ln(){var n=kn;return kn=!1,xn=!1,n}function Vn(){var n,t,e;do{for(;Sn.length>0;)for(n=Sn,Sn=[],e=n.length,t=0;t<e;++t){var r=n[t];r[0].apply(null,r[1])}}while(Sn.length>0);kn=!0,xn=!0}function zn(){var n=jn;jn=[],n.forEach(function(n){n._PSD.onunhandled.call(null,n._value,n)});for(var t=Cn.slice(0),e=t.length;e;)t[--e]()}function Wn(n){return new Dn(sn,!1,n)}function Qn(n,t){var e=Tn;return function(){var r=Ln(),i=Tn;try{return it(e,!0),n.apply(this,arguments)}catch(n){t&&t(n)}finally{it(i,!1),r&&Vn()}}}f(Dn.prototype,{then:Kn,_then:function(n,t){Nn(this,new Fn(null,null,n,t,Tn))},catch:function(n){if(1===arguments.length)return this.then(null,n);var t=arguments[0],e=arguments[1];return"function"==typeof t?this.then(null,function(n){return n instanceof t?e(n):Wn(n)}):this.then(null,function(n){return n&&n.name===t?e(n):Wn(n)})},finally:function(n){return this.then(function(t){return n(),t},function(t){return n(),Wn(t)})},stack:{get:function(){if(this._stack)return this._stack;try{bn=!0;var n=function n(t,e,r){if(e.length===r)return e;var i="";if(!1===t._state){var o,u,a=t._value;null!=a?(o=a.name||"Error",u=a.message||a,i=R(a,0)):(o=a,u=""),e.push(o+(u?": "+u:"")+i)}F&&((i=R(t._stackHolder,2))&&-1===e.indexOf(i)&&e.push(i),t._prev&&n(t._prev,e,r));return e}(this,[],20).join("\\nFrom previous: ");return null!==this._state&&(this._stack=n),n}finally{bn=!1}}},timeout:function(n,t){var e=this;return n<1/0?new Dn(function(r,i){var o=setTimeout(function(){return i(new G.Timeout(t))},n);e.then(r,i).finally(clearTimeout.bind(null,o))}):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&h(Dn.prototype,Symbol.toStringTag,"Promise"),Pn.env=ot(),f(Dn,{all:function(){var n=K.apply(null,arguments).map(et);return new Dn(function(t,e){0===n.length&&t([]);var r=n.length;n.forEach(function(i,o){return Dn.resolve(i).then(function(e){n[o]=e,--r||t(n)},e)})})},resolve:function(n){if(n instanceof Dn)return n;if(n&&"function"==typeof n.then)return new Dn(function(t,e){n.then(t,e)});var t=new Dn(sn,!0,n);return Rn(t,En),t},reject:Wn,race:function(){var n=K.apply(null,arguments).map(et);return new Dn(function(t,e){n.map(function(n){return Dn.resolve(n).then(t,e)})})},PSD:{get:function(){return Tn},set:function(n){return Tn=n}},newPSD:Zn,usePSD:ut,scheduler:{get:function(){return _n},set:function(n){_n=n}},rejectionMapper:{get:function(){return On},set:function(n){On=n}},follow:function(n,t){return new Dn(function(e,r){return Zn(function(t,e){var r=Tn;r.unhandleds=[],r.onunhandled=e,r.finalize=tn(function(){var n=this;!function(n){Cn.push(function t(){n();Cn.splice(Cn.indexOf(t),1)}),++In,_n(function(){0==--In&&zn()},[])}(function(){0===n.unhandleds.length?t():e(n.unhandleds[0])})},r.finalize),n()},t,e,r)})}});var Hn={awaits:0,echoes:0,id:0},Jn=0,Gn=[],Yn=0,$n=0,Xn=0;function Zn(n,t,e,r){var i=Tn,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++Xn;var a=Pn.env;o.env=gn?{Promise:Dn,PromiseProp:{value:Dn,configurable:!0,writable:!0},all:Dn.all,race:Dn.race,resolve:Dn.resolve,reject:Dn.reject,nthen:st(a.nthen,o),gthen:st(a.gthen,o)}:{},t&&u(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=ut(o,n,e,r);return 0===o.ref&&o.finalize(),s}function nt(){return Hn.id||(Hn.id=++Jn),++Hn.awaits,Hn.echoes+=fn,Hn.id}function tt(n){!Hn.awaits||n&&n!==Hn.id||(0==--Hn.awaits&&(Hn.id=0),Hn.echoes=Hn.awaits*fn)}function et(n){return Hn.echoes&&n&&n.constructor===yn?(nt(),n.then(function(n){return tt(),n},function(n){return tt(),lt(n)})):n}function rt(){var n=Gn[Gn.length-1];Gn.pop(),it(n,!1)}function it(n,t){var e=Tn;if((t?!Hn.echoes||Yn++&&n===Tn:!Yn||--Yn&&n===Tn)||function(n){pn.call(hn,n)}(t?function(n){++$n,Hn.echoes&&0!=--Hn.echoes||(Hn.echoes=Hn.id=0),Gn.push(Tn),it(n,!0)}.bind(null,n):rt),n!==Tn&&(Tn=n,e===Pn&&(Pn.env=ot()),gn)){var r=Pn.env.Promise,i=n.env;dn.then=i.nthen,r.prototype.then=i.gthen,(e.global||n.global)&&(Object.defineProperty(o,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject)}}function ot(){var n=o.Promise;return gn?{Promise:n,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:n.all,race:n.race,resolve:n.resolve,reject:n.reject,nthen:dn.then,gthen:n.prototype.then}:{}}function ut(n,t,e,r,i){var o=Tn;try{return it(n,!0),t(e,r,i)}finally{it(o,!1)}}function at(n,t,e){return"function"!=typeof n?n:function(){var r=Tn;e&&nt(),it(t,!0);try{return n.apply(this,arguments)}finally{it(r,!1)}}}function st(n,t){return function(e,r){return n.call(this,at(e,t,!1),at(r,t,!1))}}var ct="unhandledrejection";function ft(n,t){var e;try{e=t.onuncatched(n)}catch(n){}if(!1!==e)try{var r,i={promise:t,reason:n};if(o.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(ct,!0,!0),u(r,i)):o.CustomEvent&&u(r=new CustomEvent(ct,{detail:i}),i),r&&o.dispatchEvent&&(dispatchEvent(r),!o.PromiseRejectionEvent&&o.onunhandledrejection))try{o.onunhandledrejection(r)}catch(n){}r.defaultPrevented||console.warn("Unhandled rejection: "+(n.stack||n))}catch(n){}}var lt=Dn.reject;function ht(n){var t={},e=function(e,r){if(r){for(var i=arguments.length,o=new Array(i-1);--i;)o[i-1]=arguments[i];return t[e].subscribe.apply(null,o),n}if("string"==typeof e)return t[e]};e.addEventType=a;for(var o=1,u=arguments.length;o<u;++o)a(arguments[o]);return e;function a(n,o,u){if("object"==typeof n)return function(n){r(n).forEach(function(t){var e=n[t];if(i(e))a(t,n[t][0],n[t][1]);else{if("asap"!==e)throw new G.InvalidArgument("Invalid event config");var r=a(t,Z,function(){for(var n=arguments.length,t=new Array(n);n--;)t[n]=arguments[n];r.subscribers.forEach(function(n){b(function(){n.apply(null,t)})})})}})}(n);o||(o=un),u||(u=X);var s={subscribers:[],fire:u,subscribe:function(n){-1===s.subscribers.indexOf(n)&&(s.subscribers.push(n),s.fire=o(s.fire,n))},unsubscribe:function(n){s.subscribers=s.subscribers.filter(function(t){return t!==n}),s.fire=s.subscribers.reduce(o,u)}};return t[n]=e[n]=s,s}}var dt,vt=String.fromCharCode(65535),pt=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(n){return vt}}(),yt=-1/0,mt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",gt="String expected.",bt=[],wt="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),_t=wt,kt=wt,xt=function(n){return!/(dexie\\.js|dexie\\.min\\.js)/.test(n)};function jt(n,t){var e,a,s,l=jt.dependencies,d=u({addons:jt.addons,autoOpen:!0,indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange},t),v=d.addons,p=d.autoOpen,b=d.indexedDB,E=d.IDBKeyRange,P=this._dbSchema={},I=[],C=[],M={},B=null,N=null,U=!1,L=null,V=!1,z="readwrite",H=this,J=new Dn(function(n){e=n}),Y=new Dn(function(n,t){a=t}),$=!0,tn=!!Ft(b);function un(n){this._cfg={version:n,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function sn(n,t,e){var i=H._createTransaction(z,C,P);i.create(t),i._completion.catch(e);var o=i._reject.bind(i);Zn(function(){Tn.trans=i,0===n?(r(P).forEach(function(n){cn(t,n,P[n].primKey,P[n].indexes)}),Dn.follow(function(){return H.on.populate.fire(i)}).catch(o)):function(n,t,e){var i=[],o=I.filter(function(t){return t._cfg.version===n})[0];if(!o)throw new G.Upgrade("Dexie specification of currently installed DB version is missing");P=H._dbSchema=o._cfg.dbschema;var u=!1;return I.filter(function(t){return t._cfg.version>n}).forEach(function(n){i.push(function(){var r=P,i=n._cfg.dbschema;Cn(r,e),Cn(i,e),P=H._dbSchema=i;var o=function(n,t){var e={del:[],add:[],change:[]};for(var r in n)t[r]||e.del.push(r);for(r in t){var i=n[r],o=t[r];if(i){var u={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(i.primKey.src!==o.primKey.src)u.recreate=!0,e.change.push(u);else{var a=i.idxByName,s=o.idxByName;for(var c in a)s[c]||u.del.push(c);for(c in s){var f=a[c],l=s[c];f?f.src!==l.src&&u.change.push(l):u.add.push(l)}(u.del.length>0||u.add.length>0||u.change.length>0)&&e.change.push(u)}}else e.add.push([r,o])}return e}(r,i);if(o.add.forEach(function(n){cn(e,n[0],n[1].primKey,n[1].indexes)}),o.change.forEach(function(n){if(n.recreate)throw new G.Upgrade("Not yet support for changing primary key");var t=e.objectStore(n.name);n.add.forEach(function(n){fn(t,n)}),n.change.forEach(function(n){t.deleteIndex(n.name),fn(t,n)}),n.del.forEach(function(n){t.deleteIndex(n)})}),n._cfg.contentUpgrade)return u=!0,Dn.follow(function(){n._cfg.contentUpgrade(t)})}),i.push(function(t){u&&_t||function(n,t){for(var e=0;e<t.db.objectStoreNames.length;++e){var r=t.db.objectStoreNames[e];null==n[r]&&t.db.deleteObjectStore(r)}}(n._cfg.dbschema,t)})}),function n(){return i.length?Dn.resolve(i.shift()(t.idbtrans)).then(n):Dn.resolve()}().then(function(){!function(n,t){r(n).forEach(function(e){t.db.objectStoreNames.contains(e)||cn(t,e,n[e].primKey,n[e].indexes)})}(P,e)})}(n,i,t).catch(o)})}function cn(n,t,e,r){var i=n.db.createObjectStore(t,e.keyPath?{keyPath:e.keyPath,autoIncrement:e.auto}:{autoIncrement:e.auto});return r.forEach(function(n){fn(i,n)}),i}function fn(n,t){n.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function ln(n,t,e){this.name=n,this.schema=t,this._tx=e,this.hook=M[n]?M[n].hook:ht(null,{creating:[en,X],reading:[nn,Z],updating:[on,X],deleting:[rn,X]})}function hn(n,t,e){return(e?Tt:Ot)(function(e){n.push(e),t&&t()})}function dn(n,t,e,r,i){return new Dn(function(o,u){var a=e.length,s=a-1;if(0===a)return o();if(r){var c,f=Tt(u),l=Et(null);k(function(){for(var r=0;r<a;++r){c={onsuccess:null,onerror:null};var u=e[r];i.call(c,u[0],u[1],t);var h=n.delete(u[0]);h._hookCtx=c,h.onerror=f,h.onsuccess=r===s?Et(o):l}},function(n){throw c.onerror&&c.onerror(n),n})}else for(var h=0;h<a;++h){var d=n.delete(e[h]);d.onerror=Ot(u),h===s&&(d.onsuccess=Qn(function(){return o()}))}})}function vn(n,t,e,r){var i=this;this.db=H,this.mode=n,this.storeNames=t,this.idbtrans=null,this.on=ht(this,"complete","error","abort"),this.parent=r||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Dn(function(n,t){i._resolve=n,i._reject=t}),this._completion.then(function(){i.active=!1,i.on.complete.fire()},function(n){var t=i.active;return i.active=!1,i.on.error.fire(n),i.parent?i.parent._reject(n):t&&i.idbtrans&&i.idbtrans.abort(),lt(n)})}function pn(n,t,e){this._ctx={table:n,index:":id"===t?null:t,or:e}}function gn(n,t){var e=null,r=null;if(t)try{e=t()}catch(n){r=n}var i=n._ctx,o=i.table;this._ctx={table:o,index:i.index,isPrimKey:!i.index||o.schema.primKey.keyPath&&i.index===o.schema.primKey.name,range:e,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:o.hook.reading.fire}}function bn(n,t){return!(n.filter||n.algorithm||n.or)&&(t?n.justLimit:!n.replayFilter)}function wn(n,t){return n._cfg.version-t._cfg.version}function _n(n,t,e){t.forEach(function(t){var r=e[t];n.forEach(function(n){t in n||(n===vn.prototype||n instanceof vn?h(n,t,{get:function(){return this.table(t)}}):n[t]=new ln(t,r))})})}function kn(n,t,e,r,i,o){var u=Qn(o?function(n,t,r){return e(o(n),t,r)}:e,i);n.onerror||(n.onerror=Ot(i)),n.onsuccess=_(t?function(){var e=n.result;if(e){var o=function(){e.continue()};t(e,function(n){o=n},r,i)&&u(e.value,e,function(n){o=n}),o()}else r()}:function(){var t=n.result;if(t){var e=function(){t.continue()};u(t.value,t,function(n){e=n}),e()}else r()},i)}function xn(n,t){return b.cmp(n,t)}function jn(n,t){return xn(n,t)<0?n:t}function An(n,t){return xn(n,t)>0?n:t}function En(n,t){return b.cmp(n,t)}function On(n,t){return b.cmp(t,n)}function Pn(n,t){return n<t?-1:n===t?0:1}function Sn(n,t){return n>t?-1:n===t?0:1}function In(n,t){return n?t?function(){return n.apply(this,arguments)&&t.apply(this,arguments)}:n:t}function Cn(n,t){for(var e=t.db.objectStoreNames,r=0;r<e.length;++r){var i=e[r],u=t.objectStore(i);s="getAll"in u;for(var a=0;a<u.indexNames.length;++a){var c=u.indexNames[a],f=u.index(c).keyPath,l="string"==typeof f?f:"["+y(f).join("+")+"]";if(n[i]){var h=n[i].idxByName[l];h&&(h.name=c)}}}/Safari/.test(navigator.userAgent)&&!/(Chrome\\/|Edge\\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\\/(\\d*)/))[1]<604&&(s=!1)}function Kn(n){H.on("blocked").fire(n),bt.filter(function(n){return n.name===H.name&&n!==H&&!n._vcFired}).map(function(t){return t.on("versionchange").fire(n)})}this.version=function(n){if(B||U)throw new G.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,n);var t=I.filter(function(t){return t._cfg.version===n})[0];return t||(t=new un(n),I.push(t),I.sort(wn),$=!1,t)},u(un.prototype,{stores:function(n){this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,n):n;var t={};I.forEach(function(n){u(t,n._cfg.storesSource)});var e=this._cfg.dbschema={};return this._parseStoresSpec(t,e),P=H._dbSchema=e,function(n){n.forEach(function(n){for(var t in n)n[t]instanceof ln&&delete n[t]})}([M,H,vn.prototype]),_n([M,H,vn.prototype,this._cfg.tables],r(e),e),C=r(e),this},upgrade:function(n){return this._cfg.contentUpgrade=n,this},_parseStoresSpec:function(n,t){r(n).forEach(function(e){if(null!==n[e]){var r={},o=function(n){var t=[];return n.split(",").forEach(function(n){var e=(n=n.trim()).replace(/([&*]|\\+\\+)/g,""),r=/^\\[/.test(e)?e.match(/^\\[(.*)\\]$/)[1].split("+"):e;t.push(new Ct(e,r||null,/\\&/.test(n),/\\*/.test(n),/\\+\\+/.test(n),i(r),/\\./.test(n)))}),t}(n[e]),u=o.shift();if(u.multi)throw new G.Schema("Primary key cannot be multi-valued");u.keyPath&&j(r,u.keyPath,u.auto?0:u.keyPath),o.forEach(function(n){if(n.auto)throw new G.Schema("Only primary key can be marked as autoIncrement (++)");if(!n.keyPath)throw new G.Schema("Index must have a name and cannot be an empty string");j(r,n.keyPath,n.compound?n.keyPath.map(function(){return""}):"")}),t[e]=new Dt(e,u,o,r)}})}}),this._allTables=M,this._createTransaction=function(n,t,e,r){return new vn(n,t,e,r)},this._whenReady=function(n){return V||Tn.letThrough?n():new Dn(function(n,t){if(!U){if(!p)return void t(new G.DatabaseClosed);H.open().catch(X)}J.then(n,t)}).then(n)},this.verno=0,this.open=function(){if(U||B)return J.then(function(){return N?lt(N):H});F&&(Y._stackHolder=q()),U=!0,N=null,V=!1;var t=e,i=null;return Dn.race([Y,new Dn(function(t,e){if(!b)throw new G.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var o=$?b.open(n):b.open(n,Math.round(10*H.verno));if(!o)throw new G.MissingAPI("IndexedDB API not available");o.onerror=Ot(e),o.onblocked=Qn(Kn),o.onupgradeneeded=Qn(function(t){if(i=o.transaction,$&&!H._allowEmptyDB){o.onerror=St,i.abort(),o.result.close();var r=b.deleteDatabase(n);r.onsuccess=r.onerror=Qn(function(){e(new G.NoSuchDatabase("Database "+n+" doesnt exist"))})}else{i.onerror=Ot(e),sn((t.oldVersion>Math.pow(2,62)?0:t.oldVersion)/10,i,e)}},e),o.onsuccess=Qn(function(){if(i=null,B=o.result,bt.push(H),$)!function(){if(H.verno=B.version/10,H._dbSchema=P={},0===(C=y(B.objectStoreNames,0)).length)return;var n=B.transaction(Kt(C),"readonly");C.forEach(function(t){for(var e=n.objectStore(t),r=e.keyPath,i=r&&"string"==typeof r&&-1!==r.indexOf("."),o=new Ct(r,r||"",!1,!1,!!e.autoIncrement,r&&"string"!=typeof r,i),u=[],a=0;a<e.indexNames.length;++a){var s=e.index(e.indexNames[a]);r=s.keyPath,i=r&&"string"==typeof r&&-1!==r.indexOf(".");var c=new Ct(s.name,r,!!s.unique,!!s.multiEntry,!1,r&&"string"!=typeof r,i);u.push(c)}P[t]=new Dt(t,o,u,{})}),_n([M],r(P),P)}();else if(B.objectStoreNames.length>0)try{Cn(P,B.transaction(Kt(B.objectStoreNames),"readonly"))}catch(n){}B.onversionchange=Qn(function(n){H._vcFired=!0,H.on("versionchange").fire(n)}),tn||"__dbnames"===n||dt.dbnames.put({name:n}).catch(X),t()},e)})]).then(function(){return L=[],Dn.resolve(jt.vip(H.on.ready.fire)).then(function n(){if(L.length>0){var t=L.reduce(an,X);return L=[],Dn.resolve(jt.vip(t)).then(n)}})}).finally(function(){L=null}).then(function(){return U=!1,H}).catch(function(n){try{i&&i.abort()}catch(n){}return U=!1,H.close(),lt(N=n)}).finally(function(){V=!0,t()})},this.close=function(){var n=bt.indexOf(H);if(n>=0&&bt.splice(n,1),B){try{B.close()}catch(n){}B=null}p=!1,N=new G.DatabaseClosed,U&&a(N),J=new Dn(function(n){e=n}),Y=new Dn(function(n,t){a=t})},this.delete=function(){var t=arguments.length>0;return new Dn(function(e,r){if(t)throw new G.InvalidArgument("Arguments not allowed in db.delete()");function i(){H.close();var t=b.deleteDatabase(n);t.onsuccess=Qn(function(){tn||dt.dbnames.delete(n).catch(X),e()}),t.onerror=Ot(r),t.onblocked=Kn}U?J.then(i):i()})},this.backendDB=function(){return B},this.isOpen=function(){return null!==B},this.hasBeenClosed=function(){return N&&N instanceof G.DatabaseClosed},this.hasFailed=function(){return null!==N},this.dynamicallyOpened=function(){return $},this.name=n,f(this,{tables:{get:function(){return r(M).map(function(n){return M[n]})}}}),this.on=ht(this,"populate","blocked","versionchange",{ready:[an,X]}),this.on.ready.subscribe=m(this.on.ready.subscribe,function(n){return function(t,e){jt.vip(function(){V?(N||Dn.resolve().then(t),e&&n(t)):L?(L.push(t),e&&n(t)):(n(t),e||n(function n(){H.on.ready.unsubscribe(t),H.on.ready.unsubscribe(n)}))})}}),this.transaction=function(){var n=function(n,t,e){var r=arguments.length;if(r<2)throw new G.InvalidArgument("Too few arguments");var i=new Array(r-1);for(;--r;)i[r-1]=arguments[r];e=i.pop();var o=O(i);return[n,o,e]}.apply(this,arguments);return this._transaction.apply(this,n)},this._transaction=function(n,t,e){var r=Tn.trans;r&&r.db===H&&-1===n.indexOf("!")||(r=null);var i=-1!==n.indexOf("?");n=n.replace("!","").replace("?","");try{var o=t.map(function(n){var t=n instanceof ln?n.name:n;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t});if("r"==n||"readonly"==n)n="readonly";else{if("rw"!=n&&n!=z)throw new G.InvalidArgument("Invalid transaction mode: "+n);n=z}if(r){if("readonly"===r.mode&&n===z){if(!i)throw new G.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&o.forEach(function(n){if(r&&-1===r.storeNames.indexOf(n)){if(!i)throw new G.SubTransaction("Table "+n+" not included in parent transaction.");r=null}}),i&&r&&!r.active&&(r=null)}}catch(n){return r?r._promise(null,function(t,e){e(n)}):lt(n)}return r?r._promise(n,u,"lock"):Tn.trans?ut(Tn.transless,function(){return H._whenReady(u)}):H._whenReady(u);function u(){return Dn.resolve().then(function(){var t,i=Tn.transless||Tn,u=H._createTransaction(n,o,P,r),a={trans:u,transless:i};r?u.idbtrans=r.idbtrans:u.create(),e.constructor===mn&&nt();var s=Dn.follow(function(){if(t=e.call(u,u))if(t.constructor===yn){var n=tt.bind(null,null);t.then(n,n)}else"function"==typeof t.next&&"function"==typeof t.throw&&(t=It(t))},a);return(t&&"function"==typeof t.then?Dn.resolve(t).then(function(n){return u.active?n:lt(new G.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):s.then(function(){return t})).then(function(n){return r&&u._resolve(),u._completion.then(function(){return n})}).catch(function(n){return u._reject(n),lt(n)})})}},this.table=function(n){if(!c(M,n))throw new G.InvalidTable("Table "+n+" does not exist");return M[n]},f(ln.prototype,{_trans:function(n,t,e){var r=this._tx||Tn.trans;return r&&r.db===H?r===Tn.trans?r._promise(n,t,e):Zn(function(){return r._promise(n,t,e)},{trans:r,transless:Tn.transless||Tn}):function n(t,e,r){if(V||Tn.letThrough){var i=H._createTransaction(t,e,P);try{i.create()}catch(n){return lt(n)}return i._promise(t,function(n,t){return Zn(function(){return Tn.trans=i,r(n,t,i)})}).then(function(n){return i._completion.then(function(){return n})})}if(!U){if(!p)return lt(new G.DatabaseClosed);H.open().catch(X)}return J.then(function(){return n(t,e,r)})}(n,[this.name],t)},_idbstore:function(n,t,e){var r=this.name;return this._trans(n,function(n,e,i){if(-1===i.storeNames.indexOf(r))throw new G.NotFound("Table"+r+" not part of transaction");return t(n,e,i.idbtrans.objectStore(r),i)},e)},get:function(n,t){if(n&&n.constructor===Object)return this.where(n).first(t);var e=this;return this._idbstore("readonly",function(t,r,i){var o=i.get(n);o.onerror=Ot(r),o.onsuccess=Qn(function(){t(e.hook.reading.fire(o.result))},r)}).then(t)},where:function(n){if("string"==typeof n)return new pn(this,n);if(i(n))return new pn(this,"["+n.join("+")+"]");var t=r(n);if(1===t.length)return this.where(t[0]).equals(n[t[0]]);var e=this.schema.indexes.concat(this.schema.primKey).filter(function(n){return n.compound&&t.every(function(t){return n.keyPath.indexOf(t)>=0})&&n.keyPath.every(function(n){return t.indexOf(n)>=0})})[0];if(e&&pt!==vt)return this.where(e.name).equals(e.keyPath.map(function(t){return n[t]}));e||console.warn("The query "+JSON.stringify(n)+" on "+this.name+" would benefit of a compound index ["+t.join("+")+"]");var o=this.schema.idxByName,u=t.reduce(function(t,e){return[t[0]||o[e],t[0]||!o[e]?In(t[1],function(t){return""+x(t,e)==""+n[e]}):t[1]]},[null,null]),a=u[0];return a?this.where(a.name).equals(n[a.keyPath]).filter(u[1]):e?this.filter(u[1]):this.where(t).equals("")},count:function(n){return this.toCollection().count(n)},offset:function(n){return this.toCollection().offset(n)},limit:function(n){return this.toCollection().limit(n)},reverse:function(){return this.toCollection().reverse()},filter:function(n){return this.toCollection().and(n)},each:function(n){return this.toCollection().each(n)},toArray:function(n){return this.toCollection().toArray(n)},orderBy:function(n){return new gn(new pn(this,i(n)?"["+n.join("+")+"]":n))},toCollection:function(){return new gn(new pn(this))},mapToClass:function(n,t){this.schema.mappedClass=n;var e=Object.create(n.prototype);t&&At(e,t),this.schema.instanceTemplate=e;var r=function(t){if(!t)return t;var e=Object.create(n.prototype);for(var r in t)if(c(t,r))try{e[r]=t[r]}catch(n){}return e};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),n},defineClass:function(n){return this.mapToClass(jt.defineClass(n),n)},bulkDelete:function(n){return this.hook.deleting.fire===X?this._idbstore(z,function(t,e,r,i){t(dn(r,i,n,!1,X))}):this.where(":id").anyOf(n).delete().then(function(){})},bulkPut:function(n,t){var e=this;return this._idbstore(z,function(r,i,o){if(!o.keyPath&&!e.schema.primKey.auto&&!t)throw new G.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(o.keyPath&&t)throw new G.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(t&&t.length!==n.length)throw new G.InvalidArgument("Arguments objects and keys must have the same length");if(0===n.length)return r();var u,a,s=function(n){0===c.length?r(n):i(new Q(e.name+".bulkPut(): "+c.length+" of "+f+" operations failed",c))},c=[],f=n.length,l=e;if(e.hook.creating.fire===X&&e.hook.updating.fire===X){a=hn(c);for(var h=0,d=n.length;h<d;++h)(u=t?o.put(n[h],t[h]):o.put(n[h])).onerror=a;u.onerror=hn(c,s),u.onsuccess=Pt(s)}else{var v=t||o.keyPath&&n.map(function(n){return x(n,o.keyPath)}),p=v&&w(v,function(t,e){return null!=t&&[t,n[e]]});(v?l.where(":id").anyOf(v.filter(function(n){return null!=n})).modify(function(){this.value=p[this.primKey],p[this.primKey]=null}).catch(W,function(n){c=n.failures}).then(function(){for(var e=[],r=t&&[],i=v.length-1;i>=0;--i){var o=v[i];(null==o||p[o])&&(e.push(n[i]),t&&r.push(o),null!=o&&(p[o]=null))}return e.reverse(),t&&r.reverse(),l.bulkAdd(e,r)}).then(function(n){var t=v[v.length-1];return null!=t?t:n}):l.bulkAdd(n)).then(s).catch(Q,function(n){c=c.concat(n.failures),s()}).catch(i)}},"locked")},bulkAdd:function(n,t){var e=this,r=this.hook.creating.fire;return this._idbstore(z,function(i,o,u,a){if(!u.keyPath&&!e.schema.primKey.auto&&!t)throw new G.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(u.keyPath&&t)throw new G.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(t&&t.length!==n.length)throw new G.InvalidArgument("Arguments objects and keys must have the same length");if(0===n.length)return i();function s(n){0===h.length?i(n):o(new Q(e.name+".bulkAdd(): "+h.length+" of "+d+" operations failed",h))}var c,f,l,h=[],d=n.length;if(r!==X){var v,p=u.keyPath;f=hn(h,null,!0),l=Et(null),k(function(){for(var e=0,i=n.length;e<i;++e){v={onerror:null,onsuccess:null};var o=t&&t[e],s=n[e],h=t?o:p?x(s,p):void 0,d=r.call(v,h,s,a);null==h&&null!=d&&(p?j(s=T(s),p,d):o=d),(c=null!=o?u.add(s,o):u.add(s))._hookCtx=v,e<i-1&&(c.onerror=f,v.onsuccess&&(c.onsuccess=l))}},function(n){throw v.onerror&&v.onerror(n),n}),c.onerror=hn(h,s,!0),c.onsuccess=Et(s)}else{f=hn(h);for(var y=0,m=n.length;y<m;++y)(c=t?u.add(n[y],t[y]):u.add(n[y])).onerror=f;c.onerror=hn(h,s),c.onsuccess=Pt(s)}})},add:function(n,t){var e=this.hook.creating.fire;return this._idbstore(z,function(r,i,o,u){var a={onsuccess:null,onerror:null};if(e!==X){var s=null!=t?t:o.keyPath?x(n,o.keyPath):void 0,c=e.call(a,s,n,u);null==s&&null!=c&&(o.keyPath?j(n,o.keyPath,c):t=c)}try{var f=null!=t?o.add(n,t):o.add(n);f._hookCtx=a,f.onerror=Tt(i),f.onsuccess=Et(function(t){var e=o.keyPath;e&&j(n,e,t),r(t)})}catch(n){throw a.onerror&&a.onerror(n),n}})},put:function(n,t){var e=this,r=this.hook.creating.fire,i=this.hook.updating.fire;if(r!==X||i!==X){var o=this.schema.primKey.keyPath,u=void 0!==t?t:o&&x(n,o);return null==u?this.add(n):(n=T(n),this._trans(z,function(){return e.where(":id").equals(u).modify(function(){this.value=n}).then(function(r){return 0===r?e.add(n,t):u})},"locked"))}return this._idbstore(z,function(e,r,i){var o=void 0!==t?i.put(n,t):i.put(n);o.onerror=Ot(r),o.onsuccess=Qn(function(t){var r=i.keyPath;r&&j(n,r,t.target.result),e(o.result)})})},delete:function(n){return this.hook.deleting.subscribers.length?this.where(":id").equals(n).delete():this._idbstore(z,function(t,e,r){var i=r.delete(n);i.onerror=Ot(e),i.onsuccess=Qn(function(){t(i.result)})})},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(z,function(n,t,e){var r=e.clear();r.onerror=Ot(t),r.onsuccess=Qn(function(){n(r.result)})})},update:function(n,t){if("object"!=typeof t||i(t))throw new G.InvalidArgument("Modifications must be an object.");if("object"!=typeof n||i(n))return this.where(":id").equals(n).modify(t);r(t).forEach(function(e){j(n,e,t[e])});var e=x(n,this.schema.primKey.keyPath);return void 0===e?lt(new G.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(e).modify(t)}}),f(vn.prototype,{_lock:function(){return g(!Tn.global),++this._reculock,1!==this._reculock||Tn.global||(Tn.lockOwnerFor=this),this},_unlock:function(){if(g(!Tn.global),0==--this._reculock)for(Tn.global||(Tn.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var n=this._blockedFuncs.shift();try{ut(n[1],n[0])}catch(n){}}return this},_locked:function(){return this._reculock&&Tn.lockOwnerFor!==this},create:function(n){var t=this;if(!this.mode)return this;if(g(!this.idbtrans),!n&&!B)switch(N&&N.name){case"DatabaseClosedError":throw new G.DatabaseClosed(N);case"MissingAPIError":throw new G.MissingAPI(N.message,N);default:throw new G.OpenFailed(N)}if(!this.active)throw new G.TransactionInactive;return g(null===this._completion._state),(n=this.idbtrans=n||B.transaction(Kt(this.storeNames),this.mode)).onerror=Qn(function(e){St(e),t._reject(n.error)}),n.onabort=Qn(function(e){St(e),t.active&&t._reject(new G.Abort(n.error)),t.active=!1,t.on("abort").fire(e)}),n.oncomplete=Qn(function(){t.active=!1,t._resolve()}),this},_promise:function(n,t,e){var r=this;if(n===z&&this.mode!==z)return lt(new G.ReadOnly("Transaction is readonly"));if(!this.active)return lt(new G.TransactionInactive);if(this._locked())return new Dn(function(i,o){r._blockedFuncs.push([function(){r._promise(n,t,e).then(i,o)},Tn])});if(e)return Zn(function(){var n=new Dn(function(n,e){r._lock();var i=t(n,e,r);i&&i.then&&i.then(n,e)});return n.finally(function(){return r._unlock()}),n._lib=!0,n});var i=new Dn(function(n,e){var i=t(n,e,r);i&&i.then&&i.then(n,e)});return i._lib=!0,i},_root:function(){return this.parent?this.parent._root():this},waitFor:function(n){var t=this._root();if(n=Dn.resolve(n),t._waitingFor)t._waitingFor=t._waitingFor.then(function(){return n});else{t._waitingFor=n,t._waitingQueue=[];var e=t.idbtrans.objectStore(t.storeNames[0]);!function n(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(e.get(-1/0).onsuccess=n)}()}var r=t._waitingFor;return new Dn(function(e,i){n.then(function(n){return t._waitingQueue.push(Qn(e.bind(null,n)))},function(n){return t._waitingQueue.push(Qn(i.bind(null,n)))}).finally(function(){t._waitingFor===r&&(t._waitingFor=null)})})},abort:function(){this.active&&this._reject(new G.Abort),this.active=!1},tables:{get:function(n,t){return function(){return console.warn(n+" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. "+R(q(),1)),t.apply(this,arguments)}}("Transaction.tables",function(){return M})},table:function(n){return new ln(n,H.table(n).schema,this)}}),f(pn.prototype,function(){function n(n,t,e){var r=n instanceof pn?new gn(n):n;return r._ctx.error=e?new e(t):new TypeError(t),r}function t(n){return new gn(n,function(){return E.only("")}).limit(0)}function e(n,t,e,r,i,o){for(var u=Math.min(n.length,r.length),a=-1,s=0;s<u;++s){var c=t[s];if(c!==r[s])return i(n[s],e[s])<0?n.substr(0,s)+e[s]+e.substr(s+1):i(n[s],r[s])<0?n.substr(0,s)+r[s]+e.substr(s+1):a>=0?n.substr(0,a)+t[a]+e.substr(a+1):null;i(n[s],c)<0&&(a=s)}return u<r.length&&"next"===o?n+e.substr(n.length):u<n.length&&"prev"===o?n.substr(0,e.length):a<0?null:n.substr(0,a)+r[a]+e.substr(a+1)}function r(t,r,i,o){var u,a,s,c,f,l,h,d=i.length;if(!i.every(function(n){return"string"==typeof n}))return n(t,gt);function v(n){u=function(n){return"next"===n?function(n){return n.toUpperCase()}:function(n){return n.toLowerCase()}}(n),a=function(n){return"next"===n?function(n){return n.toLowerCase()}:function(n){return n.toUpperCase()}}(n),s="next"===n?Pn:Sn;var t=i.map(function(n){return{lower:a(n),upper:u(n)}}).sort(function(n,t){return s(n.lower,t.lower)});c=t.map(function(n){return n.upper}),f=t.map(function(n){return n.lower}),l=n,h="next"===n?"":o}v("next");var p=new gn(t,function(){return E.bound(c[0],f[d-1]+o)});p._ondirectionchange=function(n){v(n)};var y=0;return p._addAlgorithm(function(n,t,i){var o=n.key;if("string"!=typeof o)return!1;var u=a(o);if(r(u,f,y))return!0;for(var v=null,p=y;p<d;++p){var m=e(o,u,c[p],f[p],s,l);null===m&&null===v?y=p+1:(null===v||s(v,m)>0)&&(v=m)}return t(null!==v?function(){n.continue(v+h)}:i),!1}),p}return{between:function(e,r,i,o){i=!1!==i,o=!0===o;try{return xn(e,r)>0||0===xn(e,r)&&(i||o)&&(!i||!o)?t(this):new gn(this,function(){return E.bound(e,r,!i,!o)})}catch(t){return n(this,mt)}},equals:function(n){return new gn(this,function(){return E.only(n)})},above:function(n){return new gn(this,function(){return E.lowerBound(n,!0)})},aboveOrEqual:function(n){return new gn(this,function(){return E.lowerBound(n)})},below:function(n){return new gn(this,function(){return E.upperBound(n,!0)})},belowOrEqual:function(n){return new gn(this,function(){return E.upperBound(n)})},startsWith:function(t){return"string"!=typeof t?n(this,gt):this.between(t,t+vt,!0,!0)},startsWithIgnoreCase:function(n){return""===n?this.startsWith(n):r(this,function(n,t){return 0===n.indexOf(t[0])},[n],vt)},equalsIgnoreCase:function(n){return r(this,function(n,t){return n===t[0]},[n],"")},anyOfIgnoreCase:function(){var n=K.apply(D,arguments);return 0===n.length?t(this):r(this,function(n,t){return-1!==t.indexOf(n)},n,"")},startsWithAnyOfIgnoreCase:function(){var n=K.apply(D,arguments);return 0===n.length?t(this):r(this,function(n,t){return t.some(function(t){return 0===n.indexOf(t)})},n,vt)},anyOf:function(){var e=K.apply(D,arguments),r=En;try{e.sort(r)}catch(t){return n(this,mt)}if(0===e.length)return t(this);var i=new gn(this,function(){return E.bound(e[0],e[e.length-1])});i._ondirectionchange=function(n){r="next"===n?En:On,e.sort(r)};var o=0;return i._addAlgorithm(function(n,t,i){for(var u=n.key;r(u,e[o])>0;)if(++o===e.length)return t(i),!1;return 0===r(u,e[o])||(t(function(){n.continue(e[o])}),!1)}),i},notEqual:function(n){return this.inAnyRange([[yt,n],[n,pt]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var t=K.apply(D,arguments);if(0===t.length)return new gn(this);try{t.sort(En)}catch(t){return n(this,mt)}var e=t.reduce(function(n,t){return n?n.concat([[n[n.length-1][1],t]]):[[yt,t]]},null);return e.push([t[t.length-1],pt]),this.inAnyRange(e,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(e,r){if(0===e.length)return t(this);if(!e.every(function(n){return void 0!==n[0]&&void 0!==n[1]&&En(n[0],n[1])<=0}))return n(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",G.InvalidArgument);var i=!r||!1!==r.includeLowers,o=r&&!0===r.includeUppers;var u,a=En;function s(n,t){return a(n[0],t[0])}try{(u=e.reduce(function(n,t){for(var e=0,r=n.length;e<r;++e){var i=n[e];if(xn(t[0],i[1])<0&&xn(t[1],i[0])>0){i[0]=jn(i[0],t[0]),i[1]=An(i[1],t[1]);break}}return e===r&&n.push(t),n},[])).sort(s)}catch(t){return n(this,mt)}var c=0,f=o?function(n){return En(n,u[c][1])>0}:function(n){return En(n,u[c][1])>=0},l=i?function(n){return On(n,u[c][0])>0}:function(n){return On(n,u[c][0])>=0};var h=f,d=new gn(this,function(){return E.bound(u[0][0],u[u.length-1][1],!i,!o)});return d._ondirectionchange=function(n){"next"===n?(h=f,a=En):(h=l,a=On),u.sort(s)},d._addAlgorithm(function(n,t,e){for(var r=n.key;h(r);)if(++c===u.length)return t(e),!1;return!!function(n){return!f(n)&&!l(n)}(r)||0!==xn(r,u[c][1])&&0!==xn(r,u[c][0])&&(t(function(){a===En?n.continue(u[c][0]):n.continue(u[c][1])}),!1)}),d},startsWithAnyOf:function(){var e=K.apply(D,arguments);return e.every(function(n){return"string"==typeof n})?0===e.length?t(this):this.inAnyRange(e.map(function(n){return[n,n+vt]})):n(this,"startsWithAnyOf() only works with strings")}}}),f(gn.prototype,function(){function n(n,t){n.filter=In(n.filter,t)}function t(n,t,e){var r=n.replayFilter;n.replayFilter=r?function(){return In(r(),t())}:t,n.justLimit=e&&!r}function e(n,t){if(n.isPrimKey)return t;var e=n.table.schema.idxByName[n.index];if(!e)throw new G.Schema("KeyPath "+n.index+" on object store "+t.name+" is not indexed");return t.index(e.name)}function i(n,t){var r=e(n,t);return n.keysOnly&&"openKeyCursor"in r?r.openKeyCursor(n.range||null,n.dir+n.unique):r.openCursor(n.range||null,n.dir+n.unique)}function o(n,t,e,r,o){var u=n.replayFilter?In(n.filter,n.replayFilter()):n.filter;n.or?function(){var a={},s=0;function f(){2==++s&&e()}function l(n,e,i){if(!u||u(e,i,f,r)){var o=e.primaryKey,s=""+o;"[object ArrayBuffer]"===s&&(s=""+new Uint8Array(o)),c(a,s)||(a[s]=!0,t(n,e,i))}}n.or._iterate(l,f,r,o),kn(i(n,o),n.algorithm,l,f,r,!n.keysOnly&&n.valueMapper)}():kn(i(n,o),In(n.algorithm,u),t,e,r,!n.keysOnly&&n.valueMapper)}return{_read:function(n,t){var e=this._ctx;return e.error?e.table._trans(null,lt.bind(null,e.error)):e.table._idbstore("readonly",n).then(t)},_write:function(n){var t=this._ctx;return t.error?t.table._trans(null,lt.bind(null,t.error)):t.table._idbstore(z,n,"locked")},_addAlgorithm:function(n){var t=this._ctx;t.algorithm=In(t.algorithm,n)},_iterate:function(n,t,e,r){return o(this._ctx,n,t,e,r)},clone:function(n){var t=Object.create(this.constructor.prototype),e=Object.create(this._ctx);return n&&u(e,n),t._ctx=e,t},raw:function(){return this._ctx.valueMapper=null,this},each:function(n){var t=this._ctx;return this._read(function(e,r,i){o(t,n,e,r,i)})},count:function(n){var t=this._ctx;if(bn(t,!0))return this._read(function(n,r,i){var o=e(t,i),u=t.range?o.count(t.range):o.count();u.onerror=Ot(r),u.onsuccess=function(e){n(Math.min(e.target.result,t.limit))}},n);var r=0;return this._read(function(n,e,i){o(t,function(){return++r,!1},function(){n(r)},e,i)},n)},sortBy:function(n,t){var e=n.split(".").reverse(),r=e[0],i=e.length-1;function o(n,t){return t?o(n[e[t]],t-1):n[r]}var u="next"===this._ctx.dir?1:-1;function a(n,t){var e=o(n,i),r=o(t,i);return e<r?-u:e>r?u:0}return this.toArray(function(n){return n.sort(a)}).then(t)},toArray:function(n){var t=this._ctx;return this._read(function(n,r,i){if(s&&"next"===t.dir&&bn(t,!0)&&t.limit>0){var u=t.table.hook.reading.fire,a=e(t,i),c=t.limit<1/0?a.getAll(t.range,t.limit):a.getAll(t.range);c.onerror=Ot(r),c.onsuccess=Pt(u===Z?n:function(t){try{n(t.map(u))}catch(n){r(n)}})}else{var f=[];o(t,function(n){f.push(n)},function(){n(f)},r,i)}},n)},offset:function(n){var e=this._ctx;return n<=0?this:(e.offset+=n,bn(e)?t(e,function(){var t=n;return function(n,e){return 0===t||(1===t?(--t,!1):(e(function(){n.advance(t),t=0}),!1))}}):t(e,function(){var t=n;return function(){return--t<0}}),this)},limit:function(n){return this._ctx.limit=Math.min(this._ctx.limit,n),t(this._ctx,function(){var t=n;return function(n,e,r){return--t<=0&&e(r),t>=0}},!0),this},until:function(t,e){return n(this._ctx,function(n,r,i){return!t(n.value)||(r(i),e)}),this},first:function(n){return this.limit(1).toArray(function(n){return n[0]}).then(n)},last:function(n){return this.reverse().first(n)},filter:function(t){return n(this._ctx,function(n){return t(n.value)}),function(n,t){n.isMatch=In(n.isMatch,t)}(this._ctx,t),this},and:function(n){return this.filter(n)},or:function(n){return new pn(this._ctx.table,n,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(n){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,e){n(e.key,e)})},eachUniqueKey:function(n){return this._ctx.unique="unique",this.eachKey(n)},eachPrimaryKey:function(n){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,e){n(e.primaryKey,e)})},keys:function(n){var t=this._ctx;t.keysOnly=!t.isMatch;var e=[];return this.each(function(n,t){e.push(t.key)}).then(function(){return e}).then(n)},primaryKeys:function(n){var t=this._ctx;if(s&&"next"===t.dir&&bn(t,!0)&&t.limit>0)return this._read(function(n,r,i){var o=e(t,i),u=t.limit<1/0?o.getAllKeys(t.range,t.limit):o.getAllKeys(t.range);u.onerror=Ot(r),u.onsuccess=Pt(n)}).then(n);t.keysOnly=!t.isMatch;var r=[];return this.each(function(n,t){r.push(t.primaryKey)}).then(function(){return r}).then(n)},uniqueKeys:function(n){return this._ctx.unique="unique",this.keys(n)},firstKey:function(n){return this.limit(1).keys(function(n){return n[0]}).then(n)},lastKey:function(n){return this.reverse().firstKey(n)},distinct:function(){var t=this._ctx,e=t.index&&t.table.schema.idxByName[t.index];if(!e||!e.multi)return this;var r={};return n(this._ctx,function(n){var t=n.primaryKey.toString(),e=c(r,t);return r[t]=!0,!e}),this},modify:function(n){var t=this,e=this._ctx.table.hook,i=e.updating.fire,o=e.deleting.fire;return this._write(function(e,a,s,f){var l;if("function"==typeof n)l=i===X&&o===X?n:function(t){var e=T(t);if(!1===n.call(this,t,this))return!1;if(c(this,"value")){var u=S(e,this.value),a=i.call(this,u,this.primKey,e,f);a&&(t=this.value,r(a).forEach(function(n){j(t,n,a[n])}))}else o.call(this,this.primKey,t,f)};else if(i===X){var h=r(n),d=h.length;l=function(t){for(var e=!1,r=0;r<d;++r){var i=h[r],o=n[i];x(t,i)!==o&&(j(t,i,o),e=!0)}return e}}else{var v=n;n=A(v),l=function(t){var e=!1,o=i.call(this,n,this.primKey,T(t),f);return o&&u(n,o),r(n).forEach(function(r){var i=n[r];x(t,r)!==i&&(j(t,r,i),e=!0)}),o&&(n=A(v)),e}}var p=0,y=0,m=!1,g=[],b=[],w=null;function _(n){return n&&(g.push(n),b.push(w)),a(new W("Error modifying one or more objects",g,y,b))}function E(){m&&y+g.length===p&&(g.length>0?_():e(y))}t.clone().raw()._iterate(function(n,t){w=t.primaryKey;var e={primKey:t.primaryKey,value:n,onsuccess:null,onerror:null};function r(n){return g.push(n),b.push(e.primKey),E(),!0}if(!1!==l.call(e,n,e)){var i=!c(e,"value");++p,k(function(){var n=i?t.delete():t.update(e.value);n._hookCtx=e,n.onerror=Tt(r),n.onsuccess=Et(function(){++y,E()})},r)}else e.onsuccess&&e.onsuccess(e.value)},function(){m=!0,E()},_,s)})},delete:function(){var n=this,t=this._ctx,e=t.range,r=t.table.hook.deleting.fire,i=r!==X;if(!i&&bn(t)&&(t.isPrimKey&&!kt||!e))return this._write(function(n,t,r){var i=Ot(t),o=e?r.count(e):r.count();o.onerror=i,o.onsuccess=function(){var u=o.result;k(function(){var t=e?r.delete(e):r.clear();t.onerror=i,t.onsuccess=function(){return n(u)}},function(n){return t(n)})}});var o=i?2e3:1e4;return this._write(function(e,u,a,s){var c=0,f=n.clone({keysOnly:!t.isMatch&&!i}).distinct().limit(o).raw(),l=[],h=function(){return f.each(i?function(n,t){l.push([t.primaryKey,t.value])}:function(n,t){l.push(t.primaryKey)}).then(function(){return i?l.sort(function(n,t){return En(n[0],t[0])}):l.sort(En),dn(a,s,l,i,r)}).then(function(){var n=l.length;return l=[],n<o?c+=n:h()})};e(h())})}}}),u(this,{Collection:gn,Table:ln,Transaction:vn,Version:un,WhereClause:pn}),H.on("versionchange",function(n){n.newVersion>0?console.warn("Another connection wants to upgrade database \'"+H.name+"\'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database \'"+H.name+"\'. Closing db now to resume the delete request."),H.close()}),H.on("blocked",function(n){!n.newVersion||n.newVersion<n.oldVersion?console.warn("Dexie.delete(\'"+H.name+"\') was blocked"):console.warn("Upgrade \'"+H.name+"\' blocked by other connection holding version "+n.oldVersion/10)}),v.forEach(function(n){n(H)})}function At(n,t){return r(t).forEach(function(e){var r=function n(t){if("function"==typeof t)return new t;if(i(t))return[n(t[0])];if(t&&"object"==typeof t){var e={};return At(e,t),e}return t}(t[e]);n[e]=r}),n}function Et(n){return Qn(function(t){var e=t.target,r=e._hookCtx,i=r.value||e.result,o=r&&r.onsuccess;o&&o(i),n&&n(i)},n)}function Ot(n){return Qn(function(t){return St(t),n(t.target.error),!1})}function Pt(n){return Qn(function(t){n(t.target.result)})}function Tt(n){return Qn(function(t){var e=t.target,r=e.error,i=e._hookCtx,o=i&&i.onerror;return o&&o(r),St(t),n(r),!1})}function St(n){n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault()}function It(n){var t=function(t){return n.next(t)},e=o(t),r=o(function(t){return n.throw(t)});function o(n){return function(t){var o=n(t),u=o.value;return o.done?u:u&&"function"==typeof u.then?u.then(e,r):i(u)?Dn.all(u).then(e,r):e(u)}}return o(t)()}function Ct(n,t,e,r,i,o,u){this.name=n,this.keyPath=t,this.unique=e,this.multi=r,this.auto=i,this.compound=o,this.dotted=u;var a="string"==typeof t?t:t&&"["+[].join.call(t,"+")+"]";this.src=(e?"&":"")+(r?"*":"")+(i?"++":"")+a}function Dt(n,t,e,r){this.name=n,this.primKey=t||new Ct,this.indexes=e||[new Ct],this.instanceTemplate=r,this.mappedClass=null,this.idxByName=w(e,function(n){return[n.name,n]})}function Kt(n){return 1===n.length?n[0]:n}function Ft(n){var t=n&&(n.getDatabaseNames||n.webkitGetDatabaseNames);return t&&t.bind(n)}M(F,xt),f(jt,$),f(jt,{delete:function(n){var t=new jt(n),e=t.delete();return e.onblocked=function(n){return t.on("blocked",n),this},e},exists:function(n){return new jt(n).open().then(function(n){return n.close(),!0}).catch(jt.NoSuchDatabaseError,function(){return!1})},getDatabaseNames:function(n){var t=Ft(jt.dependencies.indexedDB);return t?new Dn(function(n,e){var r=t();r.onsuccess=function(t){n(y(t.target.result,0))},r.onerror=Ot(e)}).then(n):dt.dbnames.toCollection().primaryKeys(n)},defineClass:function(){return function(n){n&&u(this,n)}},applyStructure:At,ignoreTransaction:function(n){return Tn.trans?ut(Tn.transless,n):n()},vip:function(n){return Zn(function(){return Tn.letThrough=!0,n()})},async:function(n){return function(){try{var t=It(n.apply(this,arguments));return t&&"function"==typeof t.then?t:Dn.resolve(t)}catch(n){return lt(n)}}},spawn:function(n,t,e){try{var r=It(n.apply(e,t||[]));return r&&"function"==typeof r.then?r:Dn.resolve(r)}catch(n){return lt(n)}},currentTransaction:{get:function(){return Tn.trans||null}},waitFor:function(n,t){var e=Dn.resolve("function"==typeof n?jt.ignoreTransaction(n):n).timeout(t||6e4);return Tn.trans?Tn.trans.waitFor(e):e},Promise:Dn,debug:{get:function(){return F},set:function(n){M(n,"dexie"===n?function(){return!0}:xt)}},derive:d,extend:u,props:f,override:m,Events:ht,getByKeyPath:x,setByKeyPath:j,delByKeyPath:function(n,t){"string"==typeof t?j(n,t,void 0):"length"in t&&[].map.call(t,function(t){j(n,t,void 0)})},shallowClone:A,deepClone:T,getObjectDiff:S,asap:b,maxKey:pt,minKey:yt,addons:[],connections:bt,MultiModifyError:G.Modify,errnames:H,IndexSpec:Ct,TableSchema:Dt,dependencies:function(){try{return{indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch(n){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:"{version}",version:"{version}".split(".").map(function(n){return parseInt(n)}).reduce(function(n,t,e){return n+t/Math.pow(10,2*e)}),default:jt,Dexie:jt}),Dn.rejectionMapper=function(n,t){if(!n||n instanceof z||n instanceof TypeError||n instanceof SyntaxError||!n.name||!Y[n.name])return n;var e=new Y[n.name](t||n.message,n);return"stack"in n&&h(e,"stack",{get:function(){return this.inner.stack}}),e},(dt=new jt("__dbnames")).version(1).stores({dbnames:"name"}),function(){try{void 0!==typeof localStorage&&void 0!==o.document&&(JSON.parse(localStorage.getItem("Dexie.DatabaseNames")||"[]").forEach(function(n){return dt.dbnames.put({name:n}).catch(X)}),localStorage.removeItem("Dexie.DatabaseNames"))}catch(n){}}(),t.a=jt}).call(this,e(0),e(5).setImmediate)},function(n,t,e){var r=e(4).default;e(7),self.onmessage=function(n){var t=n.data,e=t.turn,i=t.query,o=t.productFamily,u=void 0;try{u=r().infrastructureInventory}catch(n){return console.error(o+" object search requires IndexedDB support.",n),void self.postMessage(JSON.stringify({turn:e,error:n,id:o}))}u.where("productFamily").equals(o).toArray().then(function(n){return n.reduce(function(n,t){return t.objects.forEach(function(e){var r=e.id,o=e.name;o&&o.toString().toLowerCase().includes(i.toLowerCase())&&(n[t.type]=n[t.type]||[],n[t.type].push(r))}),n},{})}).then(function(n){return self.postMessage(JSON.stringify({turn:e,results:n,id:o}))}).catch(function(n){return self.postMessage(JSON.stringify({turn:e,error:n,id:o}))})}},function(n,t,e){"use strict";e.r(t);var r=e(2),i=void 0;t.default=function(){return i||((i=new r.a("infosight")).version(1).stores({infrastructureInventory:"type,productFamily"}),i)}},function(n,t,e){(function(n){var r=void 0!==n&&n||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(n,t){this._id=n,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(n){n&&n.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(n,t){clearTimeout(n._idleTimeoutId),n._idleTimeout=t},t.unenroll=function(n){clearTimeout(n._idleTimeoutId),n._idleTimeout=-1},t._unrefActive=t.active=function(n){clearTimeout(n._idleTimeoutId);var t=n._idleTimeout;t>=0&&(n._idleTimeoutId=setTimeout(function(){n._onTimeout&&n._onTimeout()},t))},e(6),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==n&&n.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==n&&n.clearImmediate||this&&this.clearImmediate}).call(this,e(0))},function(n,t,e){(function(n,t){!function(n,e){"use strict";if(!n.setImmediate){var r,i=1,o={},u=!1,a=n.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(n);s=s&&s.setTimeout?s:n,"[object process]"==={}.toString.call(n.process)?r=function(n){t.nextTick(function(){f(n)})}:function(){if(n.postMessage&&!n.importScripts){var t=!0,e=n.onmessage;return n.onmessage=function(){t=!1},n.postMessage("","*"),n.onmessage=e,t}}()?function(){var t="setImmediate$"+Math.random()+"$",e=function(e){e.source===n&&"string"==typeof e.data&&0===e.data.indexOf(t)&&f(+e.data.slice(t.length))};n.addEventListener?n.addEventListener("message",e,!1):n.attachEvent("onmessage",e),r=function(e){n.postMessage(t+e,"*")}}():n.MessageChannel?function(){var n=new MessageChannel;n.port1.onmessage=function(n){f(n.data)},r=function(t){n.port2.postMessage(t)}}():a&&"onreadystatechange"in a.createElement("script")?function(){var n=a.documentElement;r=function(t){var e=a.createElement("script");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,n.removeChild(e),e=null},n.appendChild(e)}}():r=function(n){setTimeout(f,0,n)},s.setImmediate=function(n){"function"!=typeof n&&(n=new Function(""+n));for(var t=new Array(arguments.length-1),e=0;e<t.length;e++)t[e]=arguments[e+1];var u={callback:n,args:t};return o[i]=u,r(i),i++},s.clearImmediate=c}function c(n){delete o[n]}function f(n){if(u)setTimeout(f,0,n);else{var t=o[n];if(t){u=!0;try{!function(n){var t=n.callback,r=n.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(e,r)}}(t)}finally{c(n),u=!1}}}}}("undefined"==typeof self?void 0===n?this:n:self)}).call(this,e(0),e(1))},function(n,t,e){"use strict";n.exports=e(8).polyfill()},function(n,t,e){(function(t,e){\n/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n * @version   v4.2.6+9869a4bc\n */\n!function(t,e){n.exports=e()}(0,function(){"use strict";function n(n){return"function"==typeof n}var r=Array.isArray?Array.isArray:function(n){return"[object Array]"===Object.prototype.toString.call(n)},i=0,o=void 0,u=void 0,a=function(n,t){v[i]=n,v[i+1]=t,2===(i+=2)&&(u?u(p):y())};var s="undefined"!=typeof window?window:void 0,c=s||{},f=c.MutationObserver||c.WebKitMutationObserver,l="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var n=setTimeout;return function(){return n(p,1)}}var v=new Array(1e3);function p(){for(var n=0;n<i;n+=2){(0,v[n])(v[n+1]),v[n]=void 0,v[n+1]=void 0}i=0}var y=void 0;function m(n,t){var e=this,r=new this.constructor(w);void 0===r[b]&&F(r);var i=e._state;if(i){var o=arguments[i-1];a(function(){return D(i,r,o,e._result)})}else I(e,r,n,t);return r}function g(n){if(n&&"object"==typeof n&&n.constructor===this)return n;var t=new this(w);return O(t,n),t}y=l?function(){return t.nextTick(p)}:f?function(){var n=0,t=new f(p),e=document.createTextNode("");return t.observe(e,{characterData:!0}),function(){e.data=n=++n%2}}():h?function(){var n=new MessageChannel;return n.port1.onmessage=p,function(){return n.port2.postMessage(0)}}():void 0===s?function(){try{var n=Function("return this")().require("vertx");return void 0!==(o=n.runOnLoop||n.runOnContext)?function(){o(p)}:d()}catch(n){return d()}}():d();var b=Math.random().toString(36).substring(2);function w(){}var _=void 0,k=1,x=2,j={error:null};function A(n){try{return n.then}catch(n){return j.error=n,j}}function E(t,e,r){e.constructor===t.constructor&&r===m&&e.constructor.resolve===g?function(n,t){t._state===k?T(n,t._result):t._state===x?S(n,t._result):I(t,void 0,function(t){return O(n,t)},function(t){return S(n,t)})}(t,e):r===j?(S(t,j.error),j.error=null):void 0===r?T(t,e):n(r)?function(n,t,e){a(function(n){var r=!1,i=function(n,t,e,r){try{n.call(t,e,r)}catch(n){return n}}(e,t,function(e){r||(r=!0,t!==e?O(n,e):T(n,e))},function(t){r||(r=!0,S(n,t))},n._label);!r&&i&&(r=!0,S(n,i))},n)}(t,e,r):T(t,e)}function O(n,t){n===t?S(n,new TypeError("You cannot resolve a promise with itself")):!function(n){var t=typeof n;return null!==n&&("object"===t||"function"===t)}(t)?T(n,t):E(n,t,A(t))}function P(n){n._onerror&&n._onerror(n._result),C(n)}function T(n,t){n._state===_&&(n._result=t,n._state=k,0!==n._subscribers.length&&a(C,n))}function S(n,t){n._state===_&&(n._state=x,n._result=t,a(P,n))}function I(n,t,e,r){var i=n._subscribers,o=i.length;n._onerror=null,i[o]=t,i[o+k]=e,i[o+x]=r,0===o&&n._state&&a(C,n)}function C(n){var t=n._subscribers,e=n._state;if(0!==t.length){for(var r=void 0,i=void 0,o=n._result,u=0;u<t.length;u+=3)r=t[u],i=t[u+e],r?D(e,r,i,o):i(o);n._subscribers.length=0}}function D(t,e,r,i){var o=n(r),u=void 0,a=void 0,s=void 0,c=void 0;if(o){if((u=function(n,t){try{return n(t)}catch(n){return j.error=n,j}}(r,i))===j?(c=!0,a=u.error,u.error=null):s=!0,e===u)return void S(e,new TypeError("A promises callback cannot return that same promise."))}else u=i,s=!0;e._state!==_||(o&&s?O(e,u):c?S(e,a):t===k?T(e,u):t===x&&S(e,u))}var K=0;function F(n){n[b]=K++,n._state=void 0,n._result=void 0,n._subscribers=[]}var M=function(){function n(n,t){this._instanceConstructor=n,this.promise=new n(w),this.promise[b]||F(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?T(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&T(this.promise,this._result))):S(this.promise,new Error("Array Methods must be provided an Array"))}return n.prototype._enumerate=function(n){for(var t=0;this._state===_&&t<n.length;t++)this._eachEntry(n[t],t)},n.prototype._eachEntry=function(n,t){var e=this._instanceConstructor,r=e.resolve;if(r===g){var i=A(n);if(i===m&&n._state!==_)this._settledAt(n._state,t,n._result);else if("function"!=typeof i)this._remaining--,this._result[t]=n;else if(e===B){var o=new e(w);E(o,n,i),this._willSettleAt(o,t)}else this._willSettleAt(new e(function(t){return t(n)}),t)}else this._willSettleAt(r(n),t)},n.prototype._settledAt=function(n,t,e){var r=this.promise;r._state===_&&(this._remaining--,n===x?S(r,e):this._result[t]=e),0===this._remaining&&T(r,this._result)},n.prototype._willSettleAt=function(n,t){var e=this;I(n,void 0,function(n){return e._settledAt(k,t,n)},function(n){return e._settledAt(x,t,n)})},n}();var B=function(){function t(n){this[b]=K++,this._result=this._state=void 0,this._subscribers=[],w!==n&&("function"!=typeof n&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(n,t){try{t(function(t){O(n,t)},function(t){S(n,t)})}catch(t){S(n,t)}}(this,n):function(){throw new TypeError("Failed to construct \'Promise\': Please use the \'new\' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(n){return this.then(null,n)},t.prototype.finally=function(t){var e=this.constructor;return n(t)?this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){throw n})}):this.then(t,t)},t}();return B.prototype.then=m,B.all=function(n){return new M(this,n).promise},B.race=function(n){var t=this;return r(n)?new t(function(e,r){for(var i=n.length,o=0;o<i;o++)t.resolve(n[o]).then(e,r)}):new t(function(n,t){return t(new TypeError("You must pass an array to race."))})},B.resolve=g,B.reject=function(n){var t=new this(w);return S(t,n),t},B._setScheduler=function(n){u=n},B._setAsap=function(n){a=n},B._asap=a,B.polyfill=function(){var n=void 0;if(void 0!==e)n=e;else if("undefined"!=typeof self)n=self;else try{n=Function("return this")()}catch(n){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=n.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(n){}if("[object Promise]"===r&&!t.cast)return}n.Promise=B},B.Promise=B,B})}).call(this,e(1),e(0))}]);\n//# sourceMappingURL=5c965e7217e5100fe3ab.worker.js.map',null)}},,,,,,,,,,,function(e,t,n){"use strict";n.r(t);n(371);var a=n(1),i=n.n(a),r=n(17),o=n(8),s=n.n(o),l=n(12),c=n.n(l),u=n(380),d=n(1273),p=n(105),h=n(22),m=n(36),f=n(80),v=n(138),b=n(37),g="nimble",y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),y(t,[{key:"componentDidMount",value:function(){this.handleUpdate(),this.unsubscribe=Object(p.onUserContextChange)(this.handleUpdate)}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe()}},{key:"getDashboard",value:function(e){var t=e.match,n=m.AuthorizationEvaluator.filter([{id:"nimble",title:"Nimble Storage",options:m.AuthorizationEvaluator.filter([{id:"operational",title:"Operational",url:Object(h.buildUrl)(t.url,"/dashboards/nimble/operational")},{id:"executive",title:"Executive",url:Object(h.buildUrl)(t.url,"/dashboards/nimble/executive")},{id:"wellness",title:"Wellness",url:Object(h.buildUrl)(t.url,"/dashboards/nimble/wellness")},{id:"capacity",title:"Capacity",url:Object(h.buildUrl)(t.url,"/dashboards/nimble/capacity")},{id:"labs",title:"Labs",url:Object(h.buildUrl)(t.url,"/dashboards/nimble/labs")}]),access:{custom:function(){var e=Object(f.nimbleResellerAuthorizationEvaluator)();return void 0!==e?e:f.NimbleUserTenantHelpers.currentTenantIsNimbleTenant()&&m.AuthorizationEvaluator.evaluate({access:{authorities:m.AUTHORITIES.PRODUCT_FAMILY_NIMBLE}})}}}]);return f.NimbleUserTenantHelpers.isReseller()&&n[0].options.unshift({id:"resellerdashboard",title:"Reseller",url:Object(h.buildUrl)(t.url,"/dashboards/nimble/resellerdashboard")}),n.length?n:null}},{key:"getInfrastructure",value:function(e){var t=e.match,n=v.b,a=m.AuthorizationEvaluator.filter([{id:"storage/nimble",title:n.attributes.name,options:n.getNavRoutes().map(function(e){var a=e.type,i=e.route;return{id:i,url:Object(h.buildUrl)(t.url,"infrastructure","storage","nimble",i),title:n.getPluralTitle(a),preserveQueries:n.attributes.preserveQueries}}),access:{custom:function(){var e=Object(f.nimbleResellerAuthorizationEvaluator)();return void 0!==e?e:f.NimbleUserTenantHelpers.currentTenantIsNimbleTenant()&&m.AuthorizationEvaluator.evaluate({access:{authorities:m.AUTHORITIES.PRODUCT_FAMILY_NIMBLE}})}}}]);return a.length?a.map(function(e){return{tier:"Storage",options:e}}):null}},{key:"getResources",value:function(e){var t=e.match,n=m.AuthorizationEvaluator.filter([{id:"nimble",title:"Nimble Storage",depth:1,options:m.AuthorizationEvaluator.filter([{id:"support",title:"Support",url:Object(h.buildUrl)(t.url,"/resources/nimble/support"),access:{custom:function(){return f.NimbleUserTenantHelpers.currentTenantIsNimbleTenant()&&m.AuthorizationEvaluator.evaluate({access:{$or:[{authorities:m.AUTHORITIES.PRODUCT_FAMILY_NIMBLE},{authorities:[m.AUTHORITIES.SUPPORT_CASE]}]}})}}},{id:"docs",title:"Documentation",url:Object(h.buildUrl)(t.url,"/resources/nimble/docs"),access:{authorities:[m.AUTHORITIES.PRODUCT_FAMILY_NIMBLE,m.AUTHORITIES.PRODUCT_FAMILY_STOREONCE,m.AUTHORITIES.PRODUCT_FAMILY_STORESERV]}},{id:"software",title:"Software Downloads",url:Object(h.buildUrl)(t.url,"/resources/nimble/software"),access:{custom:function(){return f.NimbleUserTenantHelpers.currentTenantIsNimbleTenant()&&m.AuthorizationEvaluator.evaluate({access:{authorities:m.AUTHORITIES.PRODUCT_FAMILY_NIMBLE}})}}},{id:"vmarray",title:"Virtual Array Licenses",url:Object(h.buildUrl)(t.url,"/resources/nimble/vmarray"),access:{custom:function(){return f.NimbleUserTenantHelpers.currentTenantIsNimbleTenant()&&m.AuthorizationEvaluator.evaluate({access:{authorities:[m.AUTHORITIES.VIRTUAL_ARRAY_ACCESS]}})}}},{id:"validated-configuration-matrix",title:"Validated Configuration Matrix",url:"/resources/nimble/validated-configuration-matrix",access:{authorities:[m.AUTHORITIES.PRODUCT_FAMILY_NIMBLE,m.AUTHORITIES.REALM_INTERNAL]}},{id:"sizing-primary",title:"Primary Storage Sizing Tool",url:Object(h.buildUrl)(b.BASE_URL,"labs/apps/sizing_tools/primary_storage")+"/",nodeType:"external",access:{authorities:[m.AUTHORITIES.REALM_INTERNAL,m.AUTHORITIES.ATTRIBUTE_NIMBLE_RESELLER]}},{id:"sizing-sfa",title:"Backup Storage Sizing Tool",url:Object(h.buildUrl)(b.BASE_URL,"labs/apps/sizing_tools/secondary_storage")+"/",nodeType:"external",access:{authorities:[m.AUTHORITIES.REALM_INTERNAL,m.AUTHORITIES.ATTRIBUTE_NIMBLE_RESELLER]}},{id:"connect",title:"Nimble Connect",url:"https://community.hpe.com/t5/HPE-Nimble-Storage/ct-p/nimble-storage",nodeType:"external"},{id:"audit-report",title:"Audit Report",url:Object(h.buildUrl)(t.url,"/resources/nimble/audit-report"),access:{custom:function(){return f.NimbleUserTenantHelpers.currentTenantIsNimbleTenant()&&m.AuthorizationEvaluator.evaluate({access:m.nimbleThirdPartyPermissionRequestAccess})&&!m.AuthorizationEvaluator.evaluate({access:{authorities:m.AUTHORITIES.ATTRIBUTE_NIMBLE_SUPPORT_PROVIDER}})}},nodeType:"internal",divider:!0}]),collapseHeader:!1}]);return n.length?n:null}},{key:"getSettings",value:function(e){var t=e.match,n=m.AuthorizationEvaluator.filter([{id:"nsis",title:"Nimble Storage",options:m.AuthorizationEvaluator.filter([{id:"selfRegistration",title:"Customer Registration",url:Object(h.buildUrl)(t.url,"/settings/nimble/registration"),access:{authorities:{$not:[m.AUTHORITIES.PRODUCT_FAMILY_NIMBLE]}},nodeType:"internal"},{id:"permissions",title:"Permissions",url:Object(h.buildUrl)(t.url,"/settings/nimble/permissions"),access:{custom:function(){return f.NimbleUserTenantHelpers.currentTenantIsNimbleTenant()&&m.AuthorizationEvaluator.evaluate({access:m.nimbleThirdPartyPermissionRequestAccess})&&!m.AuthorizationEvaluator.evaluate({access:{authorities:m.AUTHORITIES.ATTRIBUTE_NIMBLE_SUPPORT_PROVIDER}})}},nodeType:"internal"},{id:"telemetry",title:"Telemetry Settings",url:Object(h.buildUrl)(t.url,"/settings/nimble/telemetry"),access:{custom:function(){return f.NimbleUserTenantHelpers.currentTenantIsNimbleTenant()&&m.AuthorizationEvaluator.evaluate(m.nimbleTenantAdminAccess)}},nodeType:"internal"},{id:"registry",title:"Asset Registry",url:Object(h.buildUrl)(t.url,"/settings/nimble/assetRegistry"),access:{custom:function(){return f.NimbleUserTenantHelpers.currentTenantIsNimbleTenant()&&m.AuthorizationEvaluator.evaluate({access:{$or:[m.nimbleTenantAdminAccess,{authorities:m.AUTHORITIES.ADDRESS_ADMIN}]}})}},nodeType:"internal"}]),collapseHeader:!1}]).filter(function(e){var t=e.options;return!t||t.length});return n.length?n:null}},{key:"handleUpdate",value:function(){var e={match:this.props.match};[{menuId:"dashboards",id:g,content:this.getDashboard(e)},{menuId:"infrastructure",id:g,content:this.getInfrastructure(e)},{menuId:"resources",id:g,content:this.getResources(e)},{menuId:"settings",id:g,content:this.getSettings(e)}].forEach(function(e){e.content?Object(d.addMenu)(e):Object(d.removeMenu)(e)})}},{key:"render",value:function(){return null}}]),t}();w.displayName="PrimaryNavExtension",w.propTypes={match:s.a.object.isRequired};var T=Object(u.a)(w),S=n(16),E=n.n(S),C=n(1274),x=n(63),D=n(205),O=n(32),N=n.n(O),_=n(30),A=n.n(_),k=n(88),I=n(49),P=n(19),R=Object(P.actionNamespacer)("BOOTSTRAP"),j=R("FETCH_BOOTSTRAP"),B=(R("FETCH_BOOTSTRAP_SUCCEEDED"),R("START_LEGACY_APP")),V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};window.nimbleShims.jQuery_1_11_1,V({},Object(P.getInitialState)("bootstrap"),Object(P.getInitialState)("legacy")),V({},Object(P.createReducersForAction)({type:j,stateKey:"bootstrap"}),Object(P.createReducersForAction)({type:B,stateKey:"legacy"}));var L=function(e){return e.bootstrap},M=Object(P.createSelector)(L,"bootstrap"),U=(Object(P.createSelector)(L,"legacy"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}),F=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var H=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),F(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadedObjects,n=e.loadingObjects,a=e.loadedBootstrap;t||n||!a||this.props.fetchInventory()}},{key:"render",value:function(){var e=this.props,t=e.loadedObjects,n=e.loadingObjects;return i.a.createElement(N.a,{loading:n},i.a.createElement(A.a,{hasData:t},function(){return i.a.createElement(k.InfrastructurePages,{productInterface:v.b})}))}}]),t}();H.displayName="NimbleInfrastructureRouter",H.propTypes={fetchInventory:s.a.func.isRequired,loadingObjects:s.a.bool,loadedObjects:s.a.bool,loadedBootstrap:s.a.bool};var q={fetchInventory:I.b,resetInventory:I.g},z=Object(r.connect)(function(e){return U({},Object(I.e)(e),M(e))},q)(H),Y=n(377),G=n(379),W=n(251),K=n(108),J=n.n(K),X=n(161),Q=n(160),Z=n(109),$=n(14),ee=n.n($),te=n(44),ne=n(1275),ae=n.n(ne),ie=n(1310),re=n.n(ie),oe=ee.a.bind(re.a),se=function(){return i.a.createElement("div",{className:oe("container")},i.a.createElement("h2",{className:oe("title")},"Operational Dashboard"),i.a.createElement(te.b,{className:"ops-dashboard-view",createLegacyView:function(e){return new ae.a({el:e})}}))};se.displayName="OperationalDashboard";var le=se,ce=n(1311),ue=n.n(ce),de=n(1371),pe=n.n(de),he=ee.a.bind(pe.a),me=function(){return i.a.createElement(te.b,{className:ee()("dashboard-view",he("legacyPage")),createLegacyView:function(e){return new ue.a({el:e})}})};me.displayName="ExecutiveDashboard";var fe=me,ve=n(1372),be=n.n(ve),ge=n(31),ye=n.n(ge),we=n(1373),Te=n.n(we),Se=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function xe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var De=function(e){function t(){return Ee(this,t),Ce(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return xe(t,a["Component"]),Se(t,[{key:"componentDidMount",value:function(){this.showDetails()}},{key:"componentDidUpdate",value:function(){this.showDetails()}},{key:"showDetails",value:function(){var e=void 0;this.props.location.search&&(e=be()(this.props.location.search.slice(1))),this.props.view.showDetails(e)}},{key:"render",value:function(){return null}}]),t}();De.displayName="DetailsRouteHandler",De.propTypes={view:s.a.object.isRequired,location:s.a.shape({search:s.a.string.isRequired}).isRequired};var Oe=Object(u.a)(De),Ne=function(e){function t(e){Ee(this,t);var n=Ce(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n.view=new Te.a({history:n.props.history}),n}return xe(t,a["Component"]),Se(t,[{key:"attachView",value:function(e){return this.view.setElement(e),this.view}},{key:"render",value:function(){var e=this,t=this.props.match;return i.a.createElement(ye.a,null,i.a.createElement(te.b,{createLegacyView:this.attachView}),i.a.createElement(W.a,{path:t.path+"/details",render:function(){return i.a.createElement(Oe,{view:e.view})}}))}}]),t}();Ne.displayName="WellnessDashboard",Ne.propTypes={match:s.a.object.isRequired,history:s.a.object.isRequired};var _e=Object(te.a)(Object(u.a)(Ne)),Ae=n(249),ke=n(61),Ie=n.n(ke),Pe=n(695),Re=n.n(Pe),je=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Be=ee.a.bind(Re.a),Ve=function(){return i.a.createElement("div",{className:ee()("h1",Be("header"))},i.a.createElement(Ae.a,{to:"/dashboards/nimble/wellness"},"Wellness"),i.a.createElement("span",null,"Rule Configuration"))};Ve.displayName="Header";var Le=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n.state={loaded:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),je(t,[{key:"componentDidMount",value:function(){this.setContainerHeight()}},{key:"componentDidUpdate",value:function(){this.setContainerHeight()}},{key:"onIframeLoad",value:function(){this.setState({loaded:!0})}},{key:"setContainerHeight",value:function(){var e=Math.round(this.containerEl.getBoundingClientRect().top);this.containerEl.style.height="calc(100vh - "+(e+30)+"px)"}},{key:"render",value:function(){var e=this,t=this.props,n=t.tenantSelection,a=t.location.search,r=this.state.loaded,o=a?"&"+a.substr(1):"";return i.a.createElement("div",{className:Be("rules-page")},i.a.createElement(Ve,null),i.a.createElement(ye.a,{className:Be("frame-container")},i.a.createElement("div",{ref:function(t){e.containerEl=t}},!r&&i.a.createElement(Ie.a,null),i.a.createElement("iframe",{title:"wellnessOptions",className:ee()({hide:!r}),onLoad:this.onIframeLoad,src:"/InfoSight/cgi/wellnessOptions?accountId="+n.tenant.id+o}))))}}]),t}();Le.displayName="WellnessRulesPage",Le.propTypes={tenantSelection:s.a.object,location:s.a.shape({search:s.a.string.isRequired}).isRequired};var Me=Object(r.connect)(function(e){return{tenantSelection:Object(m.tenantSelector)(e)}})(Object(u.a)(Le)),Ue=n(1394),Fe=n.n(Ue),He=ee.a.bind(Re.a),qe=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:ee()("h1",He("header"))},i.a.createElement(Ae.a,{to:"/dashboards/nimble/wellness"},"Wellness"),i.a.createElement("span",null,"Maintenance Windows")),i.a.createElement(ye.a,null,i.a.createElement(te.b,{createLegacyView:function(e){return new Fe.a({el:e})}})))},ze=function(e){var t=e.match;return i.a.createElement("div",null,i.a.createElement(G.a,null,i.a.createElement(W.a,{path:t.path+"/rules",component:Me}),i.a.createElement(W.a,{path:t.path+"/maintenance-windows",component:qe}),i.a.createElement(W.a,{path:t.path,component:_e})))};ze.displayName="WellnessRouter",ze.propTypes={match:s.a.object.isRequired};var Ye=Object(u.a)(ze),Ge=n(1430),We=n.n(Ge),Ke=n(1428),Je=n.n(Ke),Xe=n(1406),Qe=n.n(Xe),Ze=n(1410),$e=n.n(Ze),et=n(698),tt=n.n(et),nt=n(699),at=n.n(nt),it=n(1427),rt=n.n(it),ot=n(27),st=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ut(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function dt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var pt=ee.a.bind(lt({},rt.a,at.a)),ht=function(e){function t(e){ct(this,t);var n=ut(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n}return dt(t,a["Component"]),st(t,[{key:"componentWillUnmount",value:function(){this.view&&this.view.destroy()}},{key:"renderView",value:function(e){if(!this.view){var t=this.props,n=t.match,a=t.collection;this.view=new Qe.a({collection:a,path:n.url}),this.view.setElement(e).render()}}},{key:"render",value:function(){return i.a.createElement("div",{className:pt("container")},i.a.createElement("div",{className:"labs-view",ref:this.renderView}))}}]),t}();ht.displayName="LandingPage";var mt=function(e){function t(e){ct(this,t);var n=ut(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n}return dt(t,a["Component"]),st(t,[{key:"componentWillUnmount",value:function(){this.view&&this.view.destroy()}},{key:"renderView",value:function(e){if(!this.view){var t=this.props,n=t.match,a=t.pod,i=t.collection;this.view=new $e.a({pod:a,appid:n.params.appid,path:n.url,collection:i}),this.view.setElement(e).render()}}},{key:"render",value:function(){return i.a.createElement("div",{className:pt("container","legacy-breadcrumbs")},i.a.createElement("div",{className:"lab-app",ref:this.renderView}))}}]),t}();mt.displayName="App";var ft=function(e){function t(e){ct(this,t);var n=ut(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={pod:null,collection:tt.a.INSTANCE},n}return dt(t,a["Component"]),st(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.tenant;this.state.pod||(new ot.default).central().slash("labs/pod").query({accountId:t.id}).get().then(function(t){var n=t.data;return e.setState({pod:n})}),tt.a.INSTANCE||(tt.a.INSTANCE=new tt.a,tt.a.INSTANCE.fetch().done(function(){return e.setState({collection:tt.a.INSTANCE})}))}},{key:"render",value:function(){var e=this,t=this.props.match,n=this.state,a=n.collection,r=n.pod;return i.a.createElement(N.a,{loading:!(a&&r)},function(){return i.a.createElement(Je.a,null,i.a.createElement(We.a,{exact:!0,path:Object(h.buildUrl)(t.path,":appid"),render:function(t){return i.a.createElement(mt,lt({},t,e.state))}}),i.a.createElement(We.a,{render:function(t){return i.a.createElement(ht,lt({},t,e.state))}}))})}}]),t}();ft.displayName="LabsContainer",ft.propTypes={tenant:s.a.shape({id:s.a.string.isRequired,name:s.a.string.isRequired}).isRequired};var vt=Object(te.a)(Object(r.connect)(function(e){return Object(m.tenantSelector)(e)})(ft)),bt=n(25),gt=n(52),yt=n(225),wt=n(125),Tt=n(217),St=n(23),Et=n.n(St),Ct=n(1432),xt=n.n(Ct),Dt=n(167),Ot=n(670),Nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_t=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),At=n(27).default;var kt=function(){return function(e){var t=Object(P.actionsFor)(Ot.a,e),n=t.dispatchStart,a=t.dispatchSuccess,i=t.dispatchError;return n(),(new At).all([(new At).central().slash("reseller/tenant/arrays").get(),(new At).central().slash("reseller/tenant/heartbeats").get()]).then(function(e){var t=_t(e,2),n=t[0],a=t[1],i=n&&n.data||[],r=a&&a.data||{};return i.map(function(e){var t=r[e.arraySN];return Nt({},e,{arrayHostName:""+e.arraySN+(e.hostName?e.hostName:""),hardwareStatusComparator:Dt.a.comparator(t),supportEndDate:Et()(e.supportEndDate).isAfter(Et()().add(10,"years"))?null:e.supportEndDate,latestHeartbeat:t})})}).then(a).catch(i)}},It=function(){return{type:Ot.b}},Pt=n(669),Rt=n(38),jt=n(59),Bt=n(60),Vt=n(20),Lt=n.n(Vt),Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ut={EXPIRED:{textClass:"arrayWarrantyExpiring",icon:"warning",text:"EXPIRED"}},Ft=function(e,t){return Lt()((t-e)/t).format("0%")},Ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},qt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var zt=ee.a.bind(xt.a),Yt=function(e){return e===Ut.EXPIRED.text},Gt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),qt(t,[{key:"componentDidMount",value:function(){this.props.getArraysFromAllAccounts()}},{key:"componentWillUnmount",value:function(){this.props.resetResellerDashboard()}},{key:"render",value:function(){var e=this.props,t=e.accountsArrays,n=e.userName,a=[{Header:"Customer",accessor:"customerName",filterable:!0,Cell:function(e){var t=e.original,n=t.customerName,a=t.accountId;return i.a.createElement(Ae.a,{to:Object(f.buildNimbleTenantUrl)(a,"nimble"),title:n},n)}},{Header:"Array",headerClassName:"text-center",columns:[{Header:"Name",accessor:"arraySN",filterable:!0,Cell:function(e){var t=e.original,n=t.arraySN,a=t.accountId,r=t.arrayHostName;return i.a.createElement(Ae.a,{to:Object(f.buildNimbleTenantUrl)(a,v.a.attributes.rootPath+"/arrays/"+n),title:r},r)}},{Header:"Model",accessor:"model",filterable:!0}]},{Header:"Usable Space",headerClassName:"text-center",columns:[{Header:"Total",accessor:"arrayCapacityBytes",filterable:!0,headerClassName:"text-right",className:"text-right",Cell:function(e){var t=e.original.arrayCapacityBytes;return Object(jt.c)(t,Bt.b)}},{Header:"% used",accessor:"arrayFreeBytes",filterable:!0,headerClassName:"text-right",className:"text-right",Cell:function(e){var t=e.original,n=t.arrayCapacityBytes,a=t.arrayFreeBytes;return i.a.createElement(wt.ProgressWithValue,{leftLabel:Ft(a,n)},i.a.createElement(wt.Progress,{max:100,min:0,value:(n-a)/n*100}))}}]},{Header:"Hardware Status",accessor:"hardware",headerClassName:"text-right",className:"text-right",Cell:function(e){var t=e.original,n=t.latestHeartbeat,a=t.isAllFlash;return i.a.createElement(Dt.a,{latestHeartbeat:n,isAllFlash:a})}},{Header:"S/W Version",accessor:"softwareVersion",filterable:!0,headerClassName:"text-right",className:"text-right",Cell:function(e){var t=e.original.softwareVersion;return t&&t.split("-")[0]}},{Header:"Support end date",accessor:"supportEndDate",filterable:!0,Cell:function(e){var t=e.original,n=t.supportEndDate,a=t.supportStatus;return i.a.createElement("div",null,i.a.createElement("div",{className:zt("warrantyCol")},Object(jt.a)(n,Bt.d,!0)),Yt(a)?i.a.createElement("div",{className:zt("warrantyCol","icon")},i.a.createElement(yt.StatusIndicator,{size:17,status:Ut.EXPIRED.icon,tooltip:"Warranty Expired"})):null)}},{Header:"Upgrade Recommendations",headerClassName:"text-center",columns:[{Header:"Hardware",accessor:"upgrade",filterable:!0,Cell:function(e){var t=e.original,n=t.hasHardwareRecommendations,a=t.accountId,r=t.arraySN;return i.a.createElement("div",null,n?i.a.createElement(Ae.a,{to:Object(f.buildNimbleTenantUrl)(a,v.a.attributes.rootPath+"/arrays/"+r)},"YES"):"NO")}},{Header:"Software",accessor:"upgrade",filterable:!0,Cell:function(e){var t=e.original,n=t.hasSoftwareRecommendations,a=t.accountId,r=t.arraySN;return i.a.createElement("div",null,n?i.a.createElement(Ae.a,{to:Object(f.buildNimbleTenantUrl)(a,v.a.attributes.rootPath+"/arrays/"+r)},"YES"):"NO")}}]}];return i.a.createElement(gt.ClientControlledTable,{tableId:n+"_NIMBLE_RESELLER_ARRAYS",data:t||[],loading:!t,columns:a,defaultSorted:[{id:"groupName",desc:!1}],getTrProps:function(e,t){return{className:Yt(t.original.supportStatus)?zt(Ut[t.original.supportStatus].textClass):""}},downloadCsv:function(){return Object(Tt.saveAs)(new Blob([function(e){var t="object"!==(void 0===e?"undefined":Mt(e))?JSON.parse(e):e;return t.reduce(function(e,t){return e+=Object.values(t).map(function(e){return'"'+e+'"'}).join(",")+" \r\n"},Object.keys(t[0]).map(function(e){return'"'+e+'"'}).join(",")+" \r\n")}(function(e){return e.map(function(e){return{"Customer Name":e.customerName,"Account ID":e.accountId,"Array Capacity":Object(jt.c)(e.arrayCapacityBytes,Bt.b)||"","Array Free Space":Object(jt.c)(e.arrayFreeBytes,Bt.b)||"","Array Free Space in %":Ft(e.arrayFreeBytes,e.arrayCapacityBytes)||"","Array Serial Number":e.arraySN,"Array Model":e.model||"","Software Version":e.softwareVersion||"","Is All Flash":e.isAllFlash||"","Support Agreement":e.supportAgrmt||"","Support End Date":e.supportEndDate||"","Hardware Upgrade Recommended":e.hasHardwareRecommendations?"YES":"NO","Software Upgrade Recommended":e.hasSoftwareRecommendations?"YES":"NO"}})}(t))],{type:"application/json"}),"HPE InfoSight Arrays "+Et()().format("L").replace(/\\|\//g,"-")+".csv")}})}}]),t}();Gt.displayName="ResellerDashboard",Gt.propTypes={resetResellerDashboard:s.a.func.isRequired,getArraysFromAllAccounts:s.a.func.isRequired,accountsArrays:s.a.array,userName:s.a.string};var Wt=Object(r.connect)(function(e){return Ht({},Object(Pt.a)(e),{userName:Object(Rt.h)(e).username})},function(e){return Object(bt.bindActionCreators)({getArraysFromAllAccounts:kt,resetResellerDashboard:It},e)})(Gt),Kt=n(718),Jt=n(79),Xt=function(e){var t=e.match,n=[{label:"Reseller",url:"resellerdashboard",component:Wt,visible:Jt.default.isReseller()},{label:"Operational",url:"operational",component:le,visible:!0},{label:"Executive",url:"executive",component:fe,visible:!0},{label:"Wellness",url:"wellness",component:Ye,visible:!0},{label:"Capacity",url:"capacity",component:Kt.a,visible:!0},{label:"Labs",url:"labs",component:vt,visible:!0}];return i.a.createElement(J.a,null,i.a.createElement(J.a.Fixed,null,i.a.createElement(Q.SecondaryNavBar,null,i.a.createElement(Q.Title,{name:"Nimble Storage",className:"align-center"}),n.filter(function(e){return e.visible}).map(function(e){var n=e.label,a=e.url;return i.a.createElement(Q.NavItem,{key:a},i.a.createElement(Y.a,{className:"flex-container align-center flex-dir-column",to:Object(h.buildUrl)(t.url,a)},i.a.createElement(X.StaticBold,{parent:i.a.Fragment},n)))}))),i.a.createElement(J.a.Scrollable,null,i.a.createElement(G.a,null,n.map(function(e){var n=e.url,a=e.component,r=e.label,o=a===vt?"Labs":r+" Dashboard";return i.a.createElement(W.a,{key:n,path:Object(h.buildUrl)(t.path,n),render:Object(Z.pageBoundaryRouteRenderer)(a,o)})}),i.a.createElement(W.a,{render:Object(Z.pageBoundaryRouteRenderer)(n[0].component,n[0].title)}))))};Xt.displayName="NimbleDashboardsRouter",Xt.propTypes={match:s.a.object.isRequired};var Qt=Xt,Zt=n(1433),$t=n.n(Zt),en=n(35),tn=n(1435),nn=n.n(tn),an=n(355),rn=n.n(an),on=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},sn=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var ln=ee.a.bind(rn.a),cn=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),sn(t,[{key:"componentDidUpdate",value:function(e){this.view&&!$t()(e.match.params,this.props.match.params)&&this.view.setParams(on({},this.props.match.params))}},{key:"componentWillUnmount",value:function(){if(this.view){var e=this.view;window.setTimeout(function(){return e.destroy()})}}},{key:"renderView",value:function(e){if(!this.view){var t=this.props.match.params;"Installation / Administration Guide"===t["Document Type"]&&(t["Document Type"]="Online Help"),"5.0.x"!==t["Version Family"]&&"5.x"!==t["Version Family"]||(t["Version Family"]="NOS 5.0.x"),"4.x"===t["Version Family"]&&(t["Version Family"]="NOS 4.x"),this.view=new nn.a(this.props),this.view.setParams(t),this.view.setElement(e).render()}}},{key:"render",value:function(){return i.a.createElement("div",{className:ee()("documentation-view",ln("legacy-labels")),ref:this.renderView})}}]),t}();cn.displayName="DocumentationWrapper",cn.propTypes={match:s.a.shape({params:s.a.object}).isRequired};var un=Object(te.a)(Object(en.withQueryParams)(cn,{includePathParams:!1})),dn=n(1474),pn=n.n(dn),hn=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var fn=ee.a.bind(mn({},rn.a,at.a)),vn=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),hn(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params,t=e.category,n=e.product;t&&n?this.view.showProduct(t,n):this.view.showHome()}},{key:"componentDidUpdate",value:function(e){var t=e.match.params,n=t.category,a=t.product,i=this.props.match.params,r=i.category,o=i.product;n===r&&a===o||(r&&o?this.view.showProduct(r,o):this.view.showHome())}},{key:"componentWillUnmount",value:function(){this.view&&this.view.destroy()}},{key:"renderView",value:function(e){this.view||(this.view=new pn.a(this.props),this.view.setElement(e).render())}},{key:"render",value:function(){var e=this.props.match.params,t=e.category,n=e.product;return i.a.createElement("div",{className:fn("legacy-labels","legacy-breadcrumbs")},i.a.createElement("div",{className:"breadcrumbs-region"},i.a.createElement("ul",{className:"breadcrumb"},i.a.createElement("li",null,i.a.createElement(Ae.a,{to:"/resources/nimble/software"},"Software Downloads")),t&&i.a.createElement("li",{className:"active"},t),n&&i.a.createElement("li",{className:"active"},n))),i.a.createElement("div",{className:"software-view",ref:this.renderView}))}}]),t}();vn.displayName="SoftwareDownloadsMarionetteWrapper",vn.propTypes={match:s.a.shape({url:s.a.string.isRequired,params:s.a.shape({category:s.a.string,product:s.a.string}).isRequired}).isRequired};var bn=Object(te.a)(function(e){var t=e.match;return i.a.createElement(W.a,{exact:!1,path:Object(h.buildUrl)(t.url,"/:category?/:product?"),component:vn})}),gn=n(1510),yn=n.n(gn),wn=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Tn=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),wn(t,[{key:"componentWillUnmount",value:function(){if(this.view){var e=this.view;window.setTimeout(function(){return e.destroy()})}}},{key:"renderView",value:function(e){this.view||(this.view=new yn.a(this.props),this.view.setElement(e).render())}},{key:"render",value:function(){return i.a.createElement("div",{ref:this.renderView})}}]),t}();Tn.displayName="ValidatedConfigMatrixMarionetteWrapper";var Sn=Object(te.a)(Tn),En=n(1516),Cn=n.n(En),xn=n(1518),Dn=n.n(xn),On=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Nn=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n.state={data:null,error:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),On(t,[{key:"componentDidMount",value:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(i,r){try{var o=t[i](r),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}("next")})}}(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(new ot.default).slash("auth").tenant().slash("audits").get();case 3:t=e.sent,n=t.data,this.setState({data:n,error:null}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({error:e.t0});case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){if(this.view){var e=this.view;window.setTimeout(function(){return e.destroy()})}}},{key:"renderView",value:function(e){this.view||(this.view=new Cn.a({collection:this.state.data}),this.view.setElement(e).render())}},{key:"render",value:function(){var e=this;return i.a.createElement(N.a,{loading:!this.state.data},function(){return i.a.createElement(ye.a,{title:"Audit Report"},i.a.createElement("div",{className:Dn.a.container,ref:e.renderView}))})}}]),t}();Nn.displayName="AuditReportMarionetteWrapper";var _n=Object(te.a)(Nn),An=n(343),kn=n(136),In=n(1519),Pn=n.n(In),Rn=n(92);function jn(e){return{type:Rn.f,payload:{caseData:e}}}function Bn(e){return{type:Rn.z,payload:e}}function Vn(e){return{type:Rn.x,payload:e}}function Ln(e,t,n,a){return{type:Rn.C,payload:{caseData:e,commentsData:t,attachmentsData:n,rmaLabelsData:a}}}var Mn=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Un=/(\bhttps?:\/\/[-A-Z0-9+&@#/%?=~_|!:,.;]*[-A-Z0-9+&@#/%=~_|])/gi,Fn=/\[account:([^\]]+)\]/,Hn=/\[user:([^\]]+)\]\n?/,qn=/^([^(]+)\(([^)]+)\)/,zn="00580000003xTOlAAM",Yn=Object(h.buildUrl)(b.BASE_URL,"kcs");function Gn(e){var t=function(e){return void 0!==e&&null!==e?E()("<div />").text(e).html():""}(e);return t=(t=t.replace(/(\r\n|\n|\r)/gi,"<br>")).replace(Un,' <a href="$1" target="_blank">$1</a>')}function Wn(){return function(e){return(new Pn.a).fetch().done(function(t,n){e(function(e){var t=e.reduce(function(e,t){return t&&(e[t.id]=t),e},{});return{type:Rn.h,payload:t}}(t))}).error(function(t,n){e(function(e){return{type:Rn.g,error:e}}(t))})}}function Kn(e){var t=Object.assign({},e);t.createdById!==zn&&(t.createdByName=t.createdBy.name),t.commentBody.match(Fn)||t.commentBody.match(Fn)||(t.fromNimble=!0);var n=t.commentBody.match(Hn);if(n){var a=n[1].match(qn);if(a){var i=Mn(a,3);if(t.createdByName=i[2],"internal"===a[1]){t.fromNimble=!0;var r=Mn(a,3);t.createdByName=r[2]}}}return t.createdByName||(t.createdByName="Nimble Support"),t.commentBody=t.commentBody.replace(Hn,""),t.commentBody=t.commentBody.replace(Fn,""),t}function Jn(e){return function(t){var n=new kn.default;n.set("id",e);var a=n.url(),i=n.fetch(),r=E.a.ajax({type:"GET",url:a+"/comments",contentType:"application/json"}),o=E.a.ajax({type:"GET",url:a+"/attachment",contentType:"application/json"}),s=E.a.ajax({type:"GET",url:a+"/rmaLabels",contentType:"application/json"});return E.a.when(i,r,o,s).then(function(e,n,a,i){var r=e[0],o=a[0],s=i[0],l=n[0];r.description&&(r.description=Gn(r.description)),r.$_complete=!0,Array.isArray(l)&&(l=l.map(Kn)),t(function(e,t,n,a){return{type:Rn.f,payload:{caseData:e,commentsData:t,attachmentsData:n,rmaLabelsData:a}}}(r,l,o,s))},function(e,n,a,i){t(function(e){return{type:Rn.e,error:e}}(e[1],n[1],a[1],i[1]))})}}function Xn(e){var t={type:"POST",url:Yn+"/suggest/terms",contentType:"application/json",dataType:"json",data:JSON.stringify({query:e})};return E.a.ajax(t)}function Qn(){return E.a.ajax({type:"GET",url:"/auth/authenticate",contentType:"application/json"})}function Zn(e){var t={id:e},n={type:"POST",url:Yn+"/solution/like",contentType:"application/json",dataType:"json",data:JSON.stringify(t)};return E.a.ajax(n)}function $n(e){var t={id:e},n={type:"POST",url:Yn+"/solution/dislike",contentType:"application/json",dataType:"json",data:JSON.stringify(t)};return E.a.ajax(n)}function ea(e){var t={type:"POST",url:Yn+"/search/analyzed",contentType:"application/json",dataType:"json",data:JSON.stringify({query:e})};return E.a.ajax(t)}var ta=function(){return function(e){var t=Object(P.actionsFor)(Rn.q,e),n=t.dispatchStart,a=t.dispatchSuccess,i=t.dispatchError;n();(null!==f.NimbleUserTenantHelpers.getCurrentTenant()?(new ot.default).slash("accounts",f.NimbleUserTenantHelpers.getCurrentTenant().id,"cases/contacts/me"):(new ot.default).slash("account","cases/contacts/me")).get().then(function(e){return e.data}).then(a).catch(i)}};function na(e,t,n,a){var i=new kn.default;i.set("id",e);var r=i.url();E.a.ajax({type:"POST",url:r+"/resolve",contentType:"application/json",data:t}).then(n,a)}var aa=n(40),ia=n(234);function ra(e){if(!e)return!1;var t=String.fromCharCode(e);return/\w/gi.test(t)}function oa(){var e=1e12*Math.random();return(e>>>=0).toString(36)}function sa(){var e=Object(ia.a)(Object(aa.getStore)().getState());return e?e.contact:void 0}function la(e,t){return e.find(function(e){return e.caseNumber===t})}function ca(e){return function(t){t(function(e){return{type:Rn.v,caseStatus:e}}(e))}}function ua(e,t){var n=t;return"priority"===e&&(n=parseInt(t,10)||0),function(t){t(function(e,t){var n={};return n[e]=t,{type:Rn.t,filterParams:n}}(e,n))}}function da(e){return function(t){t(function(e){var t=Object.assign({},e);return{type:Rn.t,filterParams:t}}(e))}}var pa=n(135),ha=n(166),ma=n(43),fa=n(1520),va=n.n(fa),ba=ee.a.bind(va.a);function ga(e){return i.a.createElement("div",{className:ba("support-tab")},i.a.createElement("div",{className:ba("support-content")},e.children))}ga.displayName="SupportTab",ga.propTypes={children:s.a.node.isRequired};var ya=ga,wa=n(78),Ta=n.n(wa),Sa=n(1521),Ea=n.n(Sa),Ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},xa=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Da=ee.a.bind(Ea.a),Oa=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),xa(t,[{key:"onClick",value:function(e){var t=Number(e.target.value),n=i.a.Children.toArray(this.props.children)[t];this.props.onChange(n.props.value)}},{key:"render",value:function(){var e=this,t=i.a.Children.count(this.props.children)-1,n=i.a.Children.map(this.props.children,function(n,a){var r=n.props,o=r.value,s=r.className,l=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(r,["value","className"]),c=ee()(s,"text-uppercase",Da("nmbl-Toggle__button",{"nmbl-Toggle__first":0===a,"nmbl-Toggle__last":a===t,"nmbl-Toggle--selected":o===e.props.value}));return i.a.createElement("button",Ca({},l,{className:c,value:a,onClick:e.onClick}))});return i.a.createElement("div",{className:ee()(this.props.className,Da("nmbl-Toggle"))},n)}}]),t}();Oa.displayName="Toggle";var Na=Oa;Oa.propTypes={children:s.a.node.isRequired,value:s.a.any.isRequired,onChange:s.a.func.isRequired};var _a=Na,Aa=n(1522),ka=n.n(Aa),Ia=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Pa=ee.a.bind(ka.a),Ra=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n.state={casesBy:"all",isOpenNav:!1,searchString:""},n.navStuff=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),Ia(t,[{key:"setMyCases",value:function(){this.setState({casesBy:"justMine"}),this.props.filterSetDispatch({justMine:!0})}},{key:"setOpenCases",value:function(e){return this.props.filterSetDispatch({justMine:!1,caseStatus:"Open"}),this.redirect(e)}},{key:"setClosedCases",value:function(e){return this.props.filterSetDispatch({justMine:!1,caseStatus:"Closed"}),this.redirect(e)}},{key:"setResolvedCases",value:function(e){return this.props.filterSetDispatch({justMine:!1,caseStatus:"Resolved"}),this.redirect(e)}},{key:"setAllCases",value:function(){this.setState({casesBy:"all"}),this.props.filterSetDispatch({justMine:!1,caseStatus:null})}},{key:"hideAutoCases",value:function(e){var t=this.props.currentFilters;t.hideAutoCases=e.target.checked,this.props.filterSetDispatch(t)}},{key:"redirect",value:function(e){e.preventDefault();var t=e.target.hash;return this.setState({isOpenNav:!1}),window.setTimeout(function(){window.location.hash=t},50),!1}},{key:"offClick",value:function(e){var t=e.target;return this.navStuff===t||(!!E()(this.navStuff).find(t).length||(this.setState({isOpenNav:!1}),!1))}},{key:"toggleState",value:function(e){e.preventDefault(),e.stopPropagation();var t=!this.state.isOpenNav;return this.setState({isOpenNav:t}),!1}},{key:"forwardSearch",value:function(e){var t=e.target.value;t?this.setState({searchString:t}):this.setState({searchString:""}),"function"==typeof this.props.onSearch&&this.props.onSearch.call(null,t)}},{key:"eraseSearch",value:function(e){return e.preventDefault(),e.stopPropagation(),this.setState({searchString:""}),"function"==typeof this.props.onSearch&&this.props.onSearch.call(null,""),!1}},{key:"showCasesBy",value:function(e){"all"===e?this.setAllCases():this.setMyCases()}},{key:"render",value:function(){var e=this.props.isInternal;return i.a.createElement("div",{className:Pa("search-nav",{"is-internal":e})},!e&&i.a.createElement("div",{className:Pa("case-owner")},i.a.createElement(_a,{className:"cases-by",value:1,onChange:this.showCasesBy},i.a.createElement(Ta.a,{className:Pa({active:"all"===this.state.casesBy},"button"),value:"all"},"All Cases"),i.a.createElement(Ta.a,{className:Pa({active:"justMine"===this.state.casesBy},"button"),value:"justMine"},"My Cases"))),i.a.createElement("div",{className:Pa("search-stuff")},i.a.createElement("input",{type:"text",className:Pa("search-bar"),value:this.state.searchString,onChange:this.forwardSearch,placeholder:"Search all case fields..."}),i.a.createElement("a",{href:"#support",className:Pa("cancel-search"),onClick:this.eraseSearch},"×")),i.a.createElement("div",{className:Pa("hide-auto-cases")},i.a.createElement("input",{type:"checkbox",onChange:this.hideAutoCases}),"Hide auto-created cases"),i.a.createElement("div",{className:Pa("actions-options")},!e&&i.a.createElement(Ae.a,{to:"/resources/nimble/support/newcase"},i.a.createElement(Ta.a,{className:"button"},i.a.createElement("i",{className:"fa fa-plus"}),"New Case"))))}}]),t}();Ra.displayName="SearchNav",Ra.propTypes={onSearch:s.a.func,filterSetDispatch:s.a.func,currentFilters:s.a.object,isInternal:s.a.bool};var ja=Object(r.connect)(function(e){return{filtering:e.supportTab.filtering}},function(e){return Object(bt.bindActionCreators)({filterSetDispatch:da},e)})(Ra),Ba=n(48),Va=n(310),La=n.n(Va),Ma=n(308),Ua=n.n(Ma),Fa=n(309),Ha=n.n(Fa),qa=n(9),za=n.n(qa),Ya=n(168),Ga=n.n(Ya);function Wa(e){}n(1523);var Ka=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Ja=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),Ka(t,[{key:"onPage",value:function(e){e.preventDefault();var t=e.currentTarget,n=this.props.dataOffset;if(!(t.hasAttribute("data-disabled")&&"false"!==t.getAttribute("data-disabled"))){var a=t.getAttribute("href");if(a){a=a.slice(1);var i=this.getPageAt0BasedIndex(n);switch(a){case"next":i=this.getPageAt0BasedIndex(i.end);break;case"previous":i=this.getPageAt0BasedIndex(i.start-2)}"function"==typeof this.props.onPageSelect&&this.props.onPageSelect({dataOffset:i.start-1})}}}},{key:"getPageAt0BasedIndex",value:function(e){var t=this.props.itemCount,n=this.props.numberPerPage||10,a=Math.ceil(t/n),i=Math.floor(e/n);i>=a&&(i=a-1),i<0&&(i=0);var r=Math.min(n*i+1,t);return{start:r,end:Math.min(r+n-1,t),page:i+=1}}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.itemCount,a=this.getPageAt0BasedIndex(this.props.dataOffset),r=a.start,o=a.end,s=a.page;return i.a.createElement("div",{className:ee()("nmbl-Pagination",t)},i.a.createElement("span",{className:"nmbl-Pagination__range"},i.a.createElement("strong",null,r," - ",o),i.a.createElement("span",{className:"nmbl-Pagination__count"}," of ",n)),i.a.createElement("ul",{className:"pagination use-foundation",role:"navigation","aria-label":"Pagination"},i.a.createElement("li",{className:"pagination-previous"},i.a.createElement("a",{className:ee()({disabled:1===s}),href:"#previous",onClick:this.onPage,"aria-label":"Previous page","data-disabled":1===s},i.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":"true"}))),i.a.createElement("li",{className:"pagination-next"},i.a.createElement("a",{className:ee()({disabled:o===n}),href:"#next",onClick:this.onPage,"aria-label":"Next page","data-disabled":o===n},i.a.createElement("i",{className:"fa fa-angle-right","aria-hidden":"true"})))))}}]),t}();Ja.displayName="Pagination",Ja.propTypes={onPageSelect:s.a.func,dataOffset:s.a.number,numberPerPage:s.a.number,itemCount:s.a.number.isRequired},Ja.defaultProps={dataOffset:0,numberPerPage:10};var Xa=Ja,Qa=n(1524),Za=n.n(Qa),$a=n(1525),ei=n.n($a);n(1526);var ti=function(e){var t=e.date,n=e.format,a=e.title;if(!t)return null;var r=Et()(t),o=r.toDate(),s=null,l=null,c=null;return Number.isNaN(Number(Date.parse(o)))?(s=t,l=a||t,c=String(t)):(s=o.toISOString(),l=a||o.toUTCString(),c=r.format(n||"lll")),i.a.createElement("time",{className:"date-time",dateTime:s,title:l},c)};ti.displayName="DateTime",ti.propTypes={date:s.a.oneOfType([s.a.string,s.a.number]),format:s.a.string,title:s.a.string},ti.defaultValues={format:"lll"};var ni=ti,ai=n(1527),ii=n.n(ai),ri=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var oi=ee.a.bind(ii.a),si=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n.inputElem=null,n.datePicker=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),ri(t,[{key:"componentDidMount",value:function(){var e=this.props,t="enableTime"in e&&!!e.enableTime,n=!("allowInput"in e)||!!e.allowInput,a=e.mode,i=e.altFormat,r={minDate:e.minDate,enableTime:t,allowInput:n,altInput:!1,altFormat:i||"F j, Y h:i K",animate:!1,dateFormat:i||"F j, Y h:i K",mode:a||"single",onChange:this.eventChange,onClose:this.eventClose,onOpen:this.eventOpen,onReady:this.eventReady};this.datePicker=new ei.a(this.inputElem,r)}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillUnmount",value:function(){this.datePicker.destroy()}},{key:"eventChange",value:function(e){this.datePicker.close();var t=function(e){var t="";return e.length&&(t=e[0].toISOString()),t}(e),n=ni({date:t,format:"YYYYMMDD"});"function"==typeof this.props.onChange&&(n?this.props.onChange.call(null,{date:n.props.children,subfilter:this.props.subfilter}):this.props.onChange.call(null,{date:null,subfilter:this.props.subfilter}))}},{key:"eventClose",value:function(e){"function"==typeof this.props.onClose&&this.props.onClose.call(null,e)}},{key:"eventOpen",value:function(e){"function"==typeof this.props.onOpen&&this.props.onOpen.call(null,e)}},{key:"eventReady",value:function(e){"function"==typeof this.props.onReady&&this.props.onReady.call(null,e)}},{key:"eventClear",value:function(e){return e.preventDefault(),this.datePicker.clear(),"function"==typeof this.props.onChange&&this.props.onChange.call(null,""),!1}},{key:"render",value:function(){var e=this;return i.a.createElement("span",null,i.a.createElement("input",{className:oi("nmbl-date-picker"),ref:function(t){e.inputElem=t},id:this.props.id,type:"text",placeholder:"Select Date..."}),i.a.createElement("button",{className:oi("clear","close"),onClick:this.eventClear},"x"))}}]),t}();si.displayName="DatePicker",si.propTypes={id:s.a.string,subfilter:s.a.string,onChange:s.a.func,onClose:s.a.func,onOpen:s.a.func,onReady:s.a.func};var li=si,ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ui=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},di=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var pi=ee.a.bind(Za.a),hi=[{name:"just 5",value:5},{name:"10",value:10},{name:"25",value:25},{name:"50",value:50},{name:"100!",value:100}];var mi=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));c()(n);var a=e,i=e.data||e.withData,r=e.options||e.withOptions,o={pagination:{perPage:10,offset:0}},s=ui({},o,a,r,function(t){return t.reduce(function(t,n){return!1===e.key?t:(t[n]=ui({},o[n],e[n]),t)},{})}(["pagination"])),l=i||s.data;l=Array.isArray(l)?l.slice(0):[];var u=s.columns||[],d=s.hoverRows||!1,p=u.reduce(function(e,t){return e[t.key]=t,e},{}),h=s.pagination?s.pagination.perPage||10:Number.MAX_SAFE_INTEGER,m=s.pagination&&s.pagination.offset||0,f=s.sorting||[];f=f.map(function(e,t){switch(e.order){case"D":case"d":case"des":case"desc":case-1:case"-":e.order=-1;break;case"A":case"a":case"asc":case 1:case"+":default:e.order=1}return{colname:e.colname,order:e.order}});var v=l[0]||{},b=Object.keys(v);return n.state={colsToShow:u,colReference:p,knownKeys:b,hoverRows:d,tableData:l,sorting:f,perPage:h,offset:m},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),di(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.data,n=this.state.tableData.length!==t.length;this.setState(Object.assign({},this.state,{tableData:t,offset:n?0:this.state.offset}))}},{key:"setStateOffset",value:function(e){e=parseInt(e,10)||0;var t=this.state.tableData.length;e<0?e=0:e>=t&&(e=t-1),this.setState({offset:e})}},{key:"setStatePerPage",value:function(e){(e=parseInt(e,10)||0)>100&&(e=100),this.setState({perPage:e})}},{key:"getSortArrow",value:function(e){if(e.columns)return null;var t=this.state.sorting.find(function(t){return t.colname===e.key});return t&&t.order?t.order>0?i.a.createElement("div",{className:pi("sortIcon")},i.a.createElement(Ba.IconAdaptor,{size:"xsmall",type:"svg"},i.a.createElement(Ua.a,null))):i.a.createElement("div",{className:pi("sortIcon")},i.a.createElement(Ba.IconAdaptor,{size:"xsmall",type:"svg"},i.a.createElement(Ha.a,null))):i.a.createElement("div",{className:pi("sortIcon")},i.a.createElement(Ba.IconAdaptor,{size:"xsmall",type:"svg"},i.a.createElement(La.a,null)))}},{key:"getHeaderContent",value:function(e){return e.header||e.key}},{key:"getColumnsByRow",value:function(){var e=[],t=[],n=1;return(this.props.columns||this.props.options.columns).forEach(function a(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(o,s){i>1||!1!==o.visible&&(e[r||s]=e[r||s]||[],e[r||s][i]=e[r||s][i]||[],e[r||s][i].push(o),t[i]=t[i]||[],t[i][r||s]=t[i][r||s]||[],t[i][r||s].push(o),o.columns&&o.columns.forEach(a(i+1,s)),n<i+1&&(n=i+1),null!==o.key&&void 0!==o.key||(o.key=Ga()(o)))}}()),{rows:t,columns:Object(qa.compact)(Object(qa.flatten)(e.map(function(e){return e[e.length-1]})))}}},{key:"getRenderColumns",value:function(){return this.state.colsToShow.filter(function(e){return!(!1===e.visible)}).map(function(e){return e.key||(e.key=(""+Math.random()).slice(2)),e})}},{key:"getRenderRows",value:function(){var e=this,t=function(e){return(null===e||void 0===e?"":e).toString().toLowerCase()},n=ui({},this.props.subqueries,this.state.subqueries);return this.state.tableData.filter(function(n){var a=e.props.tableQuery;if(!a)return!0;for(var i in a=t(a),n){if(n.hasOwnProperty(i))if(t(n[i]).includes(a))return!0}return!1}).filter(function(e){return!n||Object.keys(n).reduce(function(a,i){var r=t(e[i]),o=n[i],s=t(o);if("object"===(void 0===o?"undefined":ci(o))){var l=o.comparator,c=o.value;if("gte"===l)return a&&r>=c}return a&&r.includes(s)},!0)}).sort(function(t,n){var a=e.state.sorting;if(!a)return 0;for(var i=a.length,r=0;r<i;r++){var o=a[r],s=o.colname,l=o.order,c=t[s]||"",u=n[s]||"";if(c<u)return-1*l;if(c>u)return 1*l}})}},{key:"render",value:function(){var e=this.getRenderRows(),t=e.slice(this.state.offset,this.state.offset+this.state.perPage);return i.a.createElement("div",{className:pi("nmbl-grid-view",this.props.className)},this.writeSettings(),i.a.createElement("table",{className:this.state.hoverRows?"hover":""},i.a.createElement("thead",null,this.writeHeader(),this.writeSubfilter()),i.a.createElement("tbody",null,this.writeRows(t)),i.a.createElement("tfoot",null)),i.a.createElement("div",{className:pi("nmbl-grid-view-footer")+" container-fluid"},0===t.length&&i.a.createElement("span",null,this.props.noDataMsg),this.writePagination(e)),i.a.createElement("br",null),i.a.createElement("br",null))}},{key:"writeSettings",value:function(){return i.a.createElement("form",{className:"settings container-fluid"},i.a.createElement("div",{className:"row"},this.writeUserPerPageSelection()))}},{key:"writeHeader",value:function(){var e=this,t=this.getColumnsByRow().rows,n=function n(a,r,o){if(Array.isArray(a))return a.map(function(e){return n(e,r,o)});if(!1!==a.visible){var s=a.columns?a.columns.length:1,l=function(e,n){return e>0?1:t[e+1]&&t[e+1][n]?1:t.length}(r,o),c=e.getSortArrow(a),u=!!a.columns,d={"data-sortable":u?void 0:"","data-group-header":u?"":void 0,onClick:u?void 0:e.eventHeaderSort,colSpan:s>1?s:void 0,rowSpan:t.length>1&&l>1?l:void 0};return i.a.createElement("th",ui({className:pi({sorted:c}),key:a.key,"data-colname":a.key},d),e.getHeaderContent(a),i.a.createElement("span",{className:"pull-right float-right"},c||i.a.createElement("i",{className:"fa fa-sort-asc invisible"})))}};return t.map(function(e,t){return i.a.createElement("tr",{key:t},Object(qa.compact)(Object(qa.flatten)(e.map(function(e,a){return n(e,t,a)}))))})}},{key:"writeSubfilter",value:function(){var e=this;if(!this.props.subqueries)return null;var t=this.getColumnsByRow().columns;return i.a.createElement("tr",{className:"gv-subquery-filters"},t.map(function(t){switch(t.subquery){case"date-range":return e.showSubfilterDateRange(t);case"summary":return e.showSubfilterSelect(t);case!1:return e.showNoSubfilter(t);case!0:default:return e.showSubfilterInput(t)}}))}},{key:"showSubfilterDateRange",value:function(e){return i.a.createElement("th",{key:e.key},i.a.createElement(li,{altFormat:e.datePickerFormat,subfilter:e.key,onChange:this.eventDateRangeSubfilter}))}},{key:"showNoSubfilter",value:function(e){return i.a.createElement("th",{key:e.key}," ")}},{key:"showSubfilterInput",value:function(e){return i.a.createElement("th",{key:e.key},i.a.createElement("input",{className:pi("subquery"),type:"text","data-subfilter":e.key,onInput:this.eventSubfilter}))}},{key:"showSubfilterSelect",value:function(e){return e.summaryOptions?i.a.createElement("th",{key:e.key},i.a.createElement("select",{ref:e.key,"data-subfilter":e.key,onChange:this.eventSubfilter},i.a.createElement("option",{value:""}),e.summaryOptions.map(function(e){return i.a.createElement("option",{key:e.value,value:e.value},e.name)}))):i.a.createElement("th",{key:e.key},i.a.createElement("select",{ref:e.key,"data-subfilter":e.key,onChange:this.eventSubfilter},i.a.createElement("option",{value:""}),function(e,t){var n=e.reduce(function(e,n){var a=n[t],i=(""+a).toLowerCase();return e[i]=e[i]||{name:a,value:i},e},{});return Object.values(n).sort(function(e,t){return e.name&&e.value?t.name&&t.value?e.value<t.value?-1:e.value>t.value?1:0:1:-1})}(this.state.tableData,e.key).map(function(e){var t=!e.name&&0!==e.name;return i.a.createElement("option",{key:e.value,value:e.value},t?"(is blank)":e.name)})))}},{key:"writeCell",value:function(e,t){var n=t[e.key];return"function"==typeof e.render&&(n=e.render(n,t)),i.a.createElement("td",{key:e.key,"data-colname":e.key},n)}},{key:"writeRows",value:function(e){var t=this,n=this.getColumnsByRow().columns;return e.map(function(e,a){!function(e,t){if(!e){for(var n=arguments.length,a=Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];Wa.apply(void 0,[t].concat(a))}}(void 0!==e[t.props.rowKey],"GridView: shimming key for row with undefined key. index="+a+" rowKey="+t.props.rowKey,e);var r=e[t.props.rowKey]||Ga()(e),o=(a+1)%2,s={"data-odd":o?"":void 0,"data-even":o?void 0:"","data-rowkey":r};return i.a.createElement("tr",ui({key:r,onClick:t.eventRowTouch},s),n.map(function(n){return t.writeCell(n,e)}))})}},{key:"writeFooter",value:function(){return i.a.createElement("tr",null,this.getRenderColumns().map(function(e){return i.a.createElement("td",{key:e.key},"unfinished")}))}},{key:"writeSummary",value:function(){return i.a.createElement("div",null,this.state.tableData.length," rows in memory")}},{key:"writePagination",value:function(e){return this.props.pagination?i.a.createElement(Xa,{className:"pull-right",dataOffset:this.state.offset,numberPerPage:this.state.perPage,itemCount:e.length,onPageSelect:this.gotPageSelect}):null}},{key:"writeUserPerPageSelection",value:function(){var e=this;return this.props.pagination&&this.props.pagination.enableUserPerPageSelection?i.a.createElement("div",{className:"medium-6 columns"},i.a.createElement("label",null,"Number per page:",i.a.createElement("select",{value:this.state.perPage,onChange:function(t){e.setStatePerPage(t.currentTarget.value)}},hi.map(function(e){return i.a.createElement("option",{key:e.value,value:e.value},e.name)})))):null}},{key:"gotPageSelect",value:function(e){var t=e.dataOffset;this.setStateOffset(t)}},{key:"eventRowTouch",value:function(e){e.currentTarget.dataset.rowkey,e.currentTarget.dataset.rowindex}},{key:"eventDateRangeSubfilter",value:function(e){var t=e.subfilter,n=e.date;if(n){var a=Object.assign({},this.state.subqueries);a[t]={comparator:"gte",value:n},this.setState({offset:0,subqueries:a})}else{var i=Object.assign({},this.state);i.subqueries&&(delete i.subqueries[t],this.setState(i))}}},{key:"eventSubfilter",value:function(e){var t=e.currentTarget,n=t.dataset.subfilter,a=t.value;if(!a){var i=Object.assign({},this.state);return delete i.subqueries[n],void this.setState(i)}var r=Object.assign({},this.state.subqueries);r[n]=a,this.setState({offset:0,subqueries:r})}},{key:"eventHeaderSort",value:function(e){var t=!!e.shiftKey,n=e.currentTarget.dataset.colname,a=this.state.sorting.find(function(e){return e.colname===n}),i=this.state.sorting.slice(0);a?0==a.order?a.order=1:1==a.order?a.order=-1:(a.order,i.splice(i.indexOf(a),1),a=null):(a={colname:n,order:1},t?i.push(a):i=[a]),this.setState({sorting:i})}}]),t}();mi.displayName="GridView",mi.propTypes={subqueries:s.a.object,data:s.a.arrayOf(s.a.object).isRequired,columns:s.a.arrayOf(s.a.shape({visible:s.a.bool,header:s.a.node,key:s.a.string.isRequired,subquery:s.a.oneOf(["summary","date-range",!0,!1]),render:s.a.func,columns:s.a.arrayOf(s.a.object)})).isRequired,pagination:s.a.oneOfType([s.a.bool,s.a.shape({perPage:s.a.number,offset:s.a.number,enableUserPerPageSelection:s.a.bool})]),tableQuery:s.a.string,rowKey:s.a.string.isRequired,noDataMsg:s.a.string},mi.defaultProps={options:null,data:null,childRowComponent:null,pagination:!0,tableQuery:"",rowKey:"id"};var fi=mi;function vi(){return i.a.createElement("i",null)}vi.displayName="Column",vi.propTypes={visible:s.a.bool,header:s.a.node,dataKey:s.a.string.isRequired,summaryFilter:s.a.bool,textFilter:s.a.bool,render:s.a.func},vi.defaultProps={visible:!0,summaryFilter:!1,textFilter:!1};var bi=vi;function gi(){return i.a.createElement("i",null)}gi.displayName="ColumnGroup",gi.propTypes={visible:s.a.bool,header:s.a.node,dataKey:s.a.string,children:s.a.any.isRequired},gi.defaultProps={visible:!0};var yi=gi,wi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function Ti(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}var Si=function(e){var t=e.dataKey,n=e.summaryFilter,a=e.textFilter,i=Ti(e,["dataKey","summaryFilter","textFilter"]);return wi({},i,{key:t,subquery:n?"summary":!!a})},Ei=function(e){var t=e.children,n=e.dataKey,a=Ti(e,["children","dataKey"]);return wi({},a,{key:n,columns:Object(qa.compact)(i.a.Children.map(t,function(e){var t=e.type,n=e.props;return t===bi?Si(n):void 0}))})},Ci=function(e){return{perPage:e.numberPerPage,offset:e.dataOffset}};function xi(e){var t=e.children,n=e.disablePagination,a=Ti(e,["children","disablePagination"]),r=[],o=!n;return i.a.Children.forEach(t,function(e){var t=e.type,a=e.props;t===bi?r.push(Si(a)):t===yi?r.push(Ei(a)):t!==Xa||n||(o=Ci(a))}),i.a.createElement(fi,wi({columns:Object(qa.compact)(r),pagination:o},a))}xi.displayName="SimpleGridView",xi.propTypes={data:s.a.arrayOf(s.a.object).isRequired,children:s.a.any.isRequired,disablePagination:s.a.bool,tableQuery:s.a.string,rowKey:s.a.string.isRequired},xi.defaultProps={noPagination:!1};var Di=fi,Oi=n(710),Ni=n.n(Oi),_i=ee.a.bind(Ni.a);function Ai(){return i.a.createElement("div",{className:_i("support-loading")},i.a.createElement("div",{className:_i("loading-box")},i.a.createElement("h2",null,"Loading support cases..."),i.a.createElement("hr",null),i.a.createElement("p",{className:_i("wait-text")},"Please wait a moment.")))}Ai.displayName="SupportLoading";var ki=ee.a.bind(Ni.a);function Ii(){return i.a.createElement("div",{className:ki("support-loading")},i.a.createElement("div",{className:ki("loading-box")},i.a.createElement("h2",null,"Cases are not available"),i.a.createElement("hr",{className:ki("error")}),i.a.createElement("p",null,"We","'","ve encountered an error while loading your cases. This is most likely a temporary issue or condition, so please try back in a few moments."),i.a.createElement("p",null,"If the situation persists, call 1-877-364-6253.")))}Ii.displayName="SupportLoadingError";var Pi=Ii,Ri=n(1528),ji=n.n(Ri),Bi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Li=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Mi=ee.a.bind(ji.a),Ui=[{key:"id",visible:!1},{key:"priority",header:"Priority",subquery:"summary",summaryOptions:[{name:"P1",value:"p1"},{name:"P2",value:"p2"},{name:"P3",value:"p3"},{name:"P4",value:"p4"}]},{key:"assetName",header:"Serial #",render:function(e){if("Unknown Asset"===e)return i.a.createElement("span",null,"Unknown Asset");var t=Object(h.buildUrl)("/infrastructure/storage/nimble/arrays/",e);return i.a.createElement(Ae.a,{to:t},e)}},{key:"caseNumber",header:"Case #",render:function(e){return i.a.createElement(Ae.a,{to:""+Object(h.buildUrl)("/resources/nimble/support/case/",e)},e)}},{key:"status",header:"Status",subquery:"summary"},{key:"ownerName",header:"Assigned"},{key:"createdDateOnly",header:"Opened After",subquery:"date-range",datePickerFormat:"n/j/Y",render:function(e){return i.a.createElement(ni,{date:e,format:"M/D/YYYY"})}},{key:"subject",header:"Subject"},{key:"lastUpdatedDate",header:"Last Updated",subquery:"date-range",datePickerFormat:"n/j/Y",render:function(e){return i.a.createElement(ni,{date:e,format:"M/D/YYYY"})}}],Fi={rowKey:"id",search:null,sorting:[{colname:"lastUpdatedTS",order:"desc"}]};var Hi=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n.state={isSupportCaseAccessOnly:m.AuthorizationEvaluator.evaluate({access:{authorities:[m.AUTHORITIES.SUPPORT_CASE]}}),tableSearch:""},n.checkboxId=oa(),n.fromDateId=oa(),n.toDateId=oa(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),Li(t,[{key:"componentDidMount",value:function(){var e=this.props.contact;this.props.fetchCases(),this.props.getArrays(),e&&(e.loaded||e.loading)||this.props.fetchSfdcContact()}},{key:"getFilteredCases",value:function(e){var t=this.props.filtering,n=new Date(t.startDate);n.setHours(0),n.setMinutes(0);var a=new Date(t.endDate);return a.setHours(23),a.setMinutes(59),a.setSeconds(59),e.filter(function(e){return!1!==e&&("object"===(void 0===e?"undefined":Vi(e))&&!!e)}).filter(function(e){return!t.caseStatus||e.bucket===t.caseStatus}).filter(function(e){return!t.hideAutoCases||e.Auto_Open__c!==t.hideAutoCases}).filter(function(e){return!t.justMine||e.contactId===function(){var e=sa();return e?e.id:null}()}).filter(function(e){return!t.startDate||new Date(e.createdDate)>=n}).filter(function(e){if(!t.endDate)return!0;var n=new Date(e.createdDate),i=new Date(e.closedDate);return Math.max(n,i)<=a})}},{key:"setStatusFilter",value:function(e){var t=e.target.dataset.status;t===this.props.filtering.caseStatus&&(t=null),this.props.filterStatusDispatch(t)}},{key:"eventJustMineChange",value:function(e){var t=!!e.target.checked;this.props.filterParamDispatch("justMine",t)}},{key:"eventFromDateChange",value:function(e){this.props.filterParamDispatch("startDate",e)}},{key:"eventToDateChange",value:function(e){this.props.filterParamDispatch("endDate",e)}},{key:"eventSearching",value:function(e){this.setState({tableSearch:e})}},{key:"render",value:function(){var e=this.props,t=e.cases,n=e.fetchCasesFailed,a=e.arrays,r=e.contact;if(this.state.isSupportCaseAccessOnly)return Object(ma.redirectToLogin)(),i.a.createElement("div",null);if(!t.loaded||!a||!r.loadedContact)return i.a.createElement(ke.Spinner,null);if(n)return i.a.createElement(Pi,null);var o=this.props.filtering,s=t.value,l={Total:0,Open:0,Closed:0,Resolved:0};s&&((l=s.reduce(function(e,t){var n=e[t.bucket]>>>0;return n+=1,e[t.bucket]=n,e},l)).Total=s.length);var c=this.getFilteredCases(s);!function(e,t){for(var n={},a=function(a){if(n[e[a].status]=!0,t){var i=t.find(function(t){return t.arrayId===e[a].assetId});e[a].assetName=i?i.arraySn:"Unknown Asset"}},i=0;i<e.length;i+=1)a(i);var r=Object.keys(n).sort().map(function(e){return{name:e,value:e.toLowerCase()}});Ui.map(function(e){return"status"===e.key?(e.summaryOptions=r,e):e})}(s,a);var u=m.AuthorizationEvaluator.evaluate({access:{authorities:m.AUTHORITIES.REALM_INTERNAL}});return i.a.createElement(ya,null,i.a.createElement("div",{className:Mi("support-list-cases")},i.a.createElement(ja,{currentFilters:o,isInternal:u,onSearch:this.eventSearching}),i.a.createElement("div",{className:Mi("grid-inset")},i.a.createElement(Di,{data:c,options:Fi,tableQuery:this.state.tableSearch,subqueries:{},columns:Ui,noDataMsg:"No Data Available"}))))}}]),t}();Hi.displayName="SupportListCases",Hi.propTypes={arrays:s.a.array,cases:s.a.object,filtering:s.a.object,fetchCases:s.a.func,fetchCasesFailed:s.a.bool,filterStatusDispatch:s.a.func,filterParamDispatch:s.a.func,fetchSfdcContact:s.a.func,getArrays:s.a.func.isRequired,contact:s.a.object};var qi={getArrays:ha.a,fetchCases:Wn,filterStatusDispatch:ca,filterParamDispatch:ua,fetchSfdcContact:ta},zi=Object(te.a)(Object(r.connect)(function(e){return Bi({cases:Object(An.a)(e),fetchCasesFailed:Object(An.c)(e),filtering:e.supportTab.filtering,contact:Object(ia.a)(e)},Object(pa.c)(e))},qi)(Hi)),Yi=n(720),Gi=n(257),Wi=n(91),Ki=n(1529),Ji=n.n(Ki),Xi=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Qi=ee.a.bind(Ji.a),Zi=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n.state={kcsDocument:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),Xi(t,[{key:"componentWillMount",value:function(){var e=this;try{(function(e){var t={type:"POST",url:Yn+"/solution/full",data:JSON.stringify({id:e}),contentType:"application/json",dataType:"json"};return E.a.ajax(t)})(this.props.docId).done(function(t){e.setState({kcsDocument:t})}).error(function(t){t.responseJSON.error&&e.props.onError({message:'Since your initial query, the solution you are trying to view has been withdrawn from public access. You will be now be redirected to the InfoSight portal, where you may search for similar knowledge under the "Resources → Documentation" tab.'})})}catch(e){console.log("err")}}},{key:"render",value:function(){var e=this.state.kcsDocument;return e?i.a.createElement("div",{className:Qi("kcs-document")},i.a.createElement("div",{className:"callout"},i.a.createElement("h2",null,e.title),i.a.createElement("p",null,"Created on: ",i.a.createElement(ni,{date:e.created_at,format:"MM/DD/Y HH:mm"}))),i.a.createElement("div",{className:Qi("kcs-body-text")},i.a.createElement("p",{dangerouslySetInnerHTML:{__html:e.body_html}}))):i.a.createElement(Ie.a,null)}}]),t}();Zi.displayName="KcsDocument",Zi.propTypes={docId:s.a.number.isRequired,onError:s.a.func};var $i=Zi,er=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var tr=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n.state={error:null,resultsLiked:[],resultsDisliked:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),er(t,[{key:"onKcsError",value:function(e){this.setState({error:e})}},{key:"docSolvedMyIssue",value:function(e){var t=this.state.resultsLiked;t[e]||(t[e]=!0,this.setState({resultsLiked:t}),Zn(e),na(this.props.caseId,"User accepted solution in KCS Document "+e))}},{key:"docNotHelpful",value:function(e){var t=this.state.resultsDisliked;t[e]||(t[e]=!0,this.setState({resultsDisliked:t}),$n(e))}},{key:"redirectToDocs",value:function(){this.props.history.push("/resources/nimble/docs"),this.props.isSupportCaseAccess&&Object(ma.redirectToLogin)()}},{key:"render",value:function(){var e=this;return this.state.error?i.a.createElement(Wi.Modal,{size:"large",hideModalOnPrimaryButtonClick:!0,hideSecondaryButton:!0,primaryButtonContent:"Ok",title:"Solution #"+this.props.docId+" Unavailable",onClickPrimaryButton:function(){return e.redirectToDocs()},hide:this.props.closeModal,isStoreDriven:!1,isOpen:!0},i.a.createElement("h1",{className:"no-margin"},i.a.createElement("i",{className:"fa fa-exclamation-triangle text-danger"})," ",this.state.error.message)):i.a.createElement(Wi.Modal,{size:"large",hideModalOnPrimaryButtonClick:!0,hideModalOnSecondaryButtonClick:!0,primaryButtonContent:"This solved my issue",secondaryButtonContent:"Not helpful",title:"Solution #"+this.props.docId,onClickPrimaryButton:function(){return e.docSolvedMyIssue(e.props.docId)},onClickSecondaryButton:function(){return e.docNotHelpful(e.props.docId)},hide:this.props.closeModal,isStoreDriven:!1,isOpen:!0},i.a.createElement($i,{docId:this.props.docId,onError:function(t){return e.onKcsError(t)}}))}}]),t}();tr.displayName="KcsDocumentModal",tr.propTypes={caseId:s.a.string,docId:s.a.number.isRequired,history:s.a.object,isSupportCaseAccess:s.a.bool,closeModal:s.a.func.isRequired};var nr=Object(Gi.a)(tr),ar=n(1530),ir=n.n(ar),rr=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var or=ee.a.bind(ir.a),sr=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={inputValue:e.value,suggestions:e.valueList||[],savedValues:[],showSuggestions:!1,listIndex:-1},n.inputElem=null,n.listElem=null,n.eventChange=n.eventChange.bind(n),n.eventBlur=n.eventBlur.bind(n),n.eventKeyDown=n.eventKeyDown.bind(n),n.eventMouseOver=n.eventMouseOver.bind(n),n.outsideClick=n.outsideClick.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),rr(t,[{key:"componentDidMount",value:function(){E()(window).on("click",this.outsideClick)}},{key:"componentWillReceiveProps",value:function(e){var t={};"value"in e&&(t.inputValue=e.value),Array.isArray(e.valueList)&&this.suggestionsChanged(e.valueList)&&(t.showSuggestions=!0,t.suggestions=e.valueList),this.setState(t)}},{key:"componentWillUnmount",value:function(){E()(window).off("click",this.outsideClick)}},{key:"suggestionsChanged",value:function(e){var t=this.state.suggestions;if(e.length!==t.length)return!0;for(var n=0,a=t.length;n<a;n++)if(t[n]!==e[n])return!0;return!1}},{key:"outsideClick",value:function(e){this.state.showSuggestions&&(E()(e.target).closest(this.rootElem).length||(this.setState({showSuggestions:!1,listIndex:-1}),this.eventBlur(e)))}},{key:"eventMouseOver",value:function(e){var t=e.currentTarget.getAttribute("data-list-index");t=parseInt(t,10),Number.isNaN(Number(t))&&(t=-1),this.setState({listIndex:t})}},{key:"eventChange",value:function(e){var t=e.target.value,n=this;n.changeId&&clearTimeout(n.changeId),n.changeId=setTimeout(function(){n.setState({inputValue:t},function(){n.dispatchChanges(t)}),n.changeId=null},200)}},{key:"dispatchChanges",value:function(e){"function"==typeof this.props.onInput&&this.props.onInput(e)}},{key:"eventBlur",value:function(e){"function"==typeof this.props.onBlur&&this.props.onBlur.call(null,e)}},{key:"eventKeyDown",value:function(e){var t=this.state,n=t.suggestions.length,a=e.keyCode||e.which,i=t.listIndex;if(13===a&&t.showSuggestions&&n&&t.listIndex>-1){var r=t.suggestions[t.listIndex];this.setState({inputValue:r,showSuggestions:!1,listIndex:-1}),this.inputElem.value=r,this.dispatchChanges(r)}else{38===a?i-=1:40===a&&(i+=1),i<0&&(i=-1),i>=n&&(i=n-1);var o=i>-1;this.setState({listIndex:i,showSuggestions:o}),o&&this.centerScroll(i)}t.listIndex<0&&"function"==typeof this.props.onKeyDown&&this.props.onKeyDown.call(null,e)}},{key:"centerScroll",value:function(e){var t=this.listElem;if(t){var n=Array.from(t.childNodes).find(function(t,n){return n===e});if(n){var a=n.offsetTop,i=n.scrollHeight,r=t.offsetHeight;t.scrollTop=a+i-r/2}}}},{key:"filteredProps",value:function(e){var t=Object.assign({},this.props,e);return delete t.valueList,t}},{key:"renderResults",value:function(){var e=this,t=this,n=this.state,a=n.suggestions;return a.length&&n.showSuggestions?i.a.createElement("ul",{className:or("type-ahead-results"),ref:function(t){return e.listElem=t}},a.map(function(e,a){var r={};n.listIndex===a&&(r.selected=!0);var o="ta-"+a;return i.a.createElement("li",{key:o,className:or({}),onMouseOver:t.eventMouseOver,"data-list-index":a},i.a.createElement("a",{href:"#support",className:or(r),onClick:function(n){return n.preventDefault(),t.setState({inputValue:e,showSuggestions:!1,listIndex:-1},function(){t.inputElem.value=e,t.dispatchChanges(e)}),!1}},e))})):null}},{key:"render",value:function(){var e=this;return i.a.createElement("span",{className:or("type-ahead-input")},i.a.createElement("input",{type:"text",ref:function(t){return e.inputElem=t,t},onInput:this.eventChange,onKeyDown:this.eventKeyDown,onBlur:this.eventBlur}),this.renderResults())}}]),t}();sr.displayName="TypeAhead",sr.propTypes={value:s.a.string,valueList:s.a.array,onBlur:s.a.func,onInput:s.a.func,onKeyDown:s.a.func};var lr=sr,cr=n(1531),ur=n.n(cr),dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},pr=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var hr=ee.a.bind(ur.a),mr=[{label:"Critical",labelDesc:"System down; no I/O being served",value:"P1"},{label:"Major",labelDesc:"Significant impact to I/O or operations",value:"P2"},{label:"Minor",labelDesc:"Some impact to I/O or operations",value:"P3"},{label:"Low",labelDesc:"No impact to I/O or operations; administrative/question/etc",value:"P4"}],fr=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n.state={arrays:[],searching:null,didSearch:!1,kcsSuggestions:null,kcsResults:[{type:"hint",title:"While you enter your case, we will also look for some solutions that could help.",doc_id:null}],resultsRead:[],caseTitle:"",caseDescription:"",caseArray:null,caseSeverity:null,lastError:null,busySend:!1,caseSubmission:null,visibleKcsDocId:null},n.lastSuggestionSearch=null,n.inputTypeAheadId=oa(),n.textareaId=oa(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),pr(t,[{key:"componentWillMount",value:function(){this.props.getArrays()}},{key:"onSummaryChange",value:function(e){this.setState({caseTitle:e}),this.requestTermsSuggestion(e)}},{key:"onDescriptionChange",value:function(e){var t=e.target.value;t!==this.state.caseDescription&&this.setState({caseDescription:t})}},{key:"onArrayChange",value:function(e){var t=Object.assign({},e);this.setState({caseArray:t})}},{key:"onSeverityChange",value:function(e){var t=Object.assign({},e);this.setState({caseSeverity:t.target.value}),"P1"===t.target.value?this.setState({kcsResults:[{type:"hint",title:"For all P1 cases, please call Nimble support directly at 1-877-364-6253",doc_id:null}]}):this.setState({kcsResults:[]})}},{key:"getFormErrors",value:function(){var e=this.state,t=e.caseArray,n=e.caseSeverity,a=e.caseTitle,i=e.caseDescription,r=[];return a.trim()||r.push("A case title is needed."),i.trim()||r.push("A case requires a full description."),t&&t.value||r.push("An array is required."),n||r.push("A severity level is required."),r}},{key:"checkFormErrors",value:function(){return 0===this.getFormErrors().length}},{key:"eventBlur",value:function(){var e=this.compileFullTextSearch();this.requestKcsSolutions(e)}},{key:"eventKeyUp",value:function(e){var t=e.which||e.keyCode,n=String(this.state.caseTitle);13!==t&&((8===t||t>=32&&t<=38&&t>=40)&&n.length>2&&this.requestTermsSuggestion(n))}},{key:"eventSummaryKeyDown",value:function(e){var t=e.which||e.keyCode,n=String(this.state.caseTitle);13===t&&this.requestKcsSolutions(n)}},{key:"eventDescriptionKeyDown",value:function(e){var t=e.which||e.keyCode;if(!ra(t)&&8!==t){var n=this.compileFullTextSearch();this.requestKcsSolutions(n)}}},{key:"eventCaseCreateSuccess",value:function(e,t,n){var a={type:"success",caseNumber:e.caseNumber,message:"Your case has been received."};this.props.postCaseDetailOkDispatch(e),this.setState({caseSubmission:a,busySend:!1})}},{key:"eventCaseCreateFail",value:function(){this.setState({caseSubmission:{type:"fail",caseNumber:null,message:"Your case failed to create."},busySend:!1})}},{key:"eventSubmit",value:function(e){var t=this;if(!e)return!1;if(e.preventDefault(),e.stopPropagation(),!!!this.getFormErrors().length){var n=new kn.default,a="P4";switch(this.state.caseSeverity){case"3":case"P3":a="P3";break;case"2":case"P2":a="P2";break;case"1":case"P1":a="P1"}return n.set({assetId:this.state.caseArray.value,priority:a,subject:this.state.caseTitle,description:this.state.caseDescription}),Qn().always(function(e){var a=e.name||"(name not available)";n.set({userName:a}),n.save().done(t.eventCaseCreateSuccess).fail(t.eventCaseCreateFail)}),this.setState({busySend:!0}),!1}}},{key:"compileFullTextSearch",value:function(){var e=this.state;return(e.caseTitle+" "+e.caseDescription).trim()}},{key:"requestTermsSuggestion",value:function(e){var t=this;e!==this.lastSuggestionSearch&&(this.lastSuggestionSearch=e,Xn(e).done(function(n){e===t.lastSuggestionSearch&&t.setState({kcsSuggestions:n})}))}},{key:"requestKcsSolutions",value:function(e){var t=this;ea(e).done(function(e){if(e.length){var n=e.slice(0,10);t.setState({kcsResults:n,didSearch:!0})}else t.setState({didSearch:!0})})}},{key:"makeAssetDropdownOptions",value:function(){return this.props.arrays&&0!=this.props.arrays.length?this.props.arrays.sort(function(e,t){return e.arraySn<t.arraySn?-1:e.arraySn>t.arraySn?1:0}).map(function(e){var t=e.hostName?"- "+e.hostName:"";return{label:e.arraySn+" "+t,value:e.arrayId}}):[]}},{key:"renderKcsSearchResults",value:function(){var e=this,t=this.state,n=t.kcsResults,a=(t.didSearch,0);this.state.resultsRead;return i.a.createElement("span",null,n.map(function(t){var n=t.doc_id;if(t.doc_id){if(a>=5)return null;a++}return i.a.createElement(vr,{onClick:function(){return e.onClickKcsSuggestion(n)},key:n,docId:n,title:t.title,read:e.state.resultsRead[n]})}))}},{key:"onClickKcsSuggestion",value:function(e){this.state.resultsRead[e]=!0,this.setState(function(t){return{resultsRead:dr({},t.resultsRead,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,!0)),visibleKcsDocId:Number(e)}})}},{key:"renderKcsHint",value:function(){return null}},{key:"renderSubmitResults",value:function(){var e=this.state.caseSubmission;return"success"===e.type?i.a.createElement("div",{className:hr("case-submitted")},i.a.createElement("h2",null,"Case ",i.a.createElement(Ae.a,{to:""+Object(h.buildUrl)("/resources/nimble/support/case",e.caseNumber)},"#",e.caseNumber)," was submitted successfully"),i.a.createElement("hr",null),i.a.createElement("p",null,i.a.createElement(Ae.a,{to:"/resources/nimble/support"},"Return to the support portal."))):i.a.createElement("div",{className:hr("case-submitted")},i.a.createElement("h2",null,"We were not able to process your case"),i.a.createElement("hr",null),i.a.createElement("p",null,i.a.createElement(Ae.a,{to:"/resources/nimble/support"},"Return to the support portal.")))}},{key:"cancelCase",value:function(e){if(e.preventDefault(),e.stopPropagation(),confirm("Are you sure you wish to abandon this case?")){var t=Object(ma.buildUrlFromBase)("/resources/nimble/support");window.location.href=t}return!1}},{key:"renderNewCaseForm",value:function(){var e=this,t=this.makeAssetDropdownOptions(),n=!!this.getFormErrors().length;this.state.caseSubmission;var a="P1"===this.state.caseSeverity,r=this.state.busySend;return i.a.createElement("form",{className:hr("measured")},i.a.createElement("h3",null,"Severity"),i.a.createElement("div",{className:hr("severity-buttons")},mr.map(function(t){return i.a.createElement("label",{key:t.value},i.a.createElement("input",{type:"radio",name:"severity",value:t.value,onClick:e.onSeverityChange}),i.a.createElement("span",null,t.label)," - ",t.labelDesc)})),i.a.createElement("h3",null,"Summary"),i.a.createElement(lr,{name:this.inputTypeAheadId,size:"61",placeholder:"Describe the issue",value:this.state.caseTitle,valueList:this.state.kcsSuggestions,onKeyUp:this.eventKeyUp,onKeyDown:this.eventSummaryKeyDown,onInput:this.onSummaryChange,onBlur:this.eventBlur,disabled:a}),i.a.createElement("h3",null,"Description"),i.a.createElement("textarea",{id:this.textareaId,cols:"60",rows:"8",value:this.state.caseDescription,onKeyDown:this.eventDescriptionKeyDown,onChange:this.onDescriptionChange,onBlur:this.eventBlur,disabled:a}),i.a.createElement("h3",null,"Affected Array"),i.a.createElement(Yi.b,{className:hr("assets"),value:this.state.caseArray,options:t,onChange:this.onArrayChange,disabled:a}),i.a.createElement("button",{className:"button",disabled:n||a||r,onClick:this.eventSubmit},"Submit Case"),i.a.createElement("button",{className:"button hollow",onClick:this.cancelCase},"Cancel"))}},{key:"render",value:function(){var e=this,t=this.state.visibleKcsDocId;return i.a.createElement(ya,null,i.a.createElement("div",{className:hr("support-create-case")},i.a.createElement("div",{className:hr("content-inset")},this.state.caseSubmission?this.renderSubmitResults():this.renderNewCaseForm()),i.a.createElement("div",{className:hr("kcs-suggestions")},this.state.caseSubmission?"":this.renderKcsSearchResults())),t&&i.a.createElement(nr,{docId:t,closeModal:function(){return e.setState({visibleKcsDocId:null})}}))}}]),t}();function vr(e){return i.a.createElement("div",{className:e.read?hr("read-suggestion-card"):hr("suggestion-card"),onClick:e.onClick,dangerouslySetInnerHTML:{__html:e.title}})}fr.displayName="SupportCreateCase",vr.displayName="Suggestion",fr.propTypes={arrays:s.a.array,postCaseDetailOkDispatch:s.a.func,getArrays:s.a.func.isRequired};var br=Object(r.connect)(function(e){return dr({},Object(pa.c)(e))},function(e){return Object(bt.bindActionCreators)({getArrays:ha.a,postCaseDetailOkDispatch:jn},e)})(fr);function gr(){return i.a.createElement("div",{className:"case-viewer case-not-found"},i.a.createElement("h3",null,"Sorry, that case was not found."),i.a.createElement("p",null,i.a.createElement(Ae.a,{to:"/resources/nimble/support"},"Return to the support portal.")))}gr.displayName="CaseNotFound";var yr=gr,wr=n(1532),Tr=n.n(wr),Sr=ee.a.bind(Tr.a);function Er(e){var t=e.comment;return i.a.createElement("div",{key:t.id||Ga()(t),className:Sr("comment-item",{"from-nimble":t.fromNimble})},i.a.createElement("div",{className:Sr("attribution")},i.a.createElement("div",{className:Sr("caret")}),i.a.createElement("div",{className:Sr("user-icon")},i.a.createElement("i",{className:"fa fa-user"})),i.a.createElement("span",null,t.createdByName?t.createdByName:t.createdBy.id),i.a.createElement("br",null),i.a.createElement(ni,{date:t.createdDate,format:"M/D/Y h:mm A"})),i.a.createElement("div",{className:Sr("comment-text")},i.a.createElement("p",null,t.commentBody)))}Er.displayName="CommentItem",Er.propTypes={comment:s.a.object};var Cr=Er,xr=n(1533),Dr=n.n(xr),Or=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Nr=ee.a.bind(Dr.a),_r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),Or(t,[{key:"render",value:function(){var e=this.props.comments;return e?e.length?i.a.createElement("div",{className:Nr("case-comments")},e.sort(function(e,t){return Et()(t.createdDate).valueOf()-Et()(e.createdDate).valueOf()}).map(function(e){return i.a.createElement(Cr,{key:e.id,comment:e})})):i.a.createElement("p",null,"No comments posted"):null}}]),t}();_r.displayName="CaseComments",_r.propTypes={comments:s.a.array};var Ar=_r,kr=n(10),Ir=n.n(kr),Pr=n(711),Rr=n.n(Pr),jr=ee.a.bind(Rr.a);function Br(e){var t=e.caption,n=e.children,a=t&&"string"==typeof t;return i.a.createElement("div",{className:jr("nmbl-quicktable")},a?i.a.createElement("div",{className:jr("quicktable-caption")},t):"",n)}Br.displayName="QuickTable",Br.propTypes={caption:s.a.string,children:s.a.node.isRequired};var Vr=Br,Lr=ee.a.bind(Rr.a);function Mr(e,t){return t?i.a.createElement("div",{key:t,className:Lr("qtrc-next")},e):null}function Ur(e){var t=e.columns;return i.a.createElement("div",{className:Lr("quicktable-row")},i.a.createElement("div",{className:Lr("qtrc-first")},t[0]),t.map(Mr))}Ur.displayName="QuickRow",Ur.propTypes={columns:s.a.array.isRequired};var Fr=Ur,Hr=n(1534),qr=n.n(Hr),zr=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Yr=ee.a.bind(qr.a),Gr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),zr(t,[{key:"render",value:function(){var e=this.props.attachments;if(!e)return null;if(!e.length)return i.a.createElement("p",null,"No attachments posted");return i.a.createElement("div",{className:Yr("attachments")},i.a.createElement(Vr,null,i.a.createElement(Fr,{key:"header",className:Yr("header"),columns:["Upload Date","File Name"]}),e.sort(function(e,t){return new Date(t.createdDate)-new Date(e.createdDate)}).map(function(e){return e.ts=Ir()(e.createdDate).format("MM/DD/YYYY hh:mm A Z"),i.a.createElement(Fr,{key:e.id,columns:[e.ts,e.Name]})})))}}]),t}();Gr.displayName="CaseAttachments",Gr.propTypes={attachments:s.a.array};var Wr=Gr,Kr=n(1535),Jr=n.n(Kr),Xr=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Qr=ee.a.bind(Jr.a),Zr=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),Xr(t,[{key:"render",value:function(){var e=this.props.theCase,t=e.id,n=e.rmaLabels,a=e.accountId,r=this.props.userIsInternal;if(!n)return null;if(!n.length)return i.a.createElement("p",null,"No RMA labels available");var o="";return i.a.createElement("div",{className:Qr("rma-labels")},i.a.createElement("div",null,"All historical RMA labels generated are shown, most recent label supersedes duplicates."),i.a.createElement(Vr,null,i.a.createElement(Fr,{key:"header",className:Qr("header"),columns:["Created Date","RMA Label","Component"]}),n.sort(function(e,t){return new Date(t.createdDate)-new Date(e.createdDate)}).map(function(e){return o=r?Object(h.buildUrl)(b.BASE_URL,"api/accounts/"+a+"/cases/"+t+"/rmaLabel?body="+e.Body+"&fileName="+e.Name):Object(h.buildUrl)(b.BASE_URL,"api/account/cases/"+t+"/rmaLabel?body="+e.Body+"&fileName="+e.Name),e.ts=Ir()(e.createdDate).format("MM/DD/YYYY hh:mm A Z"),i.a.createElement(Fr,{key:e.id,columns:[e.ts,i.a.createElement("a",{href:o,download:!0},e.Name),e.description]})})))}}]),t}();Zr.displayName="CaseRmaLabels",Zr.propTypes={rmaLabels:s.a.array};var $r=Zr,eo=n(1536),to=n.n(eo),no=ee.a.bind(to.a);function ao(e){var t=e.name,n=e.children,a=e.text;return i.a.createElement("div",{id:t,className:no("case-section")},i.a.createElement("h2",null,t),i.a.createElement("span",{className:no("sub-text")},a),i.a.createElement("div",{className:no("extend-line")}),i.a.createElement("div",{className:no("child-content")},n))}ao.displayName="CaseSection",ao.propTypes={name:s.a.string,text:s.a.string,children:s.a.node};var io=ao,ro=n(712),oo=n.n(ro),so=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},lo=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),co=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var uo=ee.a.bind(oo.a),po=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),co(t,[{key:"componentWillMount",value:function(){this.props.getArrays()}},{key:"render",value:function(){var e=this.props,t=e.theAsset,n=e.assetId,a=e.serialNumber,r=e.arrays,o=null;if(e.isSupportCaseAccess)return null;if(!r)return i.a.createElement("span",null,"Loading Array: ",n," ... ",i.a.createElement("i",{className:"fa fa-spinner fa-spin"}));if(t?o=t:n&&r?o=r.find(function(e){return e.arrayId===n}):a&&r&&(o=r.find(function(e){return e.arraySn===a})),!o)return i.a.createElement("span",null,"Invalid Array: ",n);var s="n/a";if(o.softwareVersion){var l=o.softwareVersion.split("-");s=lo(l,1)[0]}return i.a.createElement("div",{className:uo("case-panel")},i.a.createElement("div",{className:uo("panel-content")},i.a.createElement(Vr,null,i.a.createElement(Fr,{columns:["Serial No:",i.a.createElement(Ae.a,{to:""+Object(h.buildUrl)("/infrastructure/storage/nimble/arrays/",o.arraySn)},o.arraySn)]}),i.a.createElement(Fr,{columns:["Model:",o.model||"n/a"]}),i.a.createElement(Fr,{columns:["Version:",s]})),i.a.createElement(Vr,null,i.a.createElement(Fr,{columns:["Hostname:",o.hostName||"n/a"]}),i.a.createElement(Fr,{columns:["Group:",o.groupName||"n/a"]})),i.a.createElement(Vr,null,i.a.createElement(Fr,{columns:["Coverage:",o.supportStatus||"n/a"]}))))}}]),t}();po.displayName="PanelArrayMeta",po.propTypes={assetId:s.a.string,serialNumber:s.a.string,theAsset:s.a.object,arrays:s.a.array,getArrays:s.a.func.isRequired,isSupportCaseAccess:s.a.bool};var ho=Object(r.connect)(function(e){return so({},Object(pa.c)(e),{isSupportCaseAccess:Object(Rt.d)(e)})},function(e){return Object(bt.bindActionCreators)({getArrays:ha.a},e)})(po),mo=ee.a.bind(oo.a);function fo(e){var t=e.theCase;return i.a.createElement("div",{className:mo("case-panel")},i.a.createElement("div",{className:mo("panel-content")},i.a.createElement(Vr,null,i.a.createElement(Fr,{columns:["Date Opened",i.a.createElement(ni,{date:t.createdDate,format:"M/D/YYYY h:mm A"})]}),t.closedDate?i.a.createElement(Fr,{columns:["Date Closed",i.a.createElement(ni,{date:t.closedDate,format:"M/D/YYYY h:mm A"})]}):""),i.a.createElement(Vr,null,i.a.createElement(Fr,{columns:["Status",t.status]}),i.a.createElement(Fr,{columns:["Priority",t.priority]}))))}fo.displayName="PanelCaseMeta",fo.propTypes={theCase:s.a.object.isRequired};var vo=fo,bo=n(1537),go=n.n(bo),yo=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var wo=ee.a.bind(go.a),To=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n.state={formBusy:!1},n.textarea=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),yo(t,[{key:"resultCommentPostOk",value:function(e){var t=Kn(e);this.props.theCase.caseLastComment__c=t.createdDate,this.props.theCase.lastUpdatedDate=Et()(t.createdDate).format("YYYYMMDD"),this.props.theCase.lastUpdatedTS=t.createdDate,this.textarea.value="",this.setState({formBusy:!1}),"function"==typeof this.props.onSave&&this.props.onSave.call(null,t)}},{key:"resultCommentPostFail",value:function(){this.setState({formBusy:!1}),console.warn("comment failed to post.")}},{key:"eventSubmitComment",value:function(){var e=this.textarea.value;if(e){var t=function(){var e=sa();return e?{ContactId:e.id,ContactName:e.name}:{ContactId:"internal",ContactName:Object(m.userSelector)(Object(aa.getStore)().getState()).username}}(),n="[user:"+t.ContactId+"("+t.ContactName+")]\n"+e,a=new kn.default;a.set("id",this.props.theCase.id);var i=a.url();E.a.ajax({type:"POST",url:i+"/comments",contentType:"application/json",data:JSON.stringify({commentBody:n})}).then(this.resultCommentPostOk,this.resultCommentPostFail),this.setState({formBusy:!0})}}},{key:"unboundClear",value:function(){this.textarea.value=""}},{key:"render",value:function(){var e=this,t=this.state.formBusy;return i.a.createElement("div",{className:wo("add-comment",{"busy-sending":t})},i.a.createElement("div",{className:wo("textbox-wrapper")},i.a.createElement("textarea",{className:wo("comment-box"),ref:function(t){e.textarea=t},rows:"6"}),t&&i.a.createElement(ke.Spinner,{className:wo("sending")})),i.a.createElement("br",null),i.a.createElement("button",{className:"button",disabled:t,onClick:this.eventSubmitComment},"Post Comment"),i.a.createElement("button",{className:"button hollow",disabled:t,onClick:this.unboundClear},"Clear"))}}]),t}();To.displayName="AddComment",To.propTypes={theCase:s.a.object.isRequired,onSave:s.a.func};var So=To,Eo=n(1538),Co=n.n(Eo),xo=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Do=ee.a.bind(Co.a),Oo=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n.state={formBusy:!1,formBlocked:!0,fileTooBig:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),xo(t,[{key:"attachmentPostOk",value:function(e){document.getElementById("file-chooser").value=null,this.setState({formBusy:!1}),this.setState({formBlocked:!1}),"function"==typeof this.props.onSave&&this.props.onSave.call(null,e)}},{key:"attachmentPostFail",value:function(){this.setState({formBusy:!1}),console.warn("attachment failed to post.")}},{key:"eventAttachDoc",value:function(){var e=document.getElementById("file-chooser").value;if(e){var t=new kn.default;t.set("id",this.props.theCase.id),this.casePath=t.url();e=e.replace(/.*\\/,"");var n=document.getElementById("file-chooser").files[0],a=new FormData;a.append("caseId",this.props.theCase.id),a.append("attachment",n,e),E.a.ajax({type:"POST",url:this.casePath+"/attachment",data:a,contentType:!1,processData:!1}).then(this.attachmentPostOk,this.attachmentPostFail),this.setState({formBlocked:!0,formBusy:!0})}}},{key:"filePicked",value:function(){var e=document.getElementById("file-chooser"),t=e.value;e.files[0].size>25*Math.pow(1024,2)?this.setState({fileTooBig:!0,formBlocked:!0}):t&&this.setState({fileTooBig:!1,formBlocked:!1})}},{key:"render",value:function(){var e=this.state,t=e.formBusy,n=e.formBlocked,a=e.fileTooBig;return i.a.createElement("div",{className:Do("attach-doc")},i.a.createElement("input",{className:Do("btn-file"),name:"file",type:"file",id:"file-chooser",onChange:this.filePicked}),i.a.createElement("button",{className:"button",onClick:this.eventAttachDoc,disabled:n},"Upload"),t&&i.a.createElement(ke.Spinner,null),a&&i.a.createElement("div",{className:Do("big-file")},"File exceeds the 25MB size limit"))}}]),t}();Oo.displayName="AddAttachment",Oo.propTypes={theCase:s.a.object.isRequired,onSave:s.a.func};var No=Oo,_o=n(1539),Ao=n.n(_o),ko=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Io=ee.a.bind(Ao.a),Po=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n.state={formBusy:!1},n.textarea=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),ko(t,[{key:"resultResolutionPostOk",value:function(e){e.bucket="Resolved",e.assetName=this.props.theCase.assetName,e.createdDateOnly=this.props.theCase.createdDateOnly,e.ownerName=this.props.theCase.ownerName,e.comments=this.props.theCase.comments,e.attachments=this.props.theCase.attachments,e.rmaLabels=this.props.theCase.rmaLabels,e.caseLastComment__c=e.createdDate,e.lastUpdatedDate=Et()(e.createdDate).format("YYYYMMDD"),e.lastUpdatedTS=e.createdDate,this.textarea.value="",this.setState({formBusy:!1}),"function"==typeof this.props.onSave&&this.props.onSave.call(null,e)}},{key:"resultResolutionPostFail",value:function(){this.setState({formBusy:!1}),console.warn("resolution failed to post.")}},{key:"eventSubmitResolution",value:function(){var e=this.textarea.value,t=new kn.default;t.set("id",this.props.theCase.id);var n=t.url();E.a.ajax({type:"POST",url:n+"/resolve",contentType:"application/json",data:e}).then(this.resultResolutionPostOk,this.resultResolutionPostFail),this.setState({formBusy:!0})}},{key:"unboundClear",value:function(){this.textarea.value=""}},{key:"render",value:function(){var e=this,t=this.state.formBusy;return i.a.createElement("div",{className:Io("case-resolver",{"busy-sending":t})},i.a.createElement("p",null,"If you wish to close this case, please provide any resolution notes below and submit."),i.a.createElement("div",{className:Io("textbox-wrapper")},i.a.createElement("textarea",{className:Io("resolve-box"),ref:function(t){e.textarea=t},rows:"4"}),t&&i.a.createElement(ke.Spinner,{className:Io("sending")})),i.a.createElement("br",null),i.a.createElement("button",{className:"button",disabled:t,onClick:this.eventSubmitResolution},"Submit Resolution"),i.a.createElement("button",{className:"button hollow",disabled:t,onClick:this.unboundClear},"Clear"))}}]),t}();Po.displayName="CaseResolver",Po.propTypes={theCase:s.a.object.isRequired,onSave:s.a.func};var Ro=Po,jo=n(1540),Bo=n.n(jo),Vo=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Lo=ee.a.bind(Bo.a),Mo=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n.state={busyCloseCase:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),Vo(t,[{key:"commentWasPosted",value:function(e){document.getElementById("Comments").scrollIntoView(!0),this.props.commentDispatch(e)}},{key:"attachmentWasPosted",value:function(e){document.getElementById("Attachments").scrollIntoView(!0),this.props.attachmentDispatch(e)}},{key:"caseWasResolved",value:function(e){var t=e.comments,n=e.attachments,a=e.rmaLabels;this.props.resolveDispatch(e,t,n,a),window.scrollTo(0,0)}},{key:"renderDescription",value:function(){var e=this.props.theCase.description||"No description entered";return i.a.createElement("div",{dangerouslySetInnerHTML:{__html:e}})}},{key:"goToResolve",value:function(){var e=document.getElementsByClassName("resolve-box")[0];e.scrollIntoView(!0),e.focus()}},{key:"goToComment",value:function(){var e=document.getElementsByClassName("comment-box")[0];e.scrollIntoView(!0),e.focus()}},{key:"goToAttachment",value:function(){document.getElementById("Attachments").scrollIntoView(!0)}},{key:"render",value:function(){var e=this.props.theCase,t=!("Closed"!==e.bucket&&"Resolved"!==e.bucket),n=m.AuthorizationEvaluator.evaluate({access:{authorities:m.AUTHORITIES.REALM_INTERNAL}});return i.a.createElement("div",{className:Lo("case-information")},i.a.createElement("div",{className:Lo("case-banner")},i.a.createElement("h4",null,"Case ",e.caseNumber),i.a.createElement("h2",null,e.subject)),i.a.createElement("div",{className:Lo("page-inset")},t||n?"":i.a.createElement("div",{className:Lo("action-set")},i.a.createElement("button",{className:"button hollow",onClick:this.goToComment},i.a.createElement("i",{className:"fa fa-comment-o"})," Comment"),i.a.createElement("button",{className:"button hollow",onClick:this.goToAttachment},i.a.createElement("i",{className:"fa fa-paperclip"})," Attach"),i.a.createElement("button",{className:"button hollow",onClick:this.goToResolve},i.a.createElement("i",{className:"fa fa-handshake-o"})," Resolve")),i.a.createElement(io,null,i.a.createElement(ho,{assetId:e.assetId}),i.a.createElement(vo,{theCase:e})),i.a.createElement(io,{name:"Description"},"description"in e?this.renderDescription():i.a.createElement("p",null,"Loading description....",i.a.createElement("i",{className:"fa fa-spinner fa-spin"}))),i.a.createElement(io,{name:"Comments"},null===e.comments?i.a.createElement("p",null,"Loading comments.... ",i.a.createElement("i",{className:"fa fa-spinner fa-spin"})):i.a.createElement(Ar,{comments:e.comments}),t&&!n&&i.a.createElement("p",null,"Further commenting is not allowed for closed cases."),!t&&!n&&i.a.createElement(So,{theCase:e,onSave:this.commentWasPosted})),i.a.createElement(io,{name:"Attachments",text:"(25MB size limit)"},null===e.attachments?i.a.createElement("p",null,"Loading attachments.... ",i.a.createElement("i",{className:"fa fa-spinner fa-spin"})):i.a.createElement(Wr,{attachments:e.attachments}),t&&!n&&i.a.createElement("p",null,"Adding attachments is not allowed for closed cases."),!t&&!n&&i.a.createElement(No,{theCase:e,onSave:this.attachmentWasPosted})),i.a.createElement(io,{name:"RMA Labels",text:"(may take up to 24 hours to show)"},null===e.rmaLabels?i.a.createElement("p",null,"Loading RMA labels.... ",i.a.createElement("i",{className:"fa fa-spinner fa-spin"})):i.a.createElement($r,{userIsInternal:n,theCase:e})),(!n||n&&t)&&i.a.createElement(io,{name:"Resolution"},t&&i.a.createElement("p",null,e.casePortalResolutionNotes__c||"No resolution notes entered."),!t&&!n&&i.a.createElement(Ro,{theCase:e,onSave:this.caseWasResolved})),i.a.createElement("hr",null),i.a.createElement("p",null,i.a.createElement(Ae.a,{to:"/resources/nimble/support"},"Return to the support portal.")),i.a.createElement("br",null),i.a.createElement("br",null)))}}]),t}();Mo.displayName="CaseInformation",Mo.propTypes={theCase:s.a.object.isRequired,commentDispatch:s.a.func.isRequired,attachmentDispatch:s.a.func.isRequired,resolveDispatch:s.a.func.isRequired};var Uo=Mo,Fo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ho=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var qo=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n.state={kcsModal:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),Ho(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.cases;if(e.match.params.caseNumber){var n=this.props.contact;n&&(n.loaded||n.loading)||this.props.fetchSfdcContact(),t.value?this.requestFullCase():this.props.fetchCases().done(this.requestFullCase)}else console.error("no case number")}},{key:"requestFullCase",value:function(){var e=this.props,t=e.cases,n=e.match.params,a=n.caseNumber,i=n.docId;if(t.loaded){var r=la(t.value,a);r&&(i&&this.setState({kcsModal:{caseId:r.id,docId:Number(i)}}),r.description&&r.$_complete||this.props.fetchCase(r.id))}}},{key:"render",value:function(){var e=this,t=this.props.match,n=this.state.kcsModal,a=t.params.caseNumber,r=this.props.cases;if(!r.loaded)return i.a.createElement(ke.Spinner,null);var o=la(r.value,a);return i.a.createElement(ya,null,o?i.a.createElement(Uo,{theCase:o,commentDispatch:this.props.postCaseCommentOkDispatch,attachmentDispatch:this.props.postCaseAttachmentOkDispatch,resolveDispatch:this.props.postCaseResolveOkDispatch}):i.a.createElement(yr,null),n&&i.a.createElement(nr,Fo({},n,{closeModal:function(){return e.setState({kcsModal:null})}})))}}]),t}();qo.displayName="SupportExamineCase",qo.propTypes={cases:s.a.object,fetchCase:s.a.func,fetchCases:s.a.func,match:s.a.object.isRequired,postCaseCommentOkDispatch:s.a.func,postCaseResolveOkDispatch:s.a.func,postCaseAttachmentOkDispatch:s.a.func,contact:s.a.object,fetchSfdcContact:s.a.func};var zo=Object(te.a)(Object(r.connect)(function(e){return{cases:Object(An.a)(e),contact:Object(ia.a)(e)}},function(e){return Object(bt.bindActionCreators)({fetchCase:Jn,fetchCases:Wn,fetchSfdcContact:ta,postCaseCommentOkDispatch:Bn,postCaseResolveOkDispatch:Ln,postCaseAttachmentOkDispatch:Vn},e)})(qo)),Yo=n(1541),Go=n.n(Yo),Wo=ee.a.bind(Go.a),Ko=function(){return i.a.createElement(ye.a,{className:Wo("container"),title:"Contact Nimble Storage Customer Support"},i.a.createElement("b",null,"For U.S. support:"),i.a.createElement("table",{className:"unstriped"},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"Toll-free:"),i.a.createElement("td",null,"1-877-3NIMBLE (877-364-6253), extension 2")),i.a.createElement("tr",null,i.a.createElement("td",null,"Local:"),i.a.createElement("td",null,"408-432-9600, extension 2")),i.a.createElement("tr",null,i.a.createElement("td",null,"Email:"),i.a.createElement("td",null,"support@nimblestorage.com")))),i.a.createElement("br",null),i.a.createElement("b",null,"For other international support phone numbers: ")," ",i.a.createElement("a",{href:"http://www.nimblestorage.com/support/overview/",rel:"noopener noreferrer",target:"_blank"},"https://www.nimblestorage.com/support/overview/"))},Jo=function(e){var t=e.match,n=e.hasSupportPermission;return i.a.createElement(i.a.Fragment,null,n?i.a.createElement(G.a,null,i.a.createElement(W.a,{path:t.path+"/newcase",render:Object(Z.pageBoundaryRouteRenderer)(br,"Create a case")}),i.a.createElement(W.a,{path:t.path+"/case/:caseNumber/kcs/:docId",render:Object(Z.pageBoundaryRouteRenderer)(zo,"View case")}),i.a.createElement(W.a,{path:t.path+"/case/:caseNumber",render:Object(Z.pageBoundaryRouteRenderer)(zo,"View case")}),i.a.createElement(W.a,{render:Object(Z.pageBoundaryRouteRenderer)(zi,"Support")})):i.a.createElement(Ko,null))};Jo.displayName="SupportRouter",Jo.propTypes={match:s.a.object,hasSupportPermission:s.a.bool};var Xo=Object(u.a)(Object(r.connect)(function(){return{hasSupportPermission:m.AuthorizationEvaluator.evaluate({access:{$or:[{authorities:[m.AUTHORITIES.SUPPORT_CASE]},{permissions:{privilege:m.PRIVILEGES.FEATURE_SUPPORT_CASE_MANAGE,targetType:m.PERMISSION_TARGET.NIMBLE_TENANT,targetId:m.PERMISSION_TARGET.ACTIVE_TARGET_ID}}]}})}})(Jo)),Qo=n(1542),Zo=n.n(Qo),$o=n(1548),es=n.n($o),ts=ee.a.bind(es.a),ns=function(){return i.a.createElement("div",{className:ts("container")},i.a.createElement(ye.a,null,i.a.createElement("h4",null,"The HPE Nimble Storage Virtual Array allows you to run a NimbleOS image within your vCenter environment."),i.a.createElement("div",null,i.a.createElement("p",null,"The latest NimbleOS VM image and README can be downloaded from the ",i.a.createElement(Ae.a,{to:"/resources/nimble/software/NimbleOS/HPE%20Nimble%20Storage%20Virtual%20Array"},"Software Downloads page"),"."),i.a.createElement("p",null,"Documentation for NimbleOS can be accessed via the ",i.a.createElement(Ae.a,{to:"/resources/nimble/docs"},"Documentation page"),"."),i.a.createElement("p",null,"License keys for your Nimble Storage Virtual Array can be managed below."))),i.a.createElement(ye.a,{title:"License Keys"},i.a.createElement(te.b,{createLegacyView:function(e){return new Zo.a({el:e})}})))};ns.displayName="VmarrayLicenseManagementContainer";var as=ns,is=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},rs=[{label:"Support",url:"support",component:Xo,visible:!0,access:{custom:function(){return Jt.default.currentTenantIsNimbleTenant()&&m.AuthorizationEvaluator.evaluate({access:{$or:[{authorities:m.AUTHORITIES.PRODUCT_FAMILY_NIMBLE},{authorities:[m.AUTHORITIES.SUPPORT_CASE]}]}})}}},{label:"Documentation",url:"docs",component:un,visible:!0,access:{authorities:[m.AUTHORITIES.PRODUCT_FAMILY_NIMBLE,m.AUTHORITIES.PRODUCT_FAMILY_STOREONCE,m.AUTHORITIES.PRODUCT_FAMILY_STORESERV]}},{label:"Software Downloads",url:"software",component:bn,visible:!0,access:{custom:function(){return Jt.default.currentTenantIsNimbleTenant()&&m.AuthorizationEvaluator.evaluate({access:{authorities:m.AUTHORITIES.PRODUCT_FAMILY_NIMBLE}})}}},{label:"Virtual Array Licenses",url:"vmarray",component:as,visible:!0,access:{custom:function(){return Jt.default.currentTenantIsNimbleTenant()&&m.AuthorizationEvaluator.evaluate({access:{authorities:[m.AUTHORITIES.VIRTUAL_ARRAY_ACCESS]}})}}},{label:"Validated Configuration Matrix",url:"validated-configuration-matrix",component:Sn,visible:!0,access:{authorities:[m.AUTHORITIES.PRODUCT_FAMILY_NIMBLE,m.AUTHORITIES.REALM_INTERNAL]}},{label:"Audit Report",url:"audit-report",component:_n,visible:!0,access:{custom:function(){return Jt.default.currentTenantIsNimbleTenant()&&m.AuthorizationEvaluator.evaluate({access:m.nimbleThirdPartyPermissionRequestAccess})&&!m.AuthorizationEvaluator.evaluate({access:{authorities:m.AUTHORITIES.ATTRIBUTE_NIMBLE_SUPPORT_PROVIDER}})}}}],os=function(e){var t=e.match,n=e.location;return i.a.createElement(J.a,null,i.a.createElement(J.a.Fixed,null,i.a.createElement(Q.SecondaryNavBar,null,i.a.createElement(Q.Title,{name:"Nimble Storage",className:"align-center"}),m.AuthorizationEvaluator.filter(rs).filter(function(e){return e.visible}).map(function(e){var n=e.label,a=e.url;return i.a.createElement(Q.NavItem,{key:a},i.a.createElement(Y.a,{className:"flex-container align-center flex-dir-column",to:Object(h.buildUrl)(t.url,a)},i.a.createElement(X.StaticBold,{parent:i.a.Fragment},n)))}))),i.a.createElement(J.a.Scrollable,null,i.a.createElement(G.a,null,m.AuthorizationEvaluator.filter(rs).map(function(e){var a=e.url,r=e.component,o=e.label;return i.a.createElement(W.a,{key:a,path:Object(h.buildUrl)(t.path,a),render:"Support"===o?function(e,t){return function(n){return i.a.createElement(e,is({key:t},n))}}(r,n.key):Object(Z.pageBoundaryRouteRenderer)(r,o)})}))))};os.displayName="ResourcesRouter",os.propTypes={match:s.a.object.isRequired,location:s.a.object};var ss=os,ls=[{id:"SuperUser",name:"Super User"},{id:"NoSFDC",name:"Standard User"}];var cs=n(1599),us=n(1601),ds=n(1603),ps=n(173),hs=n.n(ps),ms=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},fs=ee.a.bind(hs.a),vs=function(e){var t=e.input,n=e.type,a=e.meta,r=a.touched,o=a.error;return i.a.createElement("div",null,i.a.createElement("input",ms({},t,{type:n})),r&&o&&i.a.createElement("span",{className:fs("form-error")},o))};vs.displayName="InputWithFeedback",vs.propTypes={input:cs.a.input,type:s.a.string,meta:cs.a.meta};var bs=function(e){var t=e.input,n=e.meta,a=n.touched,r=n.error,o=e.children;return i.a.createElement("div",null,i.a.createElement("select",t,o),a&&r&&i.a.createElement("span",{className:fs("form-error")},r))};bs.displayName="SelectWithFeedback",bs.propTypes={input:cs.a.input,type:s.a.string,meta:cs.a.meta,children:s.a.element};var gs=function(e){var t=e.roles;return i.a.createElement(ds.a,{name:"role",component:bs},t.map(function(e){return i.a.createElement("option",{key:e.id,value:e.id},e.name)}))};gs.displayName="RoleField",gs.propTypes={roles:s.a.array.isRequired};var ys=Object(r.connect)(function(){return{roles:ls}},null)(gs),ws=n(672),Ts=ee.a.bind(hs.a),Ss=function(e){var t=e.user,n=e.changeRole,a=e.handleSubmit,r=e.pristine,o=e.invalid,s=e.closeModal;return i.a.createElement(Wi.Modal,{title:"Change Role",primaryButtonContent:"Submit",disablePrimaryButton:r||o,showCloseIcon:!1,onClickPrimaryButton:a(function(e){var a=e.role;return n({user:t,role:a})}),hide:s,isStoreDriven:!1,isOpen:!0},i.a.createElement("form",{className:Ts("settings-popup")},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"column small-4"},i.a.createElement("label",{htmlFor:"_"},"User")),i.a.createElement("div",{className:"column"},t.login)),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"column small-4"},i.a.createElement("label",{htmlFor:"role"},"Role")),i.a.createElement("div",{className:"column small-10"},i.a.createElement(ys,null)))))};Ss.displayName="ChangeRoleForm",Ss.propTypes={user:s.a.object.isRequired,changeRole:s.a.func.isRequired,handleSubmit:cs.b.handleSubmit,pristine:cs.b.pristine,invalid:cs.b.invalid,closeModal:s.a.bool.isRequired};var Es=Object(r.connect)(function(e,t){return{initialValues:{role:t.user.role}}},{changeRole:function(e){var t=e.user,n=e.role;return function(e){(new ot.default).urlSegment("auth").tenant().urlSegments("users",t.login).patch({role:n}).then(function(t){return e({type:ws.a,success:!0,user:t.data})}).catch(function(n){return e({type:ws.a,success:!1,user:t,error:n.response.data.message})})}}})(Object(us.a)({form:"changeRole"})(Ss)),Cs=ee.a.bind(hs.a),xs=function(e){var t=e.user,n=e.deleteUser,a=e.closeModal;return i.a.createElement(Wi.Modal,{title:"Confirm User Deletion",type:"warning",showCloseIcon:!1,onClickPrimaryButton:function(){return n({user:t})},hide:a,isStoreDriven:!1,isOpen:!0},i.a.createElement("div",{className:Cs("settings-popup")},i.a.createElement("p",null,"Confirm deletion of ",t.login)))};xs.displayName="DeleteUserConfirmation",xs.propTypes={user:s.a.object.isRequired,deleteUser:s.a.func.isRequired,closeModal:s.a.func.isRequired};var Ds=Object(r.connect)(null,{deleteUser:function(e){var t=e.user;return function(e){(new ot.default).urlSegment("auth").tenant().urlSegments("users",t.login).delete().then(function(){return e({type:ws.c,success:!0,user:t})}).catch(function(n){return e({type:ws.c,success:!1,user:t,error:n.response.data.message})})}}})(xs),Os=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Ns=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a)));return c()(r),r.state={modal:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),Os(t,[{key:"changeRole",value:function(e){e.preventDefault(),this.setState({modal:Es})}},{key:"deleteUser",value:function(e){e.preventDefault(),this.setState({modal:Ds})}},{key:"closeModal",value:function(){this.setState({modal:null})}},{key:"render",value:function(){var e=this.state.modal,t=this.props.user;return i.a.createElement(i.a.Fragment,null,function(e){return Object(qa.findWhere)(ls,{id:e})}(t.role).name," (",i.a.createElement("a",{href:"#changeRole",onClick:this.changeRole},"Change")," | ",i.a.createElement("a",{href:"#deleteUser",onClick:this.deleteUser},"Delete"),")",e&&i.a.createElement(e,{user:t,closeModal:this.closeModal}))}}]),t}();Ns.displayName="RoleCell",Ns.propTypes={user:s.a.shape({role:s.a.string.isRequired})},Ns.defaultProps={};var _s=Ns,As=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ks=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Is=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n.state={modal:null},n.config={categories:["default"],columns:[{Header:"Login",accessor:"login",filterable:!0},{Header:"Role",accessor:"role",Cell:function(e){var t=e.original;return i.a.createElement(_s,{user:t})}}]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),ks(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.users,a=t.userName,r=this.state.modal;return i.a.createElement(i.a.Fragment,null,i.a.createElement(gt.ClientControlledTable,{tableId:a+"_NIMBLE_USERS",data:n||[],columns:this.config.columns,categories:this.config.categories}),r&&i.a.createElement(r.type,As({},r,{closeModal:function(){return e.setState({modal:null})}})))}}]),t}();Is.displayName="UserManagementGrid",Is.propTypes={users:s.a.array.isRequired,userName:s.a.string};var Ps=Object(r.connect)(function(e){return{userName:Object(Rt.h)(e).username}})(Is),Rs=ee.a.bind(hs.a),js=function(e){return e&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)?"Invalid email address":void 0},Bs=function(e){var t=e.handleSubmit,n=e.pristine,a=e.invalid,r=e.closeModal;return i.a.createElement(Wi.Modal,{title:"Invite User",primaryButtonContent:"Submit",showCloseIcon:!1,disablePrimaryButton:n||a,onClickPrimaryButton:t,isStoreDriven:!1,isOpen:!0,hide:r},i.a.createElement("form",{className:Rs("settings-popup")},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"column small-4"},i.a.createElement("label",{htmlFor:"_"},"Email")),i.a.createElement("div",{className:"column small-10"},i.a.createElement(ds.a,{name:"login",component:vs,type:"email",validate:js}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"column small-4"},i.a.createElement("label",{htmlFor:"role"},"Role")),i.a.createElement("div",{className:"column small-10"},i.a.createElement(ys,null)))))};Bs.displayName="CreateUserForm",Bs.propTypes={handleSubmit:cs.b.handleSubmit,pristine:cs.b.pristine,invalid:cs.b.invalid,closeModal:s.a.func.isRequired};var Vs=Object(r.connect)(null,{onSubmit:function(e){var t=e.login,n=e.role;return function(e){(new ot.default).urlSegment("auth").tenant().urlSegment("users").post({login:t.toLowerCase(),role:n}).then(function(n){return e({type:ws.b,success:!0,login:t,user:n.data})}).catch(function(n){return e({type:ws.b,success:!1,login:t,error:n.response.data.message})})}}})(Object(us.a)({form:"createUser",initialValues:{role:"NoSFDC"}})(Bs)),Ls=n(728),Ms=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Us=ee.a.bind(hs.a),Fs=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n.state={modalVisible:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),Ms(t,[{key:"componentDidMount",value:function(){this.props.fetchUsers()}},{key:"render",value:function(){var e=this,t=this.props,n=t.loadingUsers,a=t.users;return i.a.createElement(ye.a,{className:Us("user-management","footer-pagination"),title:"User Profiles"},i.a.createElement("p",null,"Users within ",i.a.createElement("strong",null,"your own organization")," can be managed on this page."),i.a.createElement("p",null,"Your organization can grant ",i.a.createElement("strong",null,"read-only")," access to its InfoSight data using the ",i.a.createElement(Ae.a,{to:"/settings/nimble/permissions"},"Third Party Permissions")," page."),i.a.createElement(Ta.a,{onClick:function(){return e.setState({modalVisible:!0})},style:{marginBottom:"20px"}},i.a.createElement("i",{className:"fa fa-plus-circle"})," Invite User"),i.a.createElement(Ps,{loading:n,users:a}),this.state.modalVisible&&i.a.createElement(Vs,{closeModal:function(){return e.setState({modalVisible:!1})}}))}}]),t}();Fs.displayName="UserManagementContainer",Fs.propTypes={fetchUsers:s.a.func.isRequired,loadingUsers:s.a.bool.isRequired,users:s.a.array};var Hs=Object(r.connect)(function(e){return Object(Ls.b)(e)},{fetchUsers:function(){return function(e){var t=Object(P.actionsFor)(ws.d,e),n=t.dispatchStart,a=t.dispatchSuccess,i=t.dispatchError;n(),(new ot.default).urlSegment("auth").tenant().urlSegment("users").get().then(function(e){return e.data}).then(a).catch(i)}},reset:function(){return{type:ws.e}}})(Fs),qs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},zs=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Ys(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gs(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ws(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ks=function(e){var t=e.user,n=e.account,a=e.register;return i.a.createElement("div",null,i.a.createElement("p",null,"A match for ",i.a.createElement("b",null,t.username)," has been found within the HPE Nimble Storage customer database."),i.a.createElement("p",null,"Please click below to associate your InfoSight profile to the ",i.a.createElement("b",null,n.name)," organization."),i.a.createElement(Ta.a,{onClick:a},"Register"))};Ks.displayName="PreRegistration",Ks.propTypes={user:s.a.object,account:s.a.object,register:s.a.func};var Js=function(e){function t(){return Ys(this,t),Gs(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Ws(t,i.a.Component),zs(t,[{key:"componentDidMount",value:function(){window.setTimeout(function(){window.location.replace(Object(ma.buildUrlFromBase)())},5e3)}},{key:"render",value:function(){return i.a.createElement("div",{className:"callout success"},i.a.createElement("h4",null,"Congratulations!  Your HPE Nimble Storage customer profile is now active."),i.a.createElement("p",null,"This page will now be automatically reloaded to enable your updated profile."))}}]),t}();Js.displayName="RegistrationSuccess";var Xs=function(e){var t=e.error;return i.a.createElement("div",{className:"callout error"},i.a.createElement("h4",null,"Your self registration request was unable to be completed"),i.a.createElement("p",null,t),i.a.createElement("p",null,"Please contact HPE Nimble Storage support."))};Xs.displayName="RegistrationError",Xs.propTypes={error:s.a.string};var Qs=function(e){function t(e){Ys(this,t);var n=Gs(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n.state={preRegistration:!0,registrationLoading:null,registrationError:null},n}return Ws(t,a["Component"]),zs(t,[{key:"register",value:function(){var e=this;this.setState({registrationLoading:!0}),(new ot.default).urlSegment("auth/user/register").post().then(function(){e.setState({preRegistration:!1,registrationLoading:!1})}).catch(function(t){e.setState({preRegistration:!1,registrationLoading:!1,registrationError:t.response.data.message})})}},{key:"render",value:function(){var e=this.state,t=e.preRegistration,n=e.registrationLoading,a=e.registrationError;return t?i.a.createElement(Ks,qs({register:this.register},this.props)):i.a.createElement(N.a,{loading:n},a?i.a.createElement(Xs,{error:a}):i.a.createElement(Js,null))}}]),t}();Qs.displayName="SelfRegistrationCapable",Qs.propTypes={user:s.a.object,account:s.a.object};var Zs=Object(r.connect)(function(e){return{user:Object(Rt.h)(e)}},null)(Qs),$s=function(e){var t=e.user,n=e.error;return i.a.createElement("div",null,i.a.createElement("p",null,"Your login ",i.a.createElement("b",null,t.username)," cannot be automatically associated to an HPE Nimble Storage customer account."),i.a.createElement("div",{className:"callout error"},i.a.createElement("h4",null,n)),i.a.createElement("p",null,"Please request that your local InfoSight administrator invite you to join your team’s InfoSight organization. If no one within your organization is already registered for InfoSight, please contact HPE Nimble Storage support to assist with new customer registration."))};$s.displayName="SelfRegistrationIncapable",$s.propTypes={user:s.a.object,error:s.a.string};var el=Object(r.connect)(function(e){return{user:Object(Rt.h)(e)}},null)($s),tl=n(1551),nl=n.n(tl),al=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var il=ee.a.bind(nl.a),rl=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n.state={account:void 0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),al(t,[{key:"componentDidMount",value:function(){this.evaluateSelfRegistrationCapability()}},{key:"evaluateSelfRegistrationCapability",value:function(){var e=this;(new ot.default).urlSegment("auth/user/selfRegistrationCapability").get().then(function(e){return e.data}).then(function(t){return e.setState({account:t})}).catch(function(t){e.setState({account:null,error:t.response.data.message})})}},{key:"render",value:function(){var e=this.state,t=e.account,n=e.error;return i.a.createElement(ye.a,{className:il("container"),title:"Nimble Storage Customer Registration"},i.a.createElement(N.a,{loading:void 0===t},function(){return t?i.a.createElement(Zs,{account:t}):i.a.createElement(el,{error:n})}))}}]),t}();rl.displayName="SelfRegistrationContainer";var ol=rl,sl=n(1552),ll=n.n(sl),cl=n(1572),ul=n.n(cl),dl=ee.a.bind(ul.a),pl=function(e){var t=e.tenant;return i.a.createElement(ye.a,{title:"Third Party Permissions"},i.a.createElement(te.b,{className:dl("container"),createLegacyView:function(e){return new ll.a({el:e,account:t})}}))};pl.displayName="PermissionsContainer",pl.propTypes={tenant:s.a.object};var hl=Object(r.connect)(function(e){return{tenant:Object(m.tenantSelector)(e).tenant}})(pl),ml=n(1573),fl=n(66),vl=n.n(fl),bl=n(240),gl=n.n(bl),yl=ee.a.bind(gl.a),wl=0,Tl=function(e){var t=e.on,n=e.handleChange,a=e.onLabel,r=e.offLabel,o=e.className,s="switch"+wl++;return i.a.createElement("div",{className:ee()(o,yl("switch","small"))},i.a.createElement("input",{className:yl("switch-input"),id:s,type:"checkbox",onChange:n,checked:t}),i.a.createElement("label",{className:yl("switch-paddle"),htmlFor:s},i.a.createElement("span",{className:yl("switch-active")},a),i.a.createElement("span",{className:yl("switch-inactive")},r)))};Tl.displayName="Switch",Tl.propTypes={on:s.a.bool,handleChange:s.a.func,onLabel:s.a.string,offLabel:s.a.string},Tl.defaultProps={onLabel:"On",offLabel:"Off"};var Sl=Tl,El=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Cl=ee.a.bind(gl.a),xl=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),El(t,[{key:"handleChange",value:function(e){this.props.handleChange({arraySn:this.props.arraySn,setting:"realtime",enabled:e.target.checked})}},{key:"renderStatus",value:function(){return i.a.createElement("span",null,this.props.latestDelivery&&Et()(this.props.latestDelivery).fromNow())}},{key:"render",value:function(){return i.a.createElement("div",{className:Cl("switch-with-status")},i.a.createElement(Sl,{handleChange:this.handleChange,on:this.props.enabled}),this.props.enabled&&this.renderStatus())}}]),t}();xl.displayName="RealtimeDeliveryCell";var Dl=xl;xl.propTypes={handleChange:s.a.func.isRequired,arraySn:s.a.string.isRequired,latestDelivery:s.a.any,enabled:s.a.bool};var Ol=n(315),Nl=n.n(Ol),_l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Al=ee.a.bind(gl.a),kl={OK:{isError:!1,description:"Registered",remediation:null},NoVCentersFound:{isError:!0,description:"No vCenters found",remediation:"No vCenters were found.  Please re-register the vCenter plugin using the System Management UI"},OtherCollectionError:{isError:!0,description:"Unable to collect inventory",remediation:"An unexpected error occurred collecting information from vCenter.  Please contact Nimble support"},"<null>":{isError:!0,description:"Not Registered",remediation:"Please register the vCenter plugin using the System Management UI"}},Il=function(e){return i.a.createElement("div",null,i.a.createElement("h5",null,"vCenter Plugin Status: ",i.a.createElement("b",null,e.description)),i.a.createElement("p",null,e.remediation))};Il.displayName="popover";var Pl=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),_l(t,[{key:"handleChange",value:function(e){this.props.handleChange({arraySn:this.props.arraySn,setting:"vmware",enabled:e.target.checked})}},{key:"renderStatus",value:function(){var e=kl[this.props.status||"<null>"],t=Al({fa:!0,"fa-lg":!0,"fa-warning":e.isError,"text-alert":e.isError,"fa-check-circle":!e.isError,"text-success":!e.isError});return i.a.createElement(Nl.a,{popover:Il(e)},i.a.createElement("i",{className:t}))}},{key:"render",value:function(){return i.a.createElement("div",{className:Al("switch-with-status")},i.a.createElement(Sl,{handleChange:this.handleChange,on:this.props.enabled}),this.props.enabled&&this.renderStatus())}}]),t}();Pl.displayName="VmwareContentCell";var Rl=Pl;Pl.propTypes={handleChange:s.a.func.isRequired,arraySn:s.a.string.isRequired,status:s.a.string,enabled:s.a.bool};var jl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Bl=function(e){var t=e.loading,n=e.data,a=e.handleChange,r=e.userName,o=function(e){return{categories:["default"],columns:[{Header:"Array",accessor:"arraySearch",filterable:!0},{Header:"Diagnostics Delivery",accessor:"delivery",headerClassName:"text-center",columns:[{Header:"Heartbeats",accessor:"lastHeartbeat",Cell:function(e){var t=e.original.lastHeartbeat;return t&&Et()(-1*t).fromNow()}},{Header:"Daily",accessor:"lastDaily",Cell:function(e){var t=e.original.lastDaily;return t&&Et()(-1*t).fromNow()}},{Header:"Streaming",accessor:"realtimeSearch",Cell:function(t){var n=t.original,a=n.arraySn,r=n.realtime;return i.a.createElement(Dl,jl({arraySn:a,handleChange:e},r))}}]},{Header:"Diagnostics Content",accessor:"content",headerClassName:"text-center",columns:[{accessor:"vmwareSearch",Header:"VMware",Cell:function(t){var n=t.original,a=n.arraySn,r=n.vmware;return i.a.createElement(Rl,jl({arraySn:a,handleChange:e},r))}}]}]}}(a),s=o.columns,l=o.categories;return i.a.createElement(gt.ClientControlledTable,{tableId:r+"_NIMBLE_TELEMETRY",data:n||[],columns:s,categories:l,loading:t})};Bl.displayName="TelemetrySettingsGrid",Bl.propTypes={data:s.a.array.isRequired,handleChange:s.a.func.isRequired,userName:s.a.string,loading:s.a.bool.isRequired};var Vl=Object(r.connect)(function(e){return{userName:Object(Rt.h)(e).username}})(Bl),Ll=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ml=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Ul=ee.a.bind(gl.a),Fl=function(){return i.a.createElement("div",null,i.a.createElement("p",null,"Diagnostics for Nimble Analytics allows the HPE Nimble Storage array to send periodic health updates to HPE Nimble Storage Support. These updates contain statistics and diagnostic data that summarize the health and performance of the HPE Nimble Storage array : no application data will be sent."),i.a.createElement("p",null,"This page allows you to monitor and configure which diagnostic information is collected and how frequently it is sent back to HPE Nimble Storage Support."),i.a.createElement("div",{className:"callout secondary"},i.a.createElement("b",null,"Notes:"),i.a.createElement("ul",null,i.a.createElement("li",null,"Daily diagnostics delivery must be enabled or disabled on the array itself"),i.a.createElement("li",null,"The Nimble vCenter plugin must be manually registered with your VMware vCenter installation"))))};Fl.displayName="Description";var Hl=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n.state={data:null,modal:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),Ml(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e=this;return(new ot.default).pod().account().urlSegment("telemetry/settings").get().then(function(e){return e.data.map(function(e){return Ll({},e,{lastHeartbeat:e.heartbeat.latestDelivery?-e.heartbeat.latestDelivery:null,lastDaily:e.daily.latestDelivery?-e.daily.latestDelivery:null,arraySearch:e.arrayHostname||e.arraySn,realtimeSearch:(e.realtime.enabled?"on":"off")+" "+(e.realtime.latestDelivery||0),vmwareSearch:(e.vmware.enabled?"on":"off")+" "+("OK"===e.vmware.status?0:1)})})}).then(function(t){e.setState({data:t})})}},{key:"closeModal",value:function(){this.setState({modal:null})}},{key:"handleChange",value:function(e){var t=this,n=this.state.data.find(function(t){return t.arraySn===e.arraySn});"realtime"===e.setting&&!e.enabled&&n.vmware.enabled?this.setState({modal:i.a.createElement(Wi.Modal,{title:"Error",type:"alert",showCloseIcon:!1,hideSecondaryButton:!0,onClickPrimaryButton:function(){return t.applyChange({arrayTelemetrySettings:n,changes:[e]})},isStoreDriven:!1,hide:this.closeModal,isOpen:!0},i.a.createElement("p",null,"VMware telemetry requires that streaming delivery be enabled."),i.a.createElement("p",null,i.a.createElement("b",null,"You must disable VMware telemetry")," prior to disabling streaming delivery"))}):"vmware"===e.setting&&e.enabled&&!n.realtime.enabled?this.setState({modal:i.a.createElement(Wi.Modal,{title:"Notice",type:"info",showCloseIcon:!1,onClickPrimaryButton:function(){t.applyChange({arrayTelemetrySettings:n,changes:[e,{setting:"realtime",enabled:!0}]})},onClickSecondaryButton:qa.noop,isStoreDriven:!1,hide:this.closeModal,isOpen:!0},i.a.createElement("p",null,"VMware telemetry requires that streaming delivery be enabled."),i.a.createElement("p",null,"Streaming delivery ",i.a.createElement("b",null,"will be automatically enabled")," as part of this operation"))}):this.applyChange({arrayTelemetrySettings:n,changes:[e]})}},{key:"applyChange",value:function(e){var t=this,n=e.arrayTelemetrySettings,a=e.changes;this.setState(Object(ml.a)(function(e){var t=e.data.find(function(e){return e.arraySn===n.arraySn});a.forEach(function(n){t[n.setting].enabled=n.enabled,e.modal=null})})),a.forEach(function(e){var a=e.setting,i=e.enabled,r=n.arraySn,o=n.arrayHostname||r;return(new ot.default).pod().account().urlSegments("telemetry/settings",r).patch({setting:a,enabled:i}).then(function(){var e={vmware:"VMware",realtime:"streaming"}[a];fl.FlashNotification.info((i?"Enabled":"Disabled")+" "+e+" telemetry for "+o)}).catch(function(){fl.FlashNotification.error("An internal error occurred while attempting to update telemetry for "+o+". Please contact Nimble Support.",{timeout:"none"}),t.setState({data:null}),t.fetchData()})})}},{key:"render",value:function(){return i.a.createElement(ge.Card,{className:Ul("telemetry-settings")},i.a.createElement(Fl,null),i.a.createElement(Vl,{loading:null==this.state.data,data:this.state.data,handleChange:this.handleChange}),this.state.modal)}}]),t}();Hl.displayName="TelemetrySettingsContainer";var ql=Hl,zl=n(366),Yl=n(668),Gl="assetRegistry/addressManagement/assets",Wl="assetRegistry/addressManagement/addresses";function Kl(){return function(e){var t=Object(P.actionsFor)(Yl.c,e),n=t.dispatchStart,a=t.dispatchSuccess,i=t.dispatchError;n(),(new ot.default).central().account().slash(Wl).get().then(function(e){a(e.data)}).catch(i)}}function Jl(){return function(e){var t=Object(P.actionsFor)(Yl.d,e),n=t.dispatchStart,a=t.dispatchSuccess,i=t.dispatchError;n(),(new ot.default).central().account().slash(Gl).get().then(function(e){a(e.data)}).catch(i)}}function Xl(e){return function(t){var n=Object(P.actionsFor)(Yl.a,t),a=n.dispatchStart,i=n.dispatchSuccess,r=n.dispatchError;return a(),(new ot.default).central().account().slash(Wl).post(e).then(function(e){return i(e.data),e}).catch(r)}}function Ql(e,t){return function(n){var a=Object(P.actionsFor)(Yl.b,n),i=a.dispatchStart,r=a.dispatchSuccess,o=a.dispatchError;return i(),(new ot.default).central().account().slash(Wl,t).patch(e).then(function(e){return r(e.data),e}).catch(function(e){throw o(e),e})}}function Zl(e,t){return function(n){var a=Object(P.actionsFor)(Yl.f,n),i=a.dispatchStart,r=a.dispatchSuccess,o=a.dispatchError;return i(),(new ot.default).central().account().slash(Gl,t).patch(e).then(function(e){r(e.data)}).catch(o)}}function $l(e,t){return function(n){var a=Object(P.actionsFor)(Yl.f,n),i=a.dispatchStart,r=a.dispatchSuccess,o=a.dispatchError;return i(),(new ot.default).central().account().slash(Gl,t).patch({assetPartShipAddressBook__c:e.assetPartShipAddressBook__c}).then(function(e){r(e.data)}).catch(o)}}function ec(e,t){return function(n){var a=Object(P.actionsFor)(Yl.f,n),i=a.dispatchStart,r=a.dispatchSuccess,o=a.dispatchError;return i(),(new ot.default).central().account().slash(Gl,t).patch({assetSameDayPartDeliveryPreference__c:e.assetSameDayPartDeliveryPreference__c}).then(function(e){r(e.data)}).catch(o)}}function tc(e){return function(t){var n=Object(P.actionsFor)(Yl.g,t),a=n.dispatchStart,i=n.dispatchSuccess,r=n.dispatchError;return a(),(new ot.default).central().account().slash(Gl,e).patch({}).then(function(e){i(e.data)}).catch(r)}}var nc=n(241),ac=n(357),ic=(n(358),["Afghanistan","Albania","Algeria","Andorra","Angola","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei Darussalam","Bulgaria","Burkina Faso","Cambodia","Cameroon","Canada","Central African Republic","Chile","China","Colombia","Cook Islands","Costa Rica","Croatia","Cyprus","Czech Republic","Denmark","Dominican Republic","Dutch Antilles","Ecuador","Egypt","El Salvador","Estonia","Ethiopia","Falkland Islands","Finland","France","Georgia","Germany","Ghana","Gibraltar","Greece","Guatemala","Hong Kong","Hungary","Iceland","India","Indonesia","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kuwait","Latvia","Lebanon","Lithuania","Luxembourg","Macedonia","Malawi","Malaysia","Mali","Malta","Mauritius","Mayotte","Mexico","Morocco","Myanmar","Namibia","Netherlands","New Caledonia","New Zealand","Nigeria","Norway","Oman","Pakistan","Palestine","Panama","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Samoa","Saudi Arabia","Senegal","Serbia and Montenegro","Singapore","Slovakia","Slovenia","South Africa","South Korea","Spain","Sri Lanka","Sweden","Switzerland","Taiwan","Thailand","Trinidad and Tobago","Tunisia","Turkey","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Venezuela","Vietnam","Yemen","Zambia"]),rc=n(137),oc=n.n(rc),sc=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var lc=ee.a.bind(oc.a),cc=Object(nc.b)({validate:function(e){var t={};return e.description||(t.description="is required"),e.Install_Street1__c||(t.Install_Street1__c="is required"),e.Install_City__c||(t.Install_City__c="is required"),e.Install_State_Province__c||(t.Install_State_Province__c="is required"),e.Install_Zip_Code__c||(t.Install_Zip_Code__c="is required"),e.Install_Country__c||(t.Install_Country__c="is required"),t}}),uc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),sc(t,[{key:"componentDidMount",value:function(){this.props.validateForm()}},{key:"renderField",value:function(e,t){var n=this.props,a=n.touched,r=(n.dirty,n.errors),o=(n.handleBlur,n.handleChange),s=n.values;return i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:e,className:lc("form-label",r[e]&&a[e]?"error":null)},t,r[e]&&a[e]&&i.a.createElement("span",null," ",r[e])),i.a.createElement(nc.a,{id:e,name:e,type:"text",onChange:o,value:s[e],className:r[e]&&a[e]?"form-control error":"form-control"}))}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.values,a=e.touched,r=e.closeModal,o=(e.dirty,e.errors),s=(e.handleBlur,e.handleChange,e.setFieldValue),l=e.setTouched,c=e.editAddress,u=e.relatedAssets,d=void 0===t?"Create New Address":"Edit Address";return i.a.createElement(Wi.Modal,{size:"tiny",type:"primary",hideModalOnPrimaryButtonClick:!0,hideModalOnSecondaryButtonClick:!0,primaryButtonContent:"Save",secondaryButtonContent:"Cancel",disablePrimaryButton:Object.keys(o).length>0,title:d,onClickPrimaryButton:function(){c(n,t)},onClickSecondaryButton:!0,bodyClassName:lc("body"),footerClassName:lc("footer"),hide:r},i.a.createElement("div",{className:lc("addressDetailForm")},i.a.createElement("form",{className:"form-horizontal"},this.renderField("description","Description"),this.renderField("Install_Street1__c","Street 1"),this.renderField("Install_Street2__c","Street 2"),this.renderField("Install_City__c","City"),this.renderField("Install_State_Province__c","State/Province"),this.renderField("Install_Zip_Code__c","Postal Code"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"Install_Country__c",className:lc("form-label",o.Install_Country__c&&a.Install_Country__c?"error":null)},"Country",o.Install_Country__c&&a.Install_Country__c&&i.a.createElement("span",null," ",o.Install_Country__c)),i.a.createElement(nc.a,{component:ac.a,id:"Install_Country__c",name:"Install_Country__c",multi:!1,clearable:!1,className:o.Install_Country__c&&a.Install_Country__c?"form-control error":"form-control",options:ic.map(function(e){return{label:e,value:e}}),onChange:function(e){s("Install_Country__c",e.value)},onClose:function(e){l(Object.assign({Install_Country__c:!0},a))},value:n.Install_Country__c}))),u&&i.a.createElement("div",null,i.a.createElement("hr",null),i.a.createElement("h2",null,i.a.createElement("b",null,"Important:")," Editing this entry will change the address of the following assets"),i.a.createElement("ul",null,u.map(function(e){return i.a.createElement("li",null,e.name)})))))}}]),t}();uc.displayName="AddressDetailForm";var dc=cc(uc),pc=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function hc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function fc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var vc=ee.a.bind(oc.a),bc=Object(nc.b)({handleSubmit:function(e,t){t.setSubmitting},validate:function(e,t){var n={};return e.addressId||(n.addressId="is required"),t.onValidationResult&&!t.hasDoneInitialValidation&&t.onValidationResult(n),n}}),gc=function(e){function t(){return hc(this,t),mc(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return fc(t,a["Component"]),pc(t,[{key:"componentDidMount",value:function(){this.props.validateForm()}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.title,a=e.values,r=e.addressOptions,o=e.addressUpdating,s=e.touched,l=(e.dirty,e.errors),c=(e.handleChange,e.handleBlur,e.handleSubmit),u=(e.handleReset,e.setFieldValue),d=e.setFieldTouched,p=(e.isSubmitting,e.onFieldChanged),h=e.onEdit,m=Object.keys(l).length>0||o||a.addressId&&a.addressId.value&&a.addressId.value.newAddress;return i.a.createElement("form",{onSubmit:c},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"column medium-18"},i.a.createElement(yc,{title:n,id:t,value:a.addressId,options:r,onChange:function(e,n){u(e,n),p(e,n.value,t)},onBlur:d,error:l.addressId,touched:s.addressId})),i.a.createElement("div",{className:"column medium-6"},i.a.createElement("button",{disabled:m,className:vc("button","expanded","edit",m?"disabled":""),onClick:h},i.a.createElement("i",{className:"fa fa-edit fa-lg"}),i.a.createElement("span",null," Edit")))))}}]),t}();gc.displayName="AddressForm";var yc=function(e){function t(e){hc(this,t);var n=mc(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n}return fc(t,a["Component"]),pc(t,[{key:"handleChange",value:function(e){this.props.onChange("addressId",e)}},{key:"handleBlur",value:function(){this.props.onBlur("addressId",!0)}},{key:"render",value:function(){var e=this.props.error;return i.a.createElement("div",{className:e?vc("error"):""},i.a.createElement("label",{htmlFor:this.props.id},this.props.title," ",e),i.a.createElement(ac.a,{id:this.props.id,placeholder:"Select an address...",options:this.props.options,multi:!1,clearable:!1,onChange:this.handleChange,onBlur:this.handleBlur,value:this.props.value}))}}]),t}();yc.displayName="AddressSelect";var wc=bc(gc),Tc=ee.a.bind(oc.a),Sc=Object(nc.b)({handleSubmit:function(){}}),Ec=function(e){var t=e.id,n=(e.values,e.assetData),a=(e.touched,e.dirty,e.errors,e.handleChange,e.handleBlur,e.handleSubmit),r=(e.handleReset,e.setFieldValue,e.setFieldTouched,e.isSubmitting,e.onConfirm),o=n.Install_Street1__c||n.Install_City__c||n.Install_State_Province__c||n.Install_Zip_Code__c,s=za.a.contains(["4HR","4ON"],n.Support_Level__c),l=n.assetPartShipLastValidatedByInfo__c,c=n.assetPartShipLastValidatedDatetime__c,u=n.assetSameDayPartDeliveryPreference__c,d=n.assetPartShipAddressBook__c,p=void 0,h=void 0;if(c&&(!s||s&&u)&&d){var m=Et()(Date.now()).diff(c,"months");p=m>6?i.a.createElement("i",{className:"fa fa-times"}):m>5?i.a.createElement("i",{className:"fa fa-info-circle"}):i.a.createElement("i",{className:"fa fa-check-circle"}),h=i.a.createElement("span",null,"Last confirmed",i.a.createElement("br",null),(l?" by "+l:"")+" on "+Et()(c).format("ll")+".")}else p=i.a.createElement("i",{className:"fa fa-times-circle"}),h="Please confirm your address";return i.a.createElement("form",{onSubmit:a,id:t},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"column medium-16"},i.a.createElement("label",{className:Tc("confirmation")},p," ",h)),i.a.createElement("div",{className:"column medium-8"},i.a.createElement("button",{className:Tc("button","expanded"),onClick:r,disabled:null===n.assetPartShipAddressBook__c||null===n.assetSameDayPartDeliveryPreference__c||null===n.assetInstallAddressBook__c&&!o},l?"Confirm Again":"Confirm"))))};Ec.displayName="AddressValidationForm";var Cc=Sc(Ec),xc={displayName:{"SAME-DAY-10: Always deliver (site is manned 24x7)":"Always deliver (24/7 receiving capabilities)","SAME-DAY-20: Deliver only during business hours (9am to 5pm asset time)":"Only deliver during business hours","SAME-DAY-30: Always call customer first":"Contact me prior to shipment"},premiumDeliveryOptions:{"SAME-DAY-20: Deliver only during business hours (9am to 5pm asset time)":"Only deliver during business hours","SAME-DAY-30: Always call customer first":"Contact me prior to shipment"},tooltipText:{SLA:"Delivery preferences are selectable for assets with 4-hour delivery advanced replacement Service Level Agreements. These delivery preferences apply to automated shipments for hard disk drives, solid state drives, and power supplies when the hardware issue is detected by the Nimble Array and a support case is automatically opened. They do not apply to live troubleshooting scenarios and can be overridden at any time.","SAME-DAY-10: Always deliver (site is manned 24x7)":"Nimble will automatically ship to your preferred shipping address with 4 hour delivery.","SAME-DAY-20: Deliver only during business hours (9am to 5pm asset time)":"Nimble will automatically ship to your preferred shipping address with 4 hour delivery if the expected delivery time is within local business hours. If the part is not expected to arrive within local business hours, Nimble will ship the part as next day delivery.","SAME-DAY-30: Always call customer first":"Nimble support will contact you via phone or email prior to shipping any replacement part."}},Dc=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Oc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ac=ee.a.bind(oc.a),kc=Object(nc.b)({validate:function(e,t){var n={};return e.assetSameDayPartDeliveryPreference__c||(n.addressId="is required"),t.onValidationResult&&!t.hasDoneInitialValidation&&t.onValidationResult(n),n}}),Ic=function(e){function t(e){Oc(this,t);var n=Nc(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n}return _c(t,a["Component"]),Dc(t,[{key:"handleChange",value:function(e){this.props.onChange("assetSameDayPartDeliveryPreference__c",e.value)}},{key:"handleBlur",value:function(){this.props.onBlur("assetSameDayPartDeliveryPreference__c",!0)}},{key:"render",value:function(){return i.a.createElement(ac.a,{id:this.props.id,placeholder:"Select a delivery preference...",options:this.props.options,multi:!1,clearable:!1,onChange:this.handleChange,onBlur:this.handleBlur,value:this.props.value})}}]),t}();Ic.displayName="DeliveryPreferenceSelect";var Pc=function(e){function t(e){Oc(this,t);var n=Nc(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n}return _c(t,a["Component"]),Dc(t,[{key:"componentDidMount",value:function(){this.props.validateForm()}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.title,a=e.assetData,r=e.values,o=e.touched,s=(e.dirty,e.errors),l=(e.handleChange,e.handleBlur,e.handleSubmit),c=(e.handleReset,e.setFieldValue),u=e.setFieldTouched,d=(e.isSubmitting,e.onFieldChanged),p=r.assetSameDayPartDeliveryPreference__c,h=za.a.contains(["4HR","4ON"],a.Support_Level__c),m=[];return p||m.push({label:"Select a delivery preference...",value:""}),h?za.a.each(za.a.keys(xc.displayName),function(e){m.push({label:xc.displayName[e],value:e})}):za.a.each(za.a.keys(xc.premiumDeliveryOptions),function(e){m.push({label:xc.premiumDeliveryOptions[e],value:e})}),i.a.createElement("div",{className:s.addressId?Ac("error"):""},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"column medium-14"},i.a.createElement("form",{onSubmit:l},i.a.createElement("div",{className:Ac("sla")},i.a.createElement("i",{className:"fa fa-info-circle"})," SLA: ",a.SLA__c),i.a.createElement("label",{htmlFor:t},"Delivery Preference ",s.addressId),i.a.createElement(Ic,{title:n,id:t,value:r.assetSameDayPartDeliveryPreference__c,options:m,onChange:function(e,n){c(e,n),d(e,n,t)},onBlur:u,error:s.addressId,touched:o.addressId})))))}}]),t}();Pc.displayName="DeliveryPreferenceForm";var Rc=kc(Pc),jc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Bc=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Vc=ee.a.bind(oc.a),Lc=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n.state={editAddressDetails:null,newAddressDetails:null,hasInstallAddressIssue:!1,hasRmaAddressIssue:!1,hasDeliveryPrefIssue:!1,hasDoneInitialValidationDeliveryPref:!1,hasDoneInitialValidationRmaAddress:!1,hasDoneInitialValidationInstallAddress:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),Bc(t,[{key:"getAssetDef",value:function(e){var t=this.props.address.addressCollection.findIndex(function(t){return t.id===e}),n=this.props.address.addressCollection[t];return{Install_Street1__c:n.abStreet1__c,Install_Street2__c:n.abStreet2__c,Install_City__c:n.abCity__c,Install_State_Province__c:n.abStateProvince__c,Install_Zip_Code__c:n.abPostalCode__c,Install_Country__c:n.abCountry__c}}},{key:"getMatchingAddressId",value:function(e){var t=this.props.address.addressCollection.find(function(t){return e.Install_Street1__c===t.abStreet1__c&&null!==e.Install_Street1__c&&e.Install_Street2__c===t.abStreet2__c&&e.Install_City__c===t.abCity__c&&e.Install_State_Province__c===t.abStateProvince__c&&e.Install_Zip_Code__c===t.abPostalCode__c});return t?t.id:null}},{key:"openAddressEditForm",value:function(e,t,n){e?this.setState({editAddressDetails:{asset:e,assetId:t}}):this.setState({newAddressDetails:n})}},{key:"render",value:function(){var e=this,t=this.props,n=t.asset,a=t.address;if(!a||!a.assetCollection)return null;var r=n.System_Name__c&&n.name?n.System_Name__c+" ("+n.name+")":n.System_Name__c||n.name,o=i.a.createElement(Ae.a,{to:"/infrastructure/storage/nimble/arrays/"+n.serialNumber},r),s=n.Install_Street1__c||n.Install_City__c||n.Install_State_Province__c||n.Install_Zip_Code__c,l=this.props.address.assetCollection.filter(function(e){return e.assetPartShipAddressBook__c===n.assetPartShipAddressBook__c}),c=this.props.address.addressCollection.filter(function(e){return e.id===n.assetPartShipAddressBook__c})[0],u=c&&(c.abStreet1__c||c.abCity__c||c.abStateProvince__c||c.abPostalCode__c);n.assetInstallAddressBook__c=this.getMatchingAddressId(n);var d=this.props.address.addressCollection.map(function(e){return{label:e.abDescription__c,value:e.id}});return d.unshift({label:"Add a new address...",value:{newAddress:!0}}),i.a.createElement("div",{className:ee()("column small-24 medium-12 large-8",Vc("equalHeight")),style:{order:this.state.hasDeliveryPrefIssue||this.state.hasInstallAddressIssue||this.state.hasRmaAddressIssue?-1:1}},i.a.createElement(ye.a,{title:i.a.createElement("div",null,i.a.createElement("h2",{className:Vc("addressCard")},o),n.assetArenaProductCode__c),className:ee()("flex-container","flex-dir-column",Vc("cardAddress"))},i.a.createElement("div",{className:Vc("addressDisplay")},i.a.createElement(Rc,{id:n.id+"_delivery_pref",assetData:n,assetSameDayPartDeliveryPreference__c:n.assetSameDayPartDeliveryPreference__c,onFieldChanged:function(t,a){e.props.setDeliveryPreference({assetSameDayPartDeliveryPreference__c:a},n.id).then(function(){vl.a.success("Updated delivery preference for: "+r)}).catch(function(e){console.error("Edit address fail",e),vl.a.error("Unable to update delivery preference for: "+r)})},hasDoneInitialValidation:this.state.hasDoneInitialValidationDeliveryPref,onValidationResult:function(t){Object.keys(t).length?e.setState({hasDeliveryPrefIssue:!0}):e.setState({hasDeliveryPrefIssue:!1}),e.setState({hasDoneInitialValidationDeliveryPref:!0})}})),i.a.createElement("div",{className:Vc("addressDisplay")},i.a.createElement(Cc,{id:n.id+"_address_validation",assetData:n,onConfirm:function(){e.props.validateAddress(n.id).then(function(){vl.a.success("Address confirmed for: "+r)}).catch(function(e){console.error("Edit delivery preference fail",e),vl.a.error("Unable to confirm address for: "+r)})}}),i.a.createElement("hr",{className:Vc("card")})),i.a.createElement("div",{className:Vc("addressDisplay")},i.a.createElement(wc,{id:n.id+"_install",title:"Install Address",addressOptions:d,addressId:n.assetInstallAddressBook__c||s,onFieldChanged:function(t,a){if(a&&a.newAddress)e.openAddressEditForm(null,null,"INSTALL_ADDRESS");else{var i=a,o=e.getAssetDef(i);e.setState({installAddressUpdating:!0}),e.props.editAsset(o,n.id).then(function(){vl.a.success("Updated install address for: "+r),e.setState({installAddressUpdating:!1})}).catch(function(e){console.error("Edit address fail",e),vl.a.error("Unable to update install address for: "+r)})}},onEdit:function(){if(n.assetInstallAddressBook__c){var t=e.props.address.addressCollection.find(function(e){return e.id===n.assetInstallAddressBook__c});n.description=t.abDescription__c}e.openAddressEditForm(n,n.id)},hasDoneInitialValidation:this.state.hasDoneInitialValidationInstallAddress,addressUpdating:this.state.installAddressUpdating,onValidationResult:function(t){Object.keys(t).length?e.setState({hasInstallAddressIssue:!0}):e.setState({hasInstallAddressIssue:!1}),e.setState({hasDoneInitialValidationInstallAddress:!0})}}),i.a.createElement("div",null,s&&i.a.createElement(N.a,{loading:this.state.installAddressUpdating},i.a.createElement("div",{className:Vc("addressText")},n.Install_Street1__c," ",i.a.createElement("br",null),n.Install_Street2__c,n.Install_Street2__c?i.a.createElement("br",null):null,n.Install_City__c," ",n.Install_State_Province__c," ",n.Install_Zip_Code__c," ",i.a.createElement("br",null),n.Install_Country__c)),i.a.createElement("hr",{className:Vc("card")}))),i.a.createElement("div",{className:Vc("addressDisplay")},i.a.createElement(wc,{id:n.id+"_shipping",title:"RMA Part Delivery Address",addressOptions:d,addressId:u?c.id:null,onFieldChanged:function(t,a){a&&a.newAddress?e.openAddressEditForm(null,null,"DELIVERY_ADDRESS"):(e.setState({deliveryAddressUpdating:!0}),e.props.setDeliveryAddress({assetPartShipAddressBook__c:a},n.id).then(function(){vl.a.success("Updated RMA address for: "+r),e.setState({deliveryAddressUpdating:!1})}).catch(function(e){console.error("Edit address fail",e),vl.a.error("Unable to update RMA address for: "+r)}))},onEdit:function(){e.openAddressEditForm({description:c.abDescription__c,Install_Street1__c:c.abStreet1__c,Install_Street2__c:c.abStreet2__c,Install_City__c:c.abCity__c,Install_State_Province__c:c.abStateProvince__c,Install_Zip_Code__c:c.abPostalCode__c,Install_Country__c:c.abCountry__c,assetPartShipAddressBook__c:c.id})},hasDoneInitialValidation:this.state.hasDoneInitialValidationRmaAddress,addressUpdating:this.state.deliveryAddressUpdating,onValidationResult:function(t){Object.keys(t).length?e.setState({hasRmaAddressIssue:!0}):e.setState({hasRmaAddressIssue:!1}),e.setState({hasDoneInitialValidationRmaAddress:!0})}})),u&&i.a.createElement(N.a,{loading:this.state.deliveryAddressUpdating},i.a.createElement("div",{className:Vc("addressDisplay")},i.a.createElement("div",{className:Vc("addressText")},c.abStreet1__c," ",i.a.createElement("br",null),c.abStreet2__c,c.abStreet2__c?i.a.createElement("br",null):null,c.abCity__c," ",c.abStateProvince__c," ",c.abPostalCode__c," ",i.a.createElement("br",null),c.abCountry__c)))),this.state.newAddressDetails&&i.a.createElement(dc,{editAddress:function(t){var a={abDescription__c:t.description,abStreet1__c:t.Install_Street1__c,abStreet2__c:t.Install_Street2__c,abCity__c:t.Install_City__c,abStateProvince__c:t.Install_State_Province__c,abPostalCode__c:t.Install_Zip_Code__c,abCountry__c:t.Install_Country__c},i=e.props.addAddress(a),o=e.state.newAddressDetails;i.then(function(t){var a=t.data.id,i=void 0;if("INSTALL_ADDRESS"===o){var r=a,s=e.getAssetDef(r);i=e.props.editAsset(s,n.id)}else"DELIVERY_ADDRESS"===o&&(i=e.props.setDeliveryAddress({assetPartShipAddressBook__c:a},n.id));return i}).then(function(){vl.a.success("Updated address for: "+r)}).catch(function(e){console.error("Edit address fail",e),vl.a.error("Unable to update address for: "+r)})},closeModal:function(){return e.setState({newAddressDetails:null})}}),this.state.editAddressDetails&&i.a.createElement(dc,jc({id:this.state.editAddressDetails.asset.assetPartShipAddressBook__c,relatedAssets:this.state.editAddressDetails.assetId?null:l,editAddress:function(t){var a=e.state.editAddressDetails.assetId,i=[];if(a){var o={};["contactId","assetPartShipAddressBook__c","assetSameDayPartDeliveryPreference__c","assetPartShipLastValidatedDatetime__c","Install_Street1__c","Install_Street2__c","Install_City__c","Install_State_Province__c","Install_Zip_Code__c","Install_Country__c"].forEach(function(e){return o[e]=t[e]}),i.push(e.props.editAsset(o,a))}var s=a?n.assetInstallAddressBook__c:n.assetPartShipAddressBook__c;if(s){var l={abDescription__c:t.description,abStreet1__c:t.Install_Street1__c,abStreet2__c:t.Install_Street2__c,abCity__c:t.Install_City__c,abStateProvince__c:t.Install_State_Province__c,abPostalCode__c:t.Install_Zip_Code__c,abCountry__c:t.Install_Country__c};i.push(e.props.editAddress(l,s))}Promise.all(i).then(function(){vl.a.success("Updated address for: "+r)}).catch(function(e){console.error("Edit address fail",e),vl.a.error("Unable to update address for: "+r)})},closeModal:function(){return e.setState({editAddressDetails:null})}},this.state.editAddressDetails.asset)))}}]),t}();Lc.displayName="AssetCard",Lc.propTypes={asset:s.a.object,arrays:s.a.arrayOf(s.a.object),address:s.a.object,addAddress:s.a.func,editAddress:s.a.func,editAsset:s.a.func,setDeliveryPreference:s.a.func,setDeliveryAddress:s.a.func,validateAddress:s.a.func};var Mc=Object(r.connect)(function(e){return jc({},Object(zl.a)(e),Object(zl.b)(e),Object(pa.c)(e))},function(e){return Object(bt.bindActionCreators)({addAddress:Xl,editAddress:Ql,editAsset:Zl,setDeliveryPreference:ec,setDeliveryAddress:$l,validateAddress:tc},e)})(Lc),Uc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Fc=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Hc=ee.a.bind(oc.a),qc=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n.state={searchText:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),Fc(t,[{key:"componentDidMount",value:function(){this.load()}},{key:"onChangeAssetSearch",value:function(e){this.setState({searchText:e.target.value})}},{key:"onClearAssetSearch",value:function(){this.setState({searchText:""})}},{key:"load",value:function(){this.props.address.loadingAddressCollection||this.props.address.loadedAddressCollection||this.props.fetchAddresses(),this.props.address.loadingAssetCollection||this.props.address.loadedAssetCollection||this.props.fetchAssets()}},{key:"searchFilter",value:function(e){var t=this.state.searchText;if(!t)return!0;return["System_Name__c","name","serialNumber","ContactEmail__c","Install_Street1__c","Install_Street2__c","Install_City__c","Install_State_Province__c","Install_Zip_Code__c","Install_Country__c","SLA__c","Support_Level__c","assetArenaProductCode__c"].some(function(n){return!!e[n]&&-1!==e[n].indexOf(t)})}},{key:"render",value:function(){return i.a.createElement(N.a,{loading:this.props.address.loadingAddressCollection||this.props.address.loadingAssetCollection},i.a.createElement("div",{className:Hc("assetRegistry")},i.a.createElement("div",{className:ee()("row expanded")},i.a.createElement("div",{className:"column small-12 medium-10 large-8"},i.a.createElement("div",{className:Hc("search-container")},i.a.createElement("div",{className:Hc("search-icon-container")},i.a.createElement("label",{htmlFor:"asset-search",className:Hc("search-icon","search-icon-inline")},"Search ",i.a.createElement("i",{className:"fa fa-search"}))),i.a.createElement("div",{className:Hc("search-input-container")},i.a.createElement("input",{id:"asset-search",className:Hc("search"),type:"text",autoFocus:!0,onChange:this.onChangeAssetSearch,value:this.state.searchText}),i.a.createElement("button",{className:Hc("cancel-search"),onClick:this.onClearAssetSearch},"×"))))),i.a.createElement("div",{className:ee()("row expanded",Hc("assetRegistry"))},this.props.address.assetCollection&&this.props.address.addressCollection&&this.props.address.assetCollection.filter(function(e){return"VM Image"!==e.Order_Type__c}).filter(this.searchFilter).map(function(e){return i.a.createElement(Mc,{key:e.id,asset:e})}))))}}]),t}();qc.displayName="AssetRegistry",qc.propTypes={fetchAddresses:s.a.func,fetchAssets:s.a.func,address:s.a.object};var zc=Object(r.connect)(function(e){return Uc({},Object(zl.a)(e),Object(zl.b)(e))},function(e){return Object(bt.bindActionCreators)({fetchAddresses:Kl,fetchAssets:Jl},e)})(qc),Yc=[{label:"Customer Registration",url:"registration",component:ol,access:{authorities:{$and:[m.AUTHORITIES.SITE_ACCESS,{$not:[m.AUTHORITIES.PRODUCT_FAMILY_NIMBLE]}]}}},{label:"Users",url:"users",component:Hs,access:{custom:function(){return Jt.default.currentTenantIsNimbleTenant()&&m.AuthorizationEvaluator.evaluate(m.nimbleTenantAdminAccess)}}},{label:"Permissions",url:"permissions",component:hl,access:{custom:function(){return Jt.default.currentTenantIsNimbleTenant()&&m.AuthorizationEvaluator.evaluate({access:m.nimbleThirdPartyPermissionRequestAccess})&&!m.AuthorizationEvaluator.evaluate({access:{authorities:m.AUTHORITIES.ATTRIBUTE_NIMBLE_SUPPORT_PROVIDER}})}}},{label:"Telemetry",url:"telemetry",component:ql,access:{custom:function(){return Jt.default.currentTenantIsNimbleTenant()&&m.AuthorizationEvaluator.evaluate(m.nimbleTenantAdminAccess)}}},{label:"Asset Registry",url:"assetRegistry",component:zc,access:{custom:function(){return Jt.default.currentTenantIsNimbleTenant()&&m.AuthorizationEvaluator.evaluate({access:{$or:[m.nimbleTenantAdminAccess,{authorities:m.AUTHORITIES.ADDRESS_ADMIN}]}})}}}],Gc=function(e){var t=e.match;return i.a.createElement(J.a,null,i.a.createElement(J.a.Fixed,null,i.a.createElement(Q.SecondaryNavBar,null,i.a.createElement(Q.Title,{name:"Nimble Storage",className:"align-center"}),m.AuthorizationEvaluator.filter(Yc).map(function(e){var n=e.label,a=e.url;return"users"!==a&&i.a.createElement(Q.NavItem,{key:a},i.a.createElement(Y.a,{className:"flex-container align-center flex-dir-column",to:Object(h.buildUrl)(t.url,a)},i.a.createElement(X.StaticBold,{parent:i.a.Fragment},n)))}))),i.a.createElement(J.a.Scrollable,null,i.a.createElement(G.a,null,m.AuthorizationEvaluator.filter(Yc).map(function(e){var n=e.url,a=e.label,r=e.component;return i.a.createElement(W.a,{key:n,path:Object(h.buildUrl)(t.path,n),render:Object(Z.pageBoundaryRouteRenderer)(r,a)})}))))};Gc.displayName="SettingsRouter",Gc.propTypes={match:s.a.object.isRequired};var Wc=Gc,Kc=n(29),Jc=n(1575),Xc=n.n(Jc),Qc=(n(1587),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}());var Zc=ee.a.bind(rn.a),$c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),Qc(t,[{key:"componentWillUnmount",value:function(){if(this.view){var e=this.view;window.setTimeout(function(){return e.destroy()})}}},{key:"renderView",value:function(e){this.view||(this.view=new Xc.a(this.props),this.view.setElement(e).render())}},{key:"render",value:function(){return i.a.createElement(ye.a,{title:"Bulletin Management"},i.a.createElement("div",{className:ee()(Zc("legacy-labels")),ref:this.renderView}))}}]),t}();$c.displayName="BulletinsAdminPage";var eu=[{label:"Bulletins",url:"bulletins",component:Object(te.a)($c),access:{authorities:[[m.AUTHORITIES.REALM_INTERNAL],[m.AUTHORITIES.SITE_ADMIN]]}}],tu=function(e){var t=e.match;return i.a.createElement(D.ThemeProvider,null,i.a.createElement(J.a,null,i.a.createElement(J.a.Fixed,null,i.a.createElement(Q.SecondaryNavBar,null,i.a.createElement(Q.Title,{name:"Administration",className:"align-center"}),m.AuthorizationEvaluator.filter(eu).map(function(e){var n=e.label,a=e.url;return i.a.createElement(Q.NavItem,{key:a},i.a.createElement(Y.a,{className:"flex-container align-center flex-dir-column",to:Object(h.buildUrl)(t.url,a)},i.a.createElement(X.StaticBold,{parent:i.a.Fragment},n)))}))),i.a.createElement(J.a.Scrollable,null,i.a.createElement(G.a,null,eu.map(function(e){var n=e.url,a=e.component,r=e.label;return i.a.createElement(W.a,{key:n,path:Object(h.buildUrl)(t.path,n),render:Object(Z.pageBoundaryRouteRenderer)(a,r)})})))))};tu.displayName="AdminRouter",tu.propTypes={match:s.a.object.isRequired};var nu=tu,au=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function iu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ru(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ou(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var su=function(e){return m.AuthorizationEvaluator.evaluate({access:{custom:function(){var e=Object(f.nimbleResellerAuthorizationEvaluator)();return void 0!==e?e:Jt.default.currentTenantIsNimbleTenant()&&m.AuthorizationEvaluator.evaluate({access:{$or:[{authorities:m.AUTHORITIES.PRODUCT_FAMILY_NIMBLE},{authorities:m.AUTHORITIES.SUPPORT_CASE},{authorities:m.AUTHORITIES.ADDRESS_ADMIN}]}})}}})?e:null},lu=function(e){return e?function(t){function n(){return iu(this,n),ru(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return ou(n,a["Component"]),au(n,[{key:"componentDidMount",value:function(){document.getElementById("modal-region")||E()("body").append('<div id="modal-region" class="modal fade" role="dialog" data-backdrop="static" data-app-id="nimble"></div>')}},{key:"componentWillUnmount",value:function(){var e=document.getElementById("modal-region");e&&e.parentNode.removeChild(e)}},{key:"render",value:function(){return i.a.createElement(r.Provider,{store:Object(aa.getStore)()},i.a.createElement(x.HighchartsProvider,{value:Kc.Highstock},i.a.createElement(D.ThemeProvider,null,i.a.createElement(e,this.props))))}}]),n}():e},cu=function(e){function t(e){iu(this,t);var n=ru(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n}return ou(t,a["Component"]),au(t,[{key:"componentDidMount",value:function(){this.handleUpdate(),this.unsubscribe=Object(p.onUserContextChange)(this.handleUpdate)}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe()}},{key:"handleUpdate",value:function(){[{url:Object(h.buildUrl)("dashboards",g),router:lu(su(Qt)),exact:!1,appId:"nimble"},{url:Object(h.buildUrl)("infrastructure","storage",g),router:lu(su(z)),exact:!1,appId:"nimble"},{url:Object(h.buildUrl)("resources",g),router:lu(ss),exact:!1,appId:"nimble"},{url:Object(h.buildUrl)("settings",g),router:lu(Wc),exact:!1,appId:"nimble"},{url:Object(h.buildUrl)("settings","admin"),router:lu(nu),exact:!1,appId:"nimble"}].forEach(function(e){e.router?Object(C.addRouter)(e):Object(C.removeRouter)(e)})}},{key:"render",value:function(){return null}}]),t}();cu.displayName="RouterExtension";var uu=cu,du=n(1588),pu=n(75),hu=n.n(pu),mu=n(1589),fu=n.n(mu),vu=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),bu=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var gu=function(){function e(t){var n=this,a=t.productInterface,r=t.OBJECTS;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c()(this),this.productInterface=a,this.turn=0,this.worker=new fu.a,this.worker.addEventListener("message",this.onReceiveResults),this.id=a.id.toLowerCase()+"-infrastructure-objects",this.name=a.attributes.name,this.topics=Object.values(r).map(function(e){return{id:e,singularName:n.productInterface.getSingularTitle(e),pluralName:n.productInterface.getPluralTitle(e),icon:i.a.createElement(k.ObjectIcon,{objectType:e})}})}return bu(e,[{key:"destroy",value:function(){this.worker&&this.worker.terminate()}},{key:"onReceiveResults",value:function(e){var t=this,n=JSON.parse(e.data);if(n.turn===this.turn)if(n&&(n.results||n.error)){var a=!1;if(n.error)this.handlers.error(n.error);else{var i=Object.entries(n.results).reduce(function(e,n){var i=vu(n,2),r=i[0],o=i[1],s=t.productInterface;return s.hasDetailView(r)?(o.forEach(function(t){var n=s.findObject(r,t);if(n){var i=s.getLinkPropsForView(s.getDetailView(r),{id:t},null,window.location).to,o=i.pathname,l=i.search;e.push({id:t,name:n.name,topic:n.type,url:new hu.a("").path(o).search(l).valueOf()}),a=!0}}),e):e},[]).sort(function(e,t){return e.name.toLowerCase()<=t.name.toLowerCase()?-1:1});a?this.handlers.hits(i):this.handlers.noOp()}}else this.handlers.noOp()}},{key:"search",value:function(e){var t=this,n=e.query,a=e.submit;this.turn+=1,this.handlers=a;!function e(){t.productInterface.isReadyForTopologySearch()?t.worker.postMessage({productFamily:t.productInterface.id,query:n,turn:t.turn}):window.setTimeout(e,2e3)}()}}]),e}(),yu=n(301),wu=function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(i,r){try{var o=t[i](r),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}("next")})}}(regeneratorRuntime.mark(function e(t){var n,a,i,r,o,s,l,c,u=t.query,d=t.submit;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.NimbleUserTenantHelpers.getCurrentTenant(),a=v.b.getDetailView(Su,{includeInvisible:!0}),e.next=4,(new ot.default).central().slash("search/arrays").query({term:u,boostAccountId:n&&n.id}).get({cancelToken:new yu.CancelToken(function(e){Eu=e})});case 4:if(i=e.sent,r=i.data,Eu=null,r&&r.length){e.next=10;break}return d.noOp(),e.abrupt("return");case 10:o=Tu({},v.b.id,{excludeTenant:!0}),s=!1,e.t0=regeneratorRuntime.keys(r);case 13:if((e.t1=e.t0()).done){e.next=20;break}if(l=e.t1.value,!n||n.id===r[l].accountId){e.next=18;break}return s=!0,e.abrupt("break",20);case 18:e.next=13;break;case 20:c=r.map(function(e){var t=e.arraySn,i=e.arraySn,r=e.accountName,l=e.accountId,c=e.arrayHostname,u=v.b.getLinkPropsForView(a,{id:i},null,null,o).to,d=u.pathname,p=u.search;return{id:i,name:c?t+" ("+c+")":t,topic:Su,url:new hu.a("").pathname(n&&n.id===l?d:Object(f.buildNimbleTenantUrl)(l,d)).search(p).valueOf(),label:s?r:void 0}}),d.hits(c);case 22:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();function Tu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Su=I.a.ARRAY,Eu=void 0;var Cu={search:wu,cancelSearch:function(){Object(qa.isFunction)(Eu)&&(Eu(),Eu=null)},id:"nimble-cross-tenant-array-search",name:v.b.attributes.name,topics:[{id:Su,singularName:v.b.getSingularTitle(Su),pluralName:v.b.getPluralTitle(Su),icon:i.a.createElement(k.ObjectIcon,{objectType:Su})}]},xu=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Du=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),xu(t,[{key:"componentDidMount",value:function(){this.handleUpdate(),this.unsubscribe=Object(p.onUserContextChange)(this.handleUpdate)}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe()}},{key:"handleUpdate",value:function(){m.AuthorizationEvaluator.evaluate({access:{custom:function(){return f.NimbleUserTenantHelpers.currentTenantIsNimbleTenant()&&m.AuthorizationEvaluator.evaluate({access:{authorities:m.AUTHORITIES.PRODUCT_FAMILY_NIMBLE}})}}})?(this.localSearchProvider=this.localSearchProvider||new gu({productInterface:v.b,OBJECTS:I.a}),Object(du.addSubject)({id:"nimble",provider:this.localSearchProvider})):(this.localSearchProvider&&this.localSearchProvider.destroy(),Object(du.removeSubject)({id:"nimble"})),f.NimbleUserTenantHelpers.canAccessMultipleTenants()?Object(du.addSubject)({id:"nimble_tenant_selector",provider:Cu}):Object(du.removeSubject)({id:"nimble_tenant_selector"})}},{key:"render",value:function(){return null}}]),t}();Du.displayName="SearchExtension";var Ou=Du,Nu=n(679),_u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Au=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();window.nimbleShims.jQuery_1_11_1;var ku=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n.state={loaded:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),Au(t,[{key:"componentDidMount",value:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(i,r){try{var o=t[i](r),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}("next")})}}(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.getShellState(),this.unsubscribe=Object(p.onUserContextChange)(this.handleUpdate);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe()}},{key:"getShellState",value:function(e){var t=this;Promise.all([this.props.loadAuthorizationEvaluator(),this.props.loadTenant(),this.props.loadUser(),this.props.loadConfig()]).then(function(){e===p.UserContextChangeReason.Tenant&&t.props.fetchInventory(),t.setState({loaded:!0})})}},{key:"handleUpdate",value:function(e){this.props.changeUserContext(e),this.getShellState(e)}},{key:"render",value:function(){var e=this.props.loadingObjects;return!this.state.loaded||e?null:this.props.children}}]),t}();ku.displayName="ShellStateCache",ku.propTypes={children:s.a.node.isRequired,changeUserContext:s.a.func.isRequired,loadAuthorizationEvaluator:s.a.func.isRequired,loadTenant:s.a.func.isRequired,loadUser:s.a.func.isRequired,loadConfig:s.a.func.isRequired,fetchInventory:s.a.func.isRequired,loadingObjects:s.a.bool};var Iu=Object(r.connect)(function(e){return _u({},Object(I.e)(e))},{changeUserContext:Nu.a,loadAuthorizationEvaluator:Nu.b,loadTenant:Nu.d,fetchInventory:I.b,loadUser:Nu.e,loadConfig:Nu.c})(ku),Pu=function(){return i.a.createElement(r.Provider,{store:Object(aa.getStore)()},i.a.createElement(Iu,null,i.a.createElement(T,null),i.a.createElement(uu,null),i.a.createElement(Ou,null)))};Pu.displayName="NimbleExtensions";t.default=Pu}])]);
//# sourceMappingURL=4-103f831b1b40a7d41534.js.map