(window.webpackJsonpinfosightportalnimblefrontend=window.webpackJsonpinfosightportalnimblefrontend||[]).push([[1],{1017:function(e,t,n){var r={"./af":447,"./af.js":447,"./ar":448,"./ar-dz":449,"./ar-dz.js":449,"./ar-kw":450,"./ar-kw.js":450,"./ar-ly":451,"./ar-ly.js":451,"./ar-ma":452,"./ar-ma.js":452,"./ar-sa":453,"./ar-sa.js":453,"./ar-tn":454,"./ar-tn.js":454,"./ar.js":448,"./az":455,"./az.js":455,"./be":456,"./be.js":456,"./bg":457,"./bg.js":457,"./bn":458,"./bn.js":458,"./bo":459,"./bo.js":459,"./br":460,"./br.js":460,"./bs":461,"./bs.js":461,"./ca":462,"./ca.js":462,"./cs":463,"./cs.js":463,"./cv":464,"./cv.js":464,"./cy":465,"./cy.js":465,"./da":466,"./da.js":466,"./de":467,"./de-at":468,"./de-at.js":468,"./de-ch":469,"./de-ch.js":469,"./de.js":467,"./dv":470,"./dv.js":470,"./el":471,"./el.js":471,"./en-au":472,"./en-au.js":472,"./en-ca":473,"./en-ca.js":473,"./en-gb":474,"./en-gb.js":474,"./en-ie":475,"./en-ie.js":475,"./en-nz":476,"./en-nz.js":476,"./eo":477,"./eo.js":477,"./es":478,"./es-do":479,"./es-do.js":479,"./es.js":478,"./et":480,"./et.js":480,"./eu":481,"./eu.js":481,"./fa":482,"./fa.js":482,"./fi":483,"./fi.js":483,"./fo":484,"./fo.js":484,"./fr":485,"./fr-ca":486,"./fr-ca.js":486,"./fr-ch":487,"./fr-ch.js":487,"./fr.js":485,"./fy":488,"./fy.js":488,"./gd":489,"./gd.js":489,"./gl":490,"./gl.js":490,"./gom-latn":491,"./gom-latn.js":491,"./he":492,"./he.js":492,"./hi":493,"./hi.js":493,"./hr":494,"./hr.js":494,"./hu":495,"./hu.js":495,"./hy-am":496,"./hy-am.js":496,"./id":497,"./id.js":497,"./is":498,"./is.js":498,"./it":499,"./it.js":499,"./ja":500,"./ja.js":500,"./jv":501,"./jv.js":501,"./ka":502,"./ka.js":502,"./kk":503,"./kk.js":503,"./km":504,"./km.js":504,"./kn":505,"./kn.js":505,"./ko":506,"./ko.js":506,"./ky":507,"./ky.js":507,"./lb":508,"./lb.js":508,"./lo":509,"./lo.js":509,"./lt":510,"./lt.js":510,"./lv":511,"./lv.js":511,"./me":512,"./me.js":512,"./mi":513,"./mi.js":513,"./mk":514,"./mk.js":514,"./ml":515,"./ml.js":515,"./mr":516,"./mr.js":516,"./ms":517,"./ms-my":518,"./ms-my.js":518,"./ms.js":517,"./my":519,"./my.js":519,"./nb":520,"./nb.js":520,"./ne":521,"./ne.js":521,"./nl":522,"./nl-be":523,"./nl-be.js":523,"./nl.js":522,"./nn":524,"./nn.js":524,"./pa-in":525,"./pa-in.js":525,"./pl":526,"./pl.js":526,"./pt":527,"./pt-br":528,"./pt-br.js":528,"./pt.js":527,"./ro":529,"./ro.js":529,"./ru":530,"./ru.js":530,"./sd":531,"./sd.js":531,"./se":532,"./se.js":532,"./si":533,"./si.js":533,"./sk":534,"./sk.js":534,"./sl":535,"./sl.js":535,"./sq":536,"./sq.js":536,"./sr":537,"./sr-cyrl":538,"./sr-cyrl.js":538,"./sr.js":537,"./ss":539,"./ss.js":539,"./sv":540,"./sv.js":540,"./sw":541,"./sw.js":541,"./ta":542,"./ta.js":542,"./te":543,"./te.js":543,"./tet":544,"./tet.js":544,"./th":545,"./th.js":545,"./tl-ph":546,"./tl-ph.js":546,"./tlh":547,"./tlh.js":547,"./tr":548,"./tr.js":548,"./tzl":549,"./tzl.js":549,"./tzm":550,"./tzm-latn":551,"./tzm-latn.js":551,"./tzm.js":550,"./uk":552,"./uk.js":552,"./ur":553,"./ur.js":553,"./uz":554,"./uz-latn":555,"./uz-latn.js":555,"./uz.js":554,"./vi":556,"./vi.js":556,"./x-pseudo":557,"./x-pseudo.js":557,"./yo":558,"./yo.js":558,"./zh-cn":559,"./zh-cn.js":559,"./zh-hk":560,"./zh-hk.js":560,"./zh-tw":561,"./zh-tw.js":561};function a(e){var t=i(e);return n(t)}function i(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id=1017},1030:function(e,t,n){e.exports={legend:"legend__3lkS-","legend-name":"legend-name__2cwoB","legend-value":"legend-value__3GbBY","legend-unit":"legend-unit__3UYll",striped:"striped__3_uD-","bar-chart":"bar-chart__3yArz",bar:"bar__1C2iC",caret:"caret__ydg5R",swatch:"swatch__27udP","is-zero":"is-zero__XT4q9"}},1078:function(e,t,n){e.exports={icon:"icon__1z2PV"}},1136:function(e,t,n){e.exports={superscript:"superscript__Vzdfq",off:"off__IQbVm"}},114:function(e,t,n){"use strict";var r=n(23),a=n.n(r),i=n(9),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var s=[a.a.duration(1,"minute"),a.a.duration(2,"minutes"),a.a.duration(5,"minutes"),a.a.duration(10,"minutes"),a.a.duration(15,"minutes"),a.a.duration(30,"minutes"),a.a.duration(1,"hour"),a.a.duration(2,"hours"),a.a.duration(4,"hours"),a.a.duration(8,"hours"),a.a.duration(12,"hours"),a.a.duration(1,"day")],c=s.reduce(function(e,t){return o({},e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t.toJSON(),t))},{});function l(e){return c[e]}function u(e,t,n){if(e&&(!e.isValid||e.isValid())&&t&&(!t.isValid||t.isValid())){var r=a()(t).diff(a()(e));return Object(i.find)(s,function(e){return r/e.asMilliseconds()<=n})}}var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(e){var t=function(e){return e.data}(e);return function(e,t){return d({},e,{data:d({},e.data,{data:t})})}(e,t.data.length?t.data[0]:null)};function h(e){return p(e).data.data}function m(e){var t=p(e).data;return t.data?t:null}n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"c",function(){return m}),n.d(t,"d",function(){return h})},1141:function(e,t,n){e.exports={trend:"trend__2LbRN","popover-link":"popover-link__7NsV9",tooltip:"tooltip__2uiVG"}},1144:function(e,t,n){e.exports={donut:"donut__2AGSe","donut-pie":"donut-pie__3uZQR","donut-title":"donut-title__15p66",percentUsed:"percentUsed__20Zi2",percentUsedWarning:"percentUsedWarning__1AaAe",percentageGrowth:"percentageGrowth__3HxTl",strongText:"strongText__173py",striped:"striped__EtXfi"}},1145:function(e,t){e.exports='<% if (displayAsModal) { %>\n<div class="modal-dialog modal-lg">\n    <div class="modal-content">\n        <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal">\n                <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title">Software Upgrades</h4>\n        </div>\n        <div class="modal-body">\n<% } else { %>\n        <div style="width: 100%;">\n<% } %>\n            <div class="header">\n                <dl>\n                    <dt>Current Version</dt>\n                    <dd><%= version %></dd>\n\n                </dl>\n                <fieldset class="software-upgrades-legend" style="display: none;">\n                    <legend>Legend</legend>\n                    <span class="blacklisted-release"><span class="blacklisted-icon fa fa-circle"></span>= Blacklisted</span>\n                </fieldset>\n            </div>\n\n            <div class="grid-region"></div>\n            <div id="upgrades-grid-container">\n            </div>\n        </div>\n<% if (displayAsModal) { %>\n    </div>\n</div>\n<% } %>\n<script class="grid-content" type="text/template">\n    <table class="table table-striped table-bordered responsive" style="width: 100%;">\n        <thead>\n            <tr>\n                <th>Major Release</th>\n                <th title="">Release</th>\n                <th title="">Release Status</th>\n                <th title="">Upgrade Path</th>\n            </tr>\n        </thead>\n        <tbody></tbody>\n    </table>\n<\/script>\n'},1146:function(e,t){e.exports='<ul class="upgrade-paths">\n<% \n_.each(upgradePaths, function(upgradePath) {\n    upgradePath.releases[0] = "Current";\n    upgradePath.releases.push(targetRelease);\n%>\n    <li>\n        <ol class="upgrade-path">\n            <% _.each(upgradePath.releases, function(release) { %>\n                <li>\n                <% if (blacklistedReleases[release]) { %>\n                    <span class=\'blacklisted-release\'>\n                    <span class=\'blacklisted-icon fa fa-circle\'></span><%= truncateRelease(release)%><%\n                } else {\n                    %><span><%= truncateRelease(release) %><%\n                }\n                    %></span>\n                </li>\n            <% }); %>\n        </ol>\n    </li>\n<% }); %>\n</ul>'},1147:function(e,t){e.exports="The current configuration of array <b><%= array %></b> prevents upgrade to release <b><%= release %></b>.\n<p>Please contact Nimble Support for assistance.</p>"},1148:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n.n(r),i=n(1),o=n.n(i),s=n(8),c=n.n(s),l=n(14),u=n.n(l),d=(n(320),n(16)),p=n.n(d),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=p.a.fn.DataTable;function f(e){return function(t){t.preventDefault(),e()}}p.a.extend(m.ext.classes,{sWrapper:"dataTables_wrapper dt-foundation",sProcessing:"dataTables_processing panel callout"}),p.a.extend(!0,m.defaults,{renderer:"infosight"});var g=function(e){var t=e.start,n=e.end,r=e.total,a=e.onPrevious,i=e.onNext;return o.a.createElement("div",{className:"elmer-Pagination"},o.a.createElement("span",{className:"elmer-Pagination__range"},o.a.createElement("strong",null,t," - ",n),o.a.createElement("span",{className:"elmer-Pagination__count"}," of ",r)),o.a.createElement("ul",{className:"pagination",role:"navigation","aria-label":"Pagination"},o.a.createElement("li",{className:"pagination-previous"},o.a.createElement("a",{className:u()({disabled:1===t}),href:"#previous",onClick:f(a),"aria-label":"Previous page"},o.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":"true"}))),o.a.createElement("li",{className:"pagination-next"},o.a.createElement("a",{className:u()({disabled:n===r}),href:"#next",onClick:f(i),"aria-label":"Next page"},o.a.createElement("i",{className:"fa fa-angle-right","aria-hidden":"true"})))))};g.displayName="Pagination",g.propTypes={onPrevious:c.a.func.isRequired,onNext:c.a.func.isRequired,start:c.a.number.isRequired,end:c.a.number.isRequired,total:c.a.number.isRequired},m.ext.renderer.pageButton.infosight=function(e,t){var n=new m.Api(e),r=n.page.info();r.start+=1,r.total=r.recordsDisplay,a.a.render(o.a.createElement(g,h({},r,{onPrevious:function(){return n.page("previous").draw("page")},onNext:function(){return n.page("next").draw("page")}})),t)}},1149:function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(9),i=n(13),o=n(228),s=n(1150),c=n(16);n(1151),n(1152),e.exports=i.ItemView.extend({template:a.template(s),className:"filter-widget",ui:{toggleFiltersLink:".toggle-filters-link",filterWrapper:".grid-filter-wrapper",clearFiltersLink:".clear-filters",filterSection:".grid-filter-section"},events:{"click @ui.toggleFiltersLink":"toggleFilters","click @ui.clearFiltersLink":"clearFilters"},modelEvents:{change:"onChange"},gridInitialized:!1,initialize:function(e){this.columnIndexMap={},this.grid=e.grid,console.assert(this.grid,"grid option is required"),this.model=e.grid.options.filterModel||new o,this.grid.filterValueHasMatchingRowsByColumn={},this.grid.unfilteredRowCache=[],this.grid.filteredRowCache=[],this.listenTo(this.grid,"init",this.createFilters),this.listenTo(this.grid,"reload",this.createFilters)},onRender:function(){this.$el.hide(),this.ui.clearFiltersLink.toggle(!a(this.model.values()).every(function(e){return a.isNull(e)||a.isEmpty(e)}))},resetMultiselectFilters:function(){this.grid.filteredRowCache=[],this.grid.unfilteredRowCache=[]},createFilters:function(){this.ui.filterSection.empty(),a(this.grid.getDataTableApi().settings().init().columns).each(this.createFilter.bind(this)),this.$el.toggle(!a.isEmpty(this.model.attributes)),this.gridInitialized=!0,this.ui.clearFiltersLink.toggle(!a(this.model.values()).every(function(e){return a.isNull(e)||a.isEmpty(e)}))},createFilter:function(e,t){var n=this.grid.getDataTableApi();if(e.filter){var r,i=n.column(t),o=c(i.header()).html(),s=e.name;r=e.filter.splitValueOn?i.cache("search").unique().toArray().reduce(function(e,t){return e.concat(t.split(",").map(function(e){return e.trim()}))},[]):i.cache("search").unique().toArray();var l=a.union(r,[this.model.get(s)]).filter(function(e){return"string"==typeof e?null!=e&&e.trim():null!=e}).sort(function(e,t){return t.toUpperCase().localeCompare(e.toUpperCase())});if(a.isEmpty(l))return;for(var u=c("<label><span>"+o+":</span></label>"),d=c("<select/>").attr("data-column-name",s),p=0,h=l.length;p<h;p++){var m=l[p];d.append('<option value="'+m+'">'+m+"</option>")}this.ui.filterSection.append(c('<div class="filter-component"/>').append(u).append(d)),this.model.get(s)||this.model.set(s,null);var f=this;if(e.filter.multipleSelect){var g=function(){Object.keys(f.grid.filterValueHasMatchingRowsByColumn).forEach(function(e){var t=c('select[data-column-name="'+e+'"] + .ms-parent .ms-drop input[data-name="selectAll"]');c('select[data-column-name="'+e+'"]').multipleSelect("getSelects").length?t.attr("disabled",null).parent("label").css("color",""):t.attr("disabled","disabled").parent("label").css("color","#DDDDDD")})};c(d).multipleSelect({width:"200px",selectAll:!0,selectAllText:"Clear Filter",allSelected:"",onCheckAll:function(e){c(d).multipleSelect("uncheckAll")},onUncheckAll:function(e){f.model.set(s,c(d).multipleSelect("getSelects")),g()},onClick:function(e){f.resetMultiselectFilters(),f.model.set(s,e.instance.getSelects()),g()},onOpen:function(){!function(e){var t=n.settings().init().columns,r=!0,i=!1,o=void 0;try{for(var s,l=f.grid.unfilteredRowCache[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value,d=!0,p=!1,h=void 0;try{for(var m,g=t[Symbol.iterator]();!(d=(m=g.next()).done);d=!0){var y=m.value,v=y.name;void 0===f.grid.filterValueHasMatchingRowsByColumn[v]&&(f.grid.filterValueHasMatchingRowsByColumn[v]={});var b=u[y.index];y.filter&&y.filter.splitValueOn?a(b.split(y.filter.splitValueOn)).forEach(function(e){f.grid.filterValueHasMatchingRowsByColumn[v][e.trim()]={row:u,enabled:!1}}):f.grid.filterValueHasMatchingRowsByColumn[v][b]={row:u,enabled:!1}}}catch(e){p=!0,h=e}finally{try{!d&&g.return&&g.return()}finally{if(p)throw h}}}}catch(e){i=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}var E=!0,O=!1,C=void 0;try{for(var S,w=f.grid.filteredRowCache[Symbol.iterator]();!(E=(S=w.next()).done);E=!0){var R=S.value,T=!0,_=!1,N=void 0;try{for(var j,P=t[Symbol.iterator]();!(T=(j=P.next()).done);T=!0)y=j.value,v=y.name,b=R[y.index],y.filter&&y.filter.splitValueOn?a(b.split(y.filter.splitValueOn)).forEach(function(e){f.grid.filterValueHasMatchingRowsByColumn[v][e.trim()]={row:R,enabled:!0}}):f.grid.filterValueHasMatchingRowsByColumn[v][b]={row:R,enabled:!0}}catch(e){_=!0,N=e}finally{try{!T&&P.return&&P.return()}finally{if(_)throw N}}}}catch(e){O=!0,C=e}finally{try{!E&&w.return&&w.return()}finally{if(O)throw C}}Object.keys(f.grid.filterValueHasMatchingRowsByColumn).forEach(function(e){var t=f.grid.filterValueHasMatchingRowsByColumn[e];Object.keys(t).forEach(function(n){var r=t[n],a=c('select[data-column-name="'+e+'"] + .ms-parent .ms-drop input[value="'+n+'"]'),i=f.filterLogic(null,null,r.row,e);!1!==r.enabled||i?a.attr("disabled",null).parent("label").css("color",""):a.attr("disabled","disabled").parent("label").css("color","#DDDDDD")})})}(),g()}}),c(d).multipleSelect("uncheckAll")}else this.addBinding(null,'select[data-column-name="'+s+'"]',{observe:s,selectOptions:{collection:l,defaultOption:{label:"",value:null}}})}},toggleFilters:function(){this.ui.toggleFiltersLink.find(".fa").toggleClass("fa-caret-right fa-caret-down"),this.ui.filterWrapper.toggle()},clearFilters:function(){this.model.clearValues();var e=this.grid.getDataTableApi().settings().init().columns,t=!0,n=!1,r=void 0;try{for(var a,i=e[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;o.filter&&o.filter.multipleSelect&&c(c(".filter-component select")[o.index]).multipleSelect("uncheckAll")}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}this.ui.clearFiltersLink.hide()},onChange:function(){this.ui.clearFiltersLink.toggle(!a(this.model.values()).every(function(e){return a.isNull(e)||a.isEmpty(e)})),this.gridInitialized&&this.grid.redraw()},filterLogic:function(e,t,n,i){var o=this.grid.getDataTableApi().settings().init().columns,s=!0,c=!1,l=void 0;try{for(var u,d=o[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var p=u.value,h=p.name;if(h!=i){var m=n[p.index],f=this.model.get(h);if(null!=f){var g=p.filter;if(g&&g.splitValueOn){if("object"===(void 0===f?"undefined":r(f))){if(0===f.length)continue;if(!a(m.split(g.splitValueOn)).chain().map(function(e){return e.trim()}).value().some(function(e){return f.indexOf(e)>=0}))return!1}else if(!a(m.split(g.splitValueOn)).chain().map(function(e){return e.trim()}).contains(f).value())return!1}else if("object"===(void 0===f?"undefined":r(f))){if(0===f.length)continue;if(-1===f.indexOf(m))return!1}else if(m!==f)return!1}}}}catch(e){c=!0,l=e}finally{try{!s&&d.return&&d.return()}finally{if(c)throw l}}return!0},isRowIncluded:function(e,t,n){this.grid.unfilteredRowCache.push(n);var r=this.filterLogic(e,t,n);return r&&this.grid.filteredRowCache.push(n),r}})},1150:function(e,t){e.exports='<div class="toggle-filters-link">\n    <span class="fa fa-caret-down"></span>\n    <span>Filter...</span>\n</div>\n\n<div class="grid-filter-wrapper">\n    <div class="grid-filter-section"></div>\n    <div class="clear-filters" style="display: none;">\n        <span class="fa fa-close"></span>\n        <span>Clear All Filters</span>\n    </div>\n</div>\n'},1153:function(e,t,n){var r=n(11),a=n(1154);e.exports=r.Collection.extend({model:a})},1154:function(e,t,n){var r=n(11);e.exports=r.Model.extend({defaults:{column:null,order:"asc"}})},1155:function(e,t){e.exports='<div class="filter-region"></div>'},1157:function(e,t,n){var r=n(13);n(370),e.exports=r.Region.extend({constructor:function(){r.Region.prototype.constructor.apply(this,arguments)},onShow:function(){console.assert(this.$el.hasClass("modal")),this.$el.attr("data-app-id","nimble");var e=this;this.$el.on("hidden.bs.modal",function(t){e.empty()}),this.$el.modal("show")},onEmpty:function(){this.$el.modal("hide")}})},1158:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return b});var r=n(16),a=n.n(r),i=n(322),o=n(166),s=n(40),c=n(620),l=n(19),u=n(27),d=n(36),p=n(1159),h=n.n(p),m=n(1160),f=n.n(m),g=n(1162),y=n.n(g),v=n(79);function b(e){var t=new y.a(Object(d.userSelector)(Object(s.getStore)().getState())),n=new h.a,r=new f.a,p=function(e,t){return t&&"jquery.deferred"===t.toLowerCase()?function(e){return a.a.Deferred(function(t){return e.then(t.resolve).catch(t.reject)})}(e):e},m=void 0;e.handleRequest("global","get:assets:async",function(e){return m?p(m,e):v.default.currentTenantIsNimbleTenant()?(m=new Promise(function(e){Object(o.a)()(Object(s.getStore)().dispatch).then(function(e){return n.reset(e,{parse:!0}),n}).then(e)}),p(m,e)):Promise.reject()});var g=void 0;e.handleRequest("global","get:nimbleosreleases:async",function(e){return g?p(g,e):v.default.currentTenantIsNimbleTenant()?(g=new Promise(function(e){(new u.default).urlSegments("software","releases").get().then(function(e){return r.reset(e.data,{parse:!0}),r}).then(e)}),p(g,e)):Promise.reject()}),e.handleRequest("global","get:current:session",function(){return t}),e.handleEvent("global","change:account",function(){m=null}),Object(c.b)(Object(l.getSuccessActionType)(i.b)),e.handleEvent("progeny",i.b,function(e){var t=e.payload;n.clear({silent:!0}),n.set(t)})}},1159:function(e,t,n){var r=n(11),a=n(621);e.exports=r.Collection.extend({model:a,url:function(){return this.api().pod().account().segment("assets")}})},1160:function(e,t,n){var r=n(11),a=n(1161);function i(e){return e.split(/\.|\-/).slice(0,4).map(function(e){return e.length>="0000".length?e:("0000"+e).slice(-"0000".length)}).join(".")}e.exports=r.Collection.extend({model:a,comparator:function(e,t){return-i(e.get("version")).localeCompare(i(t.get("version")))}})},1161:function(e,t,n){var r=n(11);e.exports=r.Model.extend({parse:function(e){return e.shortVersion=e.version.split("-")[0],e.displayStatus||(e.displayStatus=e.status.description),e.supported=function(e){return"End of Software Support"!==e.displayStatus}(e),e}})},1162:function(e,t,n){var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(11),i=n(36),o=i.AuthorizationEvaluator,s=i.AUTHORITIES,c=n(622),l=function(){console.assert("SessionModel must not be fetched from server")};e.exports=a.Model.extend({defaults:{userLogin:null,role:null,internal:!1,acmPurchased:!1,arrays:[],ndaSigned:!1,firstLogin:!1,vmImageApproved:!1,vmImageLicenseLimit:null},parse:function(e){var t=e.username;return r({},e,{userLogin:t,vmImageLicenseLimit:c(e,"customerContexts.nimble.vmImageLicenseLimit")||0})},sync:l,fetch:l,save:l,isInternal:function(){return o.evaluate({access:{authorities:s.REALM_INTERNAL}})},isExternal:function(){return o.evaluate({access:{authorities:s.REALM_EXTERNAL}})}})},1165:function(e,t,n){var r=n(24),a=n(13),i=n(627),o=n(79).default;e.exports=a.Object.extend({account:null,mode:null,initialize:function(){this.setAccount(new i(o.getCurrentTenant()))},setAccount:function(e){this.account=e},getAccount:function(){return this.account},isSingle:function(){return!0},isAll:function(){return!1},isPrimary:function(){var e=r.request("global","get:account:primary");return this.isSingle()&&e&&this.account.id===e.id}})},1166:function(e,t,n){var r=n(1),a=n(24),i=n(9),o=n(168),s=n(13),c=n(628),l=c.addBanner,u=c.removeBanner,d=n(37).NIMBLE_APP_ID,p=n(621),h=n(1167),m=n(245),f=n(43).buildUrlFromBase,g=n(40).getStore,y=n(325).arraySelector,v=i.template(h),b={},E=function(e){if(e.get("supportStatus")===p.SupportStatus.CURRENT)return!1;var t=m.getNotification({type:"support-renewal",subtype:e.get("serialNumber")}),n=void 0===t,r=t===e.get("supportEndDate");return n||!r},O=function(e){if(b[e]){var t=b[e].map(function(e){return{type:"support-renewal",subtype:e.get("serialNumber"),value:e.get("supportEndDate")}});m.setNotifications(t),delete b[e]}},C=function(e){var t=e.reduce(function(e,t){return e===t.get("supportStatus")?e:"mixed"},e[0].get("supportStatus"));if(e.length>1)switch(t){case p.SupportStatus.EXPIRING:t="are expiring";break;case p.SupportStatus.EXPIRED:t="have expired";break;default:t="are expiring or have expired"}else switch(t){case p.SupportStatus.EXPIRING:t="is expiring";break;case p.SupportStatus.EXPIRED:t="has expired"}var n="support_"+o(e.map(function(e){return e.get("serialNumber")})),a=v({status:t,assets:e.map(function(e){return{name:e.get("hostname")?e.get("hostname")+" ("+e.get("serialNumber")+")":e.get("serialNumber"),href:f("/infrastructure/storage/nimble/arrays",e.get("serialNumber"))}})});l({id:n,onDismiss:O,appId:d,severity:"warning",content:r.createElement("div",{dangerouslySetInnerHTML:{__html:a}})}),b[n]=e};e.exports=s.Object.extend({initialize:function(){var e=this;m.onPreferencesLoaded(function(){return e.renderNotifications()}),a.handleEvent("global","change:account",this.renderNotifications,this)},renderNotifications:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,i){try{var o=t[a](i),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object.keys(b).forEach(function(e){u({id:e,appId:d}),delete b[e]}),!((t=y(g().getState()).array)&&t.length>0)){e.next=8;break}return e.next=5,a.request("global","get:assets:async");case 5:for(e.t0=E,n=e.sent.filter(e.t0);n.length;)C(n.splice(0,5));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()})},1167:function(e,t){e.exports='<span>\n<% if (assets.length > 1) { %>\nSupport contracts for these arrays <%= status %>:\n<ul class="comma-delimited-list">\n    <% assets.forEach(function(asset) { %>\n    <li><a href="<%= asset.href %>" class="alert-link history-aware"><%= asset.name %></a></li>\n    <% }) %>\n</ul>\n<% } else { %>\nThe support contract for <a href="<%= assets[0].href %>" class="alert-link history-aware"><%= assets[0].name %></a> <%= status %>\n<% } %>\n</span>\n'},1168:function(e,t,n){var r=n(1),a=n(24),i=n(9),o=n(168),s=n(13),c=n(628),l=c.addBanner,u=c.removeBanner,d=n(37).NIMBLE_APP_ID,p=n(1169),h=i.template(p),m=n(245),f=n(43).buildUrlFromBase,g={},y=function(e){if(g[e]){var t=g[e].map(function(e){return{type:"eoss",subtype:e.get("serialNumber"),value:e.get("version")}});m.setNotifications(t),delete g[e]}},v=function(e,t){return!e.get("version")||(!t||t.get("supported"))},b=function(e){var t=m.getNotification({type:"eoss",subtype:e.get("serialNumber")}),n=void 0===t,r=t===e.get("version");return n||!r},E=function(e,t){var n="eoss_"+o(e.map(function(e){return e.get("serialNumber")})),a=h({version:t.get("shortVersion"),softwareLink:f("/resources/nimble/software"),assets:e.map(function(e){return{name:e.get("hostname")?e.get("hostname")+" ("+e.get("serialNumber")+")":e.get("serialNumber"),serialNumber:e.get("serialNumber"),href:f("/infrastructure/storage/nimble/arrays",e.get("serialNumber"))}})});l({id:n,onDismiss:y,appId:d,severity:"warning",content:r.createElement("div",{dangerouslySetInnerHTML:{__html:a}})}),g[n]=e};e.exports=s.Object.extend({initialize:function(){var e=this;m.onPreferencesLoaded(function(){return e.renderNotifications()}),a.handleEvent("global","change:account",this.renderNotifications,this)},renderNotifications:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,i){try{var o=t[a](i),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object.keys(g).forEach(function(e){u({id:e,appId:d}),delete g[e]}),e.prev=1,e.next=4,a.request("global","get:assets:async");case 4:return t=e.sent,e.next=7,a.request("global","get:nimbleosreleases:async");case 7:n=e.sent,t.reduce(function(e,t){var r=n.findWhere({version:t.get("version")});if(!v(t,r)&&b(t)){var a=e.get(r)||[];a.push(t),e.set(r,a)}return e},new Map).forEach(E),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:case"end":return e.stop()}},e,this,[[1,11]])}));return function(){return e.apply(this,arguments)}}()})},1169:function(e,t){e.exports='<a href="<%= softwareLink %>" class="alert-link history-aware">NimbleOS <%= version %></a> is no longer supported. These arrays should be upgraded:\n<ul class="comma-delimited-list">\n    <% assets.forEach(function(asset) { %>\n    <li><a href="<%= asset.href %>" class="alert-link history-aware"><%= asset.name %></a></li>\n    <% }) %>\n</ul>\n'},1178:function(e,t,n){e.exports={dayCount:"dayCount__1PSPC"}},1209:function(e,t,n){e.exports={"chart-column":"chart-column__12Y4v"}},1212:function(e,t,n){e.exports={partitionBorder:"partitionBorder__3SKEZ",leftPartitionBorder:"leftPartitionBorder__1IYR8",controllerBox:"controllerBox__2JzFJ",badController:"badController__2TkwF",capitalize:"capitalize__1Pk9Z",addTopPadding:"addTopPadding__36B_4"}},1231:function(e,t,n){e.exports={tags:"tags__38neL",container:"container__T14qT","csv-button":"csv-button__1SItP","raw-facets":"raw-facets__1-lWg"}},1235:function(e,t,n){e.exports={"head-shelf":"head-shelf___yUAC"}},1236:function(e,t,n){e.exports={headerRow:"headerRow__3zXRH",valueRow:"valueRow__2epMW",cacheRow:"cacheRow__1F0yQ",cacheValueRow:"cacheValueRow__3-YFi",upgradeNotesContainer:"upgradeNotesContainer__9RtcL",upgradeNotes:"upgradeNotes__rE4HU"}},1237:function(e,t,n){var r=n(9),a=n(13),i=n(656),o=n(1238),s=n(1262);e.exports=a.LayoutView.extend({template:r.template(s),ui:{moreHelpToggle:'a[href="#coral-view-more-help"]'},className:"performance-details",events:{"show.bs.collapse #coral-view-more-help":function(){this.ui.moreHelpToggle.text("Less...")},"hide.bs.collapse #coral-view-more-help":function(){this.ui.moreHelpToggle.text("More...")}},regions:{chart:'[data-region="chart"]'},childEvents:{dragZoom:"onDragZoom"},initialize:function(){this.model=this.getOption("rangeModel")||new i},onRender:function(){this.renderChart()},renderChart:function(){this.showChildView("chart",new o({poolUid:this.getOption("poolUid"),arrayModel:this.getOption("arrayModel"),rangeModel:this.model}))},onDragZoom:function(e,t){this.trigger("dragZoom",t)}})},1238:function(e,t,n){var r=n(9),a=n(16),i=n(11),o=n(13),s=n(20),c=n(45),l=n(1240),u=n(1241),d=n(1246),p=n(1252),h=n(1254),m=n(661),f=n(1256),g=n(658),y=n(10),v=n(1257),b=n(1258),E=n(1259),O=n(1260),C=r.template(b),S=r.template(E),w=y.tz(y.tz.guess()).format("z"),R="L hh:mmA",T="L hA",_="L",N=o.LayoutView.extend({template:r.template(v),templateHelpers:function(){return{numeral:s}},className:"performance-chart-view",regions:{iops:'[data-region="iops"]',latency:'[data-region="latency"]',mbps:'[data-region="mbps"]',arrayEvents:'[data-region="events"]',error:"[data-errors]",spinner:'[data-region="spinner"]'},ui:{noData:"[data-no-data]",crosshairContainer:"[data-crosshair-container]"},chartDefaults:function(e){var t=y.duration(1,"minutes"),n=R;return this.collection.length>1&&((t=y.duration(this.collection.at(1).get("timestamp")-this.collection.at(0).get("timestamp"))).asDays()>=1?n=_:t.asHours()>=1&&(n=T)),{global:{useUTC:!1},credits:{enabled:!1},rangeSelector:{enabled:!1},navigator:{enabled:!1},scrollbar:{enabled:!1},chart:{animation:!1,backgroundColor:null,height:(e=r.defaults(e||{},{height:150,type:"line",title:{},tooltipTemplate:C})).height,spacingLeft:0,marginLeft:80,marginTop:20,type:e.type,panning:!1,zoomType:"x",events:{selection:this.onChartSelect},reflow:!1},plotOptions:{series:{animation:!1,enableMouseTracking:!1,dataGrouping:{enabled:!1},turboThreshold:0,cursor:"default",pointRange:t.asMilliseconds(),pointPlacement:"between"},column:{pointPadding:0,groupPadding:.01,borderWidth:0,minPointLength:3,colorByPoint:!0},line:{},area:{stacking:"normal"},scatter:{}},title:r.defaults(e.title,{text:null,align:"left",floating:!0,x:80,y:0,useHTML:!0,margin:0,style:{fontSize:"13px",padding:0}}),tooltip:{animation:!1,hideDelay:0,backgroundColor:"none",shadow:!1,borderWidth:0,style:{padding:0},shared:!0,useHTML:!0,positioner:function(){return{x:this.chart.plotLeft,y:0}},formatter:function(){var t=e.tooltipTemplate,r=this.points[0].series.chart;return t({numeral:s,points:this.points,width:r.plotWidth+"px",total:this.total,timestamp:y(this.x).format(n)+" "+w})}},yAxis:{opposite:!1,showLastLabel:!0,min:0},xAxis:{min:this.collection.first().get("timestamp"),max:this.collection.last().get("timestamp"),ordinal:!1}}},events:{"mousemove [data-chart-synchronized]":"onMouseMove","mouseleave [data-chart-synchronized]":"onMouseLeave"},initialize:function(e){var t=this;r.bindAll(this,"onDocumentMouseMove","onChartSelect","onMouseMove"),this.collection=new l({},{poolUid:e.poolUid,arrayModel:e.arrayModel,rangeModel:e.rangeModel}),e.arrayModel.get("serialNumber")?this.eventsCollection=m.get(e.arrayModel.get("serialNumber")):this.eventsCollection=f.get(e.poolUid),a(document).on("mousemove.nmbl.synchronizedChart",this.onDocumentMouseMove),this.listenTo(e.rangeModel,"change",this.onRangeModelChange),a(window).on("resize",this.onWindowResize.bind(this)),this.listenTo(this.collection,"sync",function(){if(t.collection.length){var e=t.collection.first().get("timestamp"),n=t.collection.last().get("timestamp");t.getOption("rangeModel").setActualDataRange(e,n)}else t.getOption("rangeModel").setActualDataRange()})},onRender:function(){this.spinner=new O,this.showChildView("spinner",this.spinner),this.renderCharts(),this.rendered=!0},useCustomCrosshair:function(){return!this.eventsChart.isEmpty()},renderCharts:function(){if(!this.collection.length)return this.$(".chart-content").addClass("hide"),this.ui.noData.removeClass("hide"),void(this.hasCharts=!1);this.$(".chart-content").removeClass("hide"),this.ui.noData.addClass("hide"),this.hasCharts=!0;var e={collection:this.collection,eventsCollection:this.eventsCollection,chartDefaults:this.chartDefaults.bind(this),allFlash:!1};this.showChildView("iops",new u(e)),this.showChildView("latency",new d(e)),this.showChildView("mbps",new p(e)),this.eventsChart=new h(e),this.getRegion("arrayEvents").empty(),this.eventsChart.isEmpty()?this.$('[data-region="events"]').closest(".chart-group").hide():(this.showChildView("arrayEvents",this.eventsChart),this.$('[data-region="events"]').closest(".chart-group").show()),this.getRegion("spinner").$el.hide(),this.$charts=this.$("[data-highcharts-chart][data-chart-synchronized]")},onAttach:function(){this.collection.length&&(this.$charts.each(function(){a(this).highcharts().reflow()}),this.useCustomCrosshair()&&this.createCrosshair())},onRangeModelChange:function(e,t){var n=t.noRefresh;this.rendered&&!n&&(this.fetching=!0,this.showSpinner(),a.when(this.collection.fetch({reset:!0}),this.eventsCollection.fetch({reset:!0})).done(this.onCollectionSync.bind(this)).fail(this.onError.bind(this)))},showSpinner:function(){this.getRegion("spinner").$el.show(),this.spinner.showSpinner()},hideSpinner:function(){this.spinner.hideSpinner()},hideCrosshair:function(){this.crosshairEl&&(this.crosshairEl.style.visibility="hidden")},showCrosshairAt:function(e){if(this.crosshairEl){var t=e-this.el.getBoundingClientRect().left;this.crosshairEl.style.left=t+"px",this.crosshairEl.style.visibility="visible"}},showEventsOnCrosshair:function(e){if(this.eventFlagsEl.getAttribute("data-x")!==e.x&&(this.eventFlagsEl.innerHTML=null,this.eventFlagsEl.classList.remove("right","left")),!this.eventFlagsEl.childElementCount){this.eventFlagsEl.innerHTML=S({points:e.arrayEvents||[e],color:e.color,date:y(e.x).format("L")}),this.crosshairEl.classList.add("highlight"),a(this.crosshairEl).find("[data-crosshair-segment]").css({"border-left-color":e.color});var t=this.eventFlagsEl.getBoundingClientRect().right>window.innerWidth;this.eventFlagsEl.classList.add(t?"right":"left")}},hideCrosshairEvents:function(){this.crosshairEl.classList.remove("highlight"),a(this.crosshairEl).find("[data-crosshair-segment]").css({"border-left-color":""}),this.eventFlagsEl.innerHTML=null},createCrosshair:function(){this.crosshairEl&&(this.crosshairEl.parentNode.removeChild(this.crosshairEl),this.crosshairEl=void 0);var e=this.el.getBoundingClientRect().top,t=this.$charts.get().map(function(t){var n="events"===t.getAttribute("data-chart"),r=n?0:25;return{top:t.getBoundingClientRect().top-e+r,bottom:t.querySelector(".highcharts-xaxis-labels").getBoundingClientRect().top-e,linkTooltip:n}});if(!this.crosshairEl){var n=document.createElement("div");n.setAttribute("data-crosshair",""),n.style.visibility="hidden",this.ui.crosshairContainer[0].appendChild(n),this.crosshairEl=n}t.forEach(function(e){var t=document.createElement("div");return t.setAttribute("data-crosshair-segment",""),t.style.height=e.bottom-e.top+"px",t.style.top=e.top+"px",e.linkTooltip&&(this.eventFlagsEl=document.createElement("div"),this.eventFlagsEl.classList.add("events"),this.eventFlagsEl.style.bottom=this.crosshairEl.clientHeight-e.top+"px",this.crosshairEl.appendChild(this.eventFlagsEl)),this.crosshairEl.appendChild(t),t}.bind(this))},onMouseMove:function(e){var t=this;if(!this.fetching&&this.hasCharts){var n=this.$charts.first().highcharts().xAxis[0].toValue(e.offsetX),i=this.$charts.get().map(function(t){var i=a(t).highcharts(),o=i.pointer.normalize(e.originalEvent),s=i.series.map(function(e){return e.searchPoint(o,!0)});return{chart:i,el:t,points:s=r.compact(s),proximity:s.length?Math.abs(s[0].x-n):1/0,isEventsChart:"events"===t.getAttribute("data-chart")}}),o=r(i).min(r.property("proximity")).proximity,s=!1;i.forEach(function(n){var r=n.points,a=n.chart;if(o===n.proximity&&r.length)if(r.forEach(function(e){return e.onMouseOver()}),a.tooltip&&a.tooltip.refresh(r),t.useCustomCrosshair()){if(s)return;var i=n.el.querySelector("g.highcharts-axis").getBoundingClientRect().left+window.scrollX,c=r[0].plotX+i-1;t.showCrosshairAt(c);var l=t.eventsChart.getPointsAt(r[0].x);l?t.showEventsOnCrosshair(l):t.hideCrosshairEvents(),s=!0}else a.xAxis[0].drawCrosshair(e,r[0]);else a.pointer.reset()}),e.stopPropagation()}},onMouseLeave:function(e){!this.fetching&&this.hasCharts&&(this.useCustomCrosshair()&&this.hideCrosshair(),this.$charts.each(function(){a(this).highcharts().pointer.reset()}),e.stopPropagation())},onWindowResize:r.debounce(function(){this.collection.length&&(this.$charts.each(function(){a(this).highcharts().reflow()}),this.useCustomCrosshair()&&this.createCrosshair())},50),onDocumentMouseMove:function(e){this.onMouseLeave(e)},onDestroy:function(){a(document).off("mousemove.nmbl.synchronizedChart",this.onDocumentMouseMove)},onChartSelect:function(e){e.preventDefault(),this.triggerMethod("dragZoom",{min:y(e.xAxis[0].min).toDate(),max:y(e.xAxis[0].max).toDate()})},onCollectionSync:function(){this.rendered&&this.fetching&&(this.renderCharts(),this.$charts.each(function(){a(this).highcharts().reflow()}),this.createCrosshair(),this.fetching=!1,this.hideSpinner())},onError:function(e){var t=new g({model:new i.Model({message:"Error fetching data",error:e&&e.responseJSON?e.responseJSON.message:null})});this.showChildView("error",t),this.fetching=!1,this.hideSpinner()}});e.exports=c.extend({ViewConstructor:N,load:function(){var e=a.Deferred();return a.when(this.view.collection.fetch(),this.view.eventsCollection.fetch()).fail(r.bind(e.reject,e)).done(r.bind(e.resolve,e,this.view)),e}})},1239:function(e,t){e.exports='<p><i class="text-danger fa fa-exclamation-circle"></i> <%= message %></p>\n<% if (error) { %>\n<pre class="diagnostics"><%= error %></pre>\n<% } %>'},1240:function(e,t,n){var r=n(9),a=n(11);e.exports=a.Collection.extend({initialize:function(e,t){this.options=t},url:function(){var e=this.api().pod().account().segment("pools").segment(this.options.poolUid).segment("performance/coral").addQuery(this.options.rangeModel.getQueryParams());return this.options.arrayModel.get("serialNumber")&&e.addQuery("serialNumber",this.options.arrayModel.get("serialNumber")),e},calculateAverages:function(e){var t=this.length;return this.chain().reduce(function(t,n){return e.forEach(function(e){t[e]+=n.get(e)}),t},r(e).object(r.times(e.length,r.constant(0)))).mapObject(function(e){return e/t}).value()},calculateMaximums:function(e){return this.reduce(function(t,n){return e.forEach(function(e){t[e]=Math.max(t[e],n.get(e))}),t},r(e).object(r.times(e.length,r.constant(0))))},getSeries:function(e){return this.map(function(t){return{x:t.get("timestamp"),y:t.get(e)}})},parse:function(e){for(var t=0;t<e.length;t++){var n=e[t];n.iopsTotal=n.iopsRead+n.iopsWrite,n.latencyTotal=(n.latencyRead*n.iopsRead+n.latencyWrite*n.iopsWrite)/n.iopsTotal,n.mbpsTotal=n.mbpsRandomRead+n.mbpsRandomWrite+n.mbpsSequentialRead+n.mbpsSequentialWrite}return e}})},1241:function(e,t,n){var r=n(9),a=n(13),i=n(1242),o=n(1245);e.exports=a.LayoutView.extend({template:r.template(o),regions:{Read:'[data-region="read"]',Write:'[data-region="write"]'},onRender:function(e){this.maxIops=r.max(this.collection.calculateMaximums(["iopsRead","iopsWrite"])),["Read","Write"].forEach(this.showChild.bind(this))},showChild:function(e){this.showChildView(e,new i(r(this.options).extend({type:e,maxIops:this.maxIops})))}})},1242:function(e,t,n){var r=n(9),a=n(11),i=n(13),o=n(659),s=n(20),c=n(1243),l=n(1244);e.exports=i.ItemView.extend({template:r.template(c),tooltipTemplate:r.template(l),templateHelpers:function(){return{impactScoreColor:new o({percentile:this.model.get("weightedAverageSeverityPercentile")}).color,barPercent:s(this.model.get("averageIops")/this.options.maxIops).format("0%"),numeral:s}},initialize:function(e){this.chartDefaults=e.chartDefaults,this.type=e.type,this.model=this.buildModel()},buildModel:function(){var e=this.type,t=this.collection.reduce(function(t,n){return t.iops+=n.get("iops"+e),t.severityPercentile+=n.get("severityPercentile"+e)*n.get("iops"+e),t},{iops:0,severityPercentile:0});return new a.Model({type:this.type,averageIops:t.iops/this.collection.length,weightedAverageSeverityPercentile:t.severityPercentile/t.iops})},onRender:function(){var e=this.type;this.$("[data-chart]").highcharts("StockChart",r(this.chartDefaults({tooltipTemplate:this.tooltipTemplate,title:{text:e}})).extend({series:[{name:e,type:"column",data:this.collection.map(function(t){var n=new o({percentile:t.get("severityPercentile"+e)});return{x:t.get("timestamp"),y:t.get("iops"+e),color:n.color,impactScore:n,latency:t.get("latency"+e),type:e}})}],yAxis:r(this.chartDefaults({}).yAxis).extend({max:this.options.maxIops,title:{text:"IO/sec"}})}))}})},1243:function(e,t){e.exports='<div class="row expanded">\n    <div class="column small-20">\n        <div data-chart data-chart-synchronized></div>\n    </div>\n    <div class="column small-4 chart-summary">\n        <div class="panel panel-default">\n            <div class="panel-body">\n                <h6>Average <%= type %><span class="unit">IO/sec</span></h6>\n                <div class="bar">\n                    <div class="bar-fill"\n                         style="background-color: <%= impactScoreColor %>; width: <%= barPercent %>;"></div>\n                    <div class="bar-label" style="left: <%= barPercent %>;">\n                        <%= numeral(averageIops).format(\'0.0a\') %>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},1244:function(e,t){e.exports='<div class="clearfix" style="width: <%= width %>">\n    <div class="pull-right">\n        <ul>\n            <% var point = points[0]; %>\n            <li data-point="iops">\n                <span class="name"><%= point.point.type %> IO/<span style="text-transform: none">sec</span>: </span>\n                <span class="value"><%= numeral(point.y).format(\'0,0.0\') %></span>\n            </li>\n            <li data-point="latency">\n                <span class="name">Latency: </span>\n                <span class="value">\n                    <%= numeral(point.point.latency).format(\'0.0\') %>ms\n                </span>\n            </li>\n            <li data-point="impact-score">\n                <span class="name">Potential Impact:\n                    <i class="fa fa-square" style="color: <%= point.color %>;"></i>\n                </span>\n                <span class="value">\n                    <%= point.point.impactScore.render() %>\n                </span>\n            </li>\n        </ul>\n        <span class="timestamp"><%= timestamp %></span>\n    </div>\n</div>\n'},1245:function(e,t){e.exports='<div data-region="read"></div>\n<div data-region="write"></div>'},1246:function(e,t,n){var r=n(9),a=n(11),i=n(13),o=n(20),s=n(1247),c=n(660),l=n(1251),u=[{id:"latencyRead",name:"Read",color:c.read.toHexString()},{id:"latencyWrite",name:"Write",color:c.write.toHexString()}];e.exports=i.LayoutView.extend({template:r.template(l),templateHelpers:{numeral:o},regions:{factors:'[data-region="factorsChart"]'},initialize:function(e){var t=r.max(this.collection.calculateMaximums(r(u).pluck("id"))),n=this.collection.calculateAverages(r(u).pluck("id"));this.model=new a.Model({metrics:u.map(function(e){return r(e).extend({average:n[e.id],percent:o(n[e.id]/t).format("0%")})})})},onRender:function(){var e=this.collection;this.$('[data-chart="raw"]').highcharts("StockChart",r(this.options.chartDefaults({title:{text:"Raw"}})).extend({series:u.map(function(t){return r({data:e.getSeries(t.id)}).extend(t)}),yAxis:r(this.options.chartDefaults({}).yAxis).extend({title:{text:"ms"}})})),this.showChildView("factors",new s({chartDefaults:this.options.chartDefaults,collection:this.collection,allFlash:this.allFlash}))}})},1247:function(e,t,n){var r=n(9),a=n(11),i=n(13),o=n(1248),s=n(1250),c=[{id:"factorCache",name:"Cache Underprovisioning",abbreviation:"Cache",color:"#7cb5ec"},{id:"factorCpu",name:"CPU Saturation",abbreviation:"CPU",color:"#434348"},{id:"factorDisk",name:"Sequential I/O Contention",abbreviation:"Seq I/O",color:"#90ed7d"},{id:"factorHostNetwork",name:"Host Network",abbreviation:"Host/Net",color:"#f7a35c"},{id:"factorUnalignFixable",name:"Unaligned I/O",color:"#8085e9"},{id:"factorOther",name:"Other",color:"#f15c80"}],l=a.Model.extend({defaults:{threshold:5}});e.exports=i.LayoutView.extend({template:r.template(s),regions:{histogram:'[data-region="histogram"]'},bindings:{'input[name="threshold"]':{observe:"threshold",onSet:function(e){return Number.parseFloat(e)}}},modelEvents:{"change:threshold":"onChangeThreshold"},initialize:function(e){this.chartDefaults=e.chartDefaults,this.model=new l({threshold:e.allFlash?1:5})},onRender:function(){this.stickit(),this.renderTimeseriesChart(),this.renderHistogram()},renderTimeseriesChart:function(){this.collection;this.$('[data-chart="timeseries"]').highcharts("StockChart",r(this.chartDefaults({title:{text:"Factors"}})).extend({chart:r(this.chartDefaults(this).chart).extend({type:"area"}),series:c.map(this.getFactorSeries.bind(this)),yAxis:r(this.chartDefaults(this).yAxis).extend({title:{text:"ms"},min:0,minRange:1})}))},renderHistogram:function(){this.showChildView("histogram",new o({collection:this.collection,threshold:this.model.get("threshold"),factors:c}))},getFactorSeries:function(e){var t=this.model.get("threshold");return{name:e.abbreviation||e.name,color:e.color,data:this.collection.map(function(n){return{x:n.get("timestamp"),y:n.get("latencyTotal")>t?n.get(e.id)*n.get("latencyTotal"):0,color:e.color}})}},onChangeThreshold:r.debounce(function(){this.renderTimeseriesChart(),this.renderHistogram()},500)})},1248:function(e,t,n){var r=n(9),a=n(13),i=n(11),o=n(1249);e.exports=a.ItemView.extend({template:r.template(o),initialize:function(){this.series=this.getSeries(),this.model=new i.Model({primaryFactor:r(this.series).chain().sortBy("y").last().value()})},onRender:function(){this.chart=this.$('[data-chart="histogram"]').highcharts({credits:{enabled:!1},chart:{type:"bar",height:70,spacing:[0,0,0,1]},legend:{enabled:!1},title:{text:null},xAxis:{categories:r(this.getOption("factors")).pluck("name"),labels:{enabled:!1},minorTickLength:0,tickLength:0},yAxis:{min:0,visible:!1},series:[{data:this.series}],plotOptions:{series:{groupPadding:0}},tooltip:{formatter:function(){return this.point.name}}})},getSeries:function(){var e=r(this.getOption("factors")).pluck("id"),t=0,n=this.getOption("threshold"),a=this.collection.chain().reduce(function(r,a){var i=a.get("iopsRead")+a.get("iopsWrite");return(a.get("latencyRead")*a.get("iopsRead")+a.get("latencyWrite")*a.get("iopsWrite"))/i>n&&(t+=a.get("factorWindowWeight"),e.forEach(function(e){r[e]+=a.get(e)*a.get("factorWindowWeight")})),r},r(e).object(r.times(e.length,r.constant(0)))).mapObject(function(e){return 0===t?0:e/t}).value();return r(this.getOption("factors")).chain().map(function(e){return r(e).extend({y:a[e.id]})}).sortBy("y").value().reverse()},onAttach:function(){this.chart&&this.chart.highcharts().reflow()}})},1249:function(e,t){e.exports='<% if (primaryFactor.y === 0) { %>\n    <p>No read or write latency above threshold during this period</p>\n<% } else { %>\n    <p>Primary factor:<br/><strong style="color: <%= primaryFactor.color %>;"><%= primaryFactor.name %></strong></p>\n    <div data-chart="histogram"></div>\n<% } %>\n'},1250:function(e,t){e.exports='<div class="row expanded">\n    <div class="columns small-20">\n        <div data-chart="timeseries" data-chart-synchronized></div>\n    </div>\n    <div class="columns small-4 chart-summary">\n        <div class="panel panel-default">\n            <div class="panel-heading">\n                <div class="clearfix">\n                    <form>\n                        <div class="row align-right align-middle">\n                            <div class="small-9 columns">\n                                <label>Threshold</label>\n                            </div>\n                            <div class="small-6 columns">\n                                <input type="number" min="0" max="100" step="0.1" name="threshold">\n                            </div>\n                            <div class="small-3 columns threshold-unit">ms</div>\n                        </div>\n                    </form>\n                </div>\n            </div>\n            <div class="panel-body">\n                <div data-region="histogram"></div>\n            </div>\n        </div>\n    </div>\n</div>\n'},1251:function(e,t){e.exports='<div class="row expanded">\n    <div class="columns small-20">\n        <div data-chart="raw" data-chart-synchronized></div>\n    </div>\n    <div class="columns small-4 chart-summary">\n        <div class="panel panel-default">\n            <div class="panel-body">\n            <% metrics.forEach(function(metric) { %>\n                <h6>Average <%= metric.name %><span class="unit">ms</span></h6>\n                <div class="bar">\n                    <div class="bar-fill"\n                         style="background-color: <%= metric.color %>; width: <%= metric.percent %>;"></div>\n                    <div class="bar-label"\n                         style="left: <%= metric.percent %>"><%= numeral(metric.average).format(\'0.0\') %></div>\n                </div>\n            <% }); %>\n            </div>\n        </div>\n    </div>\n</div>\n<div data-region="factorsChart"></div>\n'},1252:function(e,t,n){var r=n(9),a=n(11),i=n(13),o=n(20),s=n(660),c=n(1253),l=[{id:"mbpsSequentialRead",name:"Seq Read",color:s.read.lighten().toHexString()},{id:"mbpsRandomRead",name:"Rand Read",color:s.read.darken().toHexString()},{id:"mbpsSequentialWrite",name:"Seq Write",color:s.write.lighten().toHexString()},{id:"mbpsRandomWrite",name:"Rand Write",color:s.write.darken().toHexString()}];e.exports=i.ItemView.extend({template:r.template(c),initialize:function(e){this.chartDefaults=e.chartDefaults;var t=r(l).pluck("id"),n=r.max(this.collection.calculateMaximums(t)),i=this.collection.calculateAverages(t),s=["Read","Write"].map(function(e){var t=0,a=0,s=0,c=["mbpsSequential","mbpsRandom"].map(function(c){var u=r(l).findWhere({id:c+e}),d=i[u.id],p=d/n;return t+=d,a+=p,p>s&&(s=p),a>1&&(a=s),r({average:o(d).format("0.0"),percent:o(p).format("0%"),type:c.slice(4)}).extend(u)});return{type:e,values:c,average:o(t).format("0.0"),percent:o(a).format("0%")}});this.model=new a.Model({metrics:s})},onRender:function(){var e=this.collection;this.$('[data-chart="mbps"]').highcharts("StockChart",r(this.chartDefaults()).extend({chart:r(this.chartDefaults(this).chart).extend({type:"area"}),series:l.map(function(t){return r(t).extend({data:e.getSeries(t.id)})}),yAxis:r(this.chartDefaults(this).yAxis).extend({title:{text:"MiB/sec"}})})),this.$('[data-toggle="popover"]').popover()}})},1253:function(e,t){e.exports='<div class="row expanded">\n    <div class="columns small-20">\n        <div data-chart="mbps" data-chart-synchronized></div>\n    </div>\n    <div class="columns small-4 chart-summary">\n        <div class="panel panel-default">\n            <div class="panel-body">\n                <% metrics.forEach(function(type) { %>\n                <h6>Average <%= type.type %><span class="unit">MiB/sec</span></h6>\n                <div class="bar">\n                    <% type.values.forEach(function(metric) { %>\n                    <div class="bar-fill" data-toggle="popover" data-trigger="hover" data-placement="bottom"\n                         data-content="<%= metric.type %>: <%= metric.average %> MiB/s"\n                         style="background-color: <%= metric.color %>; width: <%= metric.percent %>;"></div>\n                    <% }); %>\n                    <div class="bar-label" style="left: <%= type.percent %>"><%= type.average %></div>\n                </div>\n                <% }); %>\n            </div>\n        </div>\n    </div>\n</div>\n'},1254:function(e,t,n){var r=n(9),a=n(13),i=n(1255);e.exports=a.ItemView.extend({template:r.template(i),initialize:function(){this.data=this.getSeriesData()},onRender:function(){this.$("[data-chart]").highcharts("StockChart",r(this.options.chartDefaults({height:50,type:"scatter"})).extend({series:[{marker:{enabled:!0,symbol:"text:",states:{hover:{enabled:!1}}},data:this.data.toArray()}],tooltip:!1,yAxis:{visible:!1,max:1,min:-1}}))},getSeriesData:function(){var e=this.collection.first().get("timestamp"),t=this.collection.last().get("timestamp");this.options.eventsCollection.comparator=function(e){return e.get("date")},this.options.eventsCollection.sort();var n=0,a=this.collection.pluck("timestamp");return this.options.eventsCollection.filter(function(n){return n.get("date")>=e&&n.get("date")<=t}).reduce(function(e,t){var i=r({x:function(e){for(var t,r,i=n,o=a[i],s=Number.MAX_SAFE_INTEGER;i<a.length&&(t=a[i],!((r=Math.abs(t-e))>=s));)r<864e5&&r<s&&(o=t,s=Math.abs(o-e),n=i),i++;return o}(t.get("date")),y:0}).defaults(t.getFlagConfig()),o=e.points[i.x];return o?e.points[i.x]={x:o.x,y:0,color:"#235789",arrayEvents:(o.arrayEvents||[o]).concat(i)}:(e.points[i.x]=i,e.length++),e},{points:{},toArray:function(){return Object.keys(this.points).sort(function(e,t){return e-t}).map(r.propertyOf(this.points))},length:0})},isEmpty:function(){return 0===this.data.length},getPointsAt:function(e){return this.data.points[e]}})},1255:function(e,t){e.exports='<div class="row expanded">\n    <div class="column small-20">\n        <div data-chart="events" data-chart-synchronized></div>\n    </div>\n</div>\n'},1256:function(e,t,n){var r,a=n(24),i=n(9),o=n(11),s=n(662);function c(){return r||(r={},a.handleEvent("global","change:account",function(){r={}})),r}var l=o.Collection.extend({model:s,poolUid:void 0,category:null,monthRange:12,initialize:function(e,t){i.defaults(this,t),console.assert(!t||t&&t.poolUid,"poolUid must be provided")},url:function(){return this.api().pod().account().segment("pools").segment(this.poolUid).segment("events").addQuery({monthRange:this.monthRange,category:this.category})},fetch:function(e){return this.deferred||(this.deferred=o.Collection.prototype.fetch.call(this,e)),this.deferred}},{get:function(e){var t=c()[e];return t||(t=c()[e]=new l([],{poolUid:e})),t}});e.exports=l},1257:function(e,t){e.exports='<div data-errors></div>\n<div data-region="spinner"></div>\n<span class="hide" data-no-data>No performance data available</span>\n\n<div class="chart-content">\n    <div data-crosshair-container></div>\n    <div class="chart-group">\n        <h5>Events</h5>\n        <div data-region="events"></div>\n    </div>\n    <div class="chart-group">\n        <h5>IOPS</h5>\n        <div data-region="iops"></div>\n    </div>\n    <div class="chart-group">\n        <h5>Latency</h5>\n        <div data-region="latency"></div>\n    </div>\n    <div class="chart-group">\n        <h5>Throughput</h5>\n        <div data-region="mbps"></div>\n    </div>\n</div>\n'},1258:function(e,t){e.exports='<div class="clearfix" style="width: <%= width %>">\n    <div class="pull-right">\n        <ul>\n        <% for (var i = 0; i < points.length; i++) {\n            var point = points[i];\n        %>\n            <li>\n                <i class="fa fa-square" style="color: <%= point.color %>;"></i>\n                <span class="name"><%= point.series.name %>: </span>\n                <span class="value"><%= numeral(point.y).format(\'0,0.0\') %></span>\n            </li>\n        <% } %>\n        <% if (points[0].total != null) { %>\n            <li>\n                <span class="name">Total: </span>\n                <span class="value"><%= numeral(points[0].total).format(\'0,0.0\') %></span>\n            </li>\n        <% } %>\n        </ul>\n        <span class="timestamp"><%= timestamp %></span>\n    </div>\n</div>'},1259:function(e,t){e.exports='<ul class="list-unstyled" style="background-color: <%= color %>;">\n    <li class="date"><%= date %></li>\n    <% points.forEach(function(point) { %>\n    <li><%= point.text %></li>\n    <% }) %>\n</ul>'},126:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return s});var r=n(19),a=Object(r.actionNamespacer)("NIMBLE/INVENTORY"),i=a("FETCH_INVENTORY"),o=a("RESET"),s={GROUP:"NIMBLE.GROUP",ARRAY:"NIMBLE.ARRAY",POOL:"NIMBLE.POOL",FOLDER:"NIMBLE.FOLDER",VOLUME:"NIMBLE.VOLUME",APP_CATEGORY:"NIMBLE.APP_CATEGORY"}},1260:function(e,t,n){var r=n(9),a=n(13),i=n(1261);e.exports=a.ItemView.extend({ui:{overlay:".overlay-spinner"},template:r.template(i),showSpinner:function(){this.ui.overlay.addClass("on")},hideSpinner:function(){this.ui.overlay.removeClass("on")}})},1261:function(e,t){e.exports='<div class="overlay-spinner">\n    <div class="overlay"></div>\n    <div class="spinner sk-three-bounce">\n        <div class="sk-child sk-bounce1"></div>\n        <div class="sk-child sk-bounce2"></div>\n        <div class="sk-child sk-bounce3"></div>\n    </div>\n</div>'},1262:function(e,t){e.exports='<div class="coral-introduction asset-coral-introduction">\n\n    <p>This page provides an in depth analysis of your array\'s performance. Using these tools, you can correlate periods\n        of workload (via the IOPS and MBPS charts) with periods of latency.\n        <a href="#coral-view-more-help" data-toggle="collapse" href="#">More...</a>\n    </p>\n\n    <aside class="well well-sm collapse" id="coral-view-more-help">\n        <h4>Factors that may contribute to latency</h4>\n        <ul>\n            <li><strong>CPU: </strong> Potentially indicates CPU undersizing.</li>\n            <li><strong>Cache: </strong> Potentially indicates cache undersizing.</li>\n            <li><strong>Host/Network: </strong>Retransmits from the array suggesting the host or network is unable to\n                keep up with the array.\n            </li>\n            <li><strong>Sequential I/O Contention: </strong>Indicates disks are busy with sequential I/O.</li>\n            <li><strong>Unaligned I/O: </strong>IO that is not aligned to the volume block size and/or offset is\n                impacting performance. This is often due to problems with VMDK layout and/or Volume Block Size\n                selections.\n            </li>\n            <li><strong>Other: </strong>There may be other factors at play. If latency is unacceptably high and\n                throughput is low, it\'s recommended that you contact Nimble Support for assistance in troubleshooting\n                your environment.\n            </li>\n        </ul>\n\n        <h4>Potential Impact Score</h4>\n        <p>\n            The coloring in the performance chart depicts InfoSight\'s <b>Potential Impact Score</b> metric. Using\n            InfoSight intelligence, this score identifies those periods where the impact of latency on application\n            behavior is expected to be strongest. Larger-block operations, for example, tend to be more latent; at the\n            same time the workloads driving them tend to be less latency sensitive. InfoSight\'s Impact Score corrects\n            for this bias and highlights those latency events expected to cause the\n            most impact to end users when accessing applications.\n        </p>\n    </aside>\n</div>\n<div data-region="chart"></div>\n\n'},1263:function(e,t,n){e.exports={"toggle-container":"toggle-container__3ZATa"}},1264:function(e,t,n){e.exports={flagContainer:"flagContainer__oW_yt",eventDate:"eventDate__2KhIr",eventList:"eventList__1xtAR"}},1265:function(e,t,n){e.exports={"center-align-column":"center-align-column__20sbW",table:"table__1nmYH","right-align-column":"right-align-column__2MmMb","large-column":"large-column__3MYud","medium-column":"medium-column__2hESp","small-column":"small-column__1WSsQ"}},128:function(e,t,n){var r=n(9),a=n(165);e.exports=a.extend({defaults:r.defaults({},a.prototype.defaults),validate:function(e,t){return e.collection?a.prototype.validate.apply(this,arguments):'"collection" must be non-null'}})},129:function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"d",function(){return m}),n.d(t,"a",function(){return f}),n.d(t,"c",function(){return g});var r,a=n(19),i=n(58),o=n(28),s=n(632),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=c({},Object(a.getInitialState)("volume"),Object(a.getInitialState)("volumeCapacity"),Object(a.getInitialState)("volumePerformance")),d=c((l(r={},o.i,function(){return u}),l(r,s.a,function(){return u}),r),Object(a.createReducersForAction)({type:s.e,stateKey:"volume"}),Object(a.createReducersForAction)({type:s.b,stateKey:"volumeCapacity"}),Object(a.createReducersForAction)({type:s.c,stateKey:"volumePerformance"}));function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1],n=d[t.type];return n?n(e,t):e}var h=function(e){return Object(i.a)(e).volumeDetail},m=Object(a.createSelector)(h,"volume"),f=Object(a.createSelector)(h,"volumeCapacity"),g=Object(a.createSelector)(h,"volumePerformance")},13:function(e,t,n){var r,a;
/*!
 * Includes BabySitter
 * https://github.com/marionettejs/backbone.babysitter/
 *
 * Includes Wreqr
 * https://github.com/marionettejs/backbone.wreqr/
 */
/*!
 * Includes BabySitter
 * https://github.com/marionettejs/backbone.babysitter/
 *
 * Includes Wreqr
 * https://github.com/marionettejs/backbone.wreqr/
 */
!function(i,o){r=[n(11),n(9)],void 0===(a=function(e,t){return i.Marionette=i.Mn=function(e,t,n){"use strict";(function(e,t){var n=e.ChildViewContainer;e.ChildViewContainer=function(e,t){var n=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(e,this.add,this)};t.extend(n.prototype,{add:function(e,t){var n=e.cid;return this._views[n]=e,e.model&&(this._indexByModel[e.model.cid]=n),t&&(this._indexByCustom[t]=n),this._updateLength(),this},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var n=e.cid;return e.model&&delete this._indexByModel[e.model.cid],t.any(this._indexByCustom,function(e,t){if(e===n)return delete this._indexByCustom[t],!0},this),delete this._views[n],this._updateLength(),this},call:function(e){this.apply(e,t.tail(arguments))},apply:function(e,n){t.each(this._views,function(r){t.isFunction(r[e])&&r[e].apply(r,n||[])})},_updateLength:function(){this.length=t.size(this._views)}});return t.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck","reduce"],function(e){n.prototype[e]=function(){var n=t.values(this._views),r=[n].concat(t.toArray(arguments));return t[e].apply(t,r)}}),n}(0,t),e.ChildViewContainer.VERSION="0.1.7",e.ChildViewContainer.noConflict=function(){return e.ChildViewContainer=n,this},e.ChildViewContainer})(t,n),function(e,t){var n=e.Wreqr,r=e.Wreqr={};e.Wreqr.VERSION="1.3.3",e.Wreqr.noConflict=function(){return e.Wreqr=n,this},r.Handlers=function(e,t){var n=function(e){this.options=e,this._wreqrHandlers={},t.isFunction(this.initialize)&&this.initialize(e)};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events,{setHandlers:function(e){t.each(e,function(e,n){var r=null;t.isObject(e)&&!t.isFunction(e)&&(r=e.context,e=e.callback),this.setHandler(n,e,r)},this)},setHandler:function(e,t,n){var r={callback:t,context:n};this._wreqrHandlers[e]=r,this.trigger("handler:add",e,t,n)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(e){var t=this._wreqrHandlers[e];if(t)return function(){return t.callback.apply(t.context,arguments)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}}),n}(e,t),r.CommandStorage=function(){var n=function(e){this.options=e,this._commands={},t.isFunction(this.initialize)&&this.initialize(e)};return t.extend(n.prototype,e.Events,{getCommands:function(e){var t=this._commands[e];return t||(t={command:e,instances:[]},this._commands[e]=t),t},addCommand:function(e,t){var n=this.getCommands(e);n.instances.push(t)},clearCommands:function(e){var t=this.getCommands(e);t.instances=[]}}),n}(),r.Commands=function(e,t){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(t){this.options=t||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this),e.Handlers.prototype.constructor.apply(this,arguments)},execute:function(e){e=arguments[0];var n=t.rest(arguments);this.hasHandler(e)?this.getHandler(e).apply(this,n):this.storage.addCommand(e,n)},_executeCommands:function(e,n,r){var a=this.storage.getCommands(e);t.each(a.instances,function(e){n.apply(r,e)}),this.storage.clearCommands(e)},_initializeStorage:function(e){var n,r=e.storageType||this.storageType;n=t.isFunction(r)?new r:r,this.storage=n}})}(r,t),r.RequestResponse=function(e,t){return e.Handlers.extend({request:function(e){if(this.hasHandler(e))return this.getHandler(e).apply(this,t.rest(arguments))}})}(r,t),r.EventAggregator=function(e,t){var n=function(){};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events),n}(e,t),r.Channel=function(n){var r=function(t){this.vent=new e.Wreqr.EventAggregator,this.reqres=new e.Wreqr.RequestResponse,this.commands=new e.Wreqr.Commands,this.channelName=t};return t.extend(r.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(e,t){return this._connect("vent",e,t),this},connectCommands:function(e,t){return this._connect("commands",e,t),this},connectRequests:function(e,t){return this._connect("reqres",e,t),this},_connect:function(e,n,r){if(n){r=r||this;var a="vent"===e?"on":"setHandler";t.each(n,function(n,i){this[e][a](i,t.bind(n,r))},this)}}}),r}(),r.radio=function(e,t){var n=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};t.extend(n.prototype,{channel:function(e){if(!e)throw new Error("Channel must receive a name");return this._getChannel(e)},_getChannel:function(t){var n=this._channels[t];return n||(n=new e.Channel(t),this._channels[t]=n),n},_proxyMethods:function(){t.each(["vent","commands","reqres"],function(e){t.each(r[e],function(t){this[e][t]=a(this,e,t)},this)},this)}});var r={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},a=function(e,n,r){return function(a){var i=e._getChannel(a)[n];return i[r].apply(i,t.rest(arguments))}};return new n}(r,t),e.Wreqr}(t,n);var r=e.Marionette,a=e.Mn,i=t.Marionette={};i.VERSION="2.4.2",i.noConflict=function(){return e.Marionette=r,e.Mn=a,this},t.Marionette=i,i.Deferred=t.$.Deferred,i.extend=t.Model.extend,i.isNodeAttached=function(e){return t.$.contains(document.documentElement,e)},i.mergeOptions=function(e,t){e&&n.extend(this,n.pick(e,t))},i.getOption=function(e,t){if(e&&t)return e.options&&void 0!==e.options[t]?e.options[t]:e[t]},i.proxyGetOption=function(e){return i.getOption(this,e)},i._getValue=function(e,t,r){return n.isFunction(e)&&(e=r?e.apply(t,r):e.call(t)),e},i.normalizeMethods=function(e){return n.reduce(e,function(e,t,r){return n.isFunction(t)||(t=this[t]),t&&(e[r]=t),e},{},this)},i.normalizeUIString=function(e,t){return e.replace(/@ui\.[a-zA-Z_$0-9]*/g,function(e){return t[e.slice(4)]})},i.normalizeUIKeys=function(e,t){return n.reduce(e,function(e,n,r){var a=i.normalizeUIString(r,t);return e[a]=n,e},{})},i.normalizeUIValues=function(e,t,r){return n.each(e,function(a,o){n.isString(a)?e[o]=i.normalizeUIString(a,t):n.isObject(a)&&n.isArray(r)&&(n.extend(a,i.normalizeUIValues(n.pick(a,r),t)),n.each(r,function(e){var r=a[e];n.isString(r)&&(a[e]=i.normalizeUIString(r,t))}))}),e},i.actAsCollection=function(e,t){n.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"],function(r){e[r]=function(){var e=n.values(n.result(this,t)),a=[e].concat(n.toArray(arguments));return n[r].apply(n,a)}})};var o=i.deprecate=function(e,t){n.isObject(e)&&(e=e.prev+" is going to be removed in the future. Please use "+e.next+" instead."+(e.url?" See: "+e.url:"")),void 0!==t&&t||o._cache[e]||(o._warn("Deprecation warning: "+e),o._cache[e]=!0)};o._warn="undefined"!=typeof console&&(console.warn||console.log)||function(){},o._cache={},i._triggerMethod=function(){var e=/(^|:)(\w)/gi;function t(e,t,n){return n.toUpperCase()}return function(r,a,i){var o=arguments.length<3;o&&(a=(i=a)[0]);var s,c="on"+a.replace(e,t),l=r[c];return n.isFunction(l)&&(s=l.apply(r,o?n.rest(i):i)),n.isFunction(r.trigger)&&(o+i.length>1?r.trigger.apply(r,o?i:[a].concat(n.drop(i,0))):r.trigger(a)),s}}(),i.triggerMethod=function(e){return i._triggerMethod(this,arguments)},i.triggerMethodOn=function(e){var t=n.isFunction(e.triggerMethod)?e.triggerMethod:i.triggerMethod;return t.apply(e,n.rest(arguments))},i.MonitorDOMRefresh=function(e){function t(){e._isShown&&e._isRendered&&i.isNodeAttached(e.el)&&n.isFunction(e.triggerMethod)&&e.triggerMethod("dom:refresh")}e.on({show:function(){e._isShown=!0,t()},render:function(){e._isRendered=!0,t()}})},function(e){function t(t,r,a,i){var o=i.split(/\s+/);n.each(o,function(n){var i=t[n];if(!i)throw new e.Error('Method "'+n+'" was configured as an event handler, but does not exist.');t.listenTo(r,a,i)})}function r(e,t,n,r){e.listenTo(t,n,r)}function a(e,t,r,a){var i=a.split(/\s+/);n.each(i,function(n){var a=e[n];e.stopListening(t,r,a)})}function i(e,t,n,r){e.stopListening(t,n,r)}function o(t,r,a,i,o){if(r&&a){if(!n.isObject(a))throw new e.Error({message:"Bindings must be an object or function.",url:"marionette.functions.html#marionettebindentityevents"});a=e._getValue(a,t),n.each(a,function(e,a){n.isFunction(e)?i(t,r,a,e):o(t,r,a,e)})}}e.bindEntityEvents=function(e,n,a){o(e,n,a,r,t)},e.unbindEntityEvents=function(e,t,n){o(e,t,n,i,a)},e.proxyBindEntityEvents=function(t,n){return e.bindEntityEvents(this,t,n)},e.proxyUnbindEntityEvents=function(t,n){return e.unbindEntityEvents(this,t,n)}}(i);var s=["description","fileName","lineNumber","name","message","number"];return i.Error=i.extend.call(Error,{urlRoot:"http://marionettejs.com/docs/v"+i.VERSION+"/",constructor:function(e,t){n.isObject(e)?e=(t=e).message:t||(t={});var r=Error.call(this,e);n.extend(this,n.pick(r,s),n.pick(t,s)),this.captureStackTrace(),t.url&&(this.url=this.urlRoot+t.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,i.Error)},toString:function(){return this.name+": "+this.message+(this.url?" See: "+this.url:"")}}),i.Error.extend=i.extend,i.Callbacks=function(){this._deferred=i.Deferred(),this._callbacks=[]},n.extend(i.Callbacks.prototype,{add:function(e,t){var r=n.result(this._deferred,"promise");this._callbacks.push({cb:e,ctx:t}),r.then(function(n){t&&(n.context=t),e.call(n.context,n.options)})},run:function(e,t){this._deferred.resolve({options:e,context:t})},reset:function(){var e=this._callbacks;this._deferred=i.Deferred(),this._callbacks=[],n.each(e,function(e){this.add(e.cb,e.ctx)},this)}}),i.Controller=function(e){this.options=e||{},n.isFunction(this.initialize)&&this.initialize(this.options)},i.Controller.extend=i.extend,n.extend(i.Controller.prototype,t.Events,{destroy:function(){return i._triggerMethod(this,"before:destroy",arguments),i._triggerMethod(this,"destroy",arguments),this.stopListening(),this.off(),this},triggerMethod:i.triggerMethod,mergeOptions:i.mergeOptions,getOption:i.proxyGetOption}),i.Object=function(e){this.options=n.extend({},n.result(this,"options"),e),this.initialize.apply(this,arguments)},i.Object.extend=i.extend,n.extend(i.Object.prototype,t.Events,{initialize:function(){},destroy:function(){return this.triggerMethod("before:destroy"),this.triggerMethod("destroy"),this.stopListening(),this},triggerMethod:i.triggerMethod,mergeOptions:i.mergeOptions,getOption:i.proxyGetOption,bindEntityEvents:i.proxyBindEntityEvents,unbindEntityEvents:i.proxyUnbindEntityEvents}),i.Region=i.Object.extend({constructor:function(e){if(this.options=e||{},this.el=this.getOption("el"),this.el=this.el instanceof t.$?this.el[0]:this.el,!this.el)throw new i.Error({name:"NoElError",message:'An "el" must be specified for a region.'});this.$el=this.getEl(this.el),i.Object.call(this,e)},show:function(e,t){if(this._ensureElement()){this._ensureViewIsIntact(e);var r=t||{},a=e!==this.currentView,o=!!r.preventDestroy,s=!!r.forceShow,c=!!this.currentView,l=a&&!o,u=a||s;if(c&&this.triggerMethod("before:swapOut",this.currentView,this,t),this.currentView&&delete this.currentView._parent,l?this.empty():c&&u&&this.currentView.off("destroy",this.empty,this),u){e.once("destroy",this.empty,this),e.render(),e._parent=this,c&&this.triggerMethod("before:swap",e,this,t),this.triggerMethod("before:show",e,this,t),i.triggerMethodOn(e,"before:show",e,this,t),c&&this.triggerMethod("swapOut",this.currentView,this,t);var d=i.isNodeAttached(this.el),p=[],h=n.extend({triggerBeforeAttach:this.triggerBeforeAttach,triggerAttach:this.triggerAttach},r);return d&&h.triggerBeforeAttach&&(p=this._displayedViews(e),this._triggerAttach(p,"before:")),this.attachHtml(e),this.currentView=e,d&&h.triggerAttach&&(p=this._displayedViews(e),this._triggerAttach(p)),c&&this.triggerMethod("swap",e,this,t),this.triggerMethod("show",e,this,t),i.triggerMethodOn(e,"show",e,this,t),this}return this}},triggerBeforeAttach:!0,triggerAttach:!0,_triggerAttach:function(e,t){var r=(t||"")+"attach";n.each(e,function(e){i.triggerMethodOn(e,r,e,this)},this)},_displayedViews:function(e){return n.union([e],n.result(e,"_getNestedViews")||[])},_ensureElement:function(){if(n.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]),!this.$el||0===this.$el.length){if(this.getOption("allowMissingEl"))return!1;throw new i.Error('An "el" '+this.$el.selector+" must exist in DOM")}return!0},_ensureViewIsIntact:function(e){if(!e)throw new i.Error({name:"ViewNotValid",message:"The view passed is undefined and therefore invalid. You must pass a view instance to show."});if(e.isDestroyed)throw new i.Error({name:"ViewDestroyedError",message:'View (cid: "'+e.cid+'") has already been destroyed and cannot be used.'})},getEl:function(e){return t.$(e,i._getValue(this.options.parentEl,this))},attachHtml:function(e){this.$el.contents().detach(),this.el.appendChild(e.el)},empty:function(e){var t=this.currentView,n=i._getValue(e,"preventDestroy",this);if(t)return t.off("destroy",this.empty,this),this.triggerMethod("before:empty",t),n||this._destroyView(),this.triggerMethod("empty",t),delete this.currentView,n&&this.$el.contents().detach(),this},_destroyView:function(){var e=this.currentView;e.destroy&&!e.isDestroyed?e.destroy():e.remove&&(e.remove(),e.isDestroyed=!0)},attachView:function(e){return this.currentView=e,this},hasView:function(){return!!this.currentView},reset:function(){return this.empty(),this.$el&&(this.el=this.$el.selector),delete this.$el,this}},{buildRegion:function(e,t){if(n.isString(e))return this._buildRegionFromSelector(e,t);if(e.selector||e.el||e.regionClass)return this._buildRegionFromObject(e,t);if(n.isFunction(e))return this._buildRegionFromRegionClass(e);throw new i.Error({message:"Improper region configuration type.",url:"marionette.region.html#region-configuration-types"})},_buildRegionFromSelector:function(e,t){return new t({el:e})},_buildRegionFromObject:function(e,t){var r=e.regionClass||t,a=n.omit(e,"selector","regionClass");return e.selector&&!a.el&&(a.el=e.selector),new r(a)},_buildRegionFromRegionClass:function(e){return new e}}),i.RegionManager=i.Controller.extend({constructor:function(e){this._regions={},this.length=0,i.Controller.call(this,e),this.addRegions(this.getOption("regions"))},addRegions:function(e,t){return e=i._getValue(e,this,arguments),n.reduce(e,function(e,r,a){return n.isString(r)&&(r={selector:r}),r.selector&&(r=n.defaults({},r,t)),e[a]=this.addRegion(a,r),e},{},this)},addRegion:function(e,t){var n;return n=t instanceof i.Region?t:i.Region.buildRegion(t,i.Region),this.triggerMethod("before:add:region",e,n),n._parent=this,this._store(e,n),this.triggerMethod("add:region",e,n),n},get:function(e){return this._regions[e]},getRegions:function(){return n.clone(this._regions)},removeRegion:function(e){var t=this._regions[e];return this._remove(e,t),t},removeRegions:function(){var e=this.getRegions();return n.each(this._regions,function(e,t){this._remove(t,e)},this),e},emptyRegions:function(){var e=this.getRegions();return n.invoke(e,"empty"),e},destroy:function(){return this.removeRegions(),i.Controller.prototype.destroy.apply(this,arguments)},_store:function(e,t){this._regions[e]||this.length++,this._regions[e]=t},_remove:function(e,t){this.triggerMethod("before:remove:region",e,t),t.empty(),t.stopListening(),delete t._parent,delete this._regions[e],this.length--,this.triggerMethod("remove:region",e,t)}}),i.actAsCollection(i.RegionManager.prototype,"_regions"),i.TemplateCache=function(e){this.templateId=e},n.extend(i.TemplateCache,{templateCaches:{},get:function(e,t){var n=this.templateCaches[e];return n||(n=new i.TemplateCache(e),this.templateCaches[e]=n),n.load(t)},clear:function(){var e,t=n.toArray(arguments),r=t.length;if(r>0)for(e=0;e<r;e++)delete this.templateCaches[t[e]];else this.templateCaches={}}}),n.extend(i.TemplateCache.prototype,{load:function(e){if(this.compiledTemplate)return this.compiledTemplate;var t=this.loadTemplate(this.templateId,e);return this.compiledTemplate=this.compileTemplate(t,e),this.compiledTemplate},loadTemplate:function(e,n){var r=t.$(e).html();if(!r||0===r.length)throw new i.Error({name:"NoTemplateError",message:'Could not find template: "'+e+'"'});return r},compileTemplate:function(e,t){return n.template(e,t)}}),i.Renderer={render:function(e,t){if(!e)throw new i.Error({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."});return(n.isFunction(e)?e:i.TemplateCache.get(e))(t)}},i.View=t.View.extend({isDestroyed:!1,constructor:function(e){n.bindAll(this,"render"),e=i._getValue(e,this),this.options=n.extend({},n.result(this,"options"),e),this._behaviors=i.Behaviors(this),t.View.call(this,this.options),this.delegateEntityEvents(),i.MonitorDOMRefresh(this)},getTemplate:function(){return this.getOption("template")},serializeModel:function(e){return e.toJSON.apply(e,n.rest(arguments))},mixinTemplateHelpers:function(e){e=e||{};var t=this.getOption("templateHelpers");return t=i._getValue(t,this),n.extend(e,t)},normalizeUIKeys:function(e){var t=n.result(this,"_uiBindings");return i.normalizeUIKeys(e,t||n.result(this,"ui"))},normalizeUIValues:function(e,t){var r=n.result(this,"ui"),a=n.result(this,"_uiBindings");return i.normalizeUIValues(e,a||r,t)},configureTriggers:function(){if(this.triggers){var e=this.normalizeUIKeys(n.result(this,"triggers"));return n.reduce(e,function(e,t,n){return e[n]=this._buildViewTrigger(t),e},{},this)}},delegateEvents:function(e){var r=i._getValue(e||this.events,this);r=this.normalizeUIKeys(r),n.isUndefined(e)&&(this.events=r);var a={},o=n.result(this,"behaviorEvents")||{},s=this.configureTriggers(),c=n.result(this,"behaviorTriggers")||{};return n.extend(a,o,r,s,c),t.View.prototype.delegateEvents.call(this,a),this},delegateEntityEvents:function(){return this.undelegateEntityEvents(),this.bindEntityEvents(this.model,this.getOption("modelEvents")),this.bindEntityEvents(this.collection,this.getOption("collectionEvents")),n.each(this._behaviors,function(e){e.bindEntityEvents(this.model,e.getOption("modelEvents")),e.bindEntityEvents(this.collection,e.getOption("collectionEvents"))},this),this},undelegateEntityEvents:function(){return this.unbindEntityEvents(this.model,this.getOption("modelEvents")),this.unbindEntityEvents(this.collection,this.getOption("collectionEvents")),n.each(this._behaviors,function(e){e.unbindEntityEvents(this.model,e.getOption("modelEvents")),e.unbindEntityEvents(this.collection,e.getOption("collectionEvents"))},this),this},_ensureViewIsIntact:function(){if(this.isDestroyed)throw new i.Error({name:"ViewDestroyedError",message:'View (cid: "'+this.cid+'") has already been destroyed and cannot be used.'})},destroy:function(){if(this.isDestroyed)return this;var e=n.toArray(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(e)),this.isDestroyed=!0,this.triggerMethod.apply(this,["destroy"].concat(e)),this.unbindUIElements(),this.isRendered=!1,this.remove(),n.invoke(this._behaviors,"destroy",e),this},bindUIElements:function(){this._bindUIElements(),n.invoke(this._behaviors,this._bindUIElements)},_bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var e=n.result(this,"_uiBindings");this.ui={},n.each(e,function(e,t){this.ui[t]=this.$(e)},this)}},unbindUIElements:function(){this._unbindUIElements(),n.invoke(this._behaviors,this._unbindUIElements)},_unbindUIElements:function(){this.ui&&this._uiBindings&&(n.each(this.ui,function(e,t){delete this.ui[t]},this),this.ui=this._uiBindings,delete this._uiBindings)},_buildViewTrigger:function(e){var t=n.isObject(e),r=n.defaults({},t?e:{},{preventDefault:!0,stopPropagation:!0}),a=t?r.event:e;return function(e){e&&(e.preventDefault&&r.preventDefault&&e.preventDefault(),e.stopPropagation&&r.stopPropagation&&e.stopPropagation());var t={view:this,model:this.model,collection:this.collection};this.triggerMethod(a,t)}},setElement:function(){var e=t.View.prototype.setElement.apply(this,arguments);return n.invoke(this._behaviors,"proxyViewProperties",this),e},triggerMethod:function(){var e=i._triggerMethod(this,arguments);return this._triggerEventOnBehaviors(arguments),this._triggerEventOnParentLayout(arguments[0],n.rest(arguments)),e},_triggerEventOnBehaviors:function(e){for(var t=i._triggerMethod,n=this._behaviors,r=0,a=n&&n.length;r<a;r++)t(n[r],e)},_triggerEventOnParentLayout:function(e,t){var r=this._parentLayoutView();if(r){var a=i.getOption(r,"childViewEventPrefix")+":"+e;i._triggerMethod(r,[a,this].concat(t));var o=i.getOption(r,"childEvents"),s=r.normalizeMethods(o);s&&n.isFunction(s[e])&&s[e].apply(r,[this].concat(t))}},_getImmediateChildren:function(){return[]},_getNestedViews:function(){var e=this._getImmediateChildren();return e.length?n.reduce(e,function(e,t){return t._getNestedViews?e.concat(t._getNestedViews()):e},e):e},_getAncestors:function(){for(var e=[],t=this._parent;t;)e.push(t),t=t._parent;return e},_parentLayoutView:function(){var e=this._getAncestors();return n.find(e,function(e){return e instanceof i.LayoutView})},normalizeMethods:i.normalizeMethods,mergeOptions:i.mergeOptions,getOption:i.proxyGetOption,bindEntityEvents:i.proxyBindEntityEvents,unbindEntityEvents:i.proxyUnbindEntityEvents}),i.ItemView=i.View.extend({constructor:function(){i.View.apply(this,arguments)},serializeData:function(){if(!this.model&&!this.collection)return{};var e=[this.model||this.collection];return arguments.length&&e.push.apply(e,arguments),this.model?this.serializeModel.apply(this,e):{items:this.serializeCollection.apply(this,e)}},serializeCollection:function(e){return e.toJSON.apply(e,n.rest(arguments))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderTemplate(),this.isRendered=!0,this.bindUIElements(),this.triggerMethod("render",this),this},_renderTemplate:function(){var e=this.getTemplate();if(!1!==e){if(!e)throw new i.Error({name:"UndefinedTemplateError",message:"Cannot render the template since it is null or undefined."});var t=this.mixinTemplateHelpers(this.serializeData()),n=i.Renderer.render(e,t,this);return this.attachElContent(n),this}},attachElContent:function(e){return this.$el.html(e),this}}),i.CollectionView=i.View.extend({childViewEventPrefix:"childview",sort:!0,constructor:function(e){this.once("render",this._initialEvents),this._initChildViewStorage(),i.View.apply(this,arguments),this.on({"before:show":this._onBeforeShowCalled,show:this._onShowCalled,"before:attach":this._onBeforeAttachCalled,attach:this._onAttachCalled}),this.initRenderBuffer()},initRenderBuffer:function(){this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){var e,t=this._isShown&&i.isNodeAttached(this.el);this.isBuffering=!1,this._isShown&&this._triggerMethodMany(this._bufferedChildren,this,"before:show"),t&&this._triggerBeforeAttach&&(e=this._getNestedViews(),this._triggerMethodMany(e,this,"before:attach")),this.attachBuffer(this,this._createBuffer()),t&&this._triggerAttach&&(e=this._getNestedViews(),this._triggerMethodMany(e,this,"attach")),this._isShown&&this._triggerMethodMany(this._bufferedChildren,this,"show"),this.initRenderBuffer()},_triggerMethodMany:function(e,t,r){var a=n.drop(arguments,3);n.each(e,function(e){i.triggerMethodOn.apply(e,[e,r,e,t].concat(a))})},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.getOption("sort")&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(e,t,r){var a;if(a=void 0!==r.at?r.at:n.indexOf(this._filteredSortedModels(),e),this._shouldAddChild(e,a)){this.destroyEmptyView();var i=this.getChildView(e);this.addChild(e,i,a)}},_onCollectionRemove:function(e){var t=this.children.findByModel(e);this.removeChildView(t),this.checkEmpty()},_onBeforeShowCalled:function(){this._triggerBeforeAttach=this._triggerAttach=!1,this.children.each(function(e){i.triggerMethodOn(e,"before:show",e)})},_onShowCalled:function(){this.children.each(function(e){i.triggerMethodOn(e,"show",e)})},_onBeforeAttachCalled:function(){this._triggerBeforeAttach=!0},_onAttachCalled:function(){this._triggerAttach=!0},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderChildren(),this.isRendered=!0,this.triggerMethod("render",this),this},reorder:function(){var e=this.children,t=this._filteredSortedModels();if(n.find(t,function(t){return!e.findByModel(t)}))this.render();else{var r=n.map(t,function(t,n){var r=e.findByModel(t);return r._index=n,r.el});this.triggerMethod("before:reorder"),this._appendReorderedChildren(r),this.triggerMethod("reorder")}},resortView:function(){i.getOption(this,"reorderOnSort")?this.reorder():this.render()},_sortViews:function(){var e=this._filteredSortedModels();n.find(e,function(e,t){var n=this.children.findByModel(e);return!n||n._index!==t},this)&&this.resortView()},_emptyViewIndex:-1,_appendReorderedChildren:function(e){this.$el.append(e)},_renderChildren:function(){this.destroyEmptyView(),this.destroyChildren({checkEmpty:!1}),this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod("render:collection",this),this.children.isEmpty()&&this.showEmptyView())},showCollection:function(){var e,t=this._filteredSortedModels();n.each(t,function(t,n){e=this.getChildView(t),this.addChild(t,e,n)},this)},_filteredSortedModels:function(){var e,t=this.getViewComparator();return e=t?n.isString(t)||1===t.length?this.collection.sortBy(t,this):n.clone(this.collection.models).sort(n.bind(t,this)):this.collection.models,this.getOption("filter")&&(e=n.filter(e,function(e,t){return this._shouldAddChild(e,t)},this)),e},showEmptyView:function(){var e=this.getEmptyView();if(e&&!this._showingEmptyView){this.triggerMethod("before:render:empty"),this._showingEmptyView=!0;var n=new t.Model;this.addEmptyView(n,e),this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.triggerMethod("before:remove:empty"),this.destroyChildren(),delete this._showingEmptyView,this.triggerMethod("remove:empty"))},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(e,t){var r,a=this._isShown&&!this.isBuffering&&i.isNodeAttached(this.el),o=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");n.isFunction(o)&&(o=o.call(this,e,this._emptyViewIndex));var s=this.buildChildView(e,t,o);s._parent=this,this.proxyChildEvents(s),this._isShown&&i.triggerMethodOn(s,"before:show",s),this.children.add(s),a&&this._triggerBeforeAttach&&(r=[s].concat(s._getNestedViews()),s.once("render",function(){this._triggerMethodMany(r,this,"before:attach")},this)),this.renderChildView(s,this._emptyViewIndex),a&&this._triggerAttach&&(r=[s].concat(s._getNestedViews()),this._triggerMethodMany(r,this,"attach")),this._isShown&&i.triggerMethodOn(s,"show",s)},getChildView:function(e){var t=this.getOption("childView");if(!t)throw new i.Error({name:"NoChildViewError",message:'A "childView" must be specified'});return t},addChild:function(e,t,n){var r=this.getOption("childViewOptions");r=i._getValue(r,this,[e,n]);var a=this.buildChildView(e,t,r);return this._updateIndices(a,!0,n),this.triggerMethod("before:add:child",a),this._addChildView(a,n),this.triggerMethod("add:child",a),a._parent=this,a},_updateIndices:function(e,t,n){this.getOption("sort")&&(t&&(e._index=n),this.children.each(function(n){n._index>=e._index&&(n._index+=t?1:-1)}))},_addChildView:function(e,t){var n,r=this._isShown&&!this.isBuffering&&i.isNodeAttached(this.el);this.proxyChildEvents(e),this._isShown&&!this.isBuffering&&i.triggerMethodOn(e,"before:show",e),this.children.add(e),r&&this._triggerBeforeAttach&&(n=[e].concat(e._getNestedViews()),e.once("render",function(){this._triggerMethodMany(n,this,"before:attach")},this)),this.renderChildView(e,t),r&&this._triggerAttach&&(n=[e].concat(e._getNestedViews()),this._triggerMethodMany(n,this,"attach")),this._isShown&&!this.isBuffering&&i.triggerMethodOn(e,"show",e)},renderChildView:function(e,t){return e.render(),this.attachHtml(this,e,t),e},buildChildView:function(e,t,r){return new t(n.extend({model:e},r))},removeChildView:function(e){return e&&(this.triggerMethod("before:remove:child",e),e.destroy?e.destroy():e.remove&&e.remove(),delete e._parent,this.stopListening(e),this.children.remove(e),this.triggerMethod("remove:child",e),this._updateIndices(e,!1)),e},isEmpty:function(){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(e,t){e.$el.append(t)},_createBuffer:function(){var e=document.createDocumentFragment();return n.each(this._bufferedChildren,function(t){e.appendChild(t.el)}),e},attachHtml:function(e,t,n){e.isBuffering?e._bufferedChildren.splice(n,0,t):e._insertBefore(t,n)||e._insertAfter(t)},_insertBefore:function(e,t){var n;return this.getOption("sort")&&t<this.children.length-1&&(n=this.children.find(function(e){return e._index===t+1})),!!n&&(n.$el.before(e.el),!0)},_insertAfter:function(e){this.$el.append(e.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},destroy:function(){return this.isDestroyed?this:(this.triggerMethod("before:destroy:collection"),this.destroyChildren({checkEmpty:!1}),this.triggerMethod("destroy:collection"),i.View.prototype.destroy.apply(this,arguments))},destroyChildren:function(e){var t=e||{},r=!0,a=this.children.map(n.identity);return n.isUndefined(t.checkEmpty)||(r=t.checkEmpty),this.children.each(this.removeChildView,this),r&&this.checkEmpty(),a},_shouldAddChild:function(e,t){var r=this.getOption("filter");return!n.isFunction(r)||r.call(this,e,t,this.collection)},proxyChildEvents:function(e){var t=this.getOption("childViewEventPrefix");this.listenTo(e,"all",function(){var r=n.toArray(arguments),a=r[0],i=this.normalizeMethods(n.result(this,"childEvents"));r[0]=t+":"+a,r.splice(1,0,e),void 0!==i&&n.isFunction(i[a])&&i[a].apply(this,r.slice(1)),this.triggerMethod.apply(this,r)})},_getImmediateChildren:function(){return n.values(this.children._views)},getViewComparator:function(){return this.getOption("viewComparator")}}),i.CompositeView=i.CollectionView.extend({constructor:function(){i.CollectionView.apply(this,arguments)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this._renderChildren),this.getOption("sort")&&this.listenTo(this.collection,"sort",this._sortViews))},getChildView:function(e){return this.getOption("childView")||this.constructor},serializeData:function(){var e={};return this.model&&(e=n.partial(this.serializeModel,this.model).apply(this,arguments)),e},render:function(){return this._ensureViewIsIntact(),this._isRendering=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this._renderChildren(),this._isRendering=!1,this.isRendered=!0,this.triggerMethod("render",this),this},_renderChildren:function(){(this.isRendered||this._isRendering)&&i.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var e={};e=this.serializeData(),e=this.mixinTemplateHelpers(e),this.triggerMethod("before:render:template");var t=this.getTemplate(),n=i.Renderer.render(t,e,this);this.attachElContent(n),this.bindUIElements(),this.triggerMethod("render:template")},attachElContent:function(e){return this.$el.html(e),this},attachBuffer:function(e,t){this.getChildViewContainer(e).append(t)},_insertAfter:function(e){this.getChildViewContainer(this,e).append(e.el)},_appendReorderedChildren:function(e){this.getChildViewContainer(this).append(e)},getChildViewContainer:function(e,t){if(e.$childViewContainer)return e.$childViewContainer;var n,r=i.getOption(e,"childViewContainer");if(r){var a=i._getValue(r,e);if((n="@"===a.charAt(0)&&e.ui?e.ui[a.substr(4)]:e.$(a)).length<=0)throw new i.Error({name:"ChildViewContainerMissingError",message:'The specified "childViewContainer" was not found: '+e.childViewContainer})}else n=e.$el;return e.$childViewContainer=n,n},resetChildViewContainer:function(){this.$childViewContainer&&(this.$childViewContainer=void 0)}}),i.LayoutView=i.ItemView.extend({regionClass:i.Region,options:{destroyImmediate:!1},childViewEventPrefix:"childview",constructor:function(e){e=e||{},this._firstRender=!0,this._initializeRegions(e),i.ItemView.call(this,e)},render:function(){return this._ensureViewIsIntact(),this._firstRender?this._firstRender=!1:this._reInitializeRegions(),i.ItemView.prototype.render.apply(this,arguments)},destroy:function(){return this.isDestroyed?this:(!0===this.getOption("destroyImmediate")&&this.$el.remove(),this.regionManager.destroy(),i.ItemView.prototype.destroy.apply(this,arguments))},showChildView:function(e,t){return this.getRegion(e).show(t)},getChildView:function(e){return this.getRegion(e).currentView},addRegion:function(e,t){var n={};return n[e]=t,this._buildRegions(n)[e]},addRegions:function(e){return this.regions=n.extend({},this.regions,e),this._buildRegions(e)},removeRegion:function(e){return delete this.regions[e],this.regionManager.removeRegion(e)},getRegion:function(e){return this.regionManager.get(e)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(e){var t={regionClass:this.getOption("regionClass"),parentEl:n.partial(n.result,this,"el")};return this.regionManager.addRegions(e,t)},_initializeRegions:function(e){var t;this._initRegionManager(),t=i._getValue(this.regions,this,[e])||{};var r=this.getOption.call(e,"regions");r=i._getValue(r,this,[e]),n.extend(t,r),t=this.normalizeUIValues(t,["selector","el"]),this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.invoke("reset")},getRegionManager:function(){return new i.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager(),this.regionManager._parent=this,this.listenTo(this.regionManager,"before:add:region",function(e){this.triggerMethod("before:add:region",e)}),this.listenTo(this.regionManager,"add:region",function(e,t){this[e]=t,this.triggerMethod("add:region",e,t)}),this.listenTo(this.regionManager,"before:remove:region",function(e){this.triggerMethod("before:remove:region",e)}),this.listenTo(this.regionManager,"remove:region",function(e,t){delete this[e],this.triggerMethod("remove:region",e,t)})},_getImmediateChildren:function(){return n.chain(this.regionManager.getRegions()).pluck("currentView").compact().value()}}),i.Behavior=i.Object.extend({constructor:function(e,t){this.view=t,this.defaults=n.result(this,"defaults")||{},this.options=n.extend({},this.defaults,e),this.ui=n.extend({},n.result(t,"ui"),n.result(this,"ui")),i.Object.apply(this,arguments)},$:function(){return this.view.$.apply(this.view,arguments)},destroy:function(){return this.stopListening(),this},proxyViewProperties:function(e){this.$el=e.$el,this.el=e.el}}),i.Behaviors=function(e,t){var n=/^(\S+)\s*(.*)$/;function r(e,n){return t.isObject(e.behaviors)?(n=r.parseBehaviors(e,n||t.result(e,"behaviors")),r.wrap(e,n,t.keys(a)),n):{}}var a={behaviorTriggers:function(e,t){return new i(this,t).buildBehaviorTriggers()},behaviorEvents:function(r,a){var i={};return t.each(a,function(r,a){var s={},c=t.clone(t.result(r,"events"))||{};c=e.normalizeUIKeys(c,o(r));var l=0;t.each(c,function(e,i){var o=i.match(n),c=o[1]+"."+[this.cid,a,l++," "].join("")+o[2],u=t.isFunction(e)?e:r[e];s[c]=t.bind(u,r)},this),i=t.extend(i,s)},this),i}};function i(e,t){this._view=e,this._behaviors=t,this._triggers={}}function o(e){return e._uiBindings||e.ui}return t.extend(r,{behaviorsLookup:function(){throw new e.Error({message:"You must define where your behaviors are stored.",url:"marionette.behaviors.html#behaviorslookup"})},getBehaviorClass:function(t,n){return t.behaviorClass?t.behaviorClass:e._getValue(r.behaviorsLookup,this,[t,n])[n]},parseBehaviors:function(e,n){return t.chain(n).map(function(n,a){var i=new(r.getBehaviorClass(n,a))(n,e),o=r.parseBehaviors(e,t.result(i,"behaviors"));return[i].concat(o)}).flatten().value()},wrap:function(e,n,r){t.each(r,function(r){e[r]=t.partial(a[r],e[r],n)})}}),t.extend(i.prototype,{buildBehaviorTriggers:function(){return t.each(this._behaviors,this._buildTriggerHandlersForBehavior,this),this._triggers},_buildTriggerHandlersForBehavior:function(n,r){var a=t.clone(t.result(n,"triggers"))||{};a=e.normalizeUIKeys(a,o(n)),t.each(a,t.bind(this._setHandlerForBehavior,this,n,r))},_setHandlerForBehavior:function(e,t,n,r){var a=r.replace(/^\S+/,function(e){return e+".behaviortriggers"+t});this._triggers[a]=this._view._buildViewTrigger(n)}}),r}(i,n),i.AppRouter=t.Router.extend({constructor:function(e){this.options=e||{},t.Router.apply(this,arguments);var n=this.getOption("appRoutes"),r=this._getController();this.processAppRoutes(r,n),this.on("route",this._processOnRoute,this)},appRoute:function(e,t){var n=this._getController();this._addAppRoute(n,e,t)},_processOnRoute:function(e,t){if(n.isFunction(this.onRoute)){var r=n.invert(this.getOption("appRoutes"))[e];this.onRoute(e,r,t)}},processAppRoutes:function(e,t){if(t){var r=n.keys(t).reverse();n.each(r,function(n){this._addAppRoute(e,n,t[n])},this)}},_getController:function(){return this.getOption("controller")},_addAppRoute:function(e,t,r){var a=e[r];if(!a)throw new i.Error('Method "'+r+'" was not found on the controller');this.route(t,r,n.bind(a,e))},mergeOptions:i.mergeOptions,getOption:i.proxyGetOption,triggerMethod:i.triggerMethod,bindEntityEvents:i.proxyBindEntityEvents,unbindEntityEvents:i.proxyUnbindEntityEvents}),i.Application=i.Object.extend({constructor:function(e){this._initializeRegions(e),this._initCallbacks=new i.Callbacks,this.submodules={},n.extend(this,e),this._initChannel(),i.Object.call(this,e)},execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("before:start",e),this._initCallbacks.run(e,this),this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},emptyRegions:function(){return this._regionManager.emptyRegions()},removeRegion:function(e){return this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},getRegions:function(){return this._regionManager.getRegions()},module:function(e,t){var r=i.Module.getClass(t),a=n.toArray(arguments);return a.unshift(this),r.create.apply(r,a)},getRegionManager:function(){return new i.RegionManager},_initializeRegions:function(e){var t=n.isFunction(this.regions)?this.regions(e):this.regions||{};this._initRegionManager();var r=i.getOption(e,"regions");return n.isFunction(r)&&(r=r.call(this,e)),n.extend(t,r),this.addRegions(t),this},_initRegionManager:function(){this._regionManager=this.getRegionManager(),this._regionManager._parent=this,this.listenTo(this._regionManager,"before:add:region",function(){i._triggerMethod(this,"before:add:region",arguments)}),this.listenTo(this._regionManager,"add:region",function(e,t){this[e]=t,i._triggerMethod(this,"add:region",arguments)}),this.listenTo(this._regionManager,"before:remove:region",function(){i._triggerMethod(this,"before:remove:region",arguments)}),this.listenTo(this._regionManager,"remove:region",function(e){delete this[e],i._triggerMethod(this,"remove:region",arguments)})},_initChannel:function(){this.channelName=n.result(this,"channelName")||"global",this.channel=n.result(this,"channel")||t.Wreqr.radio.channel(this.channelName),this.vent=n.result(this,"vent")||this.channel.vent,this.commands=n.result(this,"commands")||this.channel.commands,this.reqres=n.result(this,"reqres")||this.channel.reqres}}),i.Module=function(e,t,r){this.moduleName=e,this.options=n.extend({},this.options,r),this.initialize=r.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=t,n.isFunction(this.initialize)&&this.initialize(e,t,this.options)},i.Module.extend=i.extend,n.extend(i.Module.prototype,t.Events,{startWithParent:!0,initialize:function(){},addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){this._isInitialized||(n.each(this.submodules,function(t){t.startWithParent&&t.start(e)}),this.triggerMethod("before:start",e),this._initializerCallbacks.run(e,this),this._isInitialized=!0,this.triggerMethod("start",e))},stop:function(){this._isInitialized&&(this._isInitialized=!1,this.triggerMethod("before:stop"),n.invoke(this.submodules,"stop"),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop"))},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,r){if(e){var a=n.flatten([this,this.app,t,i,t.$,n,r]);e.apply(this,a)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new i.Callbacks,this._finalizerCallbacks=new i.Callbacks},triggerMethod:i.triggerMethod}),n.extend(i.Module,{create:function(e,t,r){var a=e,i=n.drop(arguments,3),o=(t=t.split(".")).length,s=[];return s[o-1]=r,n.each(t,function(t,n){var o=a;a=this._getModule(o,t,e,r),this._addModuleDefinition(o,a,s[n],i)},this),a},_getModule:function(e,t,r,a,i){var o=n.extend({},a),s=this.getClass(a),c=e[t];return c||(c=new s(t,r,o),e[t]=c,e.submodules[t]=c),c},getClass:function(e){var t=i.Module;return e?e.prototype instanceof t?e:e.moduleClass||t:t},_addModuleDefinition:function(e,t,n,r){var a=this._getDefine(n),i=this._getStartWithParent(n,t);a&&t.addDefinition(a,r),this._addStartWithParent(e,t,i)},_getStartWithParent:function(e,t){var r;return n.isFunction(e)&&e.prototype instanceof i.Module?(r=t.constructor.prototype.startWithParent,!!n.isUndefined(r)||r):!n.isObject(e)||(r=e.startWithParent,!!n.isUndefined(r)||r)},_getDefine:function(e){return!n.isFunction(e)||e.prototype instanceof i.Module?n.isObject(e)?e.define:null:e},_addStartWithParent:function(e,t,n){t.startWithParent=t.startWithParent&&n,t.startWithParent&&!t.startWithParentIsConfigured&&(t.startWithParentIsConfigured=!0,e.addInitializer(function(e){t.startWithParent&&t.start(e)}))}}),i}(i,e,t)}.apply(t,r))||(e.exports=a)}(this)},135:function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"c",function(){return m}),n.d(t,"a",function(){return f});var r,a=n(19),i=n(58),o=n(28),s=n(322),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=c({},Object(a.getInitialState)("arrays"),Object(a.getInitialState)("arraysCsv")),d=c((l(r={},o.i,function(){return u}),l(r,s.c,function(){return u}),r),Object(a.createReducersForAction)({type:s.b,stateKey:"arrays"}),Object(a.createReducersForAction)({type:s.a,stateKey:"arraysCsv"}));function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1],n=d[t.type];return n?n(e,t):e}var h=function(e){return Object(i.a)(e).arrayCollection},m=Object(a.createSelector)(h,"arrays"),f=Object(a.createSelector)(h,"arraysCsv")},138:function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=n(48),o=n(1170),s=n.n(o),c=n(1171),l=n.n(c),u=n(1172),d=n.n(u),p=n(1173),h=n.n(p),m=n(1174),f=n.n(m),g=n(1175),y=n.n(g),v=n(88),b=n(49),E=n(8),O=n.n(E),C=n(25),S=n(17),w=n(155),R=n(32),T=n.n(R),_=n(19),N=n(632),j=n(27),P=n(114),A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x=function(e){return function(t){var n=Object(_.actionsFor)(N.e,t),r=n.dispatchStart,a=n.dispatchSuccess,i=n.dispatchError;r(),(new j.default).pod().genericQuery("volumes").post({scope:{type:"volume",id:e}}).then(P.d).then(a).catch(i)}},L=function(e,t){return function(n){var r=Object(_.actionsFor)(N.b,n),a=r.dispatchStart,i=r.dispatchSuccess,o=r.dispatchError;a(),(new j.default).pod().genericQuery("volume",["capacity"]).post(A({},t,{scope:{type:"volume",id:e}})).then(P.c).then(i).catch(o)}},k=function(e,t){return function(n){var r=Object(_.actionsFor)(N.c,n),a=r.dispatchStart,i=r.dispatchSuccess,o=r.dispatchError;return a(),(new j.default).pod().genericQuery("volume",["performance"]).post(A({scope:{type:"volume",id:e}},t)).then(function(e){return e.data}).then(i).catch(o)}},M=function(){return{type:N.a}},I=n(129),D=n(327),U=n.n(D),H=n(164),F=n.n(H),B=n(225),V=n.n(B),W=n(177),q=n(316),z=n(175),G=n(86),Y=n.n(G),K=n(14),$=n.n(K),Q=n(1178),X=n.n(Q),J=$.a.bind(X.a),Z=function(e){return!(null!==e&&void 0!==e&&""!==e)},ee=function(e){var t=e.last90daysGrowth,n=e.last60daysGrowth,r=e.last30daysGrowth;return[r,n,t].every(Z)?null:a.a.createElement("div",{className:"flex-container row expanded align-center"},[t,n,r].map(function(e,t){return function(e,t){return Z(e)?null:a.a.createElement("div",{className:"column flex-dir-column shrink"},a.a.createElement(Y.a,{value:e,isPercent:!0}),a.a.createElement("div",{className:J("dayCount")},a.a.createElement("small",null,t," Days")))}(e,90-30*t)}))};ee.displayName="PastGrowthList",ee.propTypes={last90daysGrowth:O.a.number,last60daysGrowth:O.a.number,last30daysGrowth:O.a.number};var te=ee,ne=n(222),re=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ae=function(e,t){var n=Object(q.b)(e,t),r=n[0],i=n[1]||"B";return r?a.a.createElement("span",null,r," ",a.a.createElement("small",null,i,"/sec")):ne.b};function ie(e){var t=e.appCategory,n=e.dataUsageBytes,r=e.snapshotBytes,i=e.allocatedBytes,o=e.protectionLevel,s=e.last30daysGrowth,c=e.last60daysGrowth,l=e.last90daysGrowth,u=e.daysUntilFull,d=e.avgIopsPerWeek,p=e.avgReadLatencyMs,h=e.avgWriteLatencyMs,m=e.avgThroughput,f=e.dedupeEnabled,g=Object(q.a)(n),y=re(g,2),v=y[0],b=y[1],E=Object(q.a)(r),O=re(E,2),C=O[0],S=O[1],w=Object(q.a)(i),R=re(w,2),T=R[0],_=R[1],N=null!==u;return a.a.createElement(U.a,null,a.a.createElement(U.a.Section,{className:"columns"},a.a.createElement("h6",null,"Application"),a.a.createElement("div",null,a.a.createElement(W.a,{iconName:t,className:"flex-child-grow align-center"}))),a.a.createElement(U.a.Section,{className:N?"columns medium-11":"columns medium-9"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:N?"columns medium-10":"columns medium-12"},a.a.createElement("h6",null,"Volume Usage"),a.a.createElement(F.a,null,v," ",a.a.createElement("small",null,b,T?" of ":null),T," ",a.a.createElement("small",null,_)),a.a.createElement(te,{last90daysGrowth:l,last60daysGrowth:c,last30daysGrowth:s})),a.a.createElement("div",{className:"columns"},a.a.createElement("h6",null,"Snapshot Usage"),a.a.createElement(F.a,null,C," ",a.a.createElement("small",null,S))),N&&a.a.createElement("div",{className:"columns"},a.a.createElement("h6",null,"Days Until Full"),a.a.createElement(F.a,null,a.a.createElement(z.b,{className:"font-weight-inherit",days:u}))),a.a.createElement("div",{className:"columns"},a.a.createElement("h6",null,"Dedupe"),a.a.createElement(V.a,{status:f?"success":"unavailable",size:"small"}),a.a.createElement("span",null,f?"Enabled":"Disabled")))),a.a.createElement(U.a.Section,{className:"columns medium-9"},a.a.createElement("h6",{className:"stacked-title"},"Performance",a.a.createElement("br",null),a.a.createElement("small",null,"(Past Week Avg)")),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"columns"},a.a.createElement(F.a,{className:"nowrap"},Object(ne.h)(d,ne.e)," ",Object(ne.i)(d)?null:a.a.createElement("small",null,"IO/sec")),a.a.createElement("h6",{className:"no-margin"},"IOPS")),a.a.createElement("div",{className:"columns"},a.a.createElement(F.a,null,ae(m,"0.0 ib")),a.a.createElement("h6",{className:"no-margin"},"Throughput")),a.a.createElement("div",{className:"columns"},a.a.createElement(F.a,null,Object(ne.h)(p,ne.f)," ",Object(ne.i)(p)?null:a.a.createElement("small",null,"ms")),a.a.createElement("h6",{className:"no-margin"},"R Latency")),a.a.createElement("div",{className:"columns end"},a.a.createElement(F.a,null,Object(ne.h)(h,ne.f)," ",Object(ne.i)(h)?null:a.a.createElement("small",null,"ms")),a.a.createElement("h6",{className:"no-margin"},"W Latency")))),a.a.createElement(U.a.Section,{className:"columns"},a.a.createElement("h6",null,"Data Protection"),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"columns"},a.a.createElement(z.a,{protectionLevel:o})))))}ae.displayName="numeralPerSec",ie.displayName="VolumeHeadline",ie.propTypes={appCategory:O.a.string,dataUsageBytes:O.a.number,snapshotBytes:O.a.number,allocatedBytes:O.a.number,protectionLevel:O.a.string,last30daysGrowth:O.a.number,last60daysGrowth:O.a.number,last90daysGrowth:O.a.number,daysUntilFull:O.a.number,avgIopsPerWeek:O.a.number,avgReadLatencyMs:O.a.number,avgWriteLatencyMs:O.a.number,avgThroughput:O.a.number,dedupeEnabled:O.a.bool};var oe=ie,se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ce=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var le=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),ce(t,[{key:"componentWillMount",value:function(){this.props.loadingVolume||this.props.loadedVolume||this.props.getVolume(this.props.volumeSn)}},{key:"render",value:function(){var e=this.props,t=e.loadingVolume,n=e.volume;return a.a.createElement(T.a,{loading:t},a.a.createElement(oe,n||{}))}}]),t}();le.displayName="VolumeHeadlineContainer",le.propTypes={volumeSn:O.a.string,volume:O.a.shape({applicationCategory:O.a.string,dataUsageBytes:O.a.number,snapshotBytes:O.a.number,allocatedBytes:O.a.number,perWeekIops:O.a.number,perWeekMibs:O.a.number,perWeekLatencyRead:O.a.number,perWeekLatencyWrite:O.a.number,localRecoveryPoint:O.a.bool,remoteRecoveryPoint:O.a.bool,last30daysGrowth:O.a.number,last60daysGrowth:O.a.number,last90daysGrowth:O.a.number,avgIopsPerWeek:O.a.number,avgReadLatencyMs:O.a.number,avgWriteLatencyMs:O.a.number,avgThroughput:O.a.number}),loadingVolume:O.a.bool,loadedVolume:O.a.bool,getVolume:O.a.func},le.defaultProps={loadingVolume:!1};var ue=Object(S.connect)(function(e){return se({},Object(I.d)(e))},function(e){return Object(C.bindActionCreators)({getVolume:x,reset:M},e)})(le),de=n(30),pe=n.n(de),he=n(72),me=n(9),fe=n.n(me),ge=n(31),ye=n.n(ge),ve=n(20),be=n.n(ve),Ee=n(23),Oe=n.n(Ee),Ce=n(42),Se=n.n(Ce),we=n(89),Re=n.n(we),Te=n(77),_e=n(131),Ne=n(39),je=function(e){var t=e.chartRangeStart,n=e.chartRangeEnd,r=e.timeSeriesStart,a=e.timeSeriesEnd;return Object(me.compact)([function(e,t){if(e.valueOf()<t)return{color:Ne.CHART_COLORS.plotBandGrey,from:e.valueOf(),to:t}}(t,r),function(e,t){if(e.valueOf()>t)return{color:Ne.CHART_COLORS.plotBandGrey,from:t,to:e.valueOf()}}(n,a)])},Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Ae(){return{type:"datetime",lineWidth:2,labels:Pe({},{formatter:function(){return Oe()(this.value).format(Object(Te.convertPhpFormatToMomentFormat)(this.dateTimeLabelFormat))}})}}var xe=n(65),Le=n(29),ke=function(e,t){var n=void 0;if(Object(me.isFunction)(t))n=t(e);else{if(!Object(me.isObject)(t))return e;n=t}return n?Le.Highstock.merge(e,n):e};function Me(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(ke,{})}function Ie(e){return{chart:{events:{selection:e}}}}var De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ue=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var He=Re()({valueFormatter:function(e){return be()(e.y).format("0.0 ib")},xValueFormatter:function(e){return Object(we.Timestamp)(e.x,Te.DAY_MOMENT_FORMAT)}}),Fe=Re()({valueFormatter:function(e){return"forecastRangeSeries"===e.series.options.id?be()(e.point.low).format("0.0 ib")+" - "+be()(e.point.high).format("0.0 ib"):be()(e.y).format("0.0 ib")},xValueFormatter:function(e){return Object(we.Timestamp)(e.x,Te.DAY_MOMENT_FORMAT)}}),Be=function(e){return e.preventDefault()},Ve=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Ue(t,[{key:"shouldComponentUpdate",value:function(e){var t=e.timeSeries,n=e.chartConfig,r=e.chartRangeStart,a=e.chartRangeEnd,i=e.containerHeight,o=e.containerWidth;return!(Oe()(r).isSame(this.props.chartRangeStart)&&Oe()(a).isSame(this.props.chartRangeEnd)&&t===this.props.timeSeries&&n===this.props.chartConfig&&i===this.props.containerHeight&&o===this.props.containerWidth)}},{key:"getMaxTotalCapacity",value:function(e){var t=this.props.getTotalCapacity,n=e.map(t),r=Math.max.apply(null,n);if(!r){var a=this.props.getForecastedCapacity;n=e.map(a),r=Math.max.apply(null,n)}return r}},{key:"getYAxis",value:function(e,t,n){var r=this.getMaxTotalCapacity(n),a=Object(_e.getUnitPrefix)(r,_e.BINARY_BASE),i=a?a+"iB":"";return{title:{text:e+" ("+i+")",enabled:t},labels:{formatter:function(){return be()(Object(_e.convertBytes)(this.value,a)).format("0.0")+" "+i}}}}},{key:"capacityUsageSeries",value:function(){var e=this.props,t=e.timeSeries,n=e.getUsedCapacity;return{type:"area",name:e.seriesName,data:t.map(function(e){return{x:e.timestamp,y:n(e)}}),events:{legendItemClick:Be},marker:{enabled:!1,symbol:"circle"},lineWidth:2}}},{key:"snapshotSeries",value:function(){var e=this.props,t=e.timeSeries,n=e.getSnapshotUsage;return{type:"area",color:"#666",fillColor:"#E2E6EA",name:e.snapshotSeriesTitle,data:t.map(function(e){return{x:e.timestamp,y:n(e)}}),events:{legendItemClick:Be},marker:{enabled:!1,symbol:"circle"},lineWidth:2}}},{key:"totalCapacitySeries",value:function(){var e=this.props,t=e.timeSeries,n=e.getTotalCapacity;return{type:"line",color:e.totalCapacityColor,name:"Total Capacity",data:t.map(function(e){return{x:e.timestamp,y:n(e)}}),events:{legendItemClick:Be},marker:{enabled:!1,symbol:"circle"},lineWidth:2}}},{key:"config",value:function(){var e=this.props,n=e.chartRangeStart,r=e.chartRangeEnd,a=e.timeSeries,i=e.showUnavailableDataBands,o=e.dateTimeFormat,s=e.yAxisTitle,c=e.includeSnapshotUsageSeries,l=e.includeTotalCapacityUsageSeries,u=e.onChartSelect,d=e.enableYAxisTitle,p=[this.capacityUsageSeries()];return c&&p.push(this.snapshotSeries()),l&&p.push(this.totalCapacitySeries()),Me(Ie(u),{series:p,chart:{height:this.props.containerHeight,spacingTop:20},title:!1,xAxis:t.getXAxis(n,r,a,i,o),yAxis:this.getYAxis(s,d,a)})}},{key:"render",value:function(){var e=this,t=this.props,n=t.timeSeries,r=t.forecastChart,i=n&&n.length>0;return a.a.createElement(pe.a,{hasData:i,message:"No capacity history data available."},function(){return r?a.a.createElement(Fe,De({config:De({},e.config(),e.props.chartConfig)},e.props)):a.a.createElement(He,De({config:De({},e.config(),e.props.chartConfig)},e.props))})}}],[{key:"getUnavailableDataBands",value:function(e,t,n){return je({chartRangeStart:e,chartRangeEnd:t,timeSeriesStart:n[0].timestamp,timeSeriesEnd:n.slice(-1)[0].timestamp})}},{key:"getXAxis",value:function(e,n,r,a){return De({},Ae(),Object(xe.b)(e,n),{plotBands:a&&t.getUnavailableDataBands(e,n,r)})}}]),t}();Ve.displayName="CapacityTimeSeries",Ve.propTypes={chartConfig:O.a.object,timeSeries:O.a.arrayOf(O.a.shape({timestamp:O.a.oneOfType([O.a.number,O.a.object]),usedCapacity:O.a.number,totalCapacity:O.a.number})),getUsedCapacity:O.a.func,getForecastedCapacity:O.a.func,getTotalCapacity:O.a.func,totalCapacityColor:O.a.string,getSnapshotUsage:O.a.func,chartRangeStart:O.a.oneOfType([O.a.object,O.a.number]),chartRangeEnd:O.a.oneOfType([O.a.object,O.a.number]),showUnavailableDataBands:O.a.bool,containerHeight:O.a.number.isRequired,containerWidth:O.a.number.isRequired,yAxisTitle:O.a.string,seriesName:O.a.string,snapshotSeriesTitle:O.a.string,includeSnapshotUsageSeries:O.a.bool,includeTotalCapacityUsageSeries:O.a.bool,dateTimeFormat:O.a.string,forecastChart:O.a.bool,onChartSelect:O.a.func,enableYAxisTitle:O.a.bool},Ve.defaultProps={containerHeight:0,showUnavailableDataBands:!1,dateTimeFormat:"M/D",yAxisTitle:"Usage",seriesName:"Volume Usage",getUsedCapacity:Object(me.property)("usedCapacity"),getTotalCapacity:Object(me.property)("totalCapacity"),totalCapacityColor:"#F1C232",getSnapshotUsage:Object(me.property)("snapshotUsage"),snapshotSeriesTitle:"Snapshot Usage",includeSnapshotUsageSeries:!1,includeTotalCapacityUsageSeries:!1,forecastChart:!1,enableYAxisTitle:!1,onChartSelect:function(e){return e.preventDefault()}};var We=Se()({elementResize:!0})(Ve),qe=function(e){return e.preventDefault()},ze=0,Ge=function(){return ze+=1};var Ye=function(e){var t=e.timeseries,n=e.forecastRangeId;return{series:[function(e){var t=e[Object(me.findLastIndex)(e,{dataSource:"Actual"})];return{type:"line",id:"Capacity",name:"Volume Capacity",color:Ne.CHART_COLORS.redOrange,lineWidth:2,data:t&&e.map(function(e){return{x:e.timestamp,y:Object(me.isNumber)(e.allocatedBytes)?e.allocatedBytes:t.allocatedBytes}}),step:!0,legendIndex:Ge(),events:{legendItemClick:qe}}}(t),function(e){return{type:"area",id:"snapshotUsage",name:"Snapshot Usage",color:Ne.CHART_COLORS.teal,fillColor:Ne.CHART_COLORS.tealLight,data:e.map(function(e){return{x:e.timestamp,y:e.snapshotUsageBytes}}),legendIndex:Ge(),events:{legendItemClick:qe}}}(t),function(e){return{type:"area",id:"volumeUsage",name:"Volume Usage",color:Ne.CHART_COLORS.blue,fillColor:Ne.CHART_COLORS.blueLight,data:e.map(function(e){return{x:e.timestamp,y:e.dataUsageBytes}}),legendIndex:Ge(),events:{legendItemClick:qe}}}(t),function(e,t){return{type:"arearange",id:t,name:"Forecasted Range",color:Ne.CHART_COLORS.blue,linkedTo:"forecastedUsage",data:e.map(function(e){return{x:e.timestamp,low:e.forecastedLowerBoundBytes,high:e.forecastedUpperBoundBytes}}),lineWidth:0,fillOpacity:.3,zIndex:0,events:{legendItemClick:qe}}}(t,n),function(e){return{type:"line",id:"forecastedUsage",name:"Forecasted Volume Usage",color:Ne.CHART_COLORS.blue,dashStyle:"shortdash",data:e.map(function(e){return{x:e.timestamp,y:e.forecastedUsageBytes}}),legendIndex:Ge(),events:{legendItemClick:qe}}}(t)],plotOptions:{area:{animation:!1,stacking:"normal",marker:{enabled:!1,symbol:"circle",states:{hover:{enabled:!0}}}},line:{marker:{enabled:!1,symbol:"circle",states:{hover:{enabled:!0}}}}}}},Ke=function(e){var t=e.volumeCapacity,n=e.onChartSelect;return a.a.createElement(ye.a,{title:a.a.createElement("h2",null,a.a.createElement(z.c,{title:"Usage"}))},a.a.createElement("div",{className:"chart-container--medium"},a.a.createElement(We,{timeSeries:t.data.timeseries,chartRangeStart:t.meta.time.start,chartRangeEnd:t.meta.time.end,getTotalCapacity:Object(me.property)("allocatedBytes"),getForecastedCapacity:Object(me.property)("forecastedUsageBytes"),chartConfig:Ye({timeseries:t.data.timeseries,forecastRangeId:"forecastRangeSeries"}),forecastChart:!0,onChartSelect:n})))};Ke.displayName="VolumeCapacityChart",Ke.propTypes={volumeCapacity:O.a.shape({data:O.a.shape({timeseries:O.a.arrayOf(O.a.shape({dataUsageBytes:O.a.number,sizeBytes:O.a.number,snapshotUsageBytes:O.a.number,timestamp:O.a.number})).isRequired}).isRequired,meta:O.a.shape({time:O.a.shape({start:O.a.number.isRequired,end:O.a.number.isRequired}).isRequired}).isRequired}),onChartSelect:O.a.func};var $e=Ke,Qe=function(e){return function(e){return"capacity."+(e||"")}("time."+(e||""))},Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Je=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ze=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Je(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadingVolumeCapacity,n=e.loadedVolumeCapacity;t||n||this.fetchData(this.props)}},{key:"componentWillReceiveProps",value:function(e){var t=e.volumeSn,n=e.timeRange;t===this.props.volumeSn&&n.equals(this.props.timeRange)||this.fetchData(e)}},{key:"fetchData",value:function(e){var t=e.timeRange;"DURATION"===t.type?t={time:{range:{start:t.asFixedRange().from.valueOf()}}}:t=t.toGenericQueryTime();this.props.getVolumeCapacity(e.volumeSn,t)}},{key:"render",value:function(){var e=this.props,t=e.volumeCapacity,n=e.timeRange,r=e.loadingVolumeCapacity,i=e.history,o=e.location,s=void 0,c=!(!t||!t.data.timeseries);c&&(s=he.TimeRangeSelection.toTimeRangeSelection(t.meta.time));var l=Object(he.makeRangeSelector)(o,Qe(),!1,i),u=Object(he.makeChartSelector)(l);return a.a.createElement("div",null,a.a.createElement(he.QueryTimeRangeSelector,{parameterPrefix:Qe(),value:n,presets:he.QueryTimeRangeSelector.PRESETS.NONVOLATILE,displayValue:s,card:!0}),a.a.createElement(T.a,{loading:r},a.a.createElement(pe.a,{hasData:c},function(){return a.a.createElement($e,{volumeCapacity:t,onChartSelect:u})})))}}]),t}();Ze.displayName="CapacityChartContainer",Ze.propTypes={volumeSn:O.a.string.isRequired,loadingVolumeCapacity:O.a.bool,loadedVolumeCapacity:O.a.bool,getVolumeCapacity:O.a.func,volumeCapacity:O.a.shape({data:O.a.shape({timeseries:O.a.arrayOf(O.a.shape({dataUsageBytes:O.a.number,sizeBytes:O.a.number,snapshotUsageBytes:O.a.number,timestamp:O.a.number})).isRequired}).isRequired,meta:O.a.shape({time:O.a.shape({start:O.a.number.isRequired,end:O.a.number.isRequired}).isRequired}).isRequired}),timeRange:O.a.instanceOf(he.TimeRangeSelection).isRequired,history:O.a.object.isRequired,location:O.a.object};var et=Object(S.connect)(function(e,t){return Xe({},Object(I.a)(e),function(e){var t=e.match.params;return{timeRange:Object(he.deserialize)(t,Qe(""))||he.QueryTimeRangeSelector.DEFAULTS.NONVOLATILE}}(t))},function(e){return Object(C.bindActionCreators)({getVolumeCapacity:L},e)})(Ze),tt=function(e,t){return"perf."+e+t},nt=function(e){return tt("time.",e)},rt=function(e){return tt("perspective.",e)},at=function(e){return function(e){return"perf."+(e||"")}("time."+(e||""))},it=n(12),ot=n.n(it),st=n(125),ct=n(63),lt=n(643),ut=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var dt=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.value=t,this.separator=r,this.units=n}return ut(e,[{key:"toString",value:function(){return""+this.value+this.separator+this.units}},{key:"toValue",value:function(){return""+this.value}}]),e}();function pt(e){return new dt(be()(e).format("0,[.][00]"),"IOPS")}function ht(e){return new dt(be()(e).format("0,[.][00]"),"ms")}function mt(e){var t=be()(e).format("0,[.][00] ib");return t.trim()===Number(t).toString()&&(t=t.trim()+" B"),new dt(t,"/sec","")}function ft(e){return function(){return{legend:{enabled:!e}}}}function gt(){return{legend:{enabled:!1}}}function yt(e){var t="area"===e?{stacking:"normal"}:null;return function(){return{plotOptions:{area:t,column:{pointPlacement:"on"},series:{borderWidth:0,pointPadding:0,groupPadding:0,marker:{enabled:!1,symbol:"circle"},events:{legendItemClick:function(e){e.preventDefault()}},turboThreshold:Number.MAX_VALUE}}}}}function vt(e){return function(){return{title:{align:"left",margin:0,style:{fontFamily:null,fontSize:null,fontWeight:null},text:e,useHTML:!0,x:70,y:-23}}}}var bt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Et=Oe.a.tz.guess(),Ot=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),bt(t,[{key:"data",value:function(){var e=this,t=this.props,n=t.title,r=t.timeSeries,a=this.props.color,i=[{name:n,data:r.map(function(t){var n=t[e.props.timeSeriesKey],r=t.severityScore/100||0,a=Math.min(1,r),i=lt.default.percentileToScore(a),o=lt.default.scoreToColor(i).hex(),s=lt.default.scoreToClassification(i);return{x:t.timestamp,y:n,color:o,classification:s,score:i}}),color:a}];return i}},{key:"config",value:function(){var e=this.props,t=e.chartRangeStart,n=e.chartRangeEnd,r=e.title,a=e.legendDisabled,i=e.onChartSelect,o=this.data(),s=Le.Highstock.merge({chart:{marginLeft:80,spacingTop:35,spacingBottom:1,spacingRight:1}},{chart:{type:this.props.type,height:this.props.containerHeight,spacingRight:10}}),c=Me(function(){return s},ft(a),yt(this.props.type),vt(r),Object(xe.a)(t,n),Ie(i),{yAxis:{title:{text:this.props.yAxisLabel},max:this.props.yAxisMax||null,min:0}});return c.series=o,Object(we.mergeSharedTooltipConfig)(c,{pointFormatter:function(e){return pt(e.point.y)+"                &nbsp;&nbsp;&nbsp;&nbsp;"},xValueFormatter:function(e){return""+Oe()(e.x).tz(Et).format("L hh:mm a z")}})}},{key:"render",value:function(){var e=this.config();return a.a.createElement(pe.a,{hasData:!!e},function(){return a.a.createElement(ct.ReactHighcharts,{config:e})})}}]),t}();Ot.displayName="iOpsChart",Ot.propTypes={chartRangeStart:O.a.object,chartRangeEnd:O.a.object,color:O.a.string,containerHeight:O.a.number.isRequired,legendDisabled:O.a.bool,timeSeries:O.a.arrayOf(O.a.shape({localDate:O.a.number})),timeSeriesKey:O.a.string,title:O.a.string,type:O.a.string,yAxisLabel:O.a.string,yAxisMax:O.a.number,onChartSelect:O.a.func},Ot.defaultProps={containerHeight:0,legendDisabled:!1,title:null,onChartSelect:function(e){return e.preventDefault()}};var Ct=Se()({elementResize:!0})(Ot),St=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var wt=Oe.a.tz.guess(),Rt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),St(t,[{key:"data",value:function(){var e=this.props,t=e.timeSeries,n=e.titles,r=e.timeSeriesKeys,a=e.colorList,i=e.invisibleSeries;if(r.length!==n.length)throw new Error("PerfChart: props timeseriesKeys and titles must have the same length");var o=r.map(function(e,r){var o=a[r%a.length];return{name:n[r],data:t.map(function(t){return{x:t.timestamp,y:t[e]}}),color:o.stroke,fillColor:o.fill,lineWidth:2,states:{hover:{lineWidth:2}},visible:!i.includes(r)}});return o}},{key:"config",value:function(){var e=this,t=this.props,n=t.chartRangeStart,r=t.chartRangeEnd,a=t.title,i=t.legendDisabled,o=t.type,s=t.yAxisMax,c=t.customDimensions,l=t.onChartSelect,u=this.data(),d=Le.Highstock.merge(c||{chart:{marginLeft:80,spacingTop:35,spacingBottom:1,spacingRight:1}},{chart:{type:o,height:this.props.containerHeight,spacingRight:10}}),p=function(t){switch(e.props.yAxisLabel){case"MiB/sec":return mt(1024*t*1024);case"ms":return ht(t);case"%":return function(e){return new dt(be()(e).format("0"),"%")}(t);case"IO/sec":return pt(t);default:return}},h=Me(function(){return d},ft(i),yt(o),vt(a),Object(xe.a)(n,r),Ie(l),{yAxis:{title:{text:""},max:s||null,min:0,labels:{formatter:function(){var e=p(this.value);return e&&e.toValue().split(" ")[0]}}}});return h.series=u,Object(we.mergeSharedTooltipConfig)(h,{pointFormatter:function(e){return'<i class="fa fa-square" style="color: '+e.point.color+';"></i>                '+e.series.name+":                "+p(e.y)+"                &nbsp;&nbsp;&nbsp;&nbsp;"},xValueFormatter:function(e){return""+Oe()(e.x).tz(wt).format("L hh:mm a z")}})}},{key:"render",value:function(){var e=this.config();return a.a.createElement(pe.a,{hasData:!!e},function(){return a.a.createElement(ct.ReactHighcharts,{config:e})})}}]),t}();Rt.displayName="PerfChart",Rt.propTypes={chartRangeStart:O.a.object,chartRangeEnd:O.a.object,containerHeight:O.a.number.isRequired,legendDisabled:O.a.bool,timeSeries:O.a.array,timeSeriesKeys:O.a.arrayOf(O.a.string),title:O.a.string,titles:O.a.arrayOf(O.a.string),type:O.a.string,yAxisLabel:O.a.string,yAxisMax:O.a.number,customDimensions:O.a.object,colorList:O.a.arrayOf(O.a.object),invisibleSeries:O.a.arrayOf(O.a.number),onChartSelect:O.a.func},Rt.defaultProps={containerHeight:0,legendDisabled:!1,title:null,colorList:[Ne.COLOR_SETS.teal,Ne.COLOR_SETS.purple,Ne.COLOR_SETS.green,Ne.COLOR_SETS.blue],invisibleSeries:[],onChartSelect:function(e){return e.preventDefault()}};var Tt=Se()({elementResize:!0})(Rt),_t=n(59),Nt=24;function jt(e){var t=[],n=0;return e.forEach(function(e){n+=e}),e.forEach(function(e){var r=e/n*Nt;if(r!==Math.floor(r))throw new Error("column ratios must neatly fill 24 total columns");t.push(r)}),t}var Pt=n(644),At=n.n(Pt),xt=function(e){var t=e.columnRatiosSmall,n=e.columnCountSmall,r=e.columnRatiosMedium,i=e.columnCountMedium,o=e.columnRatiosLarge,s=e.columnCountLarge,c=e.rowClasses,l=void 0,u=void 0,d=void 0;t?l=jt(t):n&&(l=n),r?u=jt(r):i&&(u=i),o?d=jt(o):s&&(d=s);var p=l||u||d,h=function(e){var t=e.children;return a.a.createElement("div",{className:"row "+(c?c.join(" "):null)},p.map(function(e,n){return a.a.createElement("div",{className:function(e,t,n,r){return(t?"small-"+t[e]:"")+" "+(n?"medium-"+n[e]:"")+" "+(r?"large-"+r[e]:"")+" columns"}(n,l,u,d),key:n.toString()},t.filter(function(e){return e.key===n.toString()}))}))};return h.propTypes={children:O.a.arrayOf(O.a.node)},h}({columnRatiosSmall:[3,1],rowClasses:["expanded",$.a.bind(At.a)("gridRowChartContainer")]}),Lt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function kt(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var Mt=[Ne.COLOR_SETS.teal,Ne.COLOR_SETS.purple,Ne.COLOR_SETS.green,Ne.COLOR_SETS.blue],It=[Ne.COLOR_SETS.transparent].concat(Mt),Dt=$.a.bind(At.a);function Ut(e){var t=void 0,n=void 0,r=void 0,a=void 0;Le.Highstock.charts.filter(function(t){return t&&e.currentTarget.contains(t.renderTo)}).forEach(function(i){a=i.pointer.normalize(Object.assign({},e));var o=[];for(n=0,r=i.series.length;n<r;n+=1)(t=i.series[n].searchPoint(a,!0))&&(t.onMouseOver(),o.push(t));o.length&&i.tooltip.refresh(o),i.xAxis[0].drawCrosshair(e,t)})}var Ht=function(e){return!Object(_t.e)(e)},Ft=function(e){return e&&e.length>0&&Math.min.apply(Math,kt(e).concat([Number.POSITIVE_INFINITY]))||0},Bt=function(e){return Math.max.apply(Math,kt(e).concat([1]))},Vt=function(e){return e.reduce(function(e,t){return e+t},0)},Wt=function(e){var t=e.filter(Ht);if(t.length)return t.reduce(function(e,t){return e+t},0)/t.length},qt=function(e,t,n,r,a){var i=e.reduce(function(e,n,r){return e+n*t[r]},0)/n;return Math.min(a,Math.max(r,i))},zt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return ot()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Lt(t,[{key:"render",value:function(){var e=this.props,t=e.chartRangeStart,n=e.chartRangeEnd,r=e.missingSeverity,i=e.useDeviceLatency,o=e.onChartSelect,s=fe.a.find(this.props.timeseries,function(e){return"number"==typeof e.hostLatencyMs})?fe.a.pluck(this.props.timeseries,"hostLatencyMs"):[],c=fe.a.compact(s),l=Wt(c),u=fe.a.find(this.props.timeseries,function(e){return"number"==typeof e.networkLatencyMs})?fe.a.pluck(this.props.timeseries,"networkLatencyMs"):[],d=fe.a.compact(u),p=Wt(d),h=fe.a.find(this.props.timeseries,function(e){return"number"==typeof e.storageLatencyMs})?fe.a.pluck(this.props.timeseries,"storageLatencyMs"):[],m=fe.a.compact(h),f=Wt(m),g=fe.a.find(this.props.timeseries,function(e){return"number"==typeof e.deviceLatencyMs})?fe.a.pluck(this.props.timeseries,"deviceLatencyMs"):[],y=fe.a.compact(g),v=Wt(y),b=0,E=0,O=null;i?(b=s.concat(g),O=this.props.timeseries.map(function(e){return e.hostLatencyMs+e.deviceLatencyMs}),E=Bt(fe.a.compact(O))):(b=s.concat(u).concat(h),O=this.props.timeseries.map(function(e){return e.hostLatencyMs+e.networkLatencyMs+e.storageLatencyMs}),E=Bt(fe.a.compact(O)));var C=fe.a.compact(b),S=Ft(C),w=Bt(C),R=fe.a.pluck(this.props.timeseries,"readLatencyMs"),T=fe.a.pluck(this.props.timeseries,"writeLatencyMs"),_=fe.a.pluck(this.props.timeseries,"totalLatencyMs"),N=fe.a.compact(R.concat(T).concat(_)),j=Ft(N),P=Bt(N),A=fe.a.pluck(this.props.timeseries,"readIops"),x=Wt(A),L=fe.a.pluck(this.props.timeseries,"writeIops"),k=Wt(L),M=A.concat(L),I=Ft(M),D=Bt(M),U=Vt(A),H=Vt(L),F=qt(R,A,U,j,P),B=qt(T,L,H,j,P),V=fe.a.pluck(this.props.timeseries,"readMbps"),W=Wt(V),q=fe.a.pluck(this.props.timeseries,"writeMbps"),z=Wt(q),G=V.concat(q),Y=Ft(G),K=Bt(G),$=i?["Total","Host","Storage/Network"]:["Total","Host","Network","Storage"],Q=i?["totalLatencyMs","hostLatencyMs","deviceLatencyMs"]:["totalLatencyMs","hostLatencyMs","networkLatencyMs","storageLatencyMs"],X=a.a.createElement(ye.a,{title:"Latency"},b.length>0&&a.a.createElement(xt,null,a.a.createElement("div",{key:"0",className:i?"chart-container--small":"chart-container--medium"},a.a.createElement(Tt,{title:"Total Latency",titles:$,legendDisabled:!0,yAxisLabel:"ms",yAxisMax:Bt([w,E]),type:"area",timeSeries:this.props.timeseries,timeSeriesKeys:Q,chartRangeStart:t,chartRangeEnd:n,colorList:It,invisibleSeries:[0],onChartSelect:o})),a.a.createElement("div",{key:"1",className:Dt("summaryCharts")},a.a.createElement("h3",{className:Dt("chartLabel")},"Average Host"),a.a.createElement(st.ProgressWithValue,{className:Dt("progressContainer"),leftLabel:ht(l).toString()},a.a.createElement(st.Progress,{min:S,max:w,value:l,color:Mt[0].stroke})),i?a.a.createElement("div",null,a.a.createElement("h3",{className:Dt("chartLabel")},"Average Storage/Network"),a.a.createElement(st.ProgressWithValue,{className:Dt("progressContainer"),leftLabel:ht(v).toString()},a.a.createElement(st.Progress,{min:S,max:w,value:v,color:Mt[1].stroke}))):a.a.createElement("div",null,a.a.createElement("h3",{className:Dt("chartLabel")},"Average Network"),a.a.createElement(st.ProgressWithValue,{className:Dt("progressContainer"),leftLabel:ht(p).toString()},a.a.createElement(st.Progress,{min:S,max:w,value:p,color:Mt[1].stroke})),a.a.createElement("h3",{className:Dt("chartLabel")},"Average Storage"),a.a.createElement(st.ProgressWithValue,{className:Dt("progressContainer"),leftLabel:ht(f).toString()},a.a.createElement(st.Progress,{min:S,max:w,value:f,color:Mt[2].stroke}))))),a.a.createElement(xt,null,a.a.createElement("div",{key:"0",className:"chart-container--small"},a.a.createElement(Tt,{title:"Read/Write Latency",titles:["Read","Write"],legendDisabled:!0,yAxisLabel:"ms",yAxisMax:Bt([w,P]),type:"line",timeSeries:this.props.timeseries,timeSeriesKeys:["readLatencyMs","writeLatencyMs"],chartRangeStart:t,chartRangeEnd:n,onChartSelect:o})),a.a.createElement("div",{key:"1",className:Dt("summaryCharts")},a.a.createElement("h3",{className:Dt("chartLabel")},"Average Read"),a.a.createElement(st.ProgressWithValue,{className:Dt("progressContainer"),leftLabel:ht(F).toString()},a.a.createElement(st.Progress,{min:j,max:P,value:F,color:Mt[0].stroke})),a.a.createElement("h3",{className:Dt("chartLabel")},"Average Write"),a.a.createElement(st.ProgressWithValue,{className:Dt("progressContainer"),leftLabel:ht(B).toString()},a.a.createElement(st.Progress,{min:j,max:P,value:B,color:Mt[1].stroke}))))),J=a.a.createElement(ye.a,{title:"IOPS"},a.a.createElement(xt,null,a.a.createElement("div",{key:"0",className:"chart-container--small"},a.a.createElement(Ct,{chartRangeStart:t,chartRangeEnd:n,legendDisabled:!0,timeSeries:this.props.timeseries,timeSeriesKey:"readIops",title:"Read",type:"column",yAxisLabel:"IO/sec",yAxisMax:D,onChartSelect:o})),a.a.createElement("div",{key:"1",className:Dt("summaryCharts")},a.a.createElement("h3",{className:Dt("chartLabel")},"Average Read"),a.a.createElement(st.ProgressWithValue,{className:Dt("progressContainer"),leftLabel:pt(x).toString()},a.a.createElement(st.Progress,{min:I,max:D,value:x,color:"#CCCCCC"})))),a.a.createElement(xt,null,a.a.createElement("div",{key:"0",className:"chart-container--small"},a.a.createElement(Ct,{chartRangeStart:t,chartRangeEnd:n,legendDisabled:!0,timeSeries:this.props.timeseries,timeSeriesKey:"writeIops",title:"Write",type:"column",yAxisLabel:"IO/sec",yAxisMax:D,onChartSelect:o})),a.a.createElement("div",{key:"1",className:Dt("summaryCharts")},a.a.createElement("h3",{className:Dt("chartLabel")},"Average Write"),a.a.createElement(st.ProgressWithValue,{className:Dt("progressContainer"),leftLabel:pt(k).toString()},a.a.createElement(st.Progress,{min:I,max:D,value:k,color:"#CCCCCC"}))))),Z=a.a.createElement(ye.a,{title:"IOPS"},a.a.createElement(xt,null,a.a.createElement("div",{key:"0",className:"chart-container--small"},a.a.createElement(Tt,{titles:["Read","Write"],legendDisabled:!0,yAxisLabel:"IO/sec",type:"line",timeSeries:this.props.timeseries,timeSeriesKeys:["readIops","writeIops"],chartRangeStart:t,chartRangeEnd:n,onChartSelect:o})),a.a.createElement("div",{key:"1",className:Dt("summaryCharts")},a.a.createElement("h3",{className:Dt("chartLabel")},"Average Read"),a.a.createElement(st.ProgressWithValue,{className:Dt("progressContainer"),leftLabel:pt(x).toString()},a.a.createElement(st.Progress,{min:I,max:D,value:x,color:Mt[0].stroke})),a.a.createElement("h3",{className:Dt("chartLabel")},"Average Write"),a.a.createElement(st.ProgressWithValue,{className:Dt("progressContainer"),leftLabel:pt(k).toString()},a.a.createElement(st.Progress,{min:I,max:D,value:k,color:Mt[1].stroke}))))),ee=a.a.createElement(ye.a,{title:"Throughput"},a.a.createElement(xt,null,a.a.createElement("div",{key:"0",className:"chart-container--small"},a.a.createElement(Tt,{titles:["Read","Write"],legendDisabled:!0,yAxisLabel:"MiB/sec",type:"area",timeSeries:this.props.timeseries,timeSeriesKeys:["readMbps","writeMbps"],chartRangeStart:t,chartRangeEnd:n,onChartSelect:o})),a.a.createElement("div",{key:"1",className:Dt("summaryCharts")},a.a.createElement("h3",{className:Dt("chartLabel")},"Average Read"),a.a.createElement(st.ProgressWithValue,{className:Dt("progressContainer"),leftLabel:mt(1024*W*1024).toString()},a.a.createElement(st.Progress,{min:Y,max:K,value:W,color:Mt[0].stroke})),a.a.createElement("h3",{className:Dt("chartLabel")},"Average Write"),a.a.createElement(st.ProgressWithValue,{className:Dt("progressContainer"),leftLabel:mt(1024*z*1024).toString()},a.a.createElement(st.Progress,{min:Y,max:K,value:z,color:Mt[1].stroke})))));return a.a.createElement("div",{onMouseMove:Ut},X,r?Z:J,ee)}}]),t}();zt.displayName="PerformanceChartsPage",zt.propTypes={timeseries:O.a.arrayOf(O.a.shape({timestamp:O.a.number,hostLatencyMs:O.a.number,networkLatencyMs:O.a.number,storageLatencyMs:O.a.number,readLatencyMs:O.a.number,writeLatencyMs:O.a.number,totalLatencyMs:O.a.number,readIops:O.a.number,writeIops:O.a.number,readMbps:O.a.number,writeMbps:O.a.number})),chartRangeStart:O.a.object.isRequired,chartRangeEnd:O.a.object.isRequired,missingSeverity:O.a.bool,useDeviceLatency:O.a.bool,onChartSelect:O.a.func};var Gt=zt,Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var $t=[Oe.a.duration(1,"day"),Oe.a.duration(1,"week"),Oe.a.duration(1,"month"),Oe.a.duration(3,"months")],Qt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Kt(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadingVolumePerformance,n=e.loadedVolumePerformance;t||n||this.fetchData(this.props)}},{key:"componentWillReceiveProps",value:function(e){var t=e.volumeSn,n=e.timeRange;t===this.props.volumeSn&&n.equals(this.props.timeRange)||this.fetchData(e)}},{key:"fetchData",value:function(e){this.props.getVolumePerformance(e.volumeSn,e.timeRange.toGenericQueryTime())}},{key:"render",value:function(){var e=this.props,t=e.loadingVolumePerformance,n=e.loadedVolumePerformance,r=e.timeRange,i=e.volumePerformance,o=e.history,s=e.location,c=void 0;i&&i.data&&i.data.length&&(c=he.QueryTimeRangeSelector.toTimeRangeSelection(i.meta.time));var l=(i&&i.data&&i.data.length&&i.data[0].timeseries||[]).map(function(e){return{timestamp:e.timestamp,readLatencyMs:e.latencyRead,writeLatencyMs:e.latencyWrite,readIops:e.iopsRandomSequentialRead,writeIops:e.iopsRandomSequentialWrite,readMbps:e.mbpsRandomSequentialRead/Math.pow(2,20),writeMbps:e.mbpsRandomSequentialWrite/Math.pow(2,20),severityScore:e.severityScore}}),u=Object(he.makeRangeSelector)(s,at(),!1,o),d=Object(he.makeChartSelector)(u);return a.a.createElement("div",null,a.a.createElement(he.QueryTimeRangeSelector,{parameterPrefix:at(),value:r,presets:$t,displayValue:c,card:!0}),a.a.createElement(T.a,{loading:t},a.a.createElement(pe.a,{hasData:!!(n&&l.length>0)},function(){return a.a.createElement(Gt,{timeseries:l,chartRangeStart:Oe()(i.meta.time.start),chartRangeEnd:Oe()(i.meta.time.end),onChartSelect:d})})))}}]),t}();Qt.displayName="VolumePerformanceContainer",Qt.propTypes={volumeSn:O.a.string.isRequired,loadingVolumePerformance:O.a.bool,loadedVolumePerformance:O.a.bool,volumePerformance:O.a.object,getVolumePerformance:O.a.func,timeRange:O.a.object,history:O.a.object.isRequired,location:O.a.object.isRequired};var Xt=Object(S.connect)(function(e,t){return Yt({},function(e){var t=e.match.params;return{timeRange:Object(he.deserialize)(t,at(""))||he.QueryTimeRangeSelector.DEFAULTS.VOLATILE}}(t),Object(I.c)(e))},function(e){return Object(C.bindActionCreators)({getVolumePerformance:k},e)})(Qt),Jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var en=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Zt(t,[{key:"componentWillUnmount",value:function(){this.props.reset()}},{key:"render",value:function(){var e=this.props,t=e.scope.id,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["scope"]);return a.a.createElement("div",null,a.a.createElement(ue,{volumeSn:t}),a.a.createElement(w.QueryTabs,{values:["performance","capacity"]},a.a.createElement(w.TabList,null,a.a.createElement(w.Tab,null,"Performance"),a.a.createElement(w.Tab,null,"Capacity")),a.a.createElement(w.TabPanel,null,a.a.createElement(Xt,Jt({},n,{volumeSn:t}))),a.a.createElement(w.TabPanel,null,a.a.createElement(et,Jt({},n,{volumeSn:t})))))}}]),t}();en.displayName="VolumeDetailContainer",en.propTypes={scope:O.a.shape({type:O.a.string.isRequired,id:O.a.string.isRequired}),reset:O.a.func};var tn=Object(S.connect)(null,function(e){return Object(C.bindActionCreators)({reset:M},e)})(en),nn=n(726),rn=n(224),an=n(317),on=n(57),sn=n.n(on),cn=n(64),ln=n.n(cn),un=n(50),dn=n.n(un),pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function fn(){return{chart:{spacingBottom:0,spacingLeft:0,type:"area"},plotOptions:{area:{animation:!1,marker:{enabled:!1,symbol:"circle"},stack:0,stacking:"normal",stickyTracking:!0}}}}var gn=n(15),yn=n.n(gn),vn=n(226),bn=n.n(vn),En=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},On=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Cn=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return ot()(n),n.containerElementId=Object(me.uniqueId)(n.constructor.name),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),On(t,[{key:"componentWillUnmount",value:function(){var e=document.getElementById(this.containerElementId);e&&e.removeEventListener("mouseleave",this.props.onMouseOut)}},{key:"callback",value:function(e){var t=document.getElementById(this.containerElementId);t&&(t.addEventListener("mouseleave",this.props.onMouseOut),this.props.callback&&this.props.callback(e))}},{key:"render",value:function(){return a.a.createElement(ct.ReactHighcharts,En({},this.props,{domProps:En({},this.props.domProps,{id:this.containerElementId}),callback:this.callback}))}}]),t}();Cn.displayName="MouseOutTrackingHighchart",Cn.propTypes={onMouseOut:O.a.func.isRequired,callback:O.a.func,domProps:O.a.object};var Sn=Cn,wn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Tn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),Rn(t,[{key:"render",value:function(){var e=this.props,t=e.buildConfig,n=e.onAfterChartRendered;return a.a.createElement(Sn,wn({callback:n},this.props,{config:t(this.props),domProps:{className:this.props.className}}))}}]),t}();Tn.displayName="ChartProvider",Tn.propTypes={buildConfig:O.a.func.isRequired,onAfterChartRendered:O.a.func.isRequired};var _n=Se()({elementResize:!0})(Tn),Nn=n(1209),jn=n.n(Nn),Pn=yn.a.bind(jn.a),An=function(e){var t=e.className,n=e.pointTracking,r=e.buildConfig,i=e.valueFormatter,o=e.getObjectLinkProps,s=e.timestampFormat,c=e.chartContainerClassName,l=e.defaultLegendItems;return a.a.createElement("div",{className:yn()(t,"row expanded collapse")},a.a.createElement("div",{className:yn()("column large-19 medium-16",Pn("chart-column"))},a.a.createElement(_n,{className:c,onAfterChartRendered:n.onAfterChartRendered,onMouseOverPoint:n.onMouseOverPoint,onMouseOut:n.onMouseOut,buildConfig:r})),a.a.createElement(bn.a,{className:"column large-5 medium-8",timestampFormat:s,items:function(e,t,n,r){var a=e.values||r;return Object(me.compact)(e.series).map(function(e){var r=t(a[e.id]&&a[e.id].value);return{id:e.id,label:e.name,icon:!0,color:null===e.color?"transparent":e.color,value:r,linkProps:n(e.highchartsSeries)}})}(n,i,o,l),timestamp:n.timestamp||null,reserveTimestampSpace:!0,valueTitle:"Usage"}))};An.displayName="PointTrackingChart",An.propTypes={chartContainerClassName:O.a.string,buildConfig:O.a.func.isRequired,getObjectLinkProps:O.a.func.isRequired,defaultLegendItems:O.a.object,valueFormatter:O.a.func,timestampFormat:O.a.string.isRequired,pointTracking:O.a.shape({onMouseOverPoint:O.a.func.isRequired,onMouseOut:O.a.func.isRequired,onAfterChartRendered:O.a.func,chart:O.a.shape({series:O.a.arrayOf(O.a.shape({color:O.a.string,options:O.a.shape({id:O.a.oneOfType([O.a.string,O.a.number]).isRequired}),name:O.a.string.isRequired}))}),timestamp:O.a.number,values:O.a.objectOf(O.a.shape({id:O.a.string.isRequired,value:O.a.node.isRequired,data:O.a.object,color:O.a.string}))}).isRequired},An.defaultProps={timestampFormat:"L"};var xn=An,Ln=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var kn=function(e){return"number"==typeof e?be()(e).format("0.0 ib"):"N/A"},Mn=function(e){var t=e.type,n=e.timeseries,r=e.hasFolderLimit;return!!(n&&n.length>0)&&("folder"!==t||"folder"===t&&r)},In=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return ot()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Ln(t,[{key:"getLinkProps",value:function(e){var t=e.options,n=t.id,r=t.isAggregatedRemainder,a=t.scopingObjectType,i=this.props,o=i.scope,s=i.config,c=i.location;if(a)return s.getLinkPropsForView(s.getDetailView(o.type),{id:n},null,c);var l=s.findView(b.a.VOLUME,r?"list":"detail"),u=r?o:{id:n,type:b.a.VOLUME};return s.getLinkPropsForView(l,u,null,c)}},{key:"buildScopingObjectSizeSeries",value:function(){var e=this.props.scopingObjectSizeSeries,t=e.id,n=e.type,r=e.timeseries;return{type:"line",dashStyle:"folder"===n?"dot":"solid",id:t,scopingObjectType:n,name:""+n[0].toUpperCase()+n.slice(1)+" "+("folder"===n?"Limit":"Size"),color:"folder"===n?Ne.CHART_COLORS.warningYellow:Ne.CHART_COLORS.redOrange,lineWidth:2,data:r.map(function(e){return{x:e.timestamp,y:e.sizeBytes}}),step:!0}}},{key:"buildConfig",value:function(e){var t=e.containerWidth,n=e.containerHeight,r=e.onMouseOverPoint,a=e.onAfterChartRendered,i=this.props,o=i.baseTimeSeries,s=i.chartRangeStart,c=i.chartRangeEnd,l=i.scopingObjectSizeSeries,u=Me(Ie(i.onChartSelect),function(e){var t=e.baseTimeSeries,n=e.chartRangeStart,r=e.chartRangeEnd,a=e.onMouseOverPoint,i=e.onRedraw,o=e.width,s=e.height,c=e.title,l=e.yAxisTitle,u=e.yAxisLabelFormatter,d=e.seriesMapper;return Me(function(e){var t=e.min,n=e.max;return function(){return{xAxis:{min:t,max:n}}}}({min:n.valueOf(),max:r.valueOf()}),function(e){var t=e.formatterCallback;return function(){return{tooltip:{enabled:!0,shared:!0,formatter:function(){return t(this),!1}}}}}({formatterCallback:a}),gt,fn,{chart:{width:o,height:s,ignoreHiddenSeries:!0,events:{redraw:function(){i(this)}}},plotOptions:{line:{marker:{enabled:!1,symbol:"circle"}}},series:t.map(function(e,t){return mn({index:t,legendIndex:t},d(e,t))}),title:c,yAxis:{title:{text:l},labels:{formatter:u&&function(){return u(this)}}}})}({baseTimeSeries:o,chartRangeStart:s,chartRangeEnd:c,onMouseOverPoint:r,onRedraw:a,width:t,height:n,yAxisTitle:"Usage (TiB)",yAxisLabelFormatter:function(e){var t=e.value;return be()(t/Math.pow(2,40)).format("0.0")},seriesMapper:function(e){var t=e.name,n=e.timeseries,r=e.id,a=e.isAggregatedRemainder;return{id:r,isAggregatedRemainder:!!a,name:a?"All other volumes":t,data:n.map(function(e){return{x:e.timestamp,y:e.dataUsageBytes}})}}}));return l&&Mn(l)&&u.series.push(this.buildScopingObjectSizeSeries()),u}},{key:"render",value:function(){var e=this.props,t=e.baseTimeSeries,n=e.scopingObjectSizeSeries,r=t.reduce(function(e,t){return e[t.id]={value:t.dataUsageBytes},e},{});return n&&Mn(n)&&(r[n.id]={value:n.timeseries[n.timeseries.length-1].sizeBytes}),a.a.createElement(xn,{className:"chart-container--medium",pointTracking:this.props.pointTracking,buildConfig:this.buildConfig,valueFormatter:kn,getObjectLinkProps:this.getLinkProps,defaultLegendItems:r,timestampFormat:Te.MINUTE_MOMENT_FORMAT})}}]),t}();In.displayName="TopVolumesByCapacity",In.propTypes={baseTimeSeries:O.a.arrayOf(O.a.shape({id:O.a.string.isRequired,name:O.a.string.isRequired,timeseries:O.a.arrayOf(O.a.shape({timestamp:O.a.number.isRequired,dataUsageBytes:O.a.number.isRequired})).isRequired})),scopingObjectSizeSeries:O.a.shape({id:O.a.string,name:O.a.string,type:O.a.string,hasFolderLimit:O.a.bool,timeseries:O.a.arrayOf(O.a.shape({timestamp:O.a.number,sizeBytes:O.a.number}))}),chartRangeStart:O.a.number,chartRangeEnd:O.a.number,scope:O.a.shape({type:O.a.string.isRequired,id:O.a.string.isRequired}),config:O.a.object.isRequired,location:O.a.object.isRequired,onChartSelect:O.a.func,pointTracking:O.a.object.isRequired},In.defaultProps={onChartSelect:function(e){return e.preventDefault()}};var Dn,Un=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return ot()(t),t.state={legendValues:null,legendSeries:[],legendTimestamp:null},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r.Component),hn(n,[{key:"onMouseOut",value:function(){this.setState(function(){return{legendValues:null,legendTimestamp:null}})}},{key:"onMouseOverPoint",value:function(e){var t=e.x,n=e.points.reduce(function(e,t){var n=t.y,r=t.series,a=r.data[r.index];return e[r.options.id]={value:n,data:a},e},{});this.setState(function(){return{legendValues:n,legendTimestamp:t}})}},{key:"onAfterChartRendered",value:function(e){this.chart=e,this.setState(function(){return{legendSeries:e.series.map(function(e){return{color:e.color,id:e.options.id,name:e.name,highchartsSeries:e}})}})}},{key:"render",value:function(){var t=this.state,n=t.legendValues,r=t.legendSeries,i={values:n,timestamp:t.legendTimestamp,chart:this.chart,series:r,onAfterChartRendered:this.onAfterChartRendered,onMouseOverPoint:this.onMouseOverPoint,onMouseOut:this.onMouseOut};return a.a.createElement(e,pn({},this.props,{pointTracking:i}))}}]),n}();return t.displayName="PointTrackingProvider",t.displayName=ln()(e,sn()(t)),dn()(t,e)}(In),Hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vn=function(e){return function(e,t){return"capacity."+e+t}("time.",e)},Wn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Fn(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e){var t=e.timeRange;this.props.timeRange.equals(t)||this.fetchData()}},{key:"componentWillUnmount",value:function(){this.props.resetVolumeCollectionStore()}},{key:"fetchData",value:function(){var e=this.props,t=e.config,n=e.scope,r=e.timeRange;this.props.getVolumesCapacity({rankBy:"dataUsageBytes",scope:t.convertToGenericQueryScope(n),timeRange:r.toGenericQueryTime()}),this.props.getScopingObjectSizeSeries({scope:t.convertToGenericQueryScope(n),timeRange:r.toGenericQueryTime()})}},{key:"render",value:function(){var e=this.props,t=e.volumesCapacity,n=e.timeRange,r=e.loadingVolumesCapacity,i=e.config,o=e.scope,s=e.loadingScopingObjectSizeSeries,c=e.loadedScopingObjectSizeSeries,l=e.scopingObjectSizeSeries,u=e.history,d=e.location,p=!!(t&&t.data&&t.data.length>0)&&c,h=void 0,m=void 0,f=void 0;p&&(h=he.TimeRangeSelection.from(t.meta.time),m=t.meta.time.start,f=t.meta.time.end);var g=Vn(""),y=Object(he.makeRangeSelector)(d,g,!1,u),v=Object(he.makeChartSelector)(y);return a.a.createElement("div",null,a.a.createElement(he.QueryTimeRangeSelector,{value:n,presets:he.QueryTimeRangeSelector.PRESETS.NONVOLATILE,parameterPrefix:g,displayValue:h,card:!0}),a.a.createElement(ye.a,{title:"Top Volumes by Data Usage"},a.a.createElement(T.a,{loading:r||s},a.a.createElement(pe.a,{hasData:p,message:"No capacity history data available."},function(){return a.a.createElement(Un,{className:"chart-container--medium",baseTimeSeries:t.data,scopingObjectSizeSeries:l.data,chartRangeStart:m,chartRangeEnd:f,config:i,scope:o,onChartSelect:v})}))))}}]),t}();Wn.displayName="CapacityContainer",Wn.propTypes={getScopingObjectSizeSeries:O.a.func,getVolumesCapacity:O.a.func,resetVolumeCollectionStore:O.a.func.isRequired,loadingVolumesCapacity:O.a.bool,volumesCapacity:O.a.shape({data:O.a.arrayOf(O.a.object),meta:O.a.shape({time:O.a.shape({start:O.a.number.isRequired,end:O.a.number.isRequired})})}),loadingScopingObjectSizeSeries:O.a.bool,loadedScopingObjectSizeSeries:O.a.bool,scopingObjectSizeSeries:O.a.shape({data:O.a.shape({id:O.a.string,name:O.a.string,type:O.a.string,hasFolderLimit:O.a.bool,timeseries:O.a.arrayOf(O.a.shape({timestamp:O.a.number,sizeBytes:O.a.number}))}),meta:O.a.shape({time:O.a.shape({start:O.a.number.isRequired,end:O.a.number.isRequired})})}),timeRange:O.a.oneOfType([O.a.instanceOf(he.TimeRangeSelection),O.a.string]).isRequired,scope:O.a.shape({type:O.a.string.isRequired,id:O.a.string.isRequired}),config:O.a.object.isRequired,history:O.a.object.isRequired,location:O.a.object.isRequired,match:O.a.shape({params:O.a.shape((Dn={},Bn(Dn,Vn("duration"),O.a.string),Bn(Dn,Vn("from"),O.a.string),Bn(Dn,Vn("to"),O.a.string),Dn)).isRequired}).isRequired};var qn=Object(S.connect)(function(e,t){var n=t.match;return Hn({},Object(rn.h)(e),Object(rn.f)(e),{timeRange:Object(he.deserialize)(n.params,Vn(""))||Object(he.toTimeRangeSelection)({duration:"P3M"})})},function(e){return Object(C.bindActionCreators)({getVolumesCapacity:an.c,getScopingObjectSizeSeries:an.b,resetVolumeCollectionStore:an.h},e)})(Wn),zn=n(232),Gn=n.n(zn),Yn=n(38),Kn=n(40),$n=function(e,t,n,r){return e&&e.series&&e.series.length?e.series.reduce(function(e,a){var i=a.points[t];return i&&i.x===n||(i=a.points.find(function(e){return e.x===n})),e[a.options.id]=i&&i.x===n?r(i,a):r(null,a),e},{}):{}},Qn=function(e,t,n){e.length?(t.tooltip.refresh(e,n),t.xAxis[0].drawCrosshair(n,e[0])):t.hoverPoints&&t.hoverPoints.length&&(t.hoverPoints.forEach(function(e){return e.setState()}),t.xAxis[0].hideCrosshair())},Xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Zn=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return ot()(n),n.containerElementId=Object(me.uniqueId)(n.constructor.name),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),Jn(t,[{key:"componentWillUnmount",value:function(){var e=document.getElementById(this.containerElementId);e&&e.removeEventListener("mouseleave",this.props.onMouseOut)}},{key:"onAfterChartRendered",value:function(e){var t=document.getElementById(this.containerElementId);t&&(t.addEventListener("mouseleave",this.props.onMouseOut),this.props.onAfterChartRendered(e))}},{key:"config",value:function(){var e=this,t=this.props,n=t.containerHeight,r=t.containerWidth,a=t.chartRangeStart,i=t.chartRangeEnd,o=t.baseTimeSeries,s=t.field,c=t.onAfterChartRendered,l=t.onMouseOverPoint,u=t.granularity,d=t.min,p=t.max,h=t.minColor,m=t.maxColor,f=t.spacingLeft;return Me(Ie(t.onChartSelect),{chart:{type:"heatmap",height:n,width:r,plotBorderWidth:0,spacingTop:0,spacingBottom:0,spacingLeft:f,spacingRight:0,marginTop:24,ignoreHiddenSeries:!0,events:{redraw:function(){"function"==typeof c&&c(this)}}},colorAxis:{min:d,max:p,minColor:h,maxColor:m,marker:{color:"transparent"}},legend:{enabled:!0,align:"right",layout:"horizontal",verticalAlign:"bottom",symbolHeight:10,symbolWidth:200},plotOptions:{heatmap:{borderWidth:2,borderColor:"white",colsize:u.asMilliseconds(),color:"transparent",nullColor:"#FFF",nullInteraction:!0,states:{hover:{enabled:!1}}}},series:o.map(function(t,n){var r=t.name,a=t.timeseries,i=t.id,o=t.isAggregatedRemainder;return{index:n,isAggregatedRemainder:o,id:i,name:r,data:a.map(function(e){return[e.timestamp,n,e[s]]}),legendIndex:n,aggregatedValue:t[s],point:{events:{mouseOver:function(t){e.lastPointHovered!==this&&(e.lastPointHovered=this,l({point:this,event:t}))}}}}}),title:{text:null},tooltip:{enabled:!1},xAxis:Xn({},Object(xe.b)(a,i)),yAxis:{title:!1,categories:Object(me.pluck)(o,"name"),minPadding:0,maxPadding:0,reversed:!0,min:0,labels:{enabled:!1},gridLineWidth:0,lineWidth:0}})}},{key:"render",value:function(){return a.a.createElement(ct.ReactHighcharts,{config:this.config(),domProps:{id:this.containerElementId},callback:this.onAfterChartRendered})}}]),t}();Zn.displayName="ChartWrapper",Zn.propTypes={chartRangeStart:O.a.oneOfType([O.a.object,O.a.number]),chartRangeEnd:O.a.oneOfType([O.a.object,O.a.number]),field:O.a.string.isRequired,baseTimeSeries:O.a.arrayOf(O.a.shape({id:O.a.string,name:O.a.string.isRequired,timeseries:O.a.arrayOf(O.a.shape({timestamp:O.a.number.isRequired})).isRequired})),onMouseOverPoint:O.a.func.isRequired,onMouseOut:O.a.func.isRequired,onAfterChartRendered:O.a.func.isRequired,min:O.a.number,max:O.a.number,minColor:O.a.string.isRequired,maxColor:O.a.string.isRequired,granularity:O.a.object,containerHeight:O.a.number.isRequired,containerWidth:O.a.number.isRequired,spacingLeft:O.a.number,onChartSelect:O.a.func},Zn.defaultProps={spacingLeft:0,onChartSelect:function(e){return e.preventDefault()}};var er=Se()({elementResize:!0})(Zn),tr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function nr(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var rr=function(e){var t=e.baseTimeSeries,n=e.field,r=e.min,a=e.max,i=e.minColor,o=e.maxColor;if(!t)return{};var s=Object(me.pluck)(Object(me.flatten)(Object(me.pluck)(t,"timeseries")),n);"number"!=typeof r&&(r=Math.min.apply(Math,nr(s))),"number"!=typeof a&&(a=Math.max.apply(Math,nr(s))),0===a&&(o=i);var c=Gn.a.scale([i,o]).domain([r,a]);return t.reduce(function(e,t){var r=t[n],a=c(r);return e[t.id]={value:r,color:a},e},{})},ar=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));ot()(n);var r=rr(n.props);return n.state={defaultPointValues:r,pointValues:r,pointTimestamp:null,isPointHovered:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),tr(t,[{key:"componentDidMount",value:function(){this.props.chartSync&&this.props.chartSync.monitorChart(this,{syncPoints:this.syncPoints,resetPoints:this.resetPoints})}},{key:"componentWillReceiveProps",value:function(e){var t=e.baseTimeSeries,n=e.field;this.props.baseTimeSeries===t&&this.props.field===n||this.setState({defaultPointValues:rr(e)})}},{key:"componentDidUpdate",value:function(e,t){var n=t.pointTimestamp,r=this.state.pointTimestamp;if(this.chart&&r!==n){this.chart.xAxis[0].removePlotLine("fake-crosshair-plotline"),r&&this.chart.xAxis[0].addPlotLine({id:"fake-crosshair-plotline",value:r,color:Ne.CHART_COLORS.crosshairs,width:2,zIndex:10})}}},{key:"componentWillUnmount",value:function(){this.props.chartSync&&this.props.chartSync.removeChart(this)}},{key:"onMouseOverPoint",value:function(e){e.point&&(this.props.chartSync?this.props.chartSync.syncPoints(e):this.syncPoints(e.point))}},{key:"onMouseOut",value:function(e){this.props.chartSync?this.props.chartSync.syncPoints({event:e}):this.resetPoints()}},{key:"onAfterChartRendered",value:function(e){this.chart=e;var t=this.props.requestDataResolution;t&&t({maxSamples:Math.floor(e.plotWidth/8)}),this.forceUpdate()}},{key:"resetPoints",value:function(){this.setState(function(e){return{pointValues:e.defaultPointValues,pointTimestamp:null,isPointHovered:!1}})}},{key:"syncPoints",value:function(e){var t=e.index,n=e.x;this.setState({pointValues:$n(this.chart,t,n,function(e,t){return e?Object(me.pick)(e,"value","color"):{color:t.color,value:null}}),pointTimestamp:n,isPointHovered:!0})}},{key:"calculateChartHeight",value:function(){var e=this.props.baseTimeSeries,t=void 0;if(this.chart){var n=this.chart;t=n.chartHeight-n.plotHeight}else t=101;return 24*e.length+t}},{key:"buildLegendItems",value:function(){var e=this.props,t=e.unit,n=e.getObjectLinkProps,r=e.valueFormatter,a=this.chart.series,i=this.state.pointValues;return Object(me.compact)(a).map(function(e){var a=e.options.id;return{id:a,unit:t,label:e.name,icon:!0,color:i[a]&&null!==i[a].value?i[a].color:"transparent",value:i[a]&&r(i[a].value),linkProps:n(e)}})}},{key:"render",value:function(){var e=this.props,t=e.baseTimeSeries,n=e.chartRangeStart,r=e.chartRangeEnd,i=e.field,o=e.minColor,s=e.maxColor,c=e.granularity,l=e.spacingLeft,u=e.timestampFormat,d=e.valueTitle,p=e.onChartSelect,h=this.props,m=h.min,f=h.max,g=this.chart,y=this.state,v=y.pointTimestamp,b=y.isPointHovered,E=Object(me.pluck)(Object(me.flatten)(Object(me.pluck)(t,"timeseries")),i);return"number"!=typeof m&&(m=Math.min.apply(Math,nr(E))),"number"!=typeof f&&(f=Math.max.apply(Math,nr(E))),a.a.createElement("div",{className:"row expanded",style:{height:this.calculateChartHeight()+"px"}},a.a.createElement("div",{className:"column large-19"},a.a.createElement(er,{baseTimeSeries:t,chartRangeStart:n,chartRangeEnd:r,onAfterChartRendered:this.onAfterChartRendered,onMouseOverPoint:this.onMouseOverPoint,onMouseOut:this.onMouseOut,onChartSelect:p,granularity:c,field:i,min:m,max:f,minColor:o,maxColor:0===f?o:s,spacingLeft:l,containerHeight:this.calculateChartHeight()})),g&&g.series&&a.a.createElement(bn.a,{className:"column large-5",timestampFormat:u,items:this.buildLegendItems(),timestamp:b&&v||null,reserveTimestampSpace:!0,height:24,valueTitle:d}))}}]),t}();ar.displayName="CorrelationHeatmapTimeSeries";var ir=ar;ar.propTypes={baseTimeSeries:O.a.arrayOf(O.a.shape({id:O.a.string,name:O.a.string.isRequired,timeseries:O.a.arrayOf(O.a.shape({timestamp:O.a.number.isRequired})).isRequired})),chartRangeStart:O.a.oneOfType([O.a.object,O.a.number]),chartRangeEnd:O.a.oneOfType([O.a.object,O.a.number]),requestDataResolution:O.a.func,field:O.a.string.isRequired,unit:O.a.string.isRequired,granularity:O.a.object.isRequired,min:O.a.number,max:O.a.number,minColor:O.a.string.isRequired,maxColor:O.a.string.isRequired,getObjectLinkProps:O.a.func.isRequired,valueFormatter:O.a.func.isRequired,spacingLeft:O.a.number,timestampFormat:O.a.string,valueTitle:O.a.node,chartSync:O.a.shape({monitorChart:O.a.func.isRequired,removeChart:O.a.func.isRequired,syncPoints:O.a.func.isRequired}),onChartSelect:O.a.func},ar.defaultProps={min:0,minColor:Ne.CHART_COLORS.gradientMinGrey,maxColor:Ne.CHART_COLORS.blue,valueFormatter:function(e){return void 0===e||null===e?"N/A":be()(e).format("0,0.00")},timestampFormat:Te.MINUTE_MOMENT_FORMAT};var or=function(){var e=Math.max(window&&window.innerWidth||0,Object(Yn.e)(Object(Kn.getStore)().getState()));return Math.floor(e*(19/24)/8)};function sr(e){var t=void 0,n=void 0,r=void 0,a=void 0,i=void 0,o=void 0,s=Le.Highstock.charts.length;for(r=0;r<s;r+=1)if(t=Le.Highstock.charts[r]){for(o=t.series.length,i=t.pointer.normalize(Object.assign({},e)),a=0;a<o;a+=1)(n=t.series[a].searchPoint(i,!0))&&(n.onMouseOut(),t.tooltip&&"function"==typeof t.tooltip.hide&&t.tooltip.hide(n));t.xAxis[0].hideCrosshair()}}function cr(e){var t=void 0,n=void 0,r=void 0,a=void 0,i=void 0,o=void 0,s=Le.Highstock.charts.length;for(r=0;r<s;r+=1)if(t=Le.Highstock.charts[r]){o=t.series.length,i=t.pointer.normalize(Object.assign({},e));var c=[];for(a=0;a<o;a+=1)(n=t.series[a].searchPoint(i,!0))&&(n.onMouseOver(),c.push(n),t.xAxis[0].drawCrosshair(e,n));c.length&&t.tooltip&&"function"==typeof t.tooltip.refresh&&t.tooltip.refresh(c)}}var lr=function(e){var t=e.onMouseLeave,n=e.children;return a.a.createElement("div",{onMouseMove:cr,onMouseLeave:t||sr,onMouseOut:t||sr},n)};lr.displayName="SyncChart",lr.propTypes={onMouseLeave:O.a.func,children:O.a.arrayOf(O.a.oneOfType([O.a.func,O.a.element,O.a.node]))};var ur=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var dr={chartSyncProvider:O.a.shape({monitorChart:O.a.func.isRequired,removeChart:O.a.func.isRequired,syncPoints:O.a.func.isRequired})},pr=function(e,t){var n=e.children,r=t.chartSyncProvider;return a.a.cloneElement(a.a.Children.only(n),{chartSync:r})};pr.contextTypes=dr;var hr=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return ot()(n),n.charts=[],n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),ur(t,[{key:"getChildContext",value:function(){return{chartSyncProvider:this}}},{key:"monitorChart",value:function(e,t){var n=t.syncPoints,r=t.resetPoints;if(e)return n&&r?void this.charts.push({chart:e,syncPoints:n,resetPoints:r}):(console.assert(n,"Expected a callback syncPoints(point)"),void console.assert(r,"Expected a callback resetPoints()"))}},{key:"removeChart",value:function(e){for(var t=0;t<this.charts.length;t+=1)this.charts[t].chart===e&&this.charts.splice(t,1)}},{key:"syncPoints",value:function(e){var t=e.point;t?this.charts.forEach(function(e){return e.syncPoints(t)}):this.charts.forEach(function(e){return e.resetPoints(t)})}},{key:"render",value:function(){return this.props.children}}]),t}();hr.displayName="SynchronizedChartMediator",hr.propTypes={children:O.a.node},hr.childContextTypes=dr;function mr(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function fr(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){var n;return(n=[]).concat.apply(n,mr(e.map(function(e){return t.map(function(t){return[].concat(mr(e),[t])})})))},[[]])}.apply(void 0,mr(t.map(Object.keys)))}var gr=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),yr=function(e){return e.unit+"_"+e.io+"_"+e.access},vr=n(1210),br=n(646),Er=n.n(br),Or=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Sr=$.a.bind(Er.a),wr=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return ot()(n),n.state={showActivityChart:!0,showLatencyChart:!0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Cr(t,[{key:"getVolumeLinkProps",value:function(e){var t=e.options,n=t.id,r=t.isAggregatedRemainder,a=this.props,i=a.scope,o=a.config,s=a.location,c=o.findView(b.a.VOLUME,r?"list":"detail"),l=r?i:{id:n,type:b.a.VOLUME};return o.getLinkPropsForView(c,l,null,s)}},{key:"toggleActivityVisibility",value:function(){this.setState({showActivityChart:!this.state.showActivityChart})}},{key:"toggleLatencyVisibility",value:function(){this.setState({showLatencyChart:!this.state.showLatencyChart})}},{key:"render",value:function(){var e=this,t=this.props,n=t.throughputTimeseries,r=t.throughputPerspective,o=t.latencyTimeseries,s=t.latencyPerspective,c=t.loadingThroughputTimeseries,l=t.loadedThroughputTimeseries,u=t.loadingLatencyTimeseries,d=t.loadedLatencyTimeseries,p=t.chartRangeStart,h=t.chartRangeEnd,m=t.onChartSelect,f=this.state,g=f.showActivityChart,y=f.showLatencyChart;return a.a.createElement("div",null,a.a.createElement(ye.a,{hideSection:!g,title:a.a.createElement("div",{className:"row expanded"},a.a.createElement("div",{className:"column"},a.a.createElement("h2",{className:"no-margin"},"Top Volumes By Activity")),a.a.createElement("div",{className:$()("column shrink flex-container align-middle",{hide:!g})},a.a.createElement("span",{className:Sr("optionTitle")},"Activity Measure"),a.a.createElement(vr.QuerySelect,{className:$()("field-width--small",Sr("perspective-selector")),parameter:rt("unit"),value:r.keys.unit},a.a.createElement("option",{value:"iops"},"IO/sec"),a.a.createElement("option",{value:"mbps"},"MiB/sec")),a.a.createElement("span",{className:Sr("optionTitle")},"IO Type"),a.a.createElement("label",{htmlFor:"access1"},a.a.createElement(vr.QuerySelect,{id:"access1",className:$()("field-width--medium",Sr("perspective-selector")),parameter:rt("access"),value:r.keys.access},a.a.createElement("option",{value:"randomSequential"},"Random & Sequential"),a.a.createElement("option",{value:"random"},"Random"),a.a.createElement("option",{value:"seq"},"Sequential"))),a.a.createElement(vr.QuerySelect,{className:$()("field-width--medium",Sr("perspective-selector")),parameter:rt("io"),value:r.keys.io},a.a.createElement("option",{value:"readWrite"},"Reads & Writes"),a.a.createElement("option",{value:"read"},"Reads"),a.a.createElement("option",{value:"write"},"Writes"))),a.a.createElement("div",{className:"column shrink"},a.a.createElement("div",{className:Sr("show-more-button"),onClick:this.toggleActivityVisibility,role:"button"},a.a.createElement(i.IconAdaptor,{type:"font-awesome",size:"small"},a.a.createElement("i",{className:"fa "+(g?"fa-angle-up":"fa-angle-down")})))))},a.a.createElement(T.a,{loading:c},a.a.createElement(pe.a,{hasData:l&&n&&n.data.length>0,message:"No activity data available for this time range."},function(){var t=Object(P.b)(n.meta.time.granularity);return a.a.createElement(pr,null,a.a.createElement(ir,Or({baseTimeSeries:n.data,chartRangeStart:p,chartRangeEnd:h,requestDataResolution:e.onRequestDataResolution,granularity:t,getObjectLinkProps:e.getVolumeLinkProps,rightSideTitles:!0,spacingLeft:40},r,{onChartSelect:m})))}))),a.a.createElement(ye.a,{hideSection:!y,title:a.a.createElement("div",{className:"row expanded"},a.a.createElement("div",{className:"column"},a.a.createElement("h2",{className:"no-margin"},"Top Volumes by Latency")),a.a.createElement("div",{className:$()("column shrink flex-container align-middle",{hide:!y})},a.a.createElement("span",{className:Sr("optionTitle")},"IO Type"),a.a.createElement(vr.QuerySelect,{className:$()("field-width--medium",Sr("perspective-selector")),parameter:rt("io"),value:r.keys.io},a.a.createElement("option",{value:"readWrite"},"Reads & Writes"),a.a.createElement("option",{value:"read"},"Reads"),a.a.createElement("option",{value:"write"},"Writes"))),a.a.createElement("div",{className:"column shrink"},a.a.createElement("div",{className:Sr("show-more-button"),onClick:this.toggleLatencyVisibility,role:"button"},a.a.createElement(i.IconAdaptor,{type:"font-awesome",size:"small"},a.a.createElement("i",{className:"fa "+(y?"fa-angle-up":"fa-angle-down")})))))},a.a.createElement(T.a,{loading:u},a.a.createElement(pe.a,{hasData:d&&o&&o.data.length,message:"No latency data available for this time range."},function(){var t=Object(P.b)(o.meta.time.granularity);return a.a.createElement(pr,null,a.a.createElement(ir,Or({baseTimeSeries:o.data,chartRangeStart:p,chartRangeEnd:h,granularity:t,getObjectLinkProps:e.getVolumeLinkProps,rightSideTitles:!0,spacingLeft:40},s,{onChartSelect:m})))}))))}}]),t}();wr.displayName="VolumePerformance",wr.propTypes={loadingThroughputTimeseries:O.a.bool,loadedThroughputTimeseries:O.a.bool,throughputTimeseries:O.a.shape({data:O.a.arrayOf(O.a.object),meta:O.a.shape({time:O.a.shape({start:O.a.number.isRequired,end:O.a.number.isRequired,granularity:O.a.string.isRequired})})}),loadingLatencyTimeseries:O.a.bool,loadedLatencyTimeseries:O.a.bool,latencyTimeseries:O.a.shape({data:O.a.arrayOf(O.a.object),meta:O.a.shape({time:O.a.shape({start:O.a.number.isRequired,end:O.a.number.isRequired,granularity:O.a.string.isRequired})})}),throughputPerspective:O.a.shape({}),latencyPerspective:O.a.shape({}),chartRangeEnd:O.a.object,chartRangeStart:O.a.object,onChartSelect:O.a.func,scope:O.a.shape({type:O.a.string.isRequired,id:O.a.string.isRequired}),config:O.a.object.isRequired,location:O.a.object.isRequired};var Rr=wr,Tr=n(154),_r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Nr=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return ot()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),_r(t,[{key:"data",value:function(){var e=this.props,t=e.cpuCacheTimeseries,n=e.cpuThresholdPercent,r=e.cacheThresholdPercent;return t.map(function(e){return{x:e.timestamp,y:e.cpuUsagePercent>n||e.cacheUsagePercent>r?1:null}})}},{key:"config",value:function(){return{chart:{type:"column",backgroundColor:"transparent",width:this.props.containerWidth,height:this.props.containerHeight,spacingTop:0,spacingBottom:0,spacingLeft:40,spacingRight:0},title:!1,xAxis:{type:"datetime",visible:!0},yAxis:{visible:!1},tooltip:!1,plotOptions:{column:{pointPlacement:.5,pointPadding:0,groupPadding:0,borderWidth:0,minPointLength:3}},series:[{name:"Pool Performance Impact",color:Ne.CHART_COLORS.redOrange,data:this.data()}]}}},{key:"render",value:function(){var e=this.config();return a.a.createElement(pe.a,{hasData:!!e},function(){return a.a.createElement(ct.ReactHighcharts,{config:e})})}}]),t}();Nr.displayName="PoolPerformanceSnapShotView",Nr.propTypes={cpuCacheTimeseries:O.a.arrayOf(O.a.shape({cpuUsagePercent:O.a.number,cacheUsagePercent:O.a.number})),cpuThresholdPercent:O.a.number,cacheThresholdPercent:O.a.number,containerHeight:O.a.number.isRequired,containerWidth:O.a.number.isRequired},Nr.defaultProps={containerHeight:0,containerWidth:0};var jr=Se()({elementResize:!0})(Nr),Pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ar=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var xr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),Ar(t,[{key:"config",value:function(){var e=this.props,t=e.containerHeight,n=e.containerWidth,r=e.callback,a=e.config;return Le.Highstock.merge(a,{chart:{height:t,width:n,events:{redraw:function(){"function"==typeof r&&r(this)}}}})}},{key:"render",value:function(){return a.a.createElement(Sn,Pr({onMouseOut:me.noop},this.props,{config:this.config()}))}}]),t}();xr.displayName="ResponsiveChartWrapper",xr.propTypes={config:O.a.object,callback:O.a.func.isRequired,onMouseOut:O.a.func.isRequired,containerHeight:O.a.number.isRequired,containerWidth:O.a.number.isRequired};var Lr=Se()({elementResize:!0})(xr),kr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Mr=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return ot()(n),n.state=n.getStateFromProps(n.props),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),kr(t,[{key:"componentDidMount",value:function(){this.props.chartSync&&this.props.chartSync.monitorChart(this,{syncPoints:this.syncPoints,resetPoints:this.resetPoints})}},{key:"componentWillReceiveProps",value:function(e){e.defaultPointValues===this.props.defaultPointValues&&e.config===this.props.config||this.setState(this.getStateFromProps(e))}},{key:"componentWillUnmount",value:function(){this.props.chartSync&&this.props.chartSync.removeChart(this)}},{key:"onMouseOverPoint",value:function(e){e.point&&(this.props.chartSync?this.props.chartSync.syncPoints(e):this.syncPoints(e.point,e.event))}},{key:"onMouseOut",value:function(e){this.props.chartSync?this.props.chartSync.syncPoints({event:e}):this.resetPoints()}},{key:"onAfterChartRendered",value:function(e){this.chart=e,this.forceUpdate()}},{key:"getStateFromProps",value:function(e){return{pointTimestamp:null,isPointHovered:!1,pointValues:e.defaultPointValues,config:this.config(e.config)}}},{key:"resetPoints",value:function(){this.chart.hoverPoints&&this.chart.hoverPoints.forEach(function(e){return e.setState()}),this.chart.xAxis[0].hideCrosshair(),this.setState({isPointHovered:!1,pointValues:this.props.defaultPointValues,pointTimestamp:null})}},{key:"syncPoints",value:function(e,t){var n=this.props.getCorrespondingPoints(e,this.chart,t),r=n.pointValues,a=n.hoverPoints;this.props.useHighchartsCrosshair&&Qn(a,this.chart,t),this.setState({pointValues:r,pointTimestamp:e.x,isPointHovered:!0})}},{key:"buildLegendItems",value:function(){var e=this.props,t=e.buildLegendItems,n=e.legendValueFormatter;if(t)return t({chart:this.chart,pointValues:this.state.pointValues});var r=this.chart.series,a=this.state.pointValues;return r.map(function(e){return{id:e.options.id,label:e.options.name,icon:!0,color:e.color?e.color:"transparent",value:n(a&&a[e.options.id]?a[e.options.id].value:null)}})}},{key:"config",value:function(e){var t=this;return e.series&&(e.series=e.series.map(function(e){return Le.Highstock.merge(e,{marker:{enabled:!1},point:{events:{mouseOver:function(e){t.lastPointHovered!==this&&(t.lastPointHovered=this,t.onMouseOverPoint({event:e,point:this}))}}}})})),Le.Highstock.merge(e,{chart:{plotBorderWidth:0,spacingTop:0,spacingBottom:0,spacingLeft:10,spacingRight:0,marginTop:24,ignoreHiddenSeries:!0},title:!1,tooltip:{enabled:!0,shared:!0,positioner:function(e,t){return{x:-this.chart.plotLeft-e,y:-this.chart.plotTop-t}}}})}},{key:"render",value:function(){var e=this.chart,t=this.state,n=t.isPointHovered,r=t.pointTimestamp,i=t.config,o=this.props.className;return a.a.createElement("div",{className:$()("row expanded",o)},a.a.createElement("div",{className:"column large-19"},a.a.createElement(Lr,{callback:this.onAfterChartRendered,onMouseOut:this.onMouseOut,config:i})),e&&e.series&&a.a.createElement(bn.a,{className:"column large-5",items:this.buildLegendItems(),timestamp:n&&r||null,reserveTimestampSpace:!0,valueTitle:"Avg. Usage"}))}}]),t}();Mr.displayName="MultiObjectChart",Mr.propTypes={config:O.a.object.isRequired,buildLegendItems:O.a.func,legendValueFormatter:O.a.func,defaultPointValues:O.a.func.isRequired,getCorrespondingPoints:O.a.func,useHighchartsCrosshair:O.a.bool,chartSync:O.a.shape({monitorChart:O.a.func.isRequired,removeChart:O.a.func.isRequired,syncPoints:O.a.func.isRequired})},Mr.defaultProps={legendValueFormatter:me.identity,getCorrespondingPoints:function(e,t){var n=e.index,r=e.x,a=[];return{pointValues:$n(t,n,r,function(e,t){return e?(a.push(e),{color:e.color,value:e.y}):{color:t.color,value:null}}),hoverPoints:a}}};var Ir=Mr,Dr=n(60),Ur=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Fr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}$.a.bind(Er.a);var Br=function(e,t,n){return e.map(function(e){return[e[t],e[n]]})},Vr=function(e,t){return t&&t.length?t.reduce(function(t,n){return t+(n[e]||0)},0)/t.length:null},Wr=Object(Tr.createSelector)(function(e){return e.cpuCacheTimeseries},function(e){var t;return Fr(t={},"cpu",{id:"cpu",value:Vr("cpuUsagePercent",e)}),Fr(t,"cache",{id:"cache",value:Vr("cacheUsagePercent",e)}),t}),qr=Object(Tr.createSelector)(function(e){return{isAllFlashPool:e.isAllFlashPool,cpuCacheTimeseries:e.cpuCacheTimeseries,cpuThresholdPercent:e.cpuThresholdPercent,cacheThresholdPercent:e.cacheThresholdPercent,chartRangeStart:e.chartRangeStart,chartRangeEnd:e.chartRangeEnd,onChartSelect:e.onChartSelect}},function(e){var t=e.isAllFlashPool,n=e.cpuCacheTimeseries,r=e.cpuThresholdPercent,a=e.cacheThresholdPercent,i=e.chartRangeStart,o=e.chartRangeEnd,s=e.onChartSelect,c=Br(n,"timestamp","cpuUsagePercent"),l=(Gn()(Ne.CHART_COLORS.redOrange).alpha(.3).css(),void 0);var u=[{id:"cpu",name:"CPU Usage",data:c,zIndex:1,thresholdValue:r}];if(!t){var d=Br(n,"timestamp","cacheUsagePercent");u.push({id:"cache",name:"Cache Miss Rate",data:d,thresholdValue:a,zIndex:1})}return Me(Ie(s),{series:u,xAxis:Hr({plotBands:l,type:"datetime"},Object(xe.b)(i,o)),yAxis:{title:!1,min:0,max:100,minPadding:0,maxPadding:0,labels:{enabled:!0},lineWidth:1}})}),zr=function(e){var t=e.chart.series,n=e.pointValues;return t.map(function(e){return{id:e.options.id,label:e.options.name,icon:!0,color:e.color?e.color:"transparent",value:n&&n[e.options.id]&&Object(_t.d)(n[e.options.id].value,Dr.g,"%")}})},Gr=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return ot()(n),n.state={showPoolPeformanceDetail:!0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Ur(t,[{key:"togglePoolPerformanceDetailVisibility",value:function(){this.setState(function(e){return{showPoolPeformanceDetail:!e.showPoolPeformanceDetail}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.loading,r=t.loaded,i=null,o=null;return r&&(i=qr(this.props),o=Wr(this.props)),a.a.createElement(ye.a,{title:a.a.createElement("div",{className:"flex-container align-justify"},a.a.createElement("h2",{className:"no-margin"},"Pool Performance"),!1)},a.a.createElement(T.a,{loading:n},a.a.createElement(pe.a,{hasData:r,message:"CPU Usage & Cache Miss Rate data is not available"},function(){var t=e.props,n=t.cpuCacheTimeseries,r=t.cpuThresholdPercent,s=t.cacheThresholdPercent;return e.state.showPoolPeformanceDetail?a.a.createElement(pr,null,a.a.createElement(Ir,{className:"chart-container--xsmall",config:i,defaultPointValues:o,buildLegendItems:zr,useHighchartsCrosshair:!0})):a.a.createElement("div",{className:"row expanded chart-container--xxsmall"},a.a.createElement("div",{className:"column large-19"},a.a.createElement(jr,{cpuCacheTimeseries:n,cpuThresholdPercent:r,cacheThresholdPercent:s})))})))}}]),t}();Gr.displayName="PoolPerformanceChart",Gr.propTypes={cpuCacheTimeseries:O.a.arrayOf(O.a.shape({timestamp:O.a.number,cpuUsagePercent:O.a.number,cacheUsagePercent:O.a.number})),cpuThresholdPercent:O.a.number,cacheThresholdPercent:O.a.number,isAllFlashPool:O.a.oneOf([1,0]),loading:O.a.bool.isRequired,loaded:O.a.bool.isRequired,onChartSelect:O.a.func},Gr.defaultProps={containerWidth:0,containerHeight:0,loading:!1,loaded:!1,onChartSelect:function(e){return e.preventDefault()}};var Yr=Gr,Kr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Qr=function(){var e={iops:{title:"IO/sec",fieldSegment:"iops"},mbps:{title:"MiB/sec",fieldSegment:"mbps",valueFormatter:function(e){return void 0===e||null===e?"N/A":be()(e/Math.pow(2,20)).format("0,0.00")}}},t={ms:{title:"ms",fieldSegment:"latency"}},n={readWrite:{title:"Reads & Writes",fieldSegment:"ReadWrite"},read:{title:"Reads",fieldSegment:"Read"},write:{title:"Writes",fieldSegment:"Write"}},r={randomSequential:{title:"Random & Sequential",fieldSegment:"RandomSequential"},random:{title:"Random",fieldSegment:"Random"},seq:{title:"Sequential",fieldSegment:"Sequential"}},a={};return fr(e,n,r).reduce(function(t,a){var i=gr(a,3),o=i[0],s=i[1],c=i[2];return t[yr({unit:o,io:s,access:c})]={field:""+e[o].fieldSegment+r[c].fieldSegment+n[s].fieldSegment,title:"Throughput",valueTitle:""+e[o].fieldSegment=="iops"?"Avg. IOPS":"Avg. Throughput",chartTitle:r[c].title+" "+n[s].title,unit:""+e[o].title,latencyPerspectiveKey:yr({io:s,unit:"ms",access:""}),min:0,minColor:"#E2E6EA",maxColor:Gn()("#002e6d").hex(),keys:{unit:o,io:s,access:c},valueFormatter:e[o].valueFormatter},t},a),fr(t,n).reduce(function(e,r){var a=gr(r,2),i=a[0],o=a[1];return e[yr({unit:i,io:o,access:""})]={field:"latency"+n[o].fieldSegment,title:"Latency",valueTitle:"Avg. Latency",chartTitle:""+n[o].title,unit:""+t[i].title,min:0,max:10,minColor:"#E2E6EA",maxColor:Gn()("#d3524d").hex(),keys:{unit:i,io:o,access:""}},e},a),a}(),Xr=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return ot()(n),n.maxSamples=or(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),$r(t,[{key:"componentDidMount",value:function(){this.fetchCpuCacheUsageSeries(),this.fetchThroughputTimeSeries(),this.fetchLatencyTimeSeries()}},{key:"componentDidUpdate",value:function(e){var t=e.timeRange,n=e.throughputPerspective,r=e.latencyPerspective;if(!this.props.timeRange.equals(t))return this.fetchThroughputTimeSeries(),this.fetchLatencyTimeSeries(),void this.fetchCpuCacheUsageSeries();this.props.throughputPerspective!==n&&this.fetchThroughputTimeSeries(),this.props.latencyPerspective!==r&&this.fetchLatencyTimeSeries()}},{key:"componentWillUnmount",value:function(){this.props.resetPerformanceStore()}},{key:"getRequestGranularity",value:function(){var e=this.props.timeRange.asFixedRange(),t=e.from,n=e.to;return Object(P.a)(t,n,this.maxSamples)}},{key:"getUnionedTimeRange",value:function(){for(var e=1/0,t=-1/0,n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];return r.forEach(function(n){n&&n.meta&&n.meta.time&&(e=Math.min(e,n.meta.time.dataStart||e),t=Math.max(t,n.meta.time.dataEnd||t))}),e<1/0?he.TimeRangeSelection.toTimeRangeSelection({start:e,end:t}):this.props.timeRange}},{key:"buildFetchOptions",value:function(e,t){var n=this.props,r=n.scope,a=n.config,i=n.timeRange,o=t&&this.getRequestGranularity();return{scope:a.convertToGenericQueryScope(r),timeRange:{time:Kr({},i.toGenericQueryTime().time,{granularity:o?o.toJSON():void 0,gapFill:!0})},rankBy:e&&e.field}}},{key:"fetchCpuCacheUsageSeries",value:function(){this.props.getPoolCpuCacheUsageSeries(this.buildFetchOptions(null,!0))}},{key:"fetchThroughputTimeSeries",value:function(){var e=this.props.throughputPerspective;this.props.getTopVolumesThroughputTimeSeries(this.buildFetchOptions(e,!0))}},{key:"fetchLatencyTimeSeries",value:function(){var e=this.props.latencyPerspective;this.props.getTopVolumesLatencyTimeSeries(this.buildFetchOptions(e,!0))}},{key:"render",value:function(){var e=this.props,t=e.loadingPoolCpuCacheTimeseries,n=e.throughputTimeseries,r=e.latencyTimeseries,i=e.timeRange,o=e.poolCpuCacheTimeseries,s=e.history,c=e.location,l=!!(o&&o.data&&o.data.timeseries.length>0),u=this.getUnionedTimeRange(o,n,r).asFixedRange(),d=nt(""),p=Object(he.makeRangeSelector)(c,d,!1,s),h=Object(he.makeChartSelector)(p);return a.a.createElement("div",null,a.a.createElement(he.QueryTimeRangeSelector,{presets:he.QueryTimeRangeSelector.PRESETS.VOLATILE,valueClassName:"hide",parameterPrefix:d,value:i,displayValue:u,card:!0}),a.a.createElement(hr,null,a.a.createElement(pr,null,a.a.createElement(Yr,{loading:t,loaded:l,isAllFlashPool:l?o.data.isAllFlashPool:null,cpuCacheTimeseries:l?o.data.timeseries:[],cpuThresholdPercent:l?o.data.cpuThresholdPercent:0,cacheThresholdPercent:l?o.data.cacheThresholdPercent:0,chartRangeStart:u.from,chartRangeEnd:u.to,onChartSelect:h})),a.a.createElement(Rr,Kr({},this.props,{chartRangeStart:u.from,chartRangeEnd:u.to,onChartSelect:h}))))}}]),t}();Xr.displayName="PerformanceContainer",Xr.propTypes={getTopVolumesThroughputTimeSeries:O.a.func,getTopVolumesLatencyTimeSeries:O.a.func,resetPerformanceStore:O.a.func,loadingThroughputTimeseries:O.a.bool,loadedThroughputTimeseries:O.a.bool,throughputTimeseries:O.a.shape({data:O.a.arrayOf(O.a.object),meta:O.a.shape({time:O.a.shape({start:O.a.number.isRequired,end:O.a.number.isRequired,granularity:O.a.string.isRequired})})}),loadingLatencyTimeseries:O.a.bool,loadedLatencyTimeseries:O.a.bool,latencyTimeseries:O.a.shape({data:O.a.arrayOf(O.a.object),meta:O.a.shape({time:O.a.shape({start:O.a.number.isRequired,end:O.a.number.isRequired,granularity:O.a.string.isRequired})})}),timeRange:O.a.oneOfType([O.a.instanceOf(he.TimeRangeSelection),O.a.string]).isRequired,throughputPerspective:O.a.object,latencyPerspective:O.a.object,loadingPoolCpuCacheTimeseries:O.a.bool,loadedPoolCpuCacheTimeseries:O.a.bool,getPoolCpuCacheUsageSeries:O.a.func.isRequired,poolCpuCacheTimeseries:O.a.shape({data:O.a.shape({isAllFlashPool:O.a.string,cpuThresholdPercent:O.a.number,cacheThresholdPercent:O.a.number,timeseries:O.a.arrayOf(O.a.shape({cpu50thPercentile:O.a.number,cache50thPercentile:O.a.number,timestamp:O.a.number})).isRequired}).isRequired,meta:O.a.shape({time:O.a.shape({start:O.a.number.isRequired,end:O.a.number.isRequired}).isRequired}).isRequired}),scope:O.a.shape({type:O.a.string.isRequired,id:O.a.string.isRequired}),config:O.a.object.isRequired,history:O.a.object.isRequired,location:O.a.object.isRequired};var Jr=Object(S.connect)(function(e,t){return Kr({},Object(rn.g)(e),Object(rn.c)(e),Object(rn.e)(e),function(e){var t=e.match.params,n=yr({unit:t[rt("unit")]||"iops",io:t[rt("io")]||"readWrite",access:t[rt("access")]||"randomSequential"}),r=Qr[n];return{throughputPerspective:r,latencyPerspective:Qr[r.latencyPerspectiveKey],timeRange:Object(he.deserialize)(t,nt(""))||he.QueryTimeRangeSelector.DEFAULTS.VOLATILE}}(t))},function(e){return Object(C.bindActionCreators)({getTopVolumesThroughputTimeSeries:an.e,getTopVolumesLatencyTimeSeries:an.d,getPoolCpuCacheUsageSeries:an.a,resetPerformanceStore:an.h},e)})(Xr),Zr=n(379),ea=n(251),ta=n(378),na=n(22),ra=n(631),aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ia=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function oa(e,t){return e.assetType===t.assetType?e.shelfSn>t.shelfSn:e.assetType>t.assetType}var sa=function(e){return function(t){var n=Object(_.actionsFor)(ra.a,t),r=n.dispatchStart,a=n.dispatchSuccess,i=n.dispatchError;r();var o=void 0;e&&(o={type:"array",id:e}),(new j.default).all([function(e){return(new j.default).pod().genericQuery("array",["detail"]).post({scope:e})}(o),function(e){return(new j.default).pod().array(e.id).urlSegment("heartbeat").get()}(o),function(e){return(new j.default).pod().array(e.id).urlSegment("lastAsupReceivedTimestamp").get()}(o)]).then(function(t){var n=ia(t,3),r=n[0],a=n[1],i=n[2],o=r&&r.data&&r.data.data||[],s=Object(me.findWhere)(o,{assetType:"Array"})||{};s.shelves=o.sort(oa);var c=a&&a.data||{},l=i&&i.data||{};return aa({},s,{latestHeartBeat:c[e],lastAsupReceivedTime:l[e]})}).then(a).catch(i)}},ca=function(e){return function(t){var n=Object(_.actionsFor)(ra.b,t),r=n.dispatchStart,a=n.dispatchSuccess,i=n.dispatchError;r();var o=void 0;e&&(o={type:"array",id:e}),(new j.default).pod().genericQuery("array",["hardwareUpgradeRecommendations"]).post({scope:o}).then(P.d).then(a).catch(i)}},la=function(){return{type:ra.c}},ua=n(325),da=n(363),pa=n(215),ha=n(167),ma=function(e){var t=e.latestHeartbeatTime,n=e.lastAsupReceivedTime,r="Array Heartbeat "+(Object(ha.d)(t)?"Down":"Up"),i="Array Asup "+(Object(_t.e)(n)?"Down":"Up");return a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"column"},a.a.createElement(pa.a,{name:r,height:"35px",width:"42px"}),a.a.createElement("div",null,t?Oe()(t).fromNow():"Not Received"),a.a.createElement("div",null,t&&Object(_t.a)(t,Dr.f))),a.a.createElement("div",{className:"column flex-dir-column"},a.a.createElement(pa.a,{name:i,height:"35px",width:"42px"}),a.a.createElement("div",null,n?Oe()(n).fromNow():"Not Received"),a.a.createElement("div",null,n?Object(_t.a)(n,Dr.f):"(in past 2 weeks)")))};ma.displayName="MonitorServices",ma.propTypes={latestHeartbeatTime:O.a.number,lastAsupReceivedTime:O.a.number};var fa=ma,ga=n(1212),ya=n.n(ga),va=$.a.bind(ya.a),ba=function(e){return"active"!==e.state&&"standby"!==e.state},Ea=function(e){return e.components.some(function(e){return"fan"===e.name&&"OK"!==e.status})},Oa=function(e){var t=e.latestHeartbeat,n=e.isAllFlash;if(!t)return a.a.createElement(F.a,null,Dr.j);var r=t.controllers.find(function(e){return"a"===e.name}),i=t.controllers.find(function(e){return"b"===e.name}),o=!ba(r),s=!ba(i),c=!Ea(r),l=!Ea(i),u=!function(e){return e.controllers&&e.controllers.some(function(e){return e.components.some(function(e){return"psu"===e.name&&"OK"!==e.status})})}(t),d=!function(e){return e.ssdFailedCount>0}(t),p=!function(e){return e.hddFailedCount>0}(t);return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"column medium-13"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"column"},a.a.createElement("div",{title:d?"SSD Status: Good":t.ssdFailedCount+" out of "+(t.ssdFailedCount+t.ssdGoodCount)+" SSDs failed"},a.a.createElement("span",null,"SSD"),a.a.createElement(W.a,{iconName:"Array SSD",status:d,width:"35px",height:"35px",aliasName:t.ssdGoodCount+" of "+(t.ssdFailedCount+t.ssdGoodCount)}))),!n&&a.a.createElement("div",{className:"column"},a.a.createElement("div",{title:p?"HDD Status: Good":t.hddFailedCount+" out of "+(t.hddFailedCount+t.hddGoodCount)+" HDDs failed"},a.a.createElement("span",null,"HDD"),a.a.createElement(W.a,{iconName:"Array HDD",status:p,width:"35px",height:"35px",aliasName:t.hddGoodCount+" of "+(t.hddFailedCount+t.hddGoodCount)}))),a.a.createElement("div",{className:"column"},a.a.createElement("div",{title:"Power Supply Status : "+(u?"Good":"Warning/Error")},a.a.createElement("span",null,"PSU"),a.a.createElement("div",null,a.a.createElement(pa.a,{name:"Array Power Supply",status:u,width:"35px",height:"35px"})))))),a.a.createElement("div",{className:$()("column medium-11",va("leftPartitionBorder"))},a.a.createElement("div",{className:"row"},a.a.createElement("span",null,"Controller")),a.a.createElement("div",{className:$()("row",va("addTopPadding"))},a.a.createElement("div",{className:"column shrink"},a.a.createElement("div",{className:$()(va("controllerBox"),o?"":va("badController"))},"A")),a.a.createElement("div",{className:$()("column",va("capitalize"))},t.controllers.find(function(e){return"a"===e.name}).state),a.a.createElement("div",{className:"column"},a.a.createElement("div",{title:"Controller A's Fan Status : "+(c?"Good":"Warning/Error")},a.a.createElement(pa.a,{name:"Array Fan",status:c,width:"2em",height:"2em"})))),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"column shrink"},a.a.createElement("div",{className:$()(va("controllerBox"),s?"":va("badController"))},"B")),a.a.createElement("div",{className:$()("column",va("capitalize"))},t.controllers.find(function(e){return"b"===e.name}).state),a.a.createElement("div",{className:"column"},a.a.createElement("div",{title:"Controller B's Fan Status : "+(l?"Good":"Warning/Error")},a.a.createElement(pa.a,{name:"Array Fan",status:l,width:"2em",height:"2em"}))))))};Oa.displayName="HardwareStatus",Oa.propTypes={isAllFlash:O.a.bool,latestHeartbeat:O.a.shape({serialNumber:O.a.string,timestamp:O.a.number,controllers:O.a.arrayOf(O.a.shape({name:O.a.oneOf(["a","b"]),state:O.a.string,components:O.a.arrayOf(O.a.shape({name:O.a.oneOf(["psu","fan","temperature"]),status:O.a.string}))})),ssdGoodCount:O.a.number,ssdFailedCount:O.a.number,hddGoodCount:O.a.number,hddFailedCount:O.a.number})};var Ca=Oa,Sa=n(619),wa=function(e){var t=e.arrayUid,n=e.model,r=e.softwareVersion,i=e.latestHeartBeat,o=e.sendingAsups,s=e.arrayCapacityBytes,c=e.arrayFreeBytes,l=e.lastAsupReceivedTime,u=e.isAllFlash,d=e.tenGigSfpPortCount,p=e.tenGigBaseTPortCount,h=e.gigPortCount,m=e.fcPortCount;return a.a.createElement(U.a,null,a.a.createElement(U.a.Section,{className:"medium-4 medium-unstack"},a.a.createElement("div",{style:{paddingLeft:20,paddingRight:20}},a.a.createElement("div",{className:"row align-center"},a.a.createElement("h6",null,"Summary")),a.a.createElement("div",{className:"row align-justify"},"Array SN:",a.a.createElement("strong",null,t)),a.a.createElement("div",{className:"row align-justify"},"Model:",a.a.createElement("strong",null,n)),a.a.createElement("div",{className:"row align-justify"},"S/W Version:",a.a.createElement("strong",null,r&&r.split("-")[0])),a.a.createElement("div",{className:"row align-justify"},"Host Interface:",a.a.createElement("strong",null,a.a.createElement("div",{className:"text-right",style:{maxWidth:90}},Object(Sa.a)({tenGigSfpPortCount:d,tenGigBaseTPortCount:p,gigPortCount:h,fcPortCount:m})))))),a.a.createElement(U.a.Section,{className:"medium-6 medium-unstack"},a.a.createElement("h6",null,"Capacity"),a.a.createElement("div",{className:"row align-middle align-center"},a.a.createElement(da.a,{allocatedBytes:s,usedBytes:s-c,freeBytes:c}))),a.a.createElement(U.a.Section,{className:"medium-8 medium-unstack"},a.a.createElement("h6",null,"Hardware Status"),a.a.createElement("div",{className:"row align-center",style:{paddingLeft:20,paddingRight:20}},a.a.createElement(Ca,{latestHeartbeat:i,isAllFlash:u}))),a.a.createElement(U.a.Section,{className:"medium-6 medium-unstack"},a.a.createElement("h6",null,"Monitoring Services"),a.a.createElement(fa,{latestHeartbeatTime:i&&i.timestamp,sendingAsups:o,lastAsupReceivedTime:l})))};wa.displayName="ArrayHeadline",wa.propTypes={arrayUid:O.a.string,model:O.a.string,softwareVersion:O.a.string,sendingAsups:O.a.string,arrayCapacityBytes:O.a.number,arrayFreeBytes:O.a.number,isAllFlash:O.a.bool,latestHeartBeat:O.a.shape({serialNumber:O.a.string,timestamp:O.a.number,controllers:O.a.arrayOf(O.a.shape({name:O.a.string,state:O.a.string,components:O.a.arrayOf(O.a.shape({name:O.a.oneOf(["psu","fan","temperature"]),status:O.a.string}))})),ssdGoodCount:O.a.number,ssdFailedCount:O.a.number,hddGoodCount:O.a.number,hddFailedCount:O.a.number}),lastAsupReceivedTime:O.a.number,tenGigSfpPortCount:O.a.number,tenGigBaseTPortCount:O.a.number,gigPortCount:O.a.number,fcPortCount:O.a.number};var Ra=wa,Ta=n(333),_a=n(335),Na=n(35),ja=n(108),Pa=n.n(ja),Aa=n(78),xa=n.n(Aa),La=n(1231),ka=n.n(La),Ma=n(203),Ia=function(e){var t=e.className,n=e.tabName,r=e.getCategories;return a.a.createElement(Ma.QueryToggle,{parameter:"fieldSet",value:n||r()[0].value,className:t},r().map(function(e){var t=e.value,n=e.title;return a.a.createElement("button",{key:t,value:t},n)}))};Ia.displayName="Tabs",Ia.propTypes={getCategories:O.a.func.isRequired,tabName:O.a.string,className:O.a.string};var Da=Ia,Ua=n(650),Ha=n(204),Fa=n.n(Ha),Ba=function(e){var t=e.className,n=e.collection,r=e.getColumns,i=e.fieldSet,o=e.rowKey,s=e.rowsPerPage,c=e.defaultSort,l=e.sorting,u=e.sortParameter;return a.a.createElement(Ua.SimpleGridView,{data:n,rowKey:o,className:t,defaultSort:c,sorting:l,sortParameter:u},r(i),a.a.createElement(Fa.a,{itemCount:n.length,numberPerPage:s}))};Ba.displayName="Table",Ba.propTypes={collection:O.a.array,getColumns:O.a.func.isRequired,fieldSet:O.a.string,rowKey:O.a.string,rowsPerPage:O.a.number.isRequired,sorting:O.a.arrayOf(O.a.shape({colname:O.a.string,order:O.a.number})),defaultSort:O.a.arrayOf(O.a.shape({colname:O.a.string,order:O.a.number})),sortParameter:O.a.string},Ba.defaultProps={rowsPerPage:25,loading:!1,sortParameter:"sort"};var Va=Ba,Wa=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var qa=$.a.bind(ka.a),za=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return ot()(n),n.state={filter:new _a.Filter},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Wa(t,[{key:"onChangeFilter",value:function(e){this.setState({filter:e})}},{key:"render",value:function(){var e=this,t=this.state.filter,n=this.props,r=n.match.params.fieldSet,i=n.loadingCollection,o=n.collection,s=n.config,c=n.tableClassName,l=n.keyField,u=n.defaultSort,d=n.sorting,p=n.sortParameter,h=n.showCategories,m=n.enableFieldSet,f=n.filterParameterName,g=n.downloadCsv,y=n.downloadingCsv,v=s.valueOf(),b=v.getColumns,E=v.getCategories,O=h&&1!==E().length;return a.a.createElement(Pa.a,{className:qa("container")},a.a.createElement(Pa.a.Fixed,null,a.a.createElement("div",{className:"flex-container align-justify align-middle"},a.a.createElement("div",null,O&&a.a.createElement(Da,{tabName:r,getCategories:E})),g&&a.a.createElement(xa.a,{className:qa("csv-button"),onClick:g,label:y?"Downloading CSV...":"Download CSV",disabled:y})),a.a.createElement("div",{className:"card card-no-margin card-no-border"},a.a.createElement(_a.FacetTags,{filter:t,onClick:this.onChangeFilter,context:"table",className:qa("tags")}))),a.a.createElement(Pa.a.Scrollable,null,a.a.createElement(T.a,{loading:i},function(){return a.a.createElement(_a.FacetedFilter,{filter:t,onChange:e.onChangeFilter,parameterName:f},a.a.createElement(Va,{className:c,getColumns:b,rowKey:l,rowsPerPage:50,collection:t.filter(o)||[],fieldSet:O&&r?r:m||E()[0].value,filter:t,defaultSort:u,sorting:d,sortParameter:p}))})))}}]),t}();za.displayName="FacetedCollectionPage",za.propTypes={config:O.a.oneOfType([O.a.instanceOf(Ta.CollectionConfig),O.a.instanceOf(Ta.CollectionConfigBuilder)]).isRequired,defaultSort:O.a.arrayOf(O.a.shape({colname:O.a.string,order:O.a.number})),sorting:O.a.arrayOf(O.a.shape({colname:O.a.string,order:O.a.number})),collection:O.a.arrayOf(O.a.object).isRequired,loadingCollection:O.a.bool.isRequired,tableClassName:O.a.string,keyField:O.a.string,sortParameter:O.a.string,showCategories:O.a.bool,enableFieldSet:O.a.string,match:O.a.shape({params:O.a.object}),filterParameterName:O.a.string,downloadCsv:O.a.func,downloadingCsv:O.a.bool},za.defaultProps={collection:[],sortParameter:"sort",showCategories:!0};var Ga=Object(Na.withQueryParams)(za),Ya=n(1235),Ka=n.n(Ya);var $a=$.a.bind(Ka.a),Qa=function(e,t){e.addField((new Ta.FieldBuilder).category("summary").field("shelfSsdRawCapacityBytes").title(t).column({render:function(e,t){var n=t.shelfSsdRawCapacityBytes,r=t.assetType,i=Object(_t.c)(n,Dr.a);return"Shelf"===r?a.a.createElement("span",null,i):a.a.createElement("span",{className:$a("head-shelf")},i)}}))},Xa=function(e){var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,[]),n=e.shelves,r=(new Ta.CollectionConfigBuilder).addCategory("summary","Summary").addField((new Ta.FieldBuilder).category("summary").field("shelfSn").title("Shelf Serial #").column({render:function(e,t){var n=t.shelfSn;return"Shelf"===t.assetType?n:a.a.createElement("span",{className:$a("head-shelf")},n)}}).facet(a.a.createElement(_a.ContainsStringFacet,null))).addField((new Ta.FieldBuilder).category("summary").field("shelfModel").title("Shelf Model").column({render:function(e,t){var n=t.shelfModel;return"Shelf"===t.assetType?n:a.a.createElement("span",{className:$a("head-shelf")},n)}}).facet(a.a.createElement(_a.ContainsStringFacet,null)));return t.isAllFlash?Qa(r,"Capacity"):(!function(e){e.addField((new Ta.FieldBuilder).category("summary").field("shelfHddRawCapacityBytes").title("Capacity").column({render:function(e,t){var n=t.shelfHddRawCapacityBytes,r=t.assetType,i=Object(_t.c)(n,Dr.a);return"Shelf"===r?a.a.createElement("span",null,i):a.a.createElement("span",{className:$a("head-shelf")},i)}}))}(r),Qa(r,"Cache")),a.a.createElement(Ga,{config:r.valueOf(),collection:n||[],keyField:"shelfSn",loadingCollection:!1})};Xa.displayName="ArrayShelves",Xa.propTypes={shelves:O.a.arrayOf(O.a.shape({shelfSn:O.a.string,shelfModel:O.a.string,shelfHddRawCapacityBytes:O.a.number,shelfSsdRawCapacityBytes:O.a.number}))},Xa.defaultProps={shelves:[]};var Ja=Xa,Za=n(1236),ei=n.n(Za),ti=$.a.bind(ei.a),ni=function(e){var t=e.arrayHardwareUpgradeRecommendations;if(!t)return null;var n=t.arrayType,r=t.currentController,i=t.currentCacheSystemTotalBytes,o=t.currentCacheHeadBytes,s=t.currentCacheTotalAfsBytes,c=t.currentCacheExpNonAfsBytes,l=t.currentHddBytes,u=t.recommendCPUUpgrade,d=t.recommendCacheUpgrade,p=t.recommendScaleOut,h=t.recommendedController,m=t.recommendCacheSystemTotalBytes,f=t.recommendedCacheHeadBytes,g=t.recommendedCacheTotalAfsBytes,y=t.recommendedCacheExpNonAfsBytes,v=function(e){var t=e.recommendScaleOut,n=e.recommendCPUUpgrade,r=e.recommendCacheUpgrade,a=e.recommendDiskUpgrade,i=e.currentController,o=e.recommendedController,s=[],c="";a&&s.push("capacity"),n&&s.push("cpu"),r&&s.push("cache");for(var l=0;l<s.length;l+=1)c+=s[l],l<s.length-2&&(c+=", "),l<s.length-1&&(c+=" and ");return t?"Scale-Out is recommended based on your "+c+" needs.":n||i===o?null:"A controller upgrade is required to support the recommended "+c+" upgrades"}(t);return a.a.createElement("div",{className:"card card-no-border card-no-background"},a.a.createElement("div",{className:"elmer-grid-view"},a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,""),a.a.createElement("th",null,"Current"),a.a.createElement("th",null,"Recommended"))),a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,"Controller"),a.a.createElement("td",null,r),a.a.createElement("td",null,a.a.createElement("strong",null,!p&&u&&h!==r?h:null))),"all-flash"!==n&&a.a.createElement(a.a.Fragment,null,a.a.createElement("tr",{className:ti("cacheRow")},a.a.createElement("td",null,"Cache"),a.a.createElement("td",null,""),a.a.createElement("td",null,"")),a.a.createElement("tr",{className:ti("cacheValueRow")},a.a.createElement("td",null,"    Head Shelf"),a.a.createElement("td",null,Object(_t.c)(o,Dr.a)),a.a.createElement("td",null,a.a.createElement("strong",null,!p&&d&&f?Object(_t.c)(f,Dr.a):null))),a.a.createElement("tr",{className:ti("cacheValueRow")},a.a.createElement("td",null,"    All-Flash Shelf"),a.a.createElement("td",null,Object(_t.c)(s,Dr.a)),a.a.createElement("td",null,a.a.createElement("strong",null,!p&&d&&g?Object(_t.c)(g,Dr.a):null))),a.a.createElement("tr",{className:ti("cacheValueRow")},a.a.createElement("td",null,"    HDD Shelf"),a.a.createElement("td",null,Object(_t.c)(c,Dr.a)),a.a.createElement("td",null,a.a.createElement("strong",null,!p&&d&&y?Object(_t.c)(y,Dr.a):null))),a.a.createElement("tr",{className:ti("cacheValueRow")},a.a.createElement("td",null,"    Total"),a.a.createElement("td",null,Object(_t.c)(i,Dr.a)),a.a.createElement("td",null,a.a.createElement("strong",null,!p&&d&&m?Object(_t.c)(m,Dr.a):null)))),a.a.createElement("tr",null,a.a.createElement("td",null,"Capacity"),a.a.createElement("td",null,"all-flash"!==n?Object(_t.c)(l,Dr.a):Object(_t.c)(i,Dr.a)),a.a.createElement("td",null,a.a.createElement("strong",null,p?null:function(e){var t=e.arrayType,n=e.addAfsShelf,r=e.recommendCacheUpgrade,a=e.recommendDiskUpgrade,i=e.currentHddExpansionShelves,o=e.recommendedHddExpansionShelves;if(r&&"all-flash"===t)return n?"+1 shelf":"Populate Bank B";if(a){var s=o-i;return"+"+s+" "+(s>1?"shelves":"shelf")}return null}(t))))))),v&&a.a.createElement("div",{className:ti("upgradeNotesContainer")},a.a.createElement("i",{className:$()("fa fa-exclamation-circle"),"aria-hidden":"true"}),a.a.createElement("span",{className:ti("upgradeNotes")},v)))};ni.displayName="HardwareRecommendations",ni.propTypes={arrayHardwareUpgradeRecommendations:O.a.shape({arrayType:O.a.string,currentArrayModel:O.a.string,currentController:O.a.string,currentCacheSystemTotalBytes:O.a.number,currentCacheHeadBytes:O.a.number,currentCacheTotalAfsBytes:O.a.number,currentCacheExpNonAfsBytes:O.a.number,currentHddBytes:O.a.number,currentHddExpansionShelves:O.a.number,recommendDiskUpgrade:O.a.bool,recommendCPUUpgrade:O.a.bool,recommendCacheUpgrade:O.a.bool,addAfsShelf:O.a.bool,recommendScaleOut:O.a.bool,recommendedArrayModel:O.a.string,recommendedController:O.a.string,recommendCacheSystemTotalBytes:O.a.number,recommendedCacheHeadBytes:O.a.number,recommendedCacheTotalAfsBytes:O.a.number,recommendedCacheExpNonAfsBytes:O.a.number,recommendedHddExpansionShelves:O.a.number})};var ri=ni,ai=n(11),ii=n.n(ai),oi=n(319),si=n.n(oi),ci=n(44),li=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ui=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return ot()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),li(t,[{key:"componentWillUnmount",value:function(){this.view&&this.view.destroy()}},{key:"renderView",value:function(e){this.view||(this.view=new si.a({model:new ii.a.Model(this.props),displayAsModal:!1}),this.view.setElement(e).render())}},{key:"render",value:function(){return this.props.hostname?a.a.createElement("div",{className:$()("software-upgrades-dialog flex-container"),ref:this.renderView}):null}}]),t}();ui.displayName="SoftwareRecommendationsMarionetteWrapper",ui.propTypes={version:O.a.string.isRequired,serialNumber:O.a.string.isRequired,hostname:O.a.string.isRequired};var di=Object(ci.a)(ui),pi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hi=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var mi=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));i.state={};var o=i.props,s=o.config,c=o.scope;if(o.location.pathname.endsWith("/performance")){var l=s.getObjectTopology(c.type,c.id),u=l&&l.parent&&l.parent.id;i.state={poolUidFromInventory:u,preventLoad:!!u}}return i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),hi(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.scope.id,n=e.loadingArray,r=e.loadedArray;this.state.preventLoad||n||r||(this.props.getArrayDetail(t),this.props.getArrayHardwareUpgradeRecommendations(t))}},{key:"componentWillUnmount",value:function(){this.props.reset()}},{key:"render",value:function(){var e=this,t=this.props,n=t.array,r=t.loadingArrayHardwareUpgradeRecommendations,i=t.match,o=t.scope,s=t.loadingArray,c=this.state.poolUidFromInventory;return a.a.createElement(Zr.a,null,a.a.createElement(ea.a,{exact:!0,path:Object(na.buildUrl)(i.path,"performance"),render:function(){return a.a.createElement(T.a,{loading:!c&&!n},a.a.createElement(ta.a,{push:!1,to:"/infrastructure/storage/nimble/pools/"+(c||n&&n.poolUid)+"?tab=performance&perf.array="+o.id}))}}),a.a.createElement(ea.a,{render:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(T.a,{loading:!n},function(){return a.a.createElement(Ra,n||{})}),a.a.createElement("div",{className:$()("row expanded")},a.a.createElement("div",{className:"medium-11 column medium-unstack"},a.a.createElement(ye.a,{title:"Shelves"},a.a.createElement(T.a,{loading:!n},function(){return a.a.createElement(Ja,n||{})}))),a.a.createElement("div",{className:"medium-13 column medium-unstack"},a.a.createElement(ye.a,{title:"Hardware Recommendations",className:"flex-container flex-dir-column"},a.a.createElement(T.a,{loading:r},function(){return a.a.createElement(ri,e.props)})),a.a.createElement(ye.a,{title:"Software Recommendations"},a.a.createElement(T.a,{loading:s},a.a.createElement(pe.a,{hasData:n,message:"No array data available"},function(){return a.a.createElement(di,{version:n.softwareVersion,hostname:n.hostName,serialNumber:n.arrayUid})}))))))}}))}}]),t}();mi.displayName="ArrayDetailContainer",mi.propTypes={array:O.a.shape({accountId:O.a.string,arrayUid:O.a.string,arrayType:O.a.string,hostName:O.a.string,groupName:O.a.string,poolUid:O.a.string,poolName:O.a.string,arrayId:O.a.string,model:O.a.string,softwareVersion:O.a.string,supportStatus:O.a.string,sendingAsups:O.a.string,supportEndDate:O.a.string,supportAgrmt:O.a.string,arrayTimezone:O.a.string,arrayCapacityBytes:O.a.number,arrayFreeBytes:O.a.number,shelfCount:O.a.number,shelfSsdRawCapacityBytes:O.a.number,shelfHddRawCapacityBytes:O.a.number,hddDriveCount:O.a.number,isAllFlash:O.a.bool,shelfSn:O.a.string,headShelfSn:O.a.string,shelfModel:O.a.string,assetType:O.a.oneOf(["Array","Shelf"]),latestHeartBeat:O.a.shape({serialNumber:O.a.string,timestamp:O.a.number,controllers:O.a.arrayOf(O.a.shape({name:O.a.string,state:O.a.string,components:O.a.arrayOf(O.a.shape({name:O.a.oneOf(["psu","fan","temperature"]),status:O.a.string}))})),ssdGoodCount:O.a.number,ssdFailedCount:O.a.number,hddGoodCount:O.a.number,hddFailedCount:O.a.number}),lastAsupReceivedTime:O.a.number}),loadingArray:O.a.bool,loadedArray:O.a.bool,getArrayDetail:O.a.func,arrayHardwareUpgradeRecommendations:O.a.shape({arrayType:O.a.string,currentArrayModel:O.a.string,currentController:O.a.string,currentCacheSystemTotalBytes:O.a.number,currentCacheHeadBytes:O.a.number,currentCacheTotalAfsBytes:O.a.number,currentCacheExpNonAfsBytes:O.a.number,currentHddBytes:O.a.number,currentHddExpansionShelves:O.a.number,recommendDiskUpgrade:O.a.bool,recommendCPUUpgrade:O.a.bool,recommendCacheUpgrade:O.a.bool,addAfsShelf:O.a.bool,recommendScaleOut:O.a.bool,recommendedArrayModel:O.a.string,recommendedController:O.a.string,recommendCacheSystemTotalBytes:O.a.number,recommendedCacheHeadBytes:O.a.number,recommendedCacheTotalAfsBytes:O.a.number,recommendedCacheExpNonAfsBytes:O.a.number,recommendedHddExpansionShelves:O.a.number}),getArrayHardwareUpgradeRecommendations:O.a.func,loadingArrayHardwareUpgradeRecommendations:O.a.bool,match:O.a.shape({url:O.a.string,params:O.a.shape({}).isRequired}).isRequired,location:O.a.shape({pathname:O.a.string.isRequired}).isRequired,scope:O.a.shape({type:O.a.string.isRequired,id:O.a.string.isRequired}),config:O.a.object.isRequired,reset:O.a.func};var fi=Object(S.connect)(function(e){return pi({},Object(ua.arraySelector)(e),Object(ua.arrayHardwareUpgradeRecommendationSelector)(e))},function(e){return Object(C.bindActionCreators)({reset:la,getArrayDetail:sa,getArrayHardwareUpgradeRecommendations:ca},e)})(mi),gi=function(e){return function(e){return"capacity."+(e||"")}("time."+(e||""))},yi=function(e){return function(e){return"perf."+(e||"")}("time."+(e||""))},vi=n(655),bi=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ei=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var Oi=function(e){return function(t){var n=Object(_.actionsFor)(vi.c,t),r=n.dispatchStart,a=n.dispatchSuccess,i=n.dispatchError;r();var o={};e&&(o.scope={type:"pool",id:e}),(new j.default).pod().genericQuery("pools").post(o).then(P.d).then(a).catch(i)}},Ci=function(e){var t=e.scope,n=e.timeRange,r=Ei({scope:t},function(e){e="DURATION"===e.type?{time:{range:{start:e.asFixedRange().from.valueOf()}}}:e.toGenericQueryTime();return e}(n));return(new j.default).pod().genericQuery("pool",["capacity"]).post(r)},Si=function(e){var t=e.scope,n=e.timeRange,r=void 0===n?{}:n;return function(e){var n=Object(_.actionsFor)(vi.a,e),a=n.dispatchStart,i=n.dispatchSuccess,o=n.dispatchError;a(),Ci({scope:t,timeRange:r}).then(P.c).then(i).catch(o)}},wi=function(e){var t=e.scope,n=e.timeRange,r=e.eventFilters,a=void 0===r?{}:r,i=n&&n.toGenericQueryTime()||{},o=Ei({scope:t},i);return o.filters=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(a)),(new j.default).pod().genericQuery("pool",["events"]).post(Ei({},o))},Ri=function(e){var t=e.scope,n=e.timeRange,r=void 0===n?{}:n,a=e.eventFilters,i=void 0===a?{}:a,o=e.poolArrayList;return function(e){var n=Object(_.actionsFor)(vi.b,e),a=n.dispatchStart,s=n.dispatchSuccess,c=n.dispatchError;a(),Promise.all([Ci({scope:t,timeRange:r}),wi({scope:t,timeRange:r,eventFilters:i}),function(e){if(e&&e.length>0)return(new j.default).pod().account().urlSegments("performance/recommendations").query({array:e}).get()}(o)]).then(function(e){var t=bi(e,3),n=t[0],r=t[1],a=t[2];return{poolCapacity:Object(P.c)(n),poolEvents:Object(me.groupBy)(r&&r.data&&r.data.data,"timestamp"),poolCpuCacheUsage:a&&a.data}}).then(s).catch(c)}},Ti=function(){return{type:vi.d}},_i=n(170),Ni=n(368),ji=function(e,t){var n=Object(q.b)(e,t),r=n[0],i=n[1]||"B";return r?a.a.createElement("span",null,r,a.a.createElement("small",null,i,"/sec")):ne.b};ji.displayName="numeralPerSec";var Pi=function(e){var t=e.allocatedBytes,n=e.usedBytes,r=e.freeBytes,i=e.unusedReserveBytes,o=e.lastWeekGrowthPercent,s=e.snapshotCount,c=e.savingsCloneBytes,l=e.savingsCompressionBytes,u=e.savingsDedupBytes,d=e.totalSavingsBytes,p=e.cloneSavingsFactor,h=e.compressionSavingsFactor,m=e.dedupSavingsFactor,f=e.totalSavingsFactor,g=e.avgIopsPerWeek,y=e.avgReadLatencyMs,v=e.avgWriteLatencyMs,b=e.avgThroughput,E=e.daysUntilFull;return a.a.createElement(U.a,{className:"card-right-padding card-left-padding"},a.a.createElement(U.a.Section,{className:"medium-11 medium-unstack"},a.a.createElement("h6",null,"Capacity"),a.a.createElement("div",{className:"row align-middle"},a.a.createElement("div",{className:null!==E?"columns medium-12 medium-unstack":"columns medium-13 medium-unstack"},a.a.createElement(da.a,{allocatedBytes:t,usedBytes:n,freeBytes:r,unusedReserveBytes:i,growthPercent:o,warningThreshold:90})),a.a.createElement("div",{className:null!==E?"columns medium-7 medium-unstack":"columns medium-11 medium-unstack"},a.a.createElement(Ni.a,{totalSavings:d,cloneSavingsFactor:p,compressionSavingsFactor:h,dedupSavingsFactor:m,totalSavingsFactor:f,cloneSavings:c,compressionSavings:l,dedupSavings:u,usedBytes:n}),a.a.createElement("h6",null,"Total Savings")),null!==E&&a.a.createElement("div",{className:"columns medium-5 medium-unstack"},a.a.createElement(F.a,null,a.a.createElement(z.b,{className:"font-weight-inherit",days:E})),a.a.createElement("h6",null,"Until Full")))),a.a.createElement(U.a.Section,{className:"medium-11 medium-unstack"},a.a.createElement("h6",{className:"stacked-title"},"Performance",a.a.createElement("br",null),a.a.createElement("small",null,"(Past Week Avg)")),a.a.createElement("div",{className:"row align-middle flex-child-grow"},a.a.createElement("div",{className:"columns"},a.a.createElement(F.a,{className:"nowrap"},Object(ne.h)(g,ne.e)," ",Object(ne.i)(g)?null:a.a.createElement("small",null,"IO/sec")),a.a.createElement("h6",null,"IOPS")),a.a.createElement("div",{className:"columns"},a.a.createElement(F.a,null,ji(b,"0.0 ib")),a.a.createElement("h6",null,"Throughput")),a.a.createElement("div",{className:"columns"},a.a.createElement(F.a,null,Object(ne.h)(y,"0.0")," ",Object(ne.i)(y)?null:a.a.createElement("small",null,"ms")),a.a.createElement("h6",null,"R Latency")),a.a.createElement("div",{className:"columns"},a.a.createElement(F.a,null,Object(ne.h)(v,"0.0")," ",Object(ne.i)(v)?null:a.a.createElement("small",null,"ms")),a.a.createElement("h6",null,"W Latency")))),a.a.createElement(U.a.Section,{className:"medium-2 medium-unstack"},a.a.createElement("h6",{style:{marginBottom:"20px"}},"Snapshots"),a.a.createElement(F.a,{className:"nowrap align-middle"},be()(s).format("0,0"))))};Pi.displayName="PoolHeadline",Pi.propTypes={allocatedBytes:O.a.number,usedBytes:O.a.number,unusedReserveBytes:O.a.number,freeBytes:O.a.number,lastWeekGrowthPercent:O.a.number,snapshotCount:O.a.number,savingsCompressionBytes:O.a.number,savingsCloneBytes:O.a.number,savingsDedupBytes:O.a.number,totalSavingsBytes:O.a.number,cloneSavingsFactor:O.a.number,compressionSavingsFactor:O.a.number,dedupSavingsFactor:O.a.number,totalSavingsFactor:O.a.number,avgIopsPerWeek:O.a.number,avgReadLatencyMs:O.a.number,avgWriteLatencyMs:O.a.number,avgThroughput:O.a.number,daysUntilFull:O.a.string};var Ai=Pi,xi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Li=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ki=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),Li(t,[{key:"componentWillMount",value:function(){this.props.loadingPool||this.props.loadedPool||this.props.getPool(this.props.poolUid)}},{key:"render",value:function(){var e=this.props,t=e.loadingPool,n=e.pool;return a.a.createElement(T.a,{loading:t},function(){return a.a.createElement(Ai,n||{})})}}]),t}();ki.displayName="PoolHeadlineContainer",ki.propTypes={poolUid:O.a.string,pool:O.a.shape({allocatedBytes:O.a.number,usedBytes:O.a.number,unusedReserveBytes:O.a.number,freeBytes:O.a.number,lastWeekGrowthPercent:O.a.number,snapshotCount:O.a.number,savingsCompressionBytes:O.a.number,savingsCloneBytes:O.a.number,savingsDedupBytes:O.a.number,totalSavingsBytes:O.a.number,savingsFactor:O.a.number,avgIopsPerWeek:O.a.number,avgLatencyMs:O.a.number,avgReadLatencyMs:O.a.number,avgWriteLatencyMs:O.a.number,avgThroughput:O.a.number}),loadingPool:O.a.bool,loadedPool:O.a.bool,getPool:O.a.func},ki.defaultProps={loadingPool:!1};var Mi=Object(S.connect)(function(e){return xi({},Object(_i.d)(e))},function(e){return Object(C.bindActionCreators)({getPool:Oi},e)})(ki),Ii=function(e){return e.preventDefault()},Di=0,Ui=function(){return Di+=1};var Hi=function(e){return Object(me.isNumber)(e)?.9*e:e};var Fi=function(e){var t=e.timeseries,n=e.forecastRangeId,r=e.includeSavingsSeries,a=void 0===r||r,i=e.isLineChart,o=void 0!==i&&i;return{series:[function(e){var t=e[Object(me.findLastIndex)(e,{dataSource:"Actual"})];return{type:"line",id:"Capacity",name:"Capacity",color:Ne.CHART_COLORS.redOrange,lineWidth:2,data:e.map(function(e){return{x:e.timestamp,y:Object(me.isNumber)(e.allocatedBytes)?e.allocatedBytes:t&&t.allocatedBytes}}),step:!0,legendIndex:Ui(),events:{legendItemClick:Ii}}}(t),a&&function(e){return{type:"area",id:"Saings",name:"Savings",color:Ne.CHART_COLORS.teal,fillColor:Ne.CHART_COLORS.tealLight,data:e.map(function(e){return{x:e.timestamp,y:e.totalSavingsBytes}}),legendIndex:Ui(),events:{legendItemClick:Ii}}}(t),function(e){return{type:arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"line":"area",id:"totalusage",name:"Total Usage",color:Ne.CHART_COLORS.blue,fillColor:Ne.CHART_COLORS.blueLight,data:e.map(function(e){return{x:e.timestamp,y:e.usedBytes}}),legendIndex:Ui(),events:{legendItemClick:Ii}}}(t,o),function(e){var t=e[Object(me.findLastIndex)(e,{dataSource:"Actual"})];return{type:"line",dashStyle:"dot",name:"Performance Degradation Threshold (90%)",color:Ne.CHART_COLORS.redOrange,lineWidth:2,data:e.map(function(e){return{x:e.timestamp,y:e.allocatedBytes?Hi(e.allocatedBytes):t&&Hi(t.allocatedBytes)}}),step:!0,legendIndex:Ui(),events:{legendItemClick:Ii}}}(t),function(e,t){return{type:"arearange",id:t,name:"Forecasted Range",color:Ne.CHART_COLORS.blue,linkedTo:"forecastedUsage",data:e.map(function(e){return{x:e.timestamp,low:e.forecastedLowerBoundBytes,high:e.forecastedUpperBoundBytes}}),lineWidth:0,fillOpacity:.3,zIndex:0,events:{legendItemClick:Ii}}}(t,n),function(e){return{type:"line",id:"forecastedUsage",name:"Forecasted Pool Usage",color:Ne.CHART_COLORS.blue,dashStyle:"shortdash",data:e.map(function(e){return{x:e.timestamp,y:e.forecastedUsageBytes}}),legendIndex:Ui(),events:{legendItemClick:Ii}}}(t)],plotOptions:{area:{animation:!1,stacking:"normal",marker:{enabled:!1,symbol:"circle",states:{hover:{enabled:!0}}}},line:{marker:{enabled:!1,symbol:"circle",states:{hover:{enabled:!0}}}}}}},Bi=function(e){var t=e.poolCapacity,n=e.includeSavingsSeries,r=e.isLineChart,i=e.onChartSelect;return a.a.createElement(We,{timeSeries:t.data.timeseries,chartRangeStart:Oe()(t.meta.time.dataStart),chartRangeEnd:Oe()(t.meta.time.dataEnd),getTotalCapacity:Object(me.property)("allocatedBytes"),getForecastedCapacity:Object(me.property)("forecastedUsageBytes"),chartConfig:Fi({timeseries:t.data.timeseries,forecastRangeId:"forecastRangeSeries",includeSavingsSeries:n,isLineChart:r}),forecastChart:!0,onChartSelect:i})};Bi.displayName="CapacityChart",Bi.propTypes={poolCapacity:O.a.shape({data:O.a.shape({timeseries:O.a.arrayOf(O.a.shape({timestamp:O.a.oneOfType([O.a.number,O.a.object]),usedBytes:O.a.number,allocatedBytes:O.a.number,totalSavingsBytes:O.a.number,forecastedUsageBytes:O.a.number,forecastedLowerBoundBytes:O.a.number,forecastedUpperBoundBytes:O.a.number})).isRequired}).isRequired,meta:O.a.shape({time:O.a.shape({start:O.a.number.isRequired,end:O.a.number.isRequired}).isRequired}).isRequired}),isLineChart:O.a.bool,includeSavingsSeries:O.a.bool,onChartSelect:O.a.func};var Vi=Bi,Wi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qi=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var zi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),qi(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadingPoolCapacity,n=e.loadedPoolCapacity,r=e.poolCapacity,a=e.onDataReceived;t||n?a&&r&&r.meta&&a({capacityDataMetaInfo:r.meta.time}):this.fetchData(this.props)}},{key:"componentWillReceiveProps",value:function(e){e.timeRange.equals(this.props.timeRange)||this.fetchData(e)}},{key:"componentDidUpdate",value:function(e){var t=e.poolCapacity,n=this.props,r=n.poolCapacity,a=n.onDataReceived;a&&r&&r.meta&&r!==t&&a({capacityDataMetaInfo:r.meta.time})}},{key:"fetchData",value:function(e){var t=e.scope,n=e.config,r=e.timeRange,a={scope:n.convertToGenericQueryScope(t),timeRange:r};this.props.getPoolCapacity(a)}},{key:"render",value:function(){var e=this.props,t=e.poolCapacity,n=e.loadingPoolCapacity,r=e.loadedPoolCapacity,i=e.includeSavingsSeries,o=e.isLineChart,s=e.chartRangeStart,c=e.chartRangeEnd,l=e.history,u=e.location,d=r&&!(!t||!t.data),p=Object(he.makeRangeSelector)(u,gi(),!1,l),h=Object(he.makeChartSelector)(p);return a.a.createElement(T.a,{loading:n},a.a.createElement(pe.a,{hasData:d},function(){return a.a.createElement(Vi,{poolCapacity:t,chartRangeStart:s,chartRangeEnd:c,includeSavingsSeries:i,onChartSelect:h,isLineChart:o,forecastChart:!0})}))}}]),t}();zi.displayName="CapacityChartContainer",zi.propTypes={onDataReceived:O.a.func,isLineChart:O.a.bool,includeSavingsSeries:O.a.bool,loadingPoolCapacity:O.a.bool,loadedPoolCapacity:O.a.bool,getPoolCapacity:O.a.func,poolCapacity:O.a.shape({data:O.a.shape({timeseries:O.a.arrayOf(O.a.shape({timestamp:O.a.number,usedBytes:O.a.number,allocatedBytes:O.a.number,totalSavingsBytes:O.a.number,forecastedUsageBytes:O.a.number,forecastedLowerBoundBytes:O.a.number,forecastedUpperBoundBytes:O.a.number})).isRequired}).isRequired,meta:O.a.shape({time:O.a.shape({start:O.a.number.isRequired,end:O.a.number.isRequired}).isRequired}).isRequired}),timeRange:O.a.instanceOf(he.TimeRangeSelection).isRequired,scope:O.a.shape({type:O.a.string.isRequired,id:O.a.string.isRequired}),config:O.a.object.isRequired,chartRangeStart:O.a.oneOfType([O.a.object,O.a.number]),chartRangeEnd:O.a.oneOfType([O.a.object,O.a.number]),history:O.a.object.isRequired,location:O.a.object},zi.defaultProps={includeSavingsSeries:!0,isLineChart:!1};var Gi=Object(S.connect)(function(e){return Wi({},Object(_i.a)(e))},function(e){return Object(C.bindActionCreators)({getPoolCapacity:Si},e)})(zi),Yi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ki=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var $i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return ot()(n),n.state={displayTimeRange:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),Ki(t,[{key:"updateDisplayTimeRange",value:function(e){var t=e.capacityDataMetaInfo;this.setState({displayTimeRange:he.TimeRangeSelection.toTimeRangeSelection({start:t.dataStart,end:t.dataEnd})})}},{key:"render",value:function(){var e=this.props,t=e.timeRange,n=e.scope,r=e.config;return a.a.createElement("div",null,a.a.createElement(ye.a,{title:"Usage"},a.a.createElement("div",{className:"row expanded align-right"},a.a.createElement(he.QueryTimeRangeSelector,{parameterPrefix:gi(),value:t,presets:he.QueryTimeRangeSelector.PRESETS.NONVOLATILE,displayValue:this.state.displayTimeRange})),a.a.createElement("div",{className:"chart-container--medium"},a.a.createElement(Gi,Yi({},this.props,{timeRange:t,scope:n,config:r,onDataReceived:this.updateDisplayTimeRange})))))}}]),t}();$i.displayName="PoolCapacityContainer",$i.propTypes={timeRange:O.a.instanceOf(he.TimeRangeSelection).isRequired,scope:O.a.shape({type:O.a.string.isRequired,id:O.a.string.isRequired}),config:O.a.object.isRequired},$i.defaultProps={timeRange:he.TIME_RANGE_DEFAULTS.NONVOLATILE};var Qi=Object(S.connect)(function(e){return Yi({},Object(_i.a)(e))},function(e){return Object(C.bindActionCreators)({getPoolCapacity:Si},e)})($i),Xi=n(126),Ji=n(257),Zi=n(1237),eo=n.n(Zi),to=n(656),no=n.n(to),ro=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ao=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return ot()(n),n.state={displayTimeRange:null},n.rangeModel=new no.a,n.updateRangeModel(n.props.timeRange),n.rangeModel.on("change:actualDataRange",n.setDisplayTimeRange),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),ro(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.timeRange;t.equals(this.props.timeRange)||this.updateRangeModel(t)}},{key:"onDragZoom",value:function(e){var t=e.min,n=e.max,r=this.props,a=r.location,i=r.history,o=Object(he.toTimeRangeSelection)({from:t,to:n});i.replace(Object(Na.buildTargetLocation)({location:a,to:{search:o.serialize(yi())}}))}},{key:"setDisplayTimeRange",value:function(e){this.setState({displayTimeRange:he.QueryTimeRangeSelector.toTimeRangeSelection(e.get("actualDataRange"))})}},{key:"updateRangeModel",value:function(e){this.rangeModel.clear({silent:!0}).set(function(e){return e.lookback?e:{min:e.range.start,max:e.range.end}}(e.toGenericQueryTime().time))}},{key:"handleRef",value:function(e){e?this.renderLegacyView(e):this.view.destroy()}},{key:"renderLegacyView",value:function(e){var t=new ii.a.Model({serialNumber:this.props.array});this.view=new eo.a({el:e,poolUid:this.props.poolUid,arrayModel:t,rangeModel:this.rangeModel}),this.view.on("dragZoom",this.onDragZoom,this),this.view.render()}},{key:"render",value:function(){var e=this.props.timeRange;return a.a.createElement("div",null,a.a.createElement("div",{className:"row expanded align-right"},a.a.createElement(he.QueryTimeRangeSelector,{parameterPrefix:yi(),value:e,presets:he.QueryTimeRangeSelector.PRESETS.VOLATILE,displayValue:this.state.displayTimeRange})),a.a.createElement("div",{ref:this.handleRef}))}}]),t}();ao.displayName="ArrayPerformanceContainer",ao.propTypes={poolUid:O.a.string.isRequired,array:O.a.string,timeRange:O.a.instanceOf(he.TimeRangeSelection).isRequired,history:O.a.object,location:O.a.object};var io=Object(ci.a)(Object(Ji.a)(ao)),oo=n(1263),so=n.n(oo),co=$.a.bind(so.a),lo=function(e){var t=e.poolUid,n=e.arrays,r=e.selectedArray,i=void 0===r?"":r,o=e.timeRange;return n?a.a.createElement(ye.a,null,a.a.createElement("div",{className:co("toggle-container",{hide:1===n.length})},a.a.createElement("label",null,"Array"),a.a.createElement(Ma.QueryToggle,{parameter:"perf.array",value:i},a.a.createElement("button",{key:t,value:""},"All Arrays"),n.map(function(e){return a.a.createElement("button",{key:e.id,value:e.id},e.name)}))),a.a.createElement("div",null,a.a.createElement(io,{key:i,poolUid:t,array:i,timeRange:o}))):a.a.createElement(pe.a,{message:"Invalid pool"})};lo.displayName="PoolPerformanceContainer",lo.propTypes={poolUid:O.a.string,arrays:O.a.array.isRequired,timeRange:O.a.instanceOf(he.TimeRangeSelection).isRequired,selectedArray:O.a.string},lo.defaultProps={timeRange:he.TIME_RANGE_DEFAULTS.VOLATILE};var uo=Object(Na.withQueryParams)(Object(S.connect)(function(e,t){var n=t.config,r=t.poolUid,a=t.match.params,i=n.getObjectTopology(Xi.b.POOL,r);return{poolUid:r,arrays:i&&i.children[Xi.b.ARRAY]&&i.children[Xi.b.ARRAY].map(function(e){return n.findObject(Xi.b.ARRAY,e)}),selectedArray:a["perf.array"]}})(lo)),po=function(e){return Oe.a.utc(e).startOf("day")},ho=function(e){return po(e).valueOf()},mo=function(e,t){var n=e.x,r=[];return t&&t.series&&t.series.length?(t.series.forEach(function(e){var t=e.points.find(function(e){return e.x.isSame(n)});t&&r.push(t)}),r):r},fo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},go=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var yo=function(e){return Object(me.isNumber)(e)?.9*e:e},vo=Re()({valueFormatter:function(e){return"forecastRangeSeries"===e.series.options.id?be()(e.point.low).format(Dr.b)+" - "+be()(e.point.high).format(Dr.b):be()(e.y).format(Dr.b)},xValueFormatter:function(e){return Object(we.Timestamp)(e.x,Te.DAY_MOMENT_FORMAT)}}),bo=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return ot()(n),n.containerElementId=Object(me.uniqueId)(n.constructor.name),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),go(t,[{key:"componentDidMount",value:function(){this.props.chartSync&&this.props.chartSync.monitorChart(this,{syncPoints:this.syncPoints,resetPoints:this.resetPoints})}},{key:"componentWillUnmount",value:function(){var e=document.getElementById(this.containerElementId);e&&e.removeEventListener("mouseleave",this.onMouseOut)}},{key:"onAfterChartRendered",value:function(e){this.chart=e;var t=document.getElementById(this.containerElementId);t&&t.addEventListener("mouseleave",this.onMouseOut)}},{key:"onMouseOut",value:function(e){this.props.chartSync?this.props.chartSync.syncPoints({event:e}):this.resetPoints()}},{key:"onMouseOverPoint",value:function(e){e.point&&(this.props.chartSync?this.props.chartSync.syncPoints(e):this.syncPoints(e.point))}},{key:"getYAxis",value:function(){var e=this.props.poolCapacity.data.timeseries,t=this.getMaxTotalCapacity(e),n=Object(_e.getUnitPrefix)(t,_e.BINARY_BASE),r=n?n+"iB":"";return{title:{enabled:!1},labels:{formatter:function(){return be()(Object(_e.convertBytes)(this.value,n)).format(Dr.i)+" "+r}}}}},{key:"getChartConfig",value:function(){var e=this.props,t=e.chartRangeStart,n=e.chartRangeEnd,r=[this.allocatedCapacitySeries(),this.totalUsageSeries(),this.performanceDegradationCapacitySeries(),this.usageRangeForecastSeries(),this.usageForecastSeries()];return{chart:{height:this.props.containerHeight,spacingTop:20,zoomType:null},title:!1,xAxis:fo({},Ae(),Object(xe.b)(t,n)),yAxis:this.getYAxis(),series:r,plotOptions:{line:{marker:{enabled:!1,symbol:"circle",states:{hover:{enabled:!0}}}},series:{connectNulls:!0}}}}},{key:"getMaxTotalCapacity",value:function(e){var t=this.props.getTotalCapacity,n=e.map(t);return Math.max.apply(null,n)}},{key:"usageForecastSeries",value:function(){var e=this,t=this.props.poolCapacity.data.timeseries;return{type:"line",id:"forecastedUsage",name:"Forecasted Pool Usage",color:Ne.CHART_COLORS.blue,dashStyle:"shortdash",data:t.map(function(e){return{x:po(e.timestamp),y:e.forecastedUsageBytes}}),point:{events:{mouseOver:function(t){e.lastPointHovered!==this&&(e.lastPointHovered=this,e.onMouseOverPoint({point:this,event:t}))}}}}}},{key:"usageRangeForecastSeries",value:function(){var e=this,t=this.props.poolCapacity.data.timeseries;return{type:"arearange",id:"forecastRangeSeries",name:"Forecasted Range",color:Ne.CHART_COLORS.blue,linkedTo:"forecastedUsage",data:t.map(function(e){return{x:po(e.timestamp),low:e.forecastedLowerBoundBytes,high:e.forecastedUpperBoundBytes}}),lineWidth:0,fillOpacity:.3,zIndex:0,point:{events:{mouseOver:function(t){e.lastPointHovered!==this&&(e.lastPointHovered=this,e.onMouseOverPoint({point:this,event:t}))}}}}}},{key:"allocatedCapacitySeries",value:function(){var e=this,t=this.props.poolCapacity.data.timeseries,n=t[Object(me.findLastIndex)(t,{dataSource:"Actual"})];return{type:"line",id:"Capacity",name:"Capacity",color:Ne.CHART_COLORS.redOrange,lineWidth:2,data:t.map(function(e){return{x:po(e.timestamp),y:Object(me.isNumber)(e.allocatedBytes)?e.allocatedBytes:n&&n.allocatedBytes}}),step:!0,point:{events:{mouseOver:function(t){e.lastPointHovered!==this&&(e.lastPointHovered=this,e.onMouseOverPoint({point:this,event:t}))}}}}}},{key:"totalUsageSeries",value:function(){var e=this,t=this.props.poolCapacity.data.timeseries;return{type:"line",id:"totalusage",name:"Total Usage",color:Ne.CHART_COLORS.blue,fillColor:Ne.CHART_COLORS.blueLight,data:t.map(function(e){return{x:po(e.timestamp),y:e.usedBytes}}),point:{events:{mouseOver:function(t){e.lastPointHovered!==this&&(e.lastPointHovered=this,e.onMouseOverPoint({point:this,event:t}))}}}}}},{key:"performanceDegradationCapacitySeries",value:function(){var e=this,t=this.props.poolCapacity.data.timeseries,n=t[Object(me.findLastIndex)(t,{dataSource:"Actual"})];return{type:"line",dashStyle:"dot",name:"Performance Degradation Threshold (90%)",color:Ne.CHART_COLORS.redOrange,lineWidth:2,data:t.map(function(e){return{x:po(e.timestamp),y:e.allocatedBytes?yo(e.allocatedBytes):n&&yo(n.allocatedBytes)}}),step:!0,point:{events:{mouseOver:function(t){e.lastPointHovered!==this&&(e.lastPointHovered=this,e.onMouseOverPoint({point:this,event:t}))}}}}}},{key:"syncPoints",value:function(e){var t=this.props.getCorrespondingPoints(e,this.chart);this.chart.legend&&(this.chart.legend.group.hide(),this.chart.legend.display=!1),Qn(t,this.chart)}},{key:"resetPoints",value:function(){this.chart&&(this.chart.hoverPoints&&this.chart.hoverPoints.forEach(function(e){return e.setState()}),this.chart.xAxis&&(this.chart.xAxis[0].hideCrosshair(),this.chart.tooltip.hide()),this.chart.legend&&(this.chart.legend.group.show(),this.chart.legend.display=!0))}},{key:"render",value:function(){var e=this,t=this.props.poolCapacity,n=t&&t.data&&t.data.timeseries&&t.data.timeseries.length>0;return a.a.createElement(pe.a,{hasData:n,message:"No capacity history data available."},function(){return a.a.createElement(vo,{config:e.getChartConfig(),callback:e.onAfterChartRendered,domProps:{id:e.containerElementId}})})}}]),t}();bo.displayName="OverviewCapacityChart",bo.propTypes={poolCapacity:O.a.shape({data:O.a.shape({timeseries:O.a.arrayOf(O.a.shape({timestamp:O.a.oneOfType([O.a.number,O.a.object]),usedBytes:O.a.number,allocatedBytes:O.a.number,totalSavingsBytes:O.a.number,forecastedUsageBytes:O.a.number,forecastedLowerBoundBytes:O.a.number,forecastedUpperBoundBytes:O.a.number})).isRequired}).isRequired,meta:O.a.shape({time:O.a.shape({start:O.a.number.isRequired,end:O.a.number.isRequired}).isRequired}).isRequired}),getCorrespondingPoints:O.a.func,chartSync:O.a.shape({monitorChart:O.a.func.isRequired,removeChart:O.a.func.isRequired,syncPoints:O.a.func.isRequired}),getTotalCapacity:O.a.func,containerHeight:O.a.number.isRequired,chartRangeStart:O.a.oneOfType([O.a.object,O.a.number]),chartRangeEnd:O.a.oneOfType([O.a.object,O.a.number])},bo.defaultProps={containerHeight:0,getCorrespondingPoints:mo,getTotalCapacity:Object(me.property)("allocatedBytes")};var Eo=Se()({elementResize:!0})(bo),Oo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Co=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var So=Re()({valueFormatter:function(e){return Object(_t.c)(e.y,Dr.h,"%")},xValueFormatter:function(e){return"Week of : "+Object(we.Timestamp)(e.x,Te.DAY_MOMENT_FORMAT)}}),wo=function(e){var t=e.arraysRecommendations,n=e.getDataKey,r=Math.max.apply(Math,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t.map(function(e){return Object(me.max)(n(e),function(e){return Object(_t.e)(e.usage)?0:e.usage}).usage||0})));return Math.max(r+20,100)},Ro=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return ot()(n),n.containerElementId=Object(me.uniqueId)(n.constructor.name),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Co(t,[{key:"componentDidMount",value:function(){this.props.chartSync&&this.props.chartSync.monitorChart(this,{syncPoints:this.syncPoints,resetPoints:this.resetPoints})}},{key:"componentWillUnmount",value:function(){var e=document.getElementById(this.containerElementId);e&&e.removeEventListener("mouseleave",this.onMouseOut)}},{key:"onAfterChartRendered",value:function(e){this.chart=e;var t=document.getElementById(this.containerElementId);t&&t.addEventListener("mouseleave",this.onMouseOut)}},{key:"onMouseOut",value:function(e){this.props.chartSync?this.props.chartSync.syncPoints({event:e}):this.resetPoints()}},{key:"onMouseOverPoint",value:function(e){e.point&&(this.props.chartSync?this.props.chartSync.syncPoints(e):this.syncPoints(e.point))}},{key:"getChartConfig",value:function(){var e=this;if(this.config)return this.config;var t=this.props,n=t.arrayRecommendations,r=t.getDataKey,a=t.spacingLeft,i=t.chartRangeStart,o=t.chartRangeEnd,s=n.map(function(t){return e.usageSeries({arraySerialNumber:t.serialNumber,arrayHostName:t.hostname,timeSeries:r(t)})}),c=wo({arraysRecommendations:n,getDataKey:r}),l=po(Oe()()).isBefore(o);return this.config={chart:{height:this.props.containerHeight,spacingTop:20,spacingLeft:a,zoomType:null},title:!1,xAxis:Oo({},Ae(),Object(xe.b)(i,o),{plotBands:l&&{color:Ne.CHART_COLORS.plotBandGrey,from:ho(Oe()()),to:ho(o),label:{text:"Forecast Data Not Available",align:"center",y:50}}}),yAxis:{title:{enabled:!1},labels:{formatter:function(){return""+Object(_t.c)(this.value,Dr.h,"%")}},min:0,max:c},series:s,plotOptions:{series:{connectNulls:!0,zones:[{value:100},{color:Ne.CHART_COLORS.redOrange}]}}},this.config}},{key:"usageSeries",value:function(e){var t=e.arraySerialNumber,n=e.arrayHostName,r=e.timeSeries,a=this;return{name:(Object(_t.e)(n)?t:n+" ("+t+")")+" ",data:r.map(function(e){return{x:po(e.ts),y:e.usage}}),events:{legendItemClick:function(e){return e.preventDefault()}},marker:{enabled:!1},lineWidth:2,point:{events:{mouseOver:function(e){a.lastPointHovered!==this&&(a.lastPointHovered=this,a.onMouseOverPoint({point:this,event:e}))}}}}}},{key:"syncPoints",value:function(e){var t=this.props.getCorrespondingPoints(e,this.chart);this.chart.legend&&(this.chart.legend.group.hide(),this.chart.legend.display=!1),Qn(t,this.chart)}},{key:"resetPoints",value:function(){this.chart&&(this.chart.hoverPoints&&this.chart.hoverPoints.forEach(function(e){return e.setState()}),this.chart.xAxis&&(this.chart.xAxis[0].hideCrosshair(),this.chart.tooltip.hide()),this.chart.legend&&(this.chart.legend.group.show(),this.chart.legend.display=!0))}},{key:"render",value:function(){var e=this,t=this.props,n=t.arrayRecommendations,r=t.getDataKey,i=n&&n.length>0&&r(n[0])&&r(n[0]).length>0;return a.a.createElement(pe.a,{hasData:i},function(){return a.a.createElement(So,{config:e.getChartConfig(),callback:e.onAfterChartRendered,domProps:{id:e.containerElementId}})})}}]),t}();Ro.displayName="PoolSaturationChart",Ro.propTypes={arrayRecommendations:O.a.arrayOf(O.a.shape({serialNumber:O.a.string,hostname:O.a.string,model:O.a.string,cpu:O.a.arrayOf(O.a.shape({ts:O.a.number,usage:O.a.number})),cache:O.a.arrayOf(O.a.shape({ts:O.a.number,usage:O.a.number}))})),getDataKey:O.a.func,containerHeight:O.a.number.isRequired,spacingLeft:O.a.number,getCorrespondingPoints:O.a.func,chartSync:O.a.shape({monitorChart:O.a.func.isRequired,removeChart:O.a.func.isRequired,syncPoints:O.a.func.isRequired}),chartRangeStart:O.a.oneOfType([O.a.object,O.a.number]),chartRangeEnd:O.a.oneOfType([O.a.object,O.a.number])},Ro.defaultProps={containerHeight:0,getCorrespondingPoints:mo,showThresholdColors:!1};var To=Se()({elementResize:!0})(Ro),_o=n(6),No=n.n(_o),jo=n(1264),Po=n.n(jo),Ao=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var xo=document.getElementById("main"),Lo=$.a.bind(Po.a),ko=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return ot()(n),n.el=document.createElement("div"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Ao(t,[{key:"componentDidMount",value:function(){xo.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){xo.removeChild(this.el)}},{key:"render",value:function(){var e=this.props,t=e.eventCollection,n=e.point,r=e.chart,i=e.chartDomId;if(!t||t&&t.length<=0)return null;var o=function(e){return e.reduce(function(e,t){var n=t.arraySn,r=t.category,a=t.change,i=t.eventDetails,o=t.previousValue,s=t.currentValue;switch(r){case"SOFTWARE":return e.concat(n+" - Software updated to: "+(a&&a.split("-")[0]));case"HARDWARE":return e.concat(n+" - "+i+" from "+o+" to "+s);case"CAPACITY":return e.concat(n+" - "+i+" "+a);default:return console.error("Unexpected array event category: "+r+". Chart may not display correctly."),e}},[])}(t),s=document.getElementById(i).getBoundingClientRect(),c=s.top,l=s.left,u=a.a.createElement("div",{style:{background:n.color,bottom:document.documentElement.clientHeight-c-r.plotTop,left:-2+n.plotX+r.plotLeft+l+window.pageXOffset},className:Lo("flagContainer")},a.a.createElement("ol",{className:Lo("eventList")},a.a.createElement("li",{className:Lo("eventDate")},Object(_t.a)(n.x,"L")),o.map(function(e){return a.a.createElement("li",{key:e},e)})));return No.a.createPortal(u,this.el)}}]),t}();ko.displayName="EventFlag",ko.propTypes={chartDomId:O.a.string,point:O.a.object,chart:O.a.object,eventCollection:O.a.arrayOf(O.a.shape({timestamp:O.a.oneOfType([O.a.object,O.a.number]),arraySn:O.a.string,category:O.a.string,verbosity:O.a.string,eventDetails:O.a.string,change:O.a.string,previousValue:O.a.string,currentValue:O.a.string}))};var Mo=ko,Io=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Do=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Uo=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return ot()(n),n.containerElementId=Object(me.uniqueId)(n.constructor.name),n.eventFlagContainer=document.createElement("div"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),Do(t,[{key:"componentDidMount",value:function(){this.props.chartSync&&this.props.chartSync.monitorChart(this,{syncPoints:this.syncPoints,resetPoints:this.resetPoints})}},{key:"componentWillUnmount",value:function(){var e=document.getElementById(this.containerElementId);e&&(e.removeEventListener("mouseleave",this.onMouseOut),this.eventFlagContainer.remove())}},{key:"onAfterChartRendered",value:function(e){this.chart=e;var t=document.getElementById(this.containerElementId);t&&t.addEventListener("mouseleave",this.onMouseOut)}},{key:"onMouseOut",value:function(e){this.props.chartSync?this.props.chartSync.syncPoints({event:e}):this.resetPoints()}},{key:"onMouseOverPoint",value:function(e){e.point&&(this.props.chartSync?this.props.chartSync.syncPoints(e):this.syncPoints(e.point))}},{key:"getChartConfig",value:function(){if(this.config)return this.config;var e=this.props,t=e.poolEvents,n=e.spacingLeft,r=e.chartRangeStart,a=e.chartRangeEnd,i=this;return this.config={chart:{height:this.props.containerHeight,spacingLeft:n,zoomType:null},title:!1,xAxis:Io({},Ae(),Object(xe.b)(r,a),{crosshair:{width:2,color:Ne.CHART_COLORS.teal}}),yAxis:{visible:!1,max:1,min:0},series:[{id:"eventSeries",name:"events",data:function(e){return Object.keys(e).sort(function(e,t){return e-t}).map(function(t){return{x:po(be()(t).value()),y:0,eventCollection:e[t]}})}(t),marker:{enabled:!0,symbol:"text:",states:{hover:{enabled:!1}}},point:{events:{mouseOver:function(e){i.lastPointHovered=this,i.onMouseOverPoint({point:this,event:e})}}}}],tooltip:{crosshairs:!0,formatter:function(){return!1},shared:!0}},this.config}},{key:"syncPoints",value:function(e){var t=this.props.getCorrespondingPoints(e,this.chart);t&&t.length>0&&(Qn(t,this.chart,e),No.a.render(a.a.createElement(Mo,{eventCollection:t[0].eventCollection,chartDomId:this.containerElementId,chart:this.chart,point:t[0]}),this.eventFlagContainer))}},{key:"resetPoints",value:function(){this.chart&&(this.chart.hoverPoints&&this.chart.hoverPoints.forEach(function(e){return e.setState()}),this.chart.xAxis&&this.chart.xAxis[0].hideCrosshair()),No.a.render(null,this.eventFlagContainer)}},{key:"render",value:function(){var e=this,t=this.props.poolEvents;return a.a.createElement(pe.a,{hasData:!!t},function(){return a.a.createElement(ct.ReactHighcharts,{config:e.getChartConfig(),callback:e.onAfterChartRendered,domProps:{id:e.containerElementId}})})}}]),t}();Uo.displayName="EventsChart",Uo.propTypes={poolEvents:O.a.objectOf(O.a.arrayOf(O.a.shape({arraySn:O.a.string,category:O.a.string,verbosity:O.a.string,eventDetails:O.a.string,change:O.a.string,previousValue:O.a.string,currentValue:O.a.string}))),containerHeight:O.a.number.isRequired,spacingLeft:O.a.number,getCorrespondingPoints:O.a.func,chartSync:O.a.shape({monitorChart:O.a.func.isRequired,removeChart:O.a.func.isRequired,syncPoints:O.a.func.isRequired}),chartRangeStart:O.a.oneOfType([O.a.object,O.a.number]),chartRangeEnd:O.a.oneOfType([O.a.object,O.a.number])},Uo.defaultProps={containerHeight:0,containerWidth:0,spacingLeft:0,getCorrespondingPoints:mo};var Ho=Se()({elementResize:!0})(Uo),Fo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bo=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Vo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Bo(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadingPoolOverview,n=e.loadedPoolOverview,r=e.scope,a=e.config;if(!t&&!n){var i=this.getPoolChildArrays(),o=Object(he.toTimeRangeSelection)({duration:"P1Y"});this.props.getPoolOverviewData({scope:a.convertToGenericQueryScope(r),timeRange:o,eventFilters:[{field:"category",$in:["SOFTWARE","CAPACITY","HARDWARE"]},{field:"verbosity",$lte:2}],poolArrayList:i})}}},{key:"getPoolChildArrays",value:function(){var e=this.props,t=e.scope,n=e.config,r=t&&t.id,a=void 0;if(r){var i=n.getObjectTopology(Xi.b.POOL,r);a=i&&i.children[Xi.b.ARRAY]}return a}},{key:"render",value:function(){var e=this.props,t=e.loadingPoolOverview,n=e.poolOverview,r=e.pool,i=e.loadedPoolOverview;return a.a.createElement(T.a,{loading:t},a.a.createElement(pe.a,{hasData:i&&!!n},function(){var e=n.poolCpuCacheUsage,t=n.poolCapacity,i=n.poolEvents,o=!r||r&&!r.allFlash,s=function(e){var t=e.poolEvents,n=e.poolCpuCacheUsage,r=e.poolCapacity,a=[],i=[];return t&&t.length>0&&(a.push(po(Object(me.first)(t).timestamp)),i.push(po(Object(me.last)(t).timestamp))),n&&n.length>0&&(a.push(po(Object(me.first)(n[0].cpu).ts)),i.push(po(Object(me.last)(n[0].cpu).ts))),r&&r.meta&&(a.push(po(r.meta.time.dataStart)),i.push(po(r.meta.time.dataEnd))),{start:Oe.a.min.apply(Oe.a,a),end:Oe.a.max.apply(Oe.a,i)}}({poolEvents:i,poolCpuCacheUsage:e,poolCapacity:t}),c=s.start,l=s.end;return a.a.createElement(hr,null,a.a.createElement(ye.a,{title:"Events",className:"card-section-no-top-padding card-section-no-bottom-padding card-section-no-right-padding",style:{marginBottom:2,marginTop:4}},a.a.createElement("div",{style:{height:80}},a.a.createElement(pr,null,a.a.createElement(Ho,{poolEvents:i,spacingLeft:62,chartRangeStart:c,chartRangeEnd:l})))),a.a.createElement(ye.a,{title:"CPU Saturation",className:"card-section-no-top-padding card-section-no-bottom-padding card-section-no-right-padding",style:{marginBottom:2,marginTop:2}},a.a.createElement("div",{className:"chart-container--small"},a.a.createElement(pr,null,a.a.createElement(To,{arrayRecommendations:e,spacingLeft:20,getDataKey:Object(me.property)("cpu"),chartRangeStart:c,chartRangeEnd:l})))),o&&a.a.createElement(ye.a,{title:"Cache Saturation",className:"card-section-no-top-padding card-section-no-bottom-padding card-section-no-right-padding",style:{marginBottom:2,marginTop:2}},a.a.createElement("div",{className:"chart-container--small"},a.a.createElement(pr,null,a.a.createElement(To,{arrayRecommendations:e,spacingLeft:20,getDataKey:Object(me.property)("cache"),chartRangeStart:c,chartRangeEnd:l})))),a.a.createElement(ye.a,{title:"Capacity Usage",className:"card-section-no-top-padding card-section-no-bottom-padding card-section-no-right-padding",style:{marginBottom:2,marginTop:2}},a.a.createElement("div",{className:"chart-container--medium"},a.a.createElement(pr,null,a.a.createElement(Eo,{poolCapacity:t,includeSavingsSeries:!1,isLineChart:!0,chartRangeStart:c,chartRangeEnd:l})))))}))}}]),t}();Vo.displayName="OverviewContainer",Vo.propTypes={loadingPoolOverview:O.a.bool,loadedPoolOverview:O.a.bool,getPoolOverviewData:O.a.func.isRequired,poolOverview:O.a.shape({poolCapacity:O.a.shape({data:O.a.shape({timeseries:O.a.arrayOf(O.a.shape({timestamp:O.a.number,usedBytes:O.a.number,allocatedBytes:O.a.number,totalSavingsBytes:O.a.number})).isRequired}).isRequired,meta:O.a.shape({time:O.a.shape({start:O.a.number.isRequired,end:O.a.number.isRequired}).isRequired}).isRequired}),poolEvents:O.a.shape({timestamp:O.a.number,eventCollection:O.a.arrayOf(O.a.shape({timestamp:O.a.number,arraySn:O.a.string,category:O.a.string,verbosity:O.a.string,eventDetails:O.a.string,change:O.a.string,previousValue:O.a.string,currentValue:O.a.string}))}),poolCpuCacheUsage:O.a.arrayOf(O.a.shape({serialNumber:O.a.string,hostname:O.a.string,model:O.a.string,cache:O.a.arrayOf(O.a.shape({ts:O.a.number,usage:O.a.number})),cpu:O.a.arrayOf(O.a.shape({ts:O.a.number,usage:O.a.number}))}))}),pool:O.a.shape({allFlash:O.a.bool}),scope:O.a.shape({type:O.a.string.isRequired,id:O.a.string.isRequired}),config:O.a.object.isRequired};var Wo,qo=Object(S.connect)(function(e){return Fo({},Object(_i.c)(e),Object(_i.d)(e))},function(e){return Object(C.bindActionCreators)({getPoolOverviewData:Ri},e)})(Vo),zo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Go=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Yo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ko=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Go(t,[{key:"componentWillUnmount",value:function(){this.props.reset()}},{key:"render",value:function(){var e=this.props,t=e.scope,n=e.scope.id,r=e.match,i=e.match.params,o=e.config,s=Object(he.deserialize)(i,yi("")),c=Object(he.deserialize)(i,gi(""));return a.a.createElement("div",null,a.a.createElement(Mi,{poolUid:n,match:r}),a.a.createElement(w.QueryTabs,{values:["overview","performance","capacity"]},a.a.createElement(w.TabList,null,a.a.createElement(w.Tab,null,"Overview"),a.a.createElement(w.Tab,null,"Performance"),a.a.createElement(w.Tab,null,"Capacity")),a.a.createElement(w.TabPanel,null,a.a.createElement(qo,{timeRange:s,config:o,scope:t})),a.a.createElement(w.TabPanel,null,a.a.createElement(uo,{timeRange:s,config:o,poolUid:n})),a.a.createElement(w.TabPanel,null,a.a.createElement(Qi,zo({},this.props,{timeRange:c,config:o,scope:t})))))}}]),t}();Ko.displayName="PoolDetailContainer",Ko.propTypes={match:O.a.shape({url:O.a.string,params:O.a.shape((Wo={},Yo(Wo,yi("duration"),O.a.string),Yo(Wo,yi("from"),O.a.string),Yo(Wo,yi("to"),O.a.string),Yo(Wo,gi("duration"),O.a.string),Yo(Wo,gi("from"),O.a.string),Yo(Wo,gi("to"),O.a.string),Wo)).isRequired}).isRequired,scope:O.a.shape({type:O.a.string.isRequired,id:O.a.string.isRequired}),config:O.a.object,reset:O.a.func};var $o=Object(S.connect)(null,function(e){return Object(C.bindActionCreators)({reset:Ti},e)})(Ko),Qo=n(725),Xo=n(663),Jo=function(){return function(e){var t=Object(_.actionsFor)(Xo.a,e),n=t.dispatchStart,r=t.dispatchSuccess,a=t.dispatchError;n();(new j.default).pod().genericQuery("groups").post({}).then(function(e){return e.data.data}).then(r).catch(a)}},Zo=n(664),es=n(1265),ts=n.n(es),ns="summary",rs="space",as="performance",is="protection";var os=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ss=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var cs=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),ss(t,[{key:"componentDidMount",value:function(){this.props.getGroups()}},{key:"render",value:function(){var e=this.props,t=e.loadingGroups,n=e.loadedGroups,r=e.groups;e.config;return t||n||r?a.a.createElement(Ga,{config:(new Ta.CollectionConfigBuilder).setDefaultFacetCategory(ns).addCategory(ns,"Summary").addCategory(rs,"Space").addCategory(as,"Performance").addCategory(is,"Protection").addField((new Ta.FieldBuilder).field("groupName").title("Group Name").column(!0).facet(a.a.createElement(_a.ContainsStringFacet,null))).addField((new Ta.FieldBuilder).field("poolCount").title("# pools").category(ns).column(!0)).addField((new Ta.FieldBuilder).field("dataUsageBytes").title("Data").categories([ns,rs]).column({header:a.a.createElement(Ua.MultiFieldColumnHeader,{leftTitle:"data",rightTitle:"size"}),render:function(e,t){var n=t.allocatedBytes;return a.a.createElement(st.ProgressWithValue,{leftLabel:be()(e).format("0.0 b"),rightLabel:be()(n).format("0.0 b")},a.a.createElement(st.Progress,{max:n,value:e>n?n:e}))}})).addField((new Ta.FieldBuilder).field("totalUsageBytes").title("Total Usage").category(rs).column({render:function(e){return be()(e).format("0.00 b")}})).valueOf(),collection:r,loadingCollection:t,tableClassName:ts.a.table,keyField:"groupUid",defaultSort:[{colname:"groupName",order:"asc"}]}):null}}]),t}();cs.displayName="ListContainer",cs.propTypes={getGroups:O.a.func.isRequired,groups:O.a.arrayOf(O.a.object),loadingGroups:O.a.bool.isRequired,loadedGroups:O.a.bool.isRequired,config:O.a.object.isRequired};var ls=Object(S.connect)(function(e){return os({},Object(Zo.b)(e))},function(e){return Object(C.bindActionCreators)({getGroups:Jo},e)})(cs),us=n(52),ds=n(166),ps=n(135),hs=n(618),ms={value:"monitor_support",title:"Monitoring Services/Support"},fs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gs=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ys=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),gs(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.scope,n=e.config;this.props.getArrays(n.convertToGenericQueryScope(t))}},{key:"componentWillUnmount",value:function(){this.props.resetArrayListStore()}},{key:"render",value:function(){var e=this,t=this.props,n=t.loadingArrays,r=t.arrays,i=t.config,o=t.scope,s=t.loadingArraysCsv,c=t.userName,l=function(e){return{categories:["summary",ms],columns:[{Header:"Array",accessor:"arraySearchableName",filterable:!0,minWidth:us.COLUMN_WIDTHS.LARGE,Cell:function(e){var t=e.original,n=t.hostName,r=t.arraySn,i=(Object(_t.e)(n)?"":""+n)+(Object(_t.e)(n)?r:" ("+r+")");return a.a.createElement(v.ObjectDetailLink,{name:i,id:r,includeIcon:!1,objectType:b.a.ARRAY})}},{Header:"Group",accessor:"groupName",minWidth:us.COLUMN_WIDTHS.MEDIUM,filterable:!0,categories:["summary"]},{Header:"Pool",accessor:"poolSortName",minWidth:us.COLUMN_WIDTHS.SMALL,filterable:!0,Cell:function(t){var n=t.original,r=n.poolName,i=n.poolUid;return a.a.createElement(v.ObjectDetailLink,{name:r,id:i,objectType:b.a.POOL,config:e,includeIcon:!1})},categories:["summary"]},{Header:"Model",accessor:"model",minWidth:us.COLUMN_WIDTHS.XSMALL,filterable:!0,categories:["summary"]},{Header:"S/W Version",accessor:"softwareVersion",headerClassName:"text-right",className:"text-right",minWidth:us.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.softwareVersion;return t&&t.split("-")[0]},filterable:!0,categories:["summary"]},{Header:"Shelves",accessor:"shelfCount",minWidth:us.COLUMN_WIDTHS.XSMALL,headerClassName:"text-right",className:"text-right",Cell:function(e){var t=e.original.shelfCount;return Object(_t.c)(t,Dr.h)},categories:["summary"]},{Header:"Hardware Status",accessor:"hardwareStatusComparator",minWidth:us.COLUMN_WIDTHS.MEDIUM,headerClassName:"text-center",className:"text-center",Cell:function(e){var t=e.original,n=t.latestHeartbeat,r=t.isAllFlash;return a.a.createElement(ha.a,{latestHeartbeat:n,isAllFlash:r})},categories:["summary"]},{Header:"Raw Size",headerClassName:"text-center",columns:[{Header:"HDD",accessor:"arrayTotalRawHddBytes",headerClassName:"text-right",className:"text-right",minWidth:us.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.arrayTotalRawHddBytes;return Object(_t.c)(t,Dr.a)}},{Header:"SSD",accessor:"arrayTotalRawSsdBytes",headerClassName:"text-right",className:"text-right",minWidth:us.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.arrayTotalRawSsdBytes;return Object(_t.c)(t,Dr.a)}}],categories:["summary"]},{Header:"Usable Space",headerClassName:"text-center",columns:[{Header:"Total",accessor:"arrayCapacityBytes",headerClassName:"text-right",className:"text-right",minWidth:us.COLUMN_WIDTHS.XSMALL,Cell:function(e){var t=e.original.arrayCapacityBytes;return Object(_t.c)(t,Dr.b)}},{Header:"Available",accessor:"arrayFreeBytes",headerClassName:"text-right",className:"text-right",minWidth:us.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.arrayFreeBytes;return Object(_t.c)(t,Dr.b)}}],categories:["summary"]},{Header:"Host Interface",accessor:"networkCardInfo",minWidth:us.COLUMN_WIDTHS.MEDIUM,filterable:!0,categories:["summary"]},{Header:"Call Home",headerClassName:"text-center",columns:[{Header:"Status",accessor:"sendingAsups",headerClassName:"text-center",className:"text-center",minWidth:us.COLUMN_WIDTHS.XSMALL,Cell:function(e){var t=e.original,n=t.sendingAsups,r=t.asupReceivedTime;return a.a.createElement(ha.b,{sendingAsups:n,asupReceivedTime:r})}},{Header:"Last Data Sent",accessor:"asupReceivedTime",headerClassName:"text-right",className:"text-right",minWidth:us.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original,n=t.asupReceivedTime,r=t.arrayTimezone;return a.a.createElement("div",{className:"ellipsis-on-overflow",title:Object(_t.b)(n,Dr.f,r)},Object(_t.b)(n,Dr.f,r))}}],categories:[ms]},{Header:"Heartbeat",headerClassName:"text-center",columns:[{Header:"Status",accessor:"isHbDelayed",headerClassName:"text-center",className:"text-center",minWidth:us.COLUMN_WIDTHS.XSMALL,Cell:function(e){var t=e.original.latestHeartbeat;return t&&a.a.createElement(ha.c,{timestamp:t.timestamp})}},{Header:"Last Heartbeat",accessor:"latestHbSort",headerClassName:"text-right",className:"text-right",minWidth:us.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.latestHeartbeat;return a.a.createElement("div",{className:"ellipsis-on-overflow",title:Object(_t.b)(t&&t.timestamp,Dr.e)},Object(_t.b)(t&&t.timestamp,Dr.e))}}],categories:[ms]},{Header:"Support",headerClassName:"text-center",columns:[{Header:"Status",accessor:"parsedSupportStatus",filterable:!0,minWidth:us.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.parsedSupportStatus;return a.a.createElement(hs.a,{parsedSupportStatus:t})}},{Header:"Agreement",accessor:"supportAgrmt",filterable:!0,minWidth:us.COLUMN_WIDTHS.MEDIUM},{Header:"End Date",accessor:"supportEndDate",minWidth:us.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.supportEndDate;return Object(_t.a)(t,Dr.d,!0)}}],categories:[ms]},{Header:"Timezone",accessor:"arrayTimezone",minWidth:us.COLUMN_WIDTHS.LARGE,filterable:!0,categories:[ms]}]}}(i),u=l.columns,d=l.categories;return a.a.createElement(us.ClientControlledTable,{tableId:c+"_NIMBLE_ARRAYS",data:r,columns:u,categories:d,loading:n,defaultSorted:[{id:"arraySearchableName",desc:!1}],downloadCsv:function(){return e.props.getArraysCsv(i.convertToGenericQueryScope(o))},downloadingCsv:s})}}]),t}();ys.displayName="ListContainer",ys.propTypes={arrays:O.a.arrayOf(O.a.object),getArrays:O.a.func.isRequired,resetArrayListStore:O.a.func.isRequired,loadingArrays:O.a.bool.isRequired,getArraysCsv:O.a.func.isRequired,loadingArraysCsv:O.a.bool.isRequired,userName:O.a.string,scope:O.a.shape({type:O.a.string.isRequired,id:O.a.string.isRequired}),config:O.a.object.isRequired},ys.defaultProps={arrays:[],loadingArrays:!1,loadingArraysCsv:!1};var vs=Object(S.connect)(function(e){return fs({},Object(ps.c)(e),Object(ps.a)(e),{userName:Object(Yn.h)(e).username})},function(e){return Object(C.bindActionCreators)({getArrays:ds.a,resetArrayListStore:ds.c,getArraysCsv:ds.b},e)})(ys),bs=n(80),Es=n(1266),Os=n.n(Es),Cs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ss=function(e){var t=e.scope,n=t.id,r=t.name,o=e.className,s=r&&r.substr(0,r.indexOf("(")).trim(),c=Object(na.buildUrl)("","/InfoSight/static/nimosLauncher.html?arraySn="+n+"&hostname="+s);return s||(c=Object(na.buildUrl)("","/InfoSight/static/nimosLauncher.html?arraySn="+n)),a.a.createElement("span",{className:o},a.a.createElement(v.DefaultDetailPageTitle,Cs({},e,{className:null}))," | ",a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:c},"Manage ",a.a.createElement(i.IconAdaptor,{adjustment:"baseline",size:20},a.a.createElement(Os.a,null))))};Ss.displayName="ArrayDetailPageTitle",Ss.propTypes={productInterface:O.a.shape({}).isRequired,scope:O.a.shape({type:O.a.string.isRequired,id:O.a.string.isRequired,name:O.a.string})};var ws=function(e){return e.scope.type===b.a.ARRAY?a.a.createElement(Ss,e):a.a.createElement(v.DefaultDetailPageTitle,e)};ws.displayName="DetailPageTitle",ws.propTypes={scope:O.a.shape({type:O.a.string.isRequired})};var Rs=ws;n.d(t,"a",function(){return Vs}),n.d(t,"b",function(){return Ws});var Ts,_s,Ns,js,Ps,As=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function xs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ls=v.VIEW_TYPES.DETAIL,ks=v.VIEW_TYPES.CHART,Ms=v.VIEW_TYPES.TABLE,Is=b.a.FOLDER,Ds=b.a.POOL,Us=b.a.GROUP,Hs=b.a.APP_CATEGORY,Fs=b.a.ARRAY,Bs=b.a.VOLUME,Vs={id:"NIMBLE",attributes:{tier:"Storage",name:"Nimble Storage",scopingObjects:[Is,Ds,Us],leafObjects:[Bs],rootPath:"/infrastructure/storage/nimble",getRootPath:function(e){return e&&e.NIMBLE&&e.NIMBLE.excludeTenant?this.rootPath:Object(bs.buildUrlForCurrentTenant)(this.rootPath)}},topology:{getObjectTopology:b.d,findObject:b.c,search:{type:"client-side",isReady:b.f}},titles:(Ts={},xs(Ts,Us,["Groups","Group"]),xs(Ts,Fs,["Arrays","Array"]),xs(Ts,Ds,["Pools","Pool"]),xs(Ts,Is,["Folders","Folder"]),xs(Ts,Bs,["Volumes","Volume"]),xs(Ts,Hs,["Applications","Application"]),Ts),genericQueryTypes:(_s={},xs(_s,Us,"group"),xs(_s,Fs,"array"),xs(_s,Ds,"pool"),xs(_s,Is,"folder"),xs(_s,Bs,"volume"),xs(_s,Hs,"application"),_s),icons:(Ns={},xs(Ns,Us,function(e){return a.a.createElement(i.IconAdaptor,As({},e,{type:"svg"}),a.a.createElement(l.a,null))}),xs(Ns,Fs,function(e){return a.a.createElement(i.IconAdaptor,As({},e,{type:"svg"}),a.a.createElement(d.a,null))}),xs(Ns,Ds,function(e){return a.a.createElement(i.IconAdaptor,As({},e,{type:"svg"}),a.a.createElement(s.a,null))}),xs(Ns,Is,function(e){return a.a.createElement(i.IconAdaptor,As({},e,{type:"svg"}),a.a.createElement(h.a,null))}),xs(Ns,Bs,function(e){return a.a.createElement(i.IconAdaptor,As({},e,{type:"svg"}),a.a.createElement(f.a,null))}),xs(Ns,Hs,function(e){return a.a.createElement(i.IconAdaptor,As({},e,{type:"svg"}),a.a.createElement(y.a,null))}),Ns),routes:(js={},xs(js,Us,"groups"),xs(js,Ds,"pools"),xs(js,Is,"folders"),xs(js,Bs,"volumes"),xs(js,Fs,"arrays"),js),nav:{objects:[Ds,Fs,Bs]},objectViews:(Ps={},xs(Ps,Bs,{scopes:[Ds],views:[{type:Ms,urlSegment:"list",name:"Volume List",component:nn.a,scopes:[Ds,Us,Fs,null]},{type:ks,urlSegment:"capacity",name:"Volume Capacity Trend",component:qn},{type:ks,urlSegment:"performance",name:"Volume Performance Contention",component:Jr},{type:Ls,urlSegment:"detail",component:tn,scopes:[null]}]}),xs(Ps,Ds,{scopes:[Us,null],views:[{type:Ms,urlSegment:"list",name:"Pool List",component:Qo.a},{type:Ls,urlSegment:"detail",component:$o,scopes:[null]}]}),xs(Ps,Us,{scopes:[null],views:[{type:Ms,urlSegment:"list",name:"Group List",component:ls}]}),xs(Ps,Fs,{scopes:[Us,Ds],views:[{type:Ms,urlSegment:"list",name:"Array List",component:vs,scopes:[Us,Ds,null]},{type:Ls,urlSegment:"detail",component:fi}]}),Ps),componentOverrides:{DetailPageTitle:Rs}},Ws=new v.ProductInterface(Vs)},159:function(e,t,n){e.exports={"large-column":"large-column__zZSlj","medium-column":"medium-column__trYNe","small-column":"small-column__1RMtk","xsmall-column":"xsmall-column__1qLfB",noHeaderBorder:"noHeaderBorder__1EUlX",hidden:"hidden__8PNCW",container:"container__jfX8H","applications-container":"applications-container__17BqZ"}},165:function(e,t,n){var r=n(11);e.exports=r.Model.extend({defaults:{showSearch:!0,showFilters:!1,showPaging:!0,filterLabel:"Filter...",emptyLabel:"No results found",columns:[],groupBy:function(){return null}},validate:function(e,t){if(!e.columns||0===e.columns.length)return'"columns" must be specified in the model.'}})},166:function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return g});var r=n(19),a=n(23),i=n.n(a),o=n(217),s=n(322),c=n(27),l=n(167),u=n(618),d=n(619),p=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var m=function(e){return function(t){var n=Object(r.actionsFor)(s.b,t),a=n.dispatchStart,o=n.dispatchSuccess,m=n.dispatchError;return a(),(new c.default).all([function(e){return(new c.default).pod().genericQuery("arrays").post({scope:e})}(e),(new c.default).pod().account().urlSegment("heartbeats").get(),(new c.default).pod().account().urlSegment("assets").urlSegment("lastAsupReceivedTimestamps").get()]).then(function(e){var t=p(e,3),n=t[0],r=t[1],a=t[2],o=function(e){return e.map(function(e){return h({},e,{parseSupportStatus:Object(u.b)(e.supportStatus,e.supportEndDate),supportEndDate:i()(e.supportEndDate).isAfter(i()().add(10,"years"))?null:e.supportEndDate,networkCardInfo:Object(d.a)({tenGigSfpPortCount:e.tenGigSfpPortCount,tenGigBaseTPortCount:e.tenGigBaseTPortCount,gigPortCount:e.gigPortCount,fcPortCount:e.fcPortCount})})})}(n&&n.data&&n.data.data||[]),s=r&&r.data||{},c=a&&a.data||{};return o.map(function(e){var t=s[e.arraySn],n=t?!Object(l.d)(t.timestamp):null;return h({},e,{arrayHostName:""+e.arraySn+(e.hostName?e.hostName:""),hardwareStatusComparator:l.a.comparator(t),latestHeartbeat:t,latestHbSort:t?t.timestamp:null,isHbDelayed:n,asupReceivedTime:c[e.arraySn]||null})})}).then(o).catch(m)}},f=function(e){return function(t){var n=Object(r.actionsFor)(s.a,t),a=n.dispatchStart,l=n.dispatchSuccess,u=n.dispatchError;a(),(new c.default).pod().genericQuery("arrays").csv().post({scope:e},{responseType:"blob"}).then(function(e){return Object(o.saveAs)(e.data,"HPE InfoSight Arrays "+i()().format("L").replace(/\\|\//g,"-")+".csv")}).then(function(){return l({})}).catch(u)}},g=function(){return{type:s.c}}},167:function(e,t,n){"use strict";n.d(t,"d",function(){return m}),n.d(t,"b",function(){return E}),n.d(t,"c",function(){return O}),n.d(t,"a",function(){return C});var r=n(1),a=n.n(r),i=n(8),o=n.n(i),s=n(23),c=n.n(s),l=n(225),u=n.n(l),d=n(215),p=n(59),h=n(361),m=function(e){return!e||c()().diff(c()(e),"minutes")>25},f=function(e){return e.controllers&&e.controllers.some(function(e){return"active"!==e.state&&"standby"!==e.state})},g=function(e){return e.controllers&&e.controllers.some(function(e){return e.components.some(function(e){return"fan"===e.name&&"OK"!==e.status})})},y=function(e){return e.controllers&&e.controllers.some(function(e){return e.components.some(function(e){return"psu"===e.name&&"OK"!==e.status})})},v=function(e){return e.ssdFailedCount>0},b=function(e){return e.hddFailedCount>0},E=function(e){var t=e.asupReceivedTime,n=!Object(p.e)(t);return a.a.createElement(u.a,{size:17,status:n?"success":"error",tooltip:"Status: "+(n?"RECEIVED":"NOT RECEIVED")})};E.displayName="AsupStatus",E.propTypes={sendingAsups:o.a.string,asupReceivedTime:o.a.number};var O=function(e){var t=e.timestamp;if(!t)return null;return m(t)?a.a.createElement(u.a,{size:17,status:"warning",tooltip:"Status: Delayed"}):a.a.createElement(u.a,{size:17,status:"success",tooltip:"Status: Good"})};O.propTypes={timestamp:o.a.number};var C=function(e){var t=e.latestHeartbeat,n=e.isAllFlash;if(!t)return null;var r={paddingLeft:"6px"},i="Good",o="Warning/Error",s=!f(t),c=!g(t),l=!y(t),u=!v(t),p=!b(t);return a.a.createElement("div",{className:"flex-container"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{title:"Controller Status : "+(s?i:o)},a.a.createElement(d.a,{name:h.a.ARRAY_CONTROLLER,status:s})),a.a.createElement("div",{style:r,title:"Fan Status : "+(c?i:o)},a.a.createElement(d.a,{name:h.a.ARRAY_FAN,status:c})),a.a.createElement("div",{style:r,title:"Power Supply Status : "+(l?i:o)},a.a.createElement(d.a,{name:h.a.ARRAY_POWER_SUPPLY,status:l})),a.a.createElement("div",{style:r,title:"SSD Status : "+(u?i:o)},a.a.createElement(d.a,{name:h.a.ARRAY_SSD,status:u})),!n&&a.a.createElement("div",{style:r,title:"HDD Status : "+(p?i:o)},a.a.createElement(d.a,{name:h.a.ARRAY_HDD,status:p}))))};C.displayName="ArrayHardwareStatus",C.comparator=function(e){if(!e)return null;var t="";return t+=f(e)?0:1,t+=g(e)?0:1,t+=y(e)?0:1,t+=v(e)?0:1,t+=b(e)?0:1},C.propTypes={isAllFlash:o.a.bool,latestHeartbeat:o.a.shape({serialNumber:o.a.string,timestamp:o.a.number,controllers:o.a.arrayOf(o.a.shape({name:o.a.string,state:o.a.string,components:o.a.arrayOf(o.a.shape({name:o.a.oneOf(["psu","fan","temperature"]),status:o.a.string}))})),ssdGoodCount:o.a.number,ssdFailedCount:o.a.number,hddGoodCount:o.a.number,hddFailedCount:o.a.number})}},170:function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"d",function(){return m}),n.d(t,"c",function(){return f}),n.d(t,"a",function(){return g});var r,a=n(19),i=n(58),o=n(28),s=n(655),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=c({},Object(a.getInitialState)("pool"),Object(a.getInitialState)("poolCapacity"),Object(a.getInitialState)("poolOverview"),Object(a.getInitialState)("poolPerformance"),Object(a.getInitialState)("poolProtection")),d=c((l(r={},o.i,function(){return u}),l(r,s.d,function(){return u}),r),Object(a.createReducersForAction)({type:s.c,stateKey:"pool"}),Object(a.createReducersForAction)({type:s.b,stateKey:"poolOverview"}),Object(a.createReducersForAction)({type:s.a,stateKey:"poolCapacity"}));function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1],n=d[t.type];return n?n(e,t):e}var h=function(e){return Object(i.a)(e).poolDetail},m=Object(a.createSelector)(h,"pool"),f=Object(a.createSelector)(h,"poolOverview"),g=Object(a.createSelector)(h,"poolCapacity");Object(a.createSelector)(h,"poolPerformance"),Object(a.createSelector)(h,"poolProtection")},175:function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=n(8),o=n.n(i),s=n(164),c=n.n(s),l=n(177),u=(n(20),Object.freeze({UNPROTECTED:"Unprotected",LOCAL_ONLY:"Local Only",REMOTE:"Remote",REPLICA_VOLUME:"Replica Volume"})),d=function(e){var t=e.className,n=e.protectionLevel,r=e.inline,i=n||"Unknown";return n!==u.UNPROTECTED&&n!==u.REPLICA_VOLUME&&n?a.a.createElement(l.a,{className:t,iconName:n,inline:r}):r?a.a.createElement(l.a,{className:t,iconName:"Spacer",inline:r,aliasName:i}):a.a.createElement(c.a,null,i)};d.displayName="DataProtection",d.propTypes={protectionLevel:o.a.string,inline:o.a.bool},d.PROTECTION_TYPES=u;var p=d,h=n(14),m=n.n(h),f=Object.freeze({AT_RISK_1:"1 Week",AT_RISK_2:"2 Weeks",NOT_SO_URGENT_1:"1 Month",NOT_SO_URGENT_2:"2 Months",NOT_SO_URGENT_3:"3 Months",NO_RISK:"No Risk"}),g=function(e){return null===e||void 0===e?{category:"N/A"}:e<=7?{category:f.AT_RISK_1,colorClass:"text-danger"}:e<=15?{category:f.AT_RISK_2,colorClass:"text-danger"}:e<=31?{category:f.NOT_SO_URGENT_1}:e<=60?{category:f.NOT_SO_URGENT_2}:e<=90?{category:f.NOT_SO_URGENT_3}:{category:f.NO_RISK}},y=function(e){var t=e.className,n=e.days,r=e.inline,i=g(n);return"N/A"===i.category&&r?null:a.a.createElement("div",{className:t},a.a.createElement("span",{className:m()(i.colorClass)},i.category))};y.displayName="DaysUntilFull",y.propTypes={days:o.a.number,inline:o.a.bool},y.defaultProps={inline:!1};var v=y,b=n(1134),E=n.n(b),O=n(614),C=n.n(O),S=n(615),w=n.n(S),R=n(1135),T=n.n(R),_=n(48),N=n(1136),j=n.n(N),P=m.a.bind(j.a),A={paddingLeft:"6px"},x=function(e){var t=e.volumePinned,n=e.volumeEncrypted;return a.a.createElement("div",{className:"flex-container"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:P(n?null:"off"),title:n?"encrypted":"not encrypted"},a.a.createElement(_.IconAdaptor,{size:20,type:"svg"},a.a.createElement(T.a,null)),a.a.createElement("span",{className:P("superscript",P(n?null:"off"))},n&&a.a.createElement(_.IconAdaptor,{size:14,type:"svg"},a.a.createElement(C.a,null)),!n&&a.a.createElement(_.IconAdaptor,{size:14,type:"svg"},a.a.createElement(w.a,null)))),a.a.createElement("div",{className:P(t?null:"off"),title:t?"pinned":"not pinned",style:A},a.a.createElement(_.IconAdaptor,{size:20,type:"svg"},a.a.createElement(E.a,null)),a.a.createElement("span",{className:P("superscript",P(t?null:"off"))},t&&a.a.createElement(_.IconAdaptor,{size:14,type:"svg"},a.a.createElement(C.a,null)),!t&&a.a.createElement(_.IconAdaptor,{size:14,type:"svg"},a.a.createElement(w.a,null))))))};x.displayName="VolumeStatus",x.propTypes={volumePinned:o.a.bool,volumeEncrypted:o.a.bool};var L=x,k=function(e){var t=e.title;return a.a.createElement("div",{className:m()("flex-container align-middle"),title:"Capacity information at volume level reflects logical usage – before any savings. This is different from the SM UI which indicates usage after compression. SM UI will also start showing logical usage in the near future."},a.a.createElement("span",null,t),a.a.createElement("span",{className:m()("fa fa-info-circle"),style:{paddingLeft:"4px"}}))};k.displayName="VolumeUsageInfo",k.propTypes={title:o.a.string};var M=k;n.d(t,"a",function(){return p}),n.d(t,"b",function(){return v}),n.d(t,"e",function(){return g}),n.d(t,"d",function(){return L}),n.d(t,"c",function(){return M})},177:function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=n(8),o=n.n(i),s=n(14),c=n.n(s),l=n(215),u=n(1078),d=n.n(u),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var h=c.a.bind(d.a),m=function(e){var t=e.className,n=e.iconName,r=e.aliasName,i=e.inline,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","iconName","aliasName","inline"]);return a.a.createElement("div",{className:c()(t,"flex-container align-middle",{"flex-dir-column":!i,"flex-dir-row":!i})},!i&&a.a.createElement(l.a,p({name:n},o)),i&&a.a.createElement("span",{className:h("icon")},a.a.createElement(l.a,p({name:n},o))),a.a.createElement("span",null,r||n))};m.displayName="NamedNimbleIcon",m.propTypes={iconName:o.a.string.isRequired,inline:o.a.bool,aliasName:o.a.string},m.defaultProps={iconName:"Unassigned",inline:!1};var f=m;t.a=f},184:function(e,t,n){e.exports={menu:"menu__1fT7X","menu-item-container":"menu-item-container__1osPI","menu-item":"menu-item__3FpCh",toggle:"toggle__2fYgw",active:"active__5paet",caret:"caret__8Jr-5","align-middle":"align-middle__2_ePh"}},201:function(e,t,n){e.exports={icon:"icon__2-y9B",name:"name__2PLPV","sub-name":"sub-name__36mhN",node:"node__2hVbF",disabled:"disabled__3LlVg",caret:"caret__5_sSp",container:"container__2q2o1"}},202:function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"c",function(){return f}),n.d(t,"d",function(){return g}),n.d(t,"b",function(){return y});var r,a=n(154),i=n(9),o=n(19),s=n(28),c=n(51),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={relationships:void 0,loadingRelationships:!1},h=l((d(r={},s.i,function(){return p}),d(r,c.j,function(){return p}),r),Object(o.createReducersForAction)({type:c.i,stateKey:"relationships"}));function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments[1],n=t.type,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["type"]),a=h[n];return a?a(e,r):e}var f=function(e){return e.capacityReport.objectRelationships},g=Object(a.createSelector)(f,function(e){var t=e.relationships;if(!t)return null;var n={type:c.a},r=Object.values(Object(i.groupBy)(t,"poolUID")).map(function(e){return l({},Object(i.omit)(e[0],"folderName","folderUID"),{type:c.k})}),a=t.map(function(e){return l({},e,{type:c.d})});return[n].concat(u(r),u(a))}),y=Object(a.createSelector)(f,function(e){var t=e.relationships;return!!t&&!!t.find(function(e){return null!==e.folderName})})},215:function(e,t,n){"use strict";var r=n(361);t.a=r.b},218:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"f",function(){return o}),n.d(t,"g",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"c",function(){return d});var r=n(19),a=Object(r.actionNamespacer)("POOLS_COLLECTION"),i=a("LIST_FETCH"),o=a("SUMMARY_CARDS_FETCH"),s=a("TREND_CARDS_FETCH"),c=a("CSV_FETCH"),l=a("RESET"),u="space",d="performance"},222:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"f",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"g",function(){return d}),n.d(t,"i",function(){return p}),n.d(t,"h",function(){return h}),n.d(t,"j",function(){return m});var r=n(20),a=n.n(r),i="N/A",o="0.0 ib",s="0,0.0",c="0.0a",l="ms",u="IO/sec",d="%",p=function(e){return!(null!==e&&void 0!==e&&""!==e)},h=function(e,t){var n=null===e||void 0===e?i:a()(e).format(t);return t.includes("a")&&(n=n.toUpperCase()),n},m=function(e,t,n){var r=h(e,t);return e>0&&e<1&&t.includes("b")&&(r+="B"),t.includes("a")&&(r=r.toUpperCase()),p(e)?i:r+(p(n)?"":" "+n)}},223:function(e,t,n){"use strict";n.d(t,"k",function(){return i}),n.d(t,"h",function(){return o}),n.d(t,"l",function(){return s}),n.d(t,"j",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"i",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"a",function(){return h}),n.d(t,"g",function(){return m}),n.d(t,"b",function(){return f}),n.d(t,"d",function(){return g});var r=n(19),a=Object(r.actionNamespacer)("VOLUMES_COLLECTION"),i=a("LIST_FETCH"),o=a("CAPACITY_FETCH"),s=a("THROUGHPUT_FETCH"),c=a("LATENCY_FETCH"),l=a("POOL_CPU_CACHE_FETCH"),u=a("SCOPING_OBJECT_SIZE_FETCH"),d=a("CSV_FETCH"),p=a("RESET"),h="summary",m="space",f="performance",g="protection"},224:function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"h",function(){return m}),n.d(t,"g",function(){return f}),n.d(t,"c",function(){return g}),n.d(t,"d",function(){return y}),n.d(t,"e",function(){return v}),n.d(t,"f",function(){return b}),n.d(t,"a",function(){return E});var r,a=n(19),i=n(58),o=n(28),s=n(223),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=c({volumesCapacity:null,loadingVolumesCapacity:!1,loadedVolumesCapacity:!1,performance:null,loadingPerformance:!1,loadedPerformance:!1,volumes:[],loadingVolumes:!1,loadedVolumes:!1,loadingScopingObjectSizeSeries:!1,loadedScopingObjectSizeSeries:!1},Object(a.getInitialState)("volumesCsv")),d=c((l(r={},o.i,function(){return u}),l(r,s.e,function(){return u}),r),Object(a.createReducersForAction)({type:s.h,stateKey:"volumesCapacity"}),Object(a.createReducersForAction)({type:s.l,stateKey:"throughputTimeseries"}),Object(a.createReducersForAction)({type:s.j,stateKey:"latencyTimeseries"}),Object(a.createReducersForAction)({type:s.k,stateKey:"volumes"}),Object(a.createReducersForAction)({type:s.c,stateKey:"poolCpuCacheTimeseries"}),Object(a.createReducersForAction)({type:s.f,stateKey:"scopingObjectSizeSeries"}),Object(a.createReducersForAction)({type:s.i,stateKey:"volumesCsv"}));function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1],n=d[t.type];return n?n(e,t):e}var h=function(e){return Object(i.a)(e).volumeCollection},m=Object(a.createSelector)(h,"volumesCapacity"),f=Object(a.createSelector)(h,"throughputTimeseries"),g=Object(a.createSelector)(h,"latencyTimeseries"),y=Object(a.createSelector)(h,"volumes"),v=Object(a.createSelector)(h,"poolCpuCacheTimeseries"),b=Object(a.createSelector)(h,"scopingObjectSizeSeries"),E=Object(a.createSelector)(h,"volumesCsv")},227:function(e,t,n){var r=n(9),a=n(165);e.exports=a.extend({defaults:r.defaults({url:null,data:[],dataSrc:"data"},a.prototype.defaults),url:function(){return this.get("url")}})},228:function(e,t,n){var r=n(9),a=n(11);e.exports=a.Model.extend({clearValues:function(){this.set(r.reduce(this.keys(),function(e,t){return e[t]=null,e},{}))}})},229:function(e,t,n){var r=n(24),a=n(9),i=n(11),o=n(37).API_BASE_URL,s=n(75),c=n(13),l=a.bind(c.extend,s)({constructor:function e(){e.__super__.constructor.call(this,o)},account:function(){var e=r.request("global","get:account:selection");return e.isPrimary()||e.isSingle()&&null==e.getAccount().id?this.segment("account"):e.isSingle()?this.segment("accounts").segment(e.getAccount().id):(console.assert(e.isAll()),this.segment("accounts").segment("~"))},pod:function(){var e=r.request("global","get:account:selection");return this.addQuery({podLocator:"Nimble.Tenant."+e.getAccount().id}),this.segment("pod")},central:function(){return this.segment("central")},array:function(e){return this.pod().segment("arrays").segment(e)},user:function(){return this.segment("user")},replace:function(){var e=this.toString();return e.replace.apply(e,arguments)}},{ALL_ACCOUNTS_ID:"~"}),u=function(){var e=new l;return this.trigger("api:create",e),e};a.extend(i.Model.prototype,{api:u}),a.extend(i.Collection.prototype,{api:u}),a.extend(i.View.prototype,{api:u}),e.exports=l},234:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l});var r=n(19),a=n(28),i=n(92);var o={},s=(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e})(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},a.i,function(){return o}),Object(r.createReducersForAction)({type:i.q,stateKey:"contact"}));function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1],n=s[t.type];return n?n(e,t):e}var l=Object(r.createSelector)(function(e){return e.supportTab.core},"contact")},24:function(e,t,n){var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(1156),i=n(11);a.patch(i);var o=n(16),s=n(13),c=n(1157),l=n(10);try{l.locale(window.navigator.language)}catch(e){l.locale("en")}var u=new(s.Application.extend({_getChannel:function(e){return e?i.Wreqr.radio.channel(e):i.Wreqr.radio.channel("global")},request:function(e,t,n){return this._getChannel(e).reqres.request(t,n)},handleRequest:function(e,t,n,r){return this._getChannel(e).reqres.setHandler(t,n,r)},command:function(e,t,n){var r=this._getChannel(e).commands;n=Array.prototype.slice.call(arguments,1),r.execute.apply(r,n)},handleCommand:function(e,t,n,r){this._getChannel(e).commands.setHandler(t,n,r)},event:function(e,t,n){this._getChannel(e).vent.trigger(t,r({},n||{},{eventName:t}))},handleEvent:function(e,t,n,r){this._getChannel(e).vent.on(t,n,r)},handleProgenyEvent:function(e,t,n){this.handleEvent("progeny",e,t,n)},removeEvent:function(e,t,n,r){this._getChannel(e).vent.off(t,n,r)}}));u.addRegions({modalRegion:{selector:"#modal-region",regionClass:c}}),u.initializeLegacyControllers=function(){n(1158).default(u),n(626).getInstance(),new(n(1166)),new(n(1168))},o.ajaxPrefilter(function(e,t,n){n.setRequestHeader("X-Timezone-Offset",(new Date).getTimezoneOffset())}),e.exports=u},245:function(e,t,n){"use strict";n.r(t);var r=n(40),a=(n(19),n(629)),i=n(27),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(e){var t=o({},e().preferences);delete t.loadedPreferences,(new i.default).user().urlSegment("preferences").put(t)},c=n(630);n.d(t,"disableDialog",function(){return l}),n.d(t,"setNotification",function(){return u}),n.d(t,"setNotifications",function(){return d}),n.d(t,"acceptEula",function(){return p}),n.d(t,"getNotification",function(){return h}),n.d(t,"isDialogEnabled",function(){return m}),n.d(t,"isEulaAccepted",function(){return f}),n.d(t,"getPreferences",function(){return g}),n.d(t,"onPreferencesLoaded",function(){return y});var l=function(e){Object(r.getStore)().dispatch(function(e){return function(t,n){t({type:a.b,payload:e}),s(n)}}(e))},u=function(e){Object(r.getStore)().dispatch(function(e){return function(t,n){t({type:a.d,payload:e}),s(n)}}(e))},d=function(e){Object(r.getStore)().dispatch(function(e){return function(t,n){e.forEach(function(e){t({type:a.d,payload:e})}),s(n)}}(e))},p=function(e){Object(r.getStore)().dispatch(function(e){return function(t,n){t({type:a.a,payload:e}),s(n)}}(e))},h=function(e){return Object(c.b)(Object(r.getStore)().getState(),e)},m=function(e){return Object(c.c)(Object(r.getStore)().getState(),e)},f=function(e){return Object(c.d)(Object(r.getStore)().getState(),e)},g=function(){return Object(r.getStore)().getState().preferences},y=function(e){if(Object(r.getStore)().getState().preferences.loadedPreferences)e();else var t=Object(r.getStore)().subscribe(function(){Object(r.getStore)().getState().preferences.loadedPreferences&&(t(),e())})}},27:function(e,t,n){"use strict";n.r(t);var r=n(75),a=n.n(r),i=n(301),o=n.n(i),s=n(22),c=n(105),l=n(37),u=o.a.create();u.interceptors.response.use(function(e){return e},function(e){var t=e.response;return t&&401===t.status&&0===t.config.url.indexOf(Object(s.buildUrl)(l.BASE_URL))&&(document.cookie="SESSION=;expires="+((new Date).getTime()-1),Object(c.logOut)()),Promise.reject(e)});var d=u,p=n(40),h=n(304),m=n(38),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uri=new a.a(l.API_BASE_URL)}return g(e,[{key:"uriAddQuery",value:function(e){return this.uri.addQuery(e),this}},{key:"uriBuilder",value:function(){return this.uri}},{key:"urlSegment",value:function(){var e;return(e=this.uri).segment.apply(e,arguments),this}},{key:"urlSegments",value:function(){return this.slash.apply(this,arguments)}},{key:"slash",value:function(){for(var e=0;e<arguments.length;e+=1){if("string"!=typeof(arguments.length<=e?void 0:arguments[e]))throw new Error("slash() only accepts string arguments");this.uri.segment(arguments.length<=e?void 0:arguments[e])}return this}},{key:"query",value:function(e){return this.uri.addQuery(e),this}},{key:"pod",value:function(e){this.uri.segment("pod");var t=Object(p.getStore)().getState(),n=Object(m.g)(t),r=void 0,a=void 0;return r=n&&Object(h.b)(e)?"Nimble.Tenant."+n.tenant.id:"StoreServ",a=e||(n?"Nimble.Tenant."+n.tenant.id:"StoreServ._implicit"),this.uri.addQuery({podLocator:r,boundary:a}),this}},{key:"central",value:function(){return this.uri.segment("central"),this}},{key:"account",value:function(){var e=Object(p.getStore)().getState(),t=Object(m.g)(e)||{isPrimary:!0},n=t.isPrimary,r=t.tenant,a=n?"account":"accounts/"+r.id;return this.uri.segment(a),this}},{key:"tenant",value:function(){var e=Object(p.getStore)().getState(),t=Object(m.g)(e)||{isPrimary:!0},n=t.isPrimary,r=t.tenant,a=n?"tenant":"tenants/"+r.id;return this.uri.segment(a),this}},{key:"array",value:function(e){return this.uri.segment("arrays").segment(e),this}},{key:"user",value:function(){return this.uri.segment("user"),this}},{key:"csv",value:function(){return this.uri.addQuery({export:!0}),this}},{key:"genericQuery",value:function(e,t){return this.uri.segment("genericQuery").segment(e),t&&t.reduce(function(e,t){return e.segment(t)},this.uri),this}},{key:"sfr",value:function(e){return"auth"===e?this.uri=new a.a("/auth/"):(this.uri=new a.a("/api/"),this.uri.segment(e)),this}},{key:"auth",value:function(){return this.uri=new a.a("/auth/"),this}},{key:"get",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.get.apply(d,[this.uri.valueOf()].concat(t))}},{key:"delete",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.delete.apply(d,[this.uri.valueOf()].concat(t))}},{key:"put",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.put.apply(d,[this.uri.valueOf()].concat(t))}},{key:"post",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.post.apply(d,[this.uri.valueOf()].concat(t))}},{key:"patch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=f({},t,{headers:f({},t.headers,{"X-HTTP-Method-Override":"PATCH"})}),d.post(this.uri.valueOf(),e,t)}},{key:"all",value:function(e){return Promise.all(e)}}]),e}();t.default=y},28:function(e,t,n){"use strict";n.d(t,"i",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"h",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"g",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"c",function(){return h}),n.d(t,"j",function(){return m}),n.d(t,"k",function(){return f}),n.d(t,"l",function(){return g});var r=n(19),a=Object(r.actionNamespacer)("USER"),i=a("USER_CONTEXT_CHANGED"),o=a("EXPERIMENTAL_MODE_CHANGED"),s=a("SET_AUTHORIZATION_EVALUATOR"),c=a("SET_TENANT"),l=a("SET_CONFIG"),u=a("SET_PROFILE"),d={REALM_INTERNAL:"Realm.Internal",REALM_INTERNAL_NIMBLE:"Realm.Internal.Nimble",REALM_INTERNAL_HPE:"Realm.Internal.HPE",REALM_EXTERNAL:"Realm.External",SITE_ACCESS:"Site.Access",SITE_ADMIN:"Site.Admin",SITE_SIGNED_NDA:"Site.SignedNda",DOCUMENTATION_KB_ARTICLE_READ:"Documentation.KbArticle.Read",VIRTUAL_ARRAY_ACCESS:"VirtualArray.Access",VIRTUAL_ARRAY_ADMIN:"VirtualArray.Admin",STORESERV_SYSTEM_GLOBAL:"StoreServ.System._global",ADDRESS_ADMIN:"Address.Admin",PRODUCT_FAMILY_NIMBLE:"ProductFamily.Nimble",PRODUCT_FAMILY_STORESERV:"ProductFamily.StoreServ",PRODUCT_FAMILY_STOREONCE:"ProductFamily.StoreOnce",TENANT_ACCESS_MULTIPLE:"Tenants.Multiple.Access",ATTRIBUTE_NIMBLE_RESELLER:"nimble.isResellerEquivalent",ATTRIBUTE_NIMBLE_SUPPORT_PROVIDER:"nimble.isSupportProvider",SUPPORT_CASE:"Support.Case"},p={FEATURE_CORE_ACCESS:"Feature.Core.Access",FEATURE_VMVISION_ACCESS:"Feature.VMVision.Access",FEATURE_SUPPORT_CASE_MANAGE:"Feature.SupportCase.Manage",ACCESS:"Access",ADMIN:"Admin",PRIMARY:"Primary"},h={NIMBLE_TENANT:"Nimble.Customer",NIMBLE_SYSTEM:"Nimble.System",STOREFRONT_SYSTEM:"Storefront.System",STOREFRONT_SYSTEM_GROUP:"Storefront.SystemGroup",GLOBAL_TARGET_ID:"_global",ACTIVE_TARGET_ID:"_active"},m={permissions:[{privilege:p.ADMIN,targetType:h.NIMBLE_TENANT,targetId:h.ACTIVE_TARGET_ID}]},f={permissions:[{privilege:p.PRIMARY,targetType:h.NIMBLE_TENANT,targetId:h.ACTIVE_TARGET_ID}]},g={$or:[m,{authorities:d.ATTRIBUTE_NIMBLE_RESELLER,permissions:{privilege:p.PRIMARY,targetType:h.NIMBLE_TENANT,targetId:h.ACTIVE_TARGET_ID}}]}},29:function(e,t,n){var r=n(305).initializeHighcharts,a=n(1203);n(1205)(a),n(1206)(a),n(1207)(a),r(a),n(1208)(a),e.exports.Highstock=a},304:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=n(40),a=n(38);function i(e){return!e||e.indexOf("Nimble")>=0}var o={evaluate:function(e){var t=Object(a.b)(Object(r.getStore)().getState());return!!t&&t.evaluate(e)},filter:function(e){var t=Object(a.b)(Object(r.getStore)().getState());return t?t.filter(e):e}}},311:function(e,t,n){e.exports={metric:"metric__L5QDF",value:"value__2TlDt",unit:"unit__1DcmL",subtitle:"subtitle__1dLyG",muted:"muted__1S9GL","popover-link":"popover-link__p9AH_",detail:"detail__2eVpG",bar:"bar__1S2To",popover:"popover__1O028","savings-name":"savings-name__akkgy","savings-value":"savings-value__2j02U"}},316:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s});var r=n(20),a=n.n(r),i=n(9),o=function(e,t){if(t.indexOf(" ")<0)throw new Error("getValueAndUnit requires a space in the format");return Object(i.isNumber)(e)?a()(e).format(t).split(" "):[null,null]},s=function(e){return o(e,function(e){return e>=1024?"0.0 ib":"0 ib"}(e))}},317:function(e,t,n){"use strict";n.d(t,"f",function(){return d}),n.d(t,"a",function(){return h}),n.d(t,"c",function(){return m}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return g}),n.d(t,"b",function(){return y}),n.d(t,"g",function(){return v}),n.d(t,"h",function(){return b});var r=n(19),a=n(23),i=n.n(a),o=n(217),s=n(223),c=n(27),l=n(114),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(e,t){return function(n){var a=Object(r.actionsFor)(s.k,n),i=a.dispatchStart,o=a.dispatchSuccess,l=a.dispatchError;i();var u={scope:e};t&&(u.filters=t),(new c.default).pod().genericQuery("volumes").post(u).then(function(e){return e.data.data}).then(o).catch(l)}},p=function(e,t,n){var a=e.scope,i=e.timeRange,o=void 0===i?{}:i,s=e.rankBy,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:9,d=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(e){var i=Object(r.actionsFor)(t,e),p=i.dispatchStart,h=i.dispatchSuccess,m=i.dispatchError;p();var f=u({},o,{scope:a,rank:{limit:l,orderBy:s,aggregateRemainder:!0,objectType:"volume"}});d&&(f.filters=[{field:"dataSource",$in:["Actual","Interpolated"]}]),(new c.default).pod().genericQuery("volume",[n]).post(f).then(function(e){var t=e.data.data.slice(-1)[0];return t&&t.isAggregatedRemainder&&(t.id="aggregatedRemainder",t.name="All other volumes"),e.data}).then(h).catch(m)}},h=function(e){var t=e.scope,n=e.timeRange,a=void 0===n?{}:n;return function(e){var n=Object(r.actionsFor)(s.c,e),i=n.dispatchStart,o=n.dispatchSuccess,d=n.dispatchError;i();var p=u({},a,{scope:t});return(new c.default).pod().genericQuery("pool",["cpuCacheUsageSeries"]).post(p).then(l.c).then(o).catch(d)}},m=function(e){return p(e,s.h,"capacity",5,!0)},f=function(e){return p(e,s.j,"performance")},g=function(e){return p(e,s.l,"performance")},y=function(e){var t=e.scope,n=e.timeRange,a=void 0===n?{}:n,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(e){var n=Object(r.actionsFor)(s.f,e),o=n.dispatchStart,d=n.dispatchSuccess,p=n.dispatchError;o();var h=u({},a,{scope:t});i&&(h.filters=[{field:"dataSource",$in:["Actual","Interpolated"]}]);var m=t&&t.type;m?(new c.default).pod().genericQuery(m,["size"]).post(h).then(l.c).then(d).catch(p):console.error("Scope not available")}},v=function(e){return function(t){var n=Object(r.actionsFor)(s.i,t),a=n.dispatchStart,l=n.dispatchSuccess,u=n.dispatchError;a(),(new c.default).pod().genericQuery("volumes").csv().post({scope:e},{responseType:"blob"}).then(function(e){return Object(o.saveAs)(e.data,"HPE InfoSight Volumes "+i()().format("L").replace(/\\|\//g,"-")+".csv")}).then(function(){return l({})}).catch(u)}},b=function(){return{type:s.e}}},318:function(e,t,n){e.exports={metric:"metric__3al5E",value:"value__1eIz5",unit:"unit__1JWBJ",subtitle:"subtitle__2gJ3F",muted:"muted__21qbv"}},319:function(e,t,n){var r=n(9),a=n(16),i=n(13),o=n(1145),s=n(1146),c=n(1147),l=n(90),u=n(227),d=r.template(s),p=r.template(c),h=function(e){return e.split(/\-/)[0]};e.exports=i.LayoutView.extend({template:r.template(o),className:"software-upgrades-dialog",regions:{gridRegion:".grid-region"},blacklistedReleases:null,templateHelpers:function(){return{_:r,displayAsModal:!1!==this.getOption("displayAsModal")}},columns:function(){var e=this;return[{data:function(e){return e.targetRelease.split(".")[0]+".x"},visible:!1,filter:!0},{data:"targetRelease",type:"nimbleos-version",orderData:[0,1],render:{display:function(e,t,n){var a="";return n.blacklistEntries.length>0?(a+='<span class="blacklisted-release">',a+='<span class="blacklisted-icon fa fa-circle"></span>'):a+="<span>",a+=h(e),a+="</span>",a+=function(e){var t="";return r.each(e,function(e){var n=e.blackListReasons;if(n){var r="null"===n.publicTitle?"":" - "+n.publicTitle;t+='<table class="blacklisted-reason"> <tbody><tr><th title=""> AS-'+e.bugNumber+r+"</th></tr>",t+="null"===n.publicDescription?"":'<tr><td style="padding-left: 20px">'+n.publicDescription+"</td></tr>",t+="null"===n.publicWorkaround?"":'<tr><td style="padding-left: 20px">'+n.publicWorkaround+"</td></tr>",t+="</tbody></table>"}}),t}(n.blacklistEntries)}}},{data:"releaseStatus.description",orderable:!1},{data:function(t){return d({upgradePaths:t.shortestUpgradePaths,targetRelease:t.targetRelease,blacklistedReleases:e.blacklistedReleases,truncateRelease:h})},orderable:!1}]},onRender:function(){var e=this;this.$el.tooltip({html:!0,selector:".blacklisted-icon",title:r.partial(this.renderTooltip,this)}),this.grid=new l({model:new u({url:this.api().array(this.model.get("serialNumber")).segment("releaseManagement/upgrades").addQuery({allowedReleaseStatus:["GA","LTSR"]}),columns:this.columns(),showFilters:!1,emptyLabel:"No software upgrades found",pageLength:10,groupBy:function(e){var t=e.order();return t.length>0&&1==t[0][0]?0:null},dataSrc:function(t){return e.blacklistedReleases=r.reduce(t.data,function(e,t){return t.blacklistEntries.length>0&&(e[t.targetRelease]=!0),e},{}),t.data}}),id:"upgrades-grid",tableTemplate:this.$(".grid-content").html(),dataTableOptions:{dom:'<"H">t<"F">',columnDefs:[{width:"50%",targets:1}]},sort:["Release"]}),this.listenTo(this.grid,"init",this.onGridLoaded),this.gridRegion.show(this.grid)},onGridLoaded:function(){this.model;r.isEmpty(this.blacklistedReleases)||this.$(".software-upgrades-legend").show(),this.$("ul.upgrade-paths").each(function(){var e=a(this),t=e.children("li:gt(0)").hide();t.length>0&&a('<a href="#">More</a>').click(function(e){e.preventDefault();var n=a(this);t.slideToggle(),n.text("More"==n.text()?"Less":"More")}).appendTo(a("<li></li>").appendTo(e))})},renderTooltip:function(e){return p({array:e.model.get("hostname"),release:a(this).closest(".blacklisted-release").text()})}})},321:function(e,t,n){var r=n(9),a=n(165);e.exports=a.extend({defaults:r.defaults({data:[]},a.prototype.defaults),validate:function(e,t){return e.data?a.prototype.validate.apply(this,arguments):'"data" array must be non-null (it can be an empty array however).'}})},322:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return s});var r=n(19),a=Object(r.actionNamespacer)("ARRAYS_COLLECTION"),i=a("LIST_FETCH"),o=a("CSV_FETCH"),s=a("RESET")},325:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return p}),n.d(t,"arraySelector",function(){return m}),n.d(t,"arrayHardwareUpgradeRecommendationSelector",function(){return f});var r,a=n(19),i=n(58),o=n(28),s=n(631),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=c({},Object(a.getInitialState)("array"),Object(a.getInitialState)("arrayHardwareUpgradeRecommendations")),d=c((l(r={},o.i,function(){return u}),l(r,s.c,function(){return u}),r),Object(a.createReducersForAction)({type:s.a,stateKey:"array"}),Object(a.createReducersForAction)({type:s.b,stateKey:"arrayHardwareUpgradeRecommendations"}));function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1],n=d[t.type];return n?n(e,t):e}var h=function(e){return Object(i.a)(e).arrayDetail},m=Object(a.createSelector)(h,"array"),f=Object(a.createSelector)(h,"arrayHardwareUpgradeRecommendations")},326:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return c});var r=n(154),a=n(9),i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(e){return e.capacityReport.poolContext},s=function(e){var t=o(e),n=t.loadingTimeSeries,r=t.loadingFolders,a=t.loadingApplications,i=t.loadingSummary;return n||a||r||i},c=Object(r.createSelector)(function(e){return o(e).topPoolsTimeSeries},function(e){if(e){var t=Object.values(e).map(function(e){var t=void 0;"0"===e[0]["Pool UID"]?t={"Pool Name":"Other Pools"}:t=i(e,1)[0];if(t){var n=t["Pool Name"];return"default"===n&&(n+=" in "+function(e,t,n){return e&&"default"!==e?e:t&&"default"!==t?t:n}(t.groupName,t.arrayHostName,t.arraySn)),{timeSeries:e,poolName:n,poolUid:t["Pool UID"],currentUsage:Object(a.last)(e).used}}});return Object(a.compact)(t).sort(function(e,t){return e.currentUsage<t.currentUsage||0===e.poolUid?1:-1})}})},343:function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"c",function(){return p}),n.d(t,"a",function(){return h});var r=n(154),a=n(9),i=n(92),o=n(28),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={error:!1,loaded:!1,raw:null,value:null};function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case i.h:return function(e,t){return{error:!1,loaded:!0,raw:t.payload}}(0,t);case i.f:case i.A:case i.C:return function(e,t){var n=t.payload,r=n.caseData,a=n.commentsData,i=n.attachmentsData,o=n.rmaLabelsData;return{error:!1,loaded:!0,raw:s({},e.raw,c({},r.id,s({},r,{comments:a,attachments:i,rmaLabels:o})))}}(e,t);case i.x:return function(e,t){var n=t.payload,r=n.ParentId,a=e.raw[r],i=Array.isArray(a.attachments)?a.attachments:[],o=s({},a,{attachments:i.concat(n)});return{error:!1,loaded:!0,raw:s({},e.raw,c({},r,o))}}(e,t);case i.z:return function(e,t){var n=t.payload,r=n.parentId,a=e.raw[r],i=Array.isArray(a.comments)?a.comments:[],o=s({},a,{comments:i.concat(n)});return{error:!1,loaded:!0,raw:s({},e.raw,c({},r,o))}}(e,t);case i.d:case i.b:break;case i.g:return{error:!0};case o.i:case i.e:case i.c:case i.a:return l;default:return e}return e}var d=function(e){return e.supportTab.cases},p=function(e){var t=d(e);return!(!t||!t.error)},h=Object(r.createSelector)(d,p,function(e){var t=null;return e.loaded&&(t=Object(a.values)(e.raw)),{error:e.error,loaded:e.loaded,raw:e.raw,value:t}})},344:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l});var r=n(19),a=n(27),i=n(665);var o=function(e){var t=e.all;return function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,i){try{var o=t[a](i),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}(regeneratorRuntime.mark(function e(n){var o,s,c,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(r.actionsFor)(i.a,n),s=o.dispatchStart,c=o.dispatchSuccess,l=o.dispatchError,s(),e.prev=2,e.next=5,(new a.default).slash("user","banners").query({all:t}).get();case 5:return u=e.sent,c(u.data),e.abrupt("return",u.data);case 10:return e.prev=10,e.t0=e.catch(2),l(e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}},e,void 0,[[2,10]])}));return function(t){return e.apply(this,arguments)}}()},s=function(){return o({all:!1})},c=function(){return o({all:!0})},l=function(){return{type:i.b}}},36:function(e,t,n){"use strict";n.r(t);var r=n(38);n.d(t,"reducer",function(){return r.c}),n.d(t,"permissionsSelector",function(){return r.f}),n.d(t,"tenantSelector",function(){return r.g}),n.d(t,"userSelector",function(){return r.h});var a=n(28);n.d(t,"nimbleTenantPrimaryAccess",function(){return a.k}),n.d(t,"nimbleThirdPartyPermissionRequestAccess",function(){return a.l}),n.d(t,"AUTHORITIES",function(){return a.a}),n.d(t,"PRIVILEGES",function(){return a.d}),n.d(t,"PERMISSION_TARGET",function(){return a.c}),n.d(t,"nimbleTenantAdminAccess",function(){return a.j});var i=n(304);n.d(t,"AuthorizationEvaluator",function(){return i.a})},361:function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=n(8),o=n.n(i),s=n(15),c=n.n(s),l="#000",u="#f04953",d=n(986),p=n.n(d),h=n(987),m=n.n(h),f=n(988),g=n.n(f),y=n(989),v=n.n(y),b=n(990),E=n.n(b),O=n(991),C=n.n(O),S=n(992),w=n.n(S),R=n(993),T=n.n(R),_=function(e){var t=e.className,n=e.width,r=void 0===n?"1.25em":n,i=e.height,o=void 0===i?"1.25em":i,s=e.status?l:u;return a.a.createElement("svg",{viewBox:"0 0 90 90",width:r,height:o,className:t},a.a.createElement("g",{id:"fan",transform:"scale(1.7),translate(0,3)"},a.a.createElement("path",{fill:s,d:"M46.429,15.001c-1.249-4.899-6.234-7.862-11.138-6.616C31.58,9.329,24.802,13.482,22.27,17.57 c-0.104-0.035-0.206-0.064-0.312-0.096C21.954,12.666,18.42,5.588,15.781,2.83C12.284-0.826,6.485-0.958,2.828,2.54 c-3.655,3.497-3.784,9.295-0.289,12.951c2.47,2.583,8.676,6.11,13.397,6.735c0.016,0.477,0.098,0.938,0.242,1.371 c-3.763,2.932-7.326,9.197-8.131,12.697c-1.133,4.933,1.945,9.846,6.878,10.979c4.932,1.133,9.847-1.943,10.979-6.876 c0.805-3.502,0.332-10.694-1.776-14.976c0.223-0.225,0.42-0.475,0.595-0.741c4.319,2.037,11.584,2.351,15.087,1.458 C44.715,24.893,47.675,19.904,46.429,15.001z M20.81,26.588c-2.455,0-4.453-1.996-4.453-4.451c0-2.457,1.998-4.452,4.453-4.452 c2.457,0,4.455,1.996,4.455,4.452C25.265,24.592,23.267,26.588,20.81,26.588z"}),a.a.createElement("path",{fill:s,d:"M20.81,20.334c-0.991,0-1.801,0.807-1.801,1.803c0,0.992,0.81,1.802,1.801,1.802c0.994,0,1.803-0.81,1.803-1.802 C22.611,21.141,21.804,20.334,20.81,20.334z"})))};_.displayName="ArrayFan",_.propTypes={status:o.a.bool,height:o.a.oneOfType([o.a.string,o.a.number]),width:o.a.oneOfType([o.a.string,o.a.number])};var N=_,j=function(e){var t=e.className,n=e.width,r=void 0===n?"1.25em":n,i=e.height,o=void 0===i?"1.25em":i,s=e.status?l:u;return a.a.createElement("svg",{viewBox:"0 0 90 90",width:r,height:o,className:t},a.a.createElement("g",{id:"powercable",transform:"scale(1.5)"},a.a.createElement("path",{fill:s,d:"M45,26.439v4.825c3.514-0.091,8.024-0.204,8.896,2.798c0.86,2.967-3.565,7.263-5.158,9.395 c-2.908,3.891-8.727,11.661-2.111,15.132c2.834,1.487,5.598-2.683,2.746-4.179c-2.618-1.374,8.535-14.756,9.404-17.756 C61.435,27.486,51.564,26.841,45,26.439z"}),a.a.createElement("path",{fill:s,d:"M44,38.929V19C43.497,17.873,30.402,7.354,28.948,6.995L21,7v43h7.973C30.576,49.619,43.234,40.286,44,38.929z"}),a.a.createElement("rect",{fill:s,x:"5",y:"17",width:"12",height:"3"}),a.a.createElement("rect",{fill:s,x:"5",y:"37",width:"12",height:"3"}),a.a.createElement("polygon",{fill:s,points:"20,41 20,36 20,21 20,16 20,6 18,6 18,8 18,48 18,51 20,51"})))};j.displayName="ArrayPowerSupply",j.propTypes={status:o.a.bool,height:o.a.oneOfType([o.a.string,o.a.number]),width:o.a.oneOfType([o.a.string,o.a.number])};var P=j,A=function(e){var t=e.className,n=e.width,r=void 0===n?"1.25em":n,i=e.height,o=void 0===i?"1.25em":i,s=e.status?l:u;return a.a.createElement("svg",{viewBox:"0 0 90 90",width:r,height:o,className:t},a.a.createElement("g",{id:"ssd"},a.a.createElement("path",{fill:s,d:"M79.954,8.74H20.045c-0.857,0-1.554,0.695-1.554,1.554v78.192c0,0.858,0.696,1.554,1.554,1.554h59.909 c0.858,0,1.555-0.695,1.555-1.554V10.294C81.509,9.436,80.813,8.74,79.954,8.74z M64.626,40.855h7.916v2.328h-7.916V40.855z M64.626,47.994h7.916v2.328h-7.916V47.994z M64.626,55.521h7.916v2.328h-7.916V55.521z M56.598,26.848h2.329v7.916h-2.329V26.848z M49.461,26.848h2.326v7.916h-2.326V26.848z M41.931,26.848h2.33v7.916h-2.33V26.848z M24.702,11.459 c2.002,0,3.625,1.623,3.625,3.625s-1.623,3.625-3.625,3.625s-3.625-1.623-3.625-3.625S22.7,11.459,24.702,11.459z M24.702,87.063 c-2.002,0-3.625-1.623-3.625-3.625s1.623-3.625,3.625-3.625s3.625,1.623,3.625,3.625S26.704,87.063,24.702,87.063z M35.373,57.85 h-7.915v-2.328h7.915V57.85z M35.373,50.322h-7.915v-2.328h7.915V50.322z M35.373,43.184h-7.915v-2.328h7.915V43.184z M42.378,89.25 h-2.625V84.5h2.625V89.25z M48.128,89.25h-2.625V84.5h2.625V89.25z M53.878,89.25h-2.625V84.5h2.625V89.25z M59.69,89.25h-2.625 V84.5h2.625V89.25z M65.44,89.25h-2.625V84.5h2.625V89.25z M68.657,82.642H37.032v-2h29.625V68.609l-5.315-6.84 c-0.116,0.022-0.236,0.036-0.359,0.036H39.876c-1.028,0-1.863-0.833-1.863-1.862V38.836c0-1.027,0.835-1.862,1.863-1.862h21.106 c1.029,0,1.862,0.835,1.862,1.862v21.107c0,0.148-0.021,0.291-0.055,0.43l5.867,7.551V82.642z M41.931,71.932v-7.916h2.33v7.916 H41.931z M49.461,71.932v-7.916h2.326v7.916H49.461z M56.598,71.932v-7.916h2.329v7.916H56.598z M75.968,87.063 c-2.002,0-3.625-1.623-3.625-3.625s1.623-3.625,3.625-3.625s3.625,1.623,3.625,3.625S77.97,87.063,75.968,87.063z M75.968,18.709 c-2.002,0-3.625-1.623-3.625-3.625s1.623-3.625,3.625-3.625s3.625,1.623,3.625,3.625S77.97,18.709,75.968,18.709z"})))};A.displayName="ArraySSD",A.propTypes={status:o.a.bool,height:o.a.oneOfType([o.a.string,o.a.number]),width:o.a.oneOfType([o.a.string,o.a.number])};var x=A,L=function(e){var t=e.className,n=e.width,r=void 0===n?"1.25em":n,i=e.height,o=void 0===i?"1.25em":i,s=e.status;return a.a.createElement("svg",{viewBox:"0 0 90 90",width:r,height:o,className:t},a.a.createElement("g",{id:"hdd"},a.a.createElement("path",{fill:s?l:u,d:"M50,42.751c-1.963,0-3.555-1.592-3.555-3.555c0-1.964,1.592-3.555,3.555-3.555s3.555,1.591,3.555,3.555 C53.555,41.159,51.963,42.751,50,42.751z M81.508,10.904v78.192c0,0.858-0.696,1.554-1.554,1.554H20.045 c-0.858,0-1.554-0.695-1.554-1.554V10.904c0-0.858,0.696-1.554,1.554-1.554h59.909C80.813,9.351,81.508,10.046,81.508,10.904z M21.078,15.694c0,2.002,1.624,3.625,3.625,3.625c2.002,0,3.625-1.623,3.625-3.625s-1.623-3.625-3.625-3.625 C22.701,12.069,21.078,13.692,21.078,15.694z M28.328,84.048c0-2.002-1.623-3.625-3.625-3.625c-2.001,0-3.625,1.623-3.625,3.625 s1.624,3.625,3.625,3.625C26.705,87.673,28.328,86.05,28.328,84.048z M29.579,72.267c2.789,0,5.049-2.26,5.049-5.049 c0-2.788-2.26-5.049-5.049-5.049s-5.049,2.261-5.049,5.049C24.53,70.007,26.79,72.267,29.579,72.267z M67.456,81.459H32.471v5.696 h34.985V81.459z M68.637,77.899c1.971,0,3.824-0.769,5.218-2.161c2.876-2.877,2.877-7.558-0.001-10.438 c-0.422-0.421-0.902-0.793-1.43-1.109l-8.642-6.538c5.772-4.241,9.521-11.075,9.521-18.786c0-12.869-10.433-23.303-23.302-23.303 S26.698,25.998,26.698,38.867S37.131,62.169,50,62.169c1.284,0,2.541-0.107,3.768-0.308l8.265,11.94 c0.359,0.724,0.825,1.375,1.387,1.937C64.813,77.131,66.666,77.899,68.637,77.899z M79.593,84.048c0-2.002-1.623-3.625-3.625-3.625 s-3.625,1.623-3.625,3.625s1.623,3.625,3.625,3.625S79.593,86.05,79.593,84.048z M79.593,15.694c0-2.002-1.623-3.625-3.625-3.625 s-3.625,1.623-3.625,3.625s1.623,3.625,3.625,3.625S79.593,17.696,79.593,15.694z M52.549,59.222 c0.101,0.145,0.117,0.332,0.043,0.493c-0.074,0.16-0.227,0.27-0.402,0.288c-0.726,0.076-1.462,0.114-2.189,0.114 c-11.536,0-20.921-9.385-20.921-20.921S38.464,18.274,50,18.274s20.921,9.386,20.921,20.922c0,6.867-3.379,13.303-9.039,17.217 c-0.177,0.124-0.413,0.118-0.586-0.013L47.944,46.298c-0.06-0.045-0.124-0.08-0.187-0.115c-0.105-0.06-0.182-0.153-0.224-0.26 c-0.071,0.036-0.153,0.063-0.238,0.056c-0.034-0.002-0.071-0.003-0.107-0.009c-0.584-0.116-1.192,0.062-1.615,0.467 c-0.652,0.626-0.752,1.62-0.238,2.363L52.549,59.222z M48.138,45.262c0.604,0.186,1.231,0.279,1.862,0.279 c3.498,0,6.344-2.846,6.344-6.344S53.498,32.854,50,32.854s-6.344,2.846-6.344,6.344c0,2.507,1.475,4.774,3.764,5.795 c0.16,0.038,0.291,0.152,0.35,0.304c0.069-0.036,0.146-0.056,0.225-0.056C48.042,45.24,48.09,45.247,48.138,45.262z M51.234,59.079 l-6.722-9.711c-0.795-1.148-0.64-2.686,0.369-3.653c0.246-0.236,0.529-0.422,0.835-0.553c-1.896-1.362-3.061-3.568-3.061-5.965 c0-4.05,3.294-7.344,7.344-7.344s7.344,3.294,7.344,7.344S54.05,46.541,50,46.541c-0.026,0-0.052,0-0.078,0l11.687,8.842 c5.212-3.744,8.313-9.769,8.313-16.187c0-10.985-8.937-19.922-19.921-19.922s-19.921,8.937-19.921,19.922 c0,10.984,8.937,19.921,19.921,19.921C50.41,59.117,50.822,59.104,51.234,59.079z M72.401,67.133 c-0.329-0.328-0.695-0.598-1.08-0.817L47.034,47.94L64.247,72.81c0.244,0.529,0.578,1.027,1.014,1.464 c1.971,1.971,5.168,1.971,7.14,0C74.373,72.302,74.373,69.105,72.401,67.133z M29.579,63.991c-1.783,0-3.227,1.444-3.227,3.227 c0,1.783,1.444,3.228,3.227,3.228s3.227-1.444,3.227-3.228C32.806,65.436,31.361,63.991,29.579,63.991z"})))};L.displayName="ArrayHDD",L.propTypes={status:o.a.bool,height:o.a.oneOfType([o.a.string,o.a.number]),width:o.a.oneOfType([o.a.string,o.a.number])};var k=L,M=function(e){var t=e.className,n=e.width,r=void 0===n?"1.25em":n,i=e.height,o=void 0===i?"1.25em":i,s=e.status?l:u;return a.a.createElement("svg",{viewBox:"0 0 90 90",width:r,height:o,className:t},a.a.createElement("circle",{cx:"45",cy:"45",r:"45",fill:s}))};M.displayName="ArrayController",M.propTypes={status:o.a.bool,height:o.a.oneOfType([o.a.string,o.a.number]),width:o.a.oneOfType([o.a.string,o.a.number])};var I,D=M,U=n(994),H=n.n(U),F=n(995),B=n.n(F),V=n(996),W=n.n(V),q=n(997),z=n.n(q);n.d(t,"a",function(){return X});var G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var $=function(e){var t=e.className,n=e.srcIcon,r=e.altText,i=e.height,o=e.width;return a.a.createElement("img",{style:{height:i||"1.25em",width:o||"1.25em"},src:n,alt:r,className:t})};$.displayName="ImageIcon",$.propTypes={srcIcon:o.a.oneOfType([o.a.string,o.a.object]),height:o.a.oneOfType([o.a.string,o.a.number]),width:o.a.oneOfType([o.a.string,o.a.number]),altText:o.a.string};var Q={EXCHANGE:"Exchange",SHAREPOINT:"SharePoint",VIRTUAL_SERVER:"Virtual Server",VIRTUAL_DESKTOP:"Virtual Desktop",FILE_SERVER:"File Server",OTHER:"Other",MULTIPLE:"Multiple",NONE:"None",UNASSIGNED:"Unassigned",ORACLE:"Oracle",DB2:"DB2",SQL_SERVER:"SQL Server"},X=Object.assign({},Q,{FOLDER:"Folder",SPACER:"Spacer",REMOTE_PROTECTION:"Remote",LOCAL_PROTECTION:"Local Only",POOL:"Pool",ARRAY_FAN:"Array Fan",ARRAY_POWER_SUPPLY:"Array Power Supply",ARRAY_SSD:"Array SSD",ARRAY_HDD:"Array HDD",ARRAY_CONTROLLER:"Array Controller",ARRAY_HEARTBEAT_UP:"Array Heartbeat Up",ARRAY_HEARTBEAT_DOWN:"Array Heartbeat Down",ARRAY_ASUP_UP:"Array Asup Up",ARRAY_ASUP_DOWN:"Array Asup Down"}),J=function(e){var t=e.className;return a.a.createElement("span",{className:c()("fa fa-database",t)})};J.displayName="database";var Z=(Y(I={},X.FOLDER,function(e){var t=e.className;return a.a.createElement("span",{className:c()("fa fa-folder-o",t)})}),Y(I,X.SPACER,function(e){var t=e.className;return a.a.createElement("span",{className:c()("fa fa-fw",t)})}),Y(I,X.EXCHANGE,function(e){var t=e.className;return a.a.createElement("span",{className:c()("fa fa-envelope-o",t)})}),Y(I,X.SHAREPOINT,function(e){var t=e.className;return a.a.createElement($,{srcIcon:p.a,alt:"sharepoint",className:t})}),Y(I,X.VIRTUAL_SERVER,function(e){var t=e.className;return a.a.createElement($,{srcIcon:m.a,alt:"virtual server",className:t})}),Y(I,X.VIRTUAL_DESKTOP,function(e){var t=e.className;return a.a.createElement($,{srcIcon:g.a,alt:"virtual desktop",className:t})}),Y(I,X.FILE_SERVER,function(e){var t=e.className;return a.a.createElement($,{srcIcon:v.a,alt:"file server",className:t})}),Y(I,X.OTHER,function(e){var t=e.className;return a.a.createElement($,{srcIcon:E.a,alt:"other",className:t})}),Y(I,X.MULTIPLE,function(e){var t=e.className;return a.a.createElement("span",{className:c()("fa fa-clone",t)})}),Y(I,X.NONE,function(e){var t=e.className;return a.a.createElement("span",{className:t})}),Y(I,X.POOL,function(e){var t=e.className;return a.a.createElement("span",{className:c()("fa fa-th",t)})}),Y(I,X.UNASSIGNED,function(e){var t=e.className;return a.a.createElement($,{srcIcon:C.a,alt:"unassigned",className:t})}),Y(I,X.ORACLE,J),Y(I,X.DB2,J),Y(I,X.SQL_SERVER,J),Y(I,X.LOCAL_PROTECTION,function(e){var t=e.className;return a.a.createElement($,{srcIcon:T.a,alt:"Local Only",className:t})}),Y(I,X.REMOTE_PROTECTION,function(e){var t=e.className;return a.a.createElement($,{srcIcon:w.a,alt:"Remote",className:t})}),Y(I,X.ARRAY_FAN,function(e){var t=e.className,n=K(e,["className"]);return a.a.createElement(N,G({className:t},n))}),Y(I,X.ARRAY_POWER_SUPPLY,function(e){var t=e.className,n=K(e,["className"]);return a.a.createElement(P,G({className:t},n))}),Y(I,X.ARRAY_SSD,function(e){var t=e.className,n=K(e,["className"]);return a.a.createElement(x,G({className:t},n))}),Y(I,X.ARRAY_HDD,function(e){var t=e.className,n=K(e,["className"]);return a.a.createElement(k,G({className:t},n))}),Y(I,X.ARRAY_CONTROLLER,function(e){var t=e.className,n=K(e,["className"]);return a.a.createElement(D,G({className:t},n))}),Y(I,X.ARRAY_HEARTBEAT_UP,function(e){var t=e.className,n=K(e,["className"]);return a.a.createElement($,G({srcIcon:B.a,alt:"Heartbeat Up",className:t},n))}),Y(I,X.ARRAY_HEARTBEAT_DOWN,function(e){var t=e.className,n=K(e,["className"]);return a.a.createElement($,G({srcIcon:H.a,alt:"Heartbeat Down",className:t},n))}),Y(I,X.ARRAY_ASUP_UP,function(e){var t=e.className,n=K(e,["className"]);return a.a.createElement($,G({srcIcon:z.a,alt:"Asups Recieved",className:t},n))}),Y(I,X.ARRAY_ASUP_DOWN,function(e){var t=e.className,n=K(e,["className"]);return a.a.createElement($,G({srcIcon:W.a,alt:"Asups Not Recieved or Delayed",className:t},n))}),I),ee=function(e){var t=e.className,n=e.name,r=K(e,["className","name"]),i=Z[n];return void 0!==i?a.a.createElement(i,G({className:t},r)):null};ee.propTypes={name:o.a.string.isRequired,height:o.a.oneOfType([o.a.string,o.a.number]),width:o.a.oneOfType([o.a.string,o.a.number])},ee.defaultProps={name:"Unassigned"},ee.ICONS=X,ee.APP_CATEGORY_ICONS=Q;t.b=ee},363:function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=n(8),o=n.n(i),s=n(12),c=n.n(s),l=n(9),u=n(86),d=n.n(u),p=n(226),h=n.n(p),m=n(14),f=n.n(m),g=n(20),y=n.n(g),v=n(63),b=n(42),E=n.n(b),O=n(30),C=n.n(O),S=n(305),w=n(39),R=new S.FillPattern("unusedReservePattern").svgPath(S.FillPattern.patterns[0]).strokeWidth(1).strokeColor(w.CHART_COLORS.ununsedReservedColor).dimensions(5).fillColor(w.CHART_COLORS.plotBandGrey),T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),T(t,[{key:"data",value:function(){var e=this.props,t=e.usedBytes,n=e.freeBytes,r=e.unusedReserveBytes,a=[{name:"Total Usage",y:t,color:w.CHART_COLORS.teal}];return r&&Object(l.isNumber)(r)&&a.push({name:"Unused Reserve",y:r,color:"url(#unusedReservePattern)"}),a.push({name:"Free Space",y:n,color:w.CHART_COLORS.plotBandGrey}),a}},{key:"config",value:function(){var e=this.props,t=e.usedBytes,n=e.freeBytes,r=e.containerHeight,a=e.containerWidth;return[t,n].every(l.isNumber)?function(e){var t=e.height,n=e.width,r=e.data;return{chart:{type:"pie",spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0,marginTop:-10,marginRight:0,marginBottom:-10,marginLeft:-20,height:t,width:n},defs:{patterns:[R]},title:!1,plotOptions:{pie:{shadow:!1,dataLabels:{enabled:!1},center:[t/2,"50%"]}},tooltip:{enabled:!1},series:[{name:"Series",data:r,showInLegend:!0,size:"100%",innerSize:"85%",borderWidth:0,states:{hover:{enabled:!1}}}]}}({height:r,width:a,data:this.data()}):null}},{key:"callback",value:function(e){this.props.callback(e)}},{key:"render",value:function(){var e=this,t=this.config();return a.a.createElement(C.a,{hasData:!!t},function(){return a.a.createElement(v.ReactHighcharts,{config:t,callback:e.callback})})}}]),t}();_.displayName="Donut",_.propTypes={usedBytes:o.a.number,freeBytes:o.a.number,unusedReserveBytes:o.a.number,containerHeight:o.a.number.isRequired,containerWidth:o.a.number.isRequired,callback:o.a.func},_.defaultProps={containerHeight:0,containerWidth:0};var N=E()({elementResize:!0})(_),j=n(1144),P=n.n(j),A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var L=f.a.bind(P.a),k=function(e){var t=e.usedBytes,n=e.allocatedBytes,r=e.growthPercent,i=e.warningThreshold,o=t/n*100;if(!function(e){return!Object(l.isNaN)(e)&&!Object(l.isUndefined)(e)&&Object(l.isFinite)(e)}(o))return null;var s=o>i?"percentUsedWarning":"percentUsed";return a.a.createElement("div",{className:f()("flex-container align-middle align-center",L("donut-title"))},a.a.createElement("span",{className:L(s)},y()(o).format("0"),"%"),a.a.createElement("div",{className:L("percentageGrowth")},a.a.createElement(d.a,{value:r,isPercent:!0,showCaret:!0})))};k.displayName="DonutTitle",k.propTypes={usedBytes:o.a.number,allocatedBytes:o.a.number,growthPercent:o.a.number,warningThreshold:o.a.number};var M=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),x(t,[{key:"getSeriesInfo",value:function(e){var t=e&&e.series[0].data,n=t&&t.map(function(e){return{id:e.options.name,label:e.options.name,value:y()(e.options.y).format("0.00 ib"),color:"Unused Reserve"===e.options.name?"":e.options.color,iconClassName:"Unused Reserve"===e.options.name?L("striped"):"",icon:!0}}).concat({id:"allocatedBytes",label:a.a.createElement("strong",null,"Total Capacity"),value:a.a.createElement("strong",null,y()(this.props.allocatedBytes).format("0.00 ib")),color:"transparent",icon:!0});this.setState({legendConfig:n})}},{key:"render",value:function(){return a.a.createElement("div",{className:"row expanded align-middle"},a.a.createElement("div",{className:f()("shrink medium-unstack",L("donut")),style:{paddingRight:"0.5em"}},a.a.createElement("div",{className:L("donut-pie")},a.a.createElement(N,A({},this.props,{callback:this.getSeriesInfo}))),a.a.createElement(k,this.props)),a.a.createElement("div",{className:"medium-unstack"},a.a.createElement(h.a,{items:this.state.legendConfig})))}}]),t}();M.displayName="DonutChart",M.propTypes={allocatedBytes:o.a.number,usedBytes:o.a.number,freeBytes:o.a.number,unusedReserveBytes:o.a.number,growthPercent:o.a.number,warningThreshold:o.a.number},M.propTypes={warningThreshold:100};var I=M;t.a=I},366:function(e,t,n){"use strict";var r=n(19),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=e.type,n=e.stateKey,o=e.matchKey,s=function(e){var t=""+e.charAt(0).toUpperCase()+e.slice(1);return{valueKey:e,loadingKey:"loading"+t,loadedKey:"loaded"+t,errorKey:"error"+t}}(n),c=s.loadingKey,l=s.loadedKey,u=s.errorKey;return i({},Object(r.getSuccessActionType)(t),function(e,t){var r,s=t.payload;console.log("createItemUpdateReducersForAction",e,s);var d=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e[n])),p=d.findIndex(function(e){return e[o]===s[o]});return-1!==p&&(d[p]=s),a({},e,(i(r={},n,d),i(r,c,!1),i(r,l,!0),i(r,u,!1),r))})}var s,c=n(58),l=n(28),u=n(668);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"c",function(){return m}),n.d(t,"a",function(){return g}),n.d(t,"b",function(){return y});var p={addressCollection:null,assetCollection:null},h=(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e})((d(s={},l.i,function(){return p}),d(s,u.e,function(){return p}),s),Object(r.createReducersForAction)({type:u.c,stateKey:"addressCollection"}),Object(r.createReducersForAction)({type:u.d,stateKey:"assetCollection"}),o({type:u.a,stateKey:"addressCollection",matchKey:"id"}),o({type:u.b,stateKey:"addressCollection",matchKey:"id"}),o({type:u.f,stateKey:"assetCollection",matchKey:"id"}),o({type:u.g,stateKey:"assetCollection",matchKey:"id"}));function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments[1],n=h[t.type];return n?n(e,t):e}var f=function(e){return Object(c.a)(e)},g=Object(r.createSelector)(f,"address"),y=Object(r.createSelector)(f,"asset")},368:function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=n(8),o=n.n(i),s=n(20),c=n.n(s),l=n(9),u=n(164),d=n.n(u),p=n(315),h=n.n(p),m=function(e){var t=e.className,n=e.name,r=e.savings,i=e.factor;return a.a.createElement("tr",{className:t},a.a.createElement("td",{className:"text-secondary"},n),a.a.createElement("td",null,void 0!==r?c()(r).format("0.0 ib"):null),a.a.createElement("td",{className:"text-right"},void 0===r&&void 0===i?"N/A":null,void 0!==i?c()(i).format("0.0")+"X":null))};m.displayName="SavingsDetail",m.propTypes={name:o.a.string.isRequired,savings:o.a.number,factor:o.a.number};var f=m,g=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),y(t,[{key:"renderOverlay",value:function(){var e=this.props,t=e.cloneSavings,n=e.dedupSavings,r=e.compressionSavings,i=e.cloneSavingsFactor,o=e.dedupSavingsFactor,s=e.compressionSavingsFactor;return a.a.createElement("table",{className:"text-left table-border"},a.a.createElement("tbody",null,Object(l.isNumber)(t)&&a.a.createElement(f,{name:"Clones",savings:t,factor:i}),Object(l.isNumber)(n)&&a.a.createElement(f,{name:"Deduplication",savings:n,factor:o}),Object(l.isNumber)(r)&&a.a.createElement(f,{name:"Compression",savings:r,factor:s})))}},{key:"render",value:function(){var e="headline"===this.props.context,t=e?d.a:"div",n=function(t){var n=t.children;return e?a.a.createElement("small",null,n):a.a.createElement("span",null,n)},r=this.props,i=r.totalSavings,o=r.totalSavingsFactor;if(!Object(l.isNumber)(i))return a.a.createElement("div",null,"N/A");var s=c()(i).format("0.0 ib").split(" "),u=g(s,2),p=u[0],m=u[1],f=a.a.createElement(t,null,p," ",a.a.createElement(n,null,m||"B")," | ",c()(o).format("0.0"),a.a.createElement(n,null,"X"));return i?a.a.createElement(h.a,{placement:"bottom",popover:this.renderOverlay(),popperProps:{style:{zIndex:2}}},f):f}}]),t}();v.displayName="Savings",v.propTypes={context:o.a.oneOf(["headline","table"]),totalSavings:o.a.number,totalSavingsFactor:o.a.number,cloneSavings:o.a.number,cloneSavingsFactor:o.a.number,dedupSavings:o.a.number,dedupSavingsFactor:o.a.number,compressionSavings:o.a.number,compressionSavingsFactor:o.a.number},v.defaultProps={context:"headline"};t.a=v},37:function(e,t,n){"use strict";n.r(t),n.d(t,"API_BASE_URL",function(){return r}),n.d(t,"BASE_URL",function(){return a}),n.d(t,"NIMBLE_APP_ID",function(){return i});var r="/InfoSight/api",a="/InfoSight",i="nimble"},38:function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"g",function(){return p}),n.d(t,"a",function(){return m}),n.d(t,"e",function(){return f}),n.d(t,"h",function(){return g}),n.d(t,"f",function(){return v}),n.d(t,"d",function(){return b});var r,a=n(28),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s={authorizationEvaluator:null,tenant:null,permissions:null,profile:null,config:{appBaseUrl:"/",minWidthPixels:1280}},c=(o(r={},a.i,function(){return s}),o(r,a.e,function(e,t){var n=t.payload;return i({},e,{authorizationEvaluator:n})}),o(r,a.h,function(e,t){var n=t.payload;return i({},e,{tenant:n})}),o(r,a.g,function(e,t){var n=t.payload;return i({},e,{profile:n})}),o(r,a.f,function(e,t){var n=t.payload;return i({},e,{config:n})}),r);function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1],n=c[t.type];return n?n(e,t):e}var u=function(e){return e.user},d=function(e){return u(e).authorizationEvaluator},p=function(e){return u(e).tenant},h=function(e){return u(e).config},m=function(e){return h(e).appBaseUrl},f=function(e){return h(e).minWidthPixels},g=function(e){return u(e).profile},y=function(e){return g(e).authorities},v=function(e){return g(e).permissions},b=function(e){return y(e)?y(e).some(function(e){return e===a.a.SUPPORT_CASE}):null}},39:function(e,t,n){"use strict";n.r(t),n.d(t,"CHART_COLORS",function(){return r}),n.d(t,"COLOR_SETS",function(){return i}),n.d(t,"defaultColorSet",function(){return o});var r={teal:"#006766",tealLight:"#58CCCB",purple:"#792A85",purpleLight:"#A892D7",blue:"#00306A",blueLight:"#0099E7",green:"#62A62C",greenLight:"#9DCE6F",orange:"#FF9742",orangeLight:"#FFBC86",redOrange:"#D9504F",warningYellow:"#F1C232",white:"#FFFFFF",plotBandGrey:"#EEEEEE",grey:"#888888",crosshairs:"#CCCCCC",gradientMinGrey:"#E2E6EA",ununsedReservedColor:"#B0CED4",transparent:"transparent",legacyRed:"#f45b5b",legacyYellow:"#C4C243",legacyGreen:"#90ed7d",legacyLightBlue:"#7cb5ec"},a=function(e,t){return{stroke:e,fill:t}},i={teal:a(r.teal,r.tealLight),purple:a(r.purple,r.purpleLight),green:a(r.green,r.greenLight),blue:a(r.blue,r.blueLight),orange:a(r.orange,r.orangeLight),grey:a(r.grey,r.plotBandGrey),transparent:a(r.transparent,r.transparent)},o=[r.teal,r.purple,r.blue,r.green,r.orange,r.redOrange,r.tealLight,r.purpleLight,r.blueLight,r.greenLight,r.orangeLight]},40:function(e,t,n){"use strict";n.r(t),n.d(t,"getStore",function(){return a});var r=void 0;t.default=function(e){r=e};var a=function(){if(!r)throw new Error("storeProvider must be initialized. Store is not available.");return r}},43:function(e,t,n){"use strict";n.r(t),n.d(t,"getLoginPath",function(){return o}),n.d(t,"redirectToLogin",function(){return s}),n.d(t,"buildUrlFromBase",function(){return c});var r=n(22),a=n(40),i=n(38);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""!==e?"/app/login?logout&redirectTo="+encodeURIComponent(e):"/app/login?logout"}function s(){var e="";window.location.pathname&&(e=window.location.search?""+window.location.pathname+window.location.search:window.location.pathname);var t=o(e);window.location.replace(t)}function c(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.buildUrl.apply(void 0,[Object(i.a)(Object(a.getStore)().getState())].concat(t))}},44:function(e,t,n){"use strict";n.d(t,"a",function(){return w});var r=n(1),a=n.n(r),i=n(8),o=n.n(i),s=n(12),c=n.n(s),l=n(9),u=n(50),d=n.n(u),p=n(57),h=n.n(p),m=n(64),f=n.n(m),g=n(61),y=n(24),v=n.n(y),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=function(e){function t(e){E(this,t);var n=O(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n}return C(t,r["Component"]),b(t,[{key:"handleRef",value:function(e){var t=this;e?this.renderLegacyView(e):this.view&&Object(l.defer)(function(){t.view.destroy()})}},{key:"renderLegacyView",value:function(e){this.view=this.props.createLegacyView(e),this.view.render()}},{key:"render",value:function(){return a.a.createElement("div",{className:this.props.className,ref:this.handleRef})}}]),t}();function w(e){var t=function(t){function n(e){E(this,n);var t=O(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return c()(t),t.state={ready:!!v.a},t}return C(n,r["Component"]),b(n,[{key:"componentDidMount",value:function(){this.state.ready||this.waitForLegacyApp()}},{key:"componentWillUnmount",value:function(){this.waiterId&&window.clearTimeout(this.waiterId)}},{key:"waitForLegacyApp",value:function(){v.a?this.setState({ready:!0}):this.waiterId=window.setTimeout(this.waitForLegacyApp,500)}},{key:"render",value:function(){return this.state.ready?a.a.createElement(e,this.props):a.a.createElement(g.Spinner,null)}}]),n}();return t.displayName="LegacyAppAwaiter",t.displayName=f()(e,h()(t)),d()(t,e)}S.displayName="NimbleLegacyContainer",S.propTypes={createLegacyView:o.a.func.isRequired,className:o.a.string},t.b=w(S)},45:function(e,t,n){var r=n(16),a=n(9),i=n(11),o=n(13),s=n(657),c=n(658),l=o.ItemView.extend({template:a.template(s)}),u=o.LayoutView.extend({animateOnLoad:!0,template:a.constant('<div class="region"></div>'),regions:{region:".region"},initialize:function(){a.bindAll(this,"onLoad","onError"),this.loadingMessage=this.getOption("loadingMessage"),this.view=this.getOption("view"),this.ViewConstructor=this.getOption("ViewConstructor"),this.ViewConstructor&&(this.view=new this.ViewConstructor(a(this.options).omit("el"))),this.listenTo(this.view,"all",this.triggerMethodFilter)},triggerMethodFilter:function(e,t){switch(e){case"render":break;default:this.triggerMethod(e,t)}},load:function(){console.assert(this.view,'A "view" or "ViewConstructor" option must be defined to use the default load function');var e,t=r.Deferred();return e=!0===this.view.fetchModel?this.view.model||this.view.collection:this.view.collection||this.view.model,console.assert(e,"The target view must have a model or a collection to be fetched"),e.fetch({reset:!0}).done(a.bind(t.resolve,t,this.view)).fail(a.bind(t.reject,t)),t},onRender:function(){!1!==this.useSpinner&&this.region.show(new l),this.load().done(this.onLoad).fail(this.onError)},onLoad:function(e){this.region&&("true"==this.getOption("animateOnLoad")&&this.region.$el.addClass("animated fadeIn"),this.region.show(e))},onError:function(e){this.isDestroyed||0===e.readyState&&0===e.status||(this.region.$el.addClass("animated fadeIn"),this.region.show(new c({model:new i.Model({error:e.responseJSON?e.responseJSON.message:null,message:"Unable to load content."})})))}},{wrap:function(e){return new u({view:e})}});e.exports=u},49:function(e,t,n){"use strict";var r,a=n(19),i=n(27),o=n(1082),s=void 0,c=function(){return s||((s=new o.a("infosight")).version(1).stores({infrastructureInventory:"type,productFamily"}),s)},l=n(40),u=n(28),d=n(9),p=n.n(d),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"info",t=arguments[1],n=t.content;return{type:"ADD_GLOBAL_NOTIFICATION",id:t.id||p.a.uniqueId(),severity:e,content:n}},m=function(e){return{type:"DISMISS_GLOBAL_NOTIFICATION",id:e}},f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={};g(r={},"ADD_GLOBAL_NOTIFICATION",function(e,t){var n=t.severity,r=t.content,a=t.id;return f({},e,g({},a,{id:a,severity:n,content:r}))}),g(r,"DISMISS_GLOBAL_NOTIFICATION",function(e,t){var n=t.id,r=f({},e);return delete r[n],r}),g(r,"REMOVE_GLOBAL_NOTIFICATION",function(e,t){var n=t.id,r=f({},e);return delete r[n],r}),g(r,u.i,function(){return y});var v=n(17),b=n(25),E=n(1085),O=(Object(v.connect)(function(e){return{banners:function(e){return Object.values(e)}(e.globalNotifications)}},function(e){return Object(b.bindActionCreators)({dismiss:m},e)})(E.GlobalBannerList),function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()),C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function S(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var w="__ROOT",R=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return C({},e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,{}))},{})},T=1,_=2;function N(e){var t=this,n=e.FETCH_INVENTORY,r=e.OBJECTS,o=e.view,s=e.getBoundary,u=e.productFamily,d=e.enableClientSideSearch,p=e.excludedTypesFromClientSideSearch;return function(e){return function(){var m=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,i){try{var o=t[a](i),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}(regeneratorRuntime.mark(function m(f){var g,y,v,b,E,C,N,j,P,A,x;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e||"function"!=typeof s||(e=s()||e),g=Object(a.actionsFor)(n,f),y=g.dispatchStart,v=g.dispatchSuccess,b=g.dispatchError,y(),t.prev=3,t.next=6,(new i.default).pod(e).genericQuery(o).post();case 6:if(E=t.sent,C=R.apply(void 0,S(Object.values(r))),N=R.apply(void 0,S(Object.values(r)).concat([w])),j=function(e,t,n){if(C[t])return C[t][e]?n&&!C[t][e].name&&(C[t][e].name=n.toString()):C[t][e]={id:e,type:t,name:n},C[t][e]},P=function(e,t){N[e.type][e.id]=N[e.type][e.id]||{},N[e.type][e.id].children=N[e.type][e.id].children||{},N[e.type][e.id].children[t.type]=N[e.type][e.id].children[t.type]||[],N[e.type][e.id].children[t.type].includes(t.id)||N[e.type][e.id].children[t.type].push(t.id),N[t.type][t.id]=N[t.type][t.id]||{},N[t.type][t.id].parent=e},A=function(e,t){N[e.type][e.id]=N[e.type][e.id]||{},N[e.type][e.id].associates=N[e.type][e.id].associates||{},N[e.type][e.id].associates[t.type]=N[e.type][e.id].associates[t.type]||[],N[e.type][e.id].associates[t.type].includes(t.id)||N[e.type][e.id].associates[t.type].push(t.id)},E.data.data.forEach(function(e){var t=e.relativeId,n=e.relativeType,r=e.relation,a=e.id,i=e.type,o=e.name,s=j(a,i,o),c=t&&n?j(t,n):j(w,w);switch(r){case T:s&&c?P(c,s):s&&null===t&&null===n&&P({id:w,type:w},s);break;case _:var l=s||e,u=c||{id:t,type:n};c?(A(l,u),A(u,l)):n&&t&&A(l,u)}}),!d){t.next=26;break}return t.prev=14,x=c().infrastructureInventory,t.next=18,x.where("productFamily").equals(u).delete();case 18:return t.next=20,x.bulkPut(Object.entries(C).map(function(e){var t=O(e,2),n=t[0],r=t[1];return Array.isArray(p)&&p.includes(n)?null:{productFamily:u,type:n,objects:Object.values(r).map(function(e){return{id:e.id,name:e.name||""}})}}).filter(function(e){return e}));case 20:t.next=26;break;case 22:t.prev=22,t.t0=t.catch(14),console.error(t.t0),Object(l.getStore)().dispatch(h("warning",{content:"Search is partially disabled when IndexedDB is disabled in your browser. This may occur when using Private/Incognito mode or your system has limited disk space.",id:"client-side-search"}));case 26:v({index:C,topology:N,boundary:e}),t.next=32;break;case 29:t.prev=29,t.t1=t.catch(3),b(t.t1);case 32:case"end":return t.stop()}},m,t,[[3,29],[14,22]])}));return function(e){return m.apply(this,arguments)}}()}}var j=n(87),P=n(126),A=n(79),x=function(){return N({FETCH_INVENTORY:P.a,OBJECTS:P.b,view:"nimble/inventory",productFamily:"NIMBLE",enableClientSideSearch:!0,excludedTypesFromClientSideSearch:A.default.canAccessMultipleTenants()?[P.b.ARRAY]:null}).apply(void 0,arguments)},L=function(){return{type:P.c}};n.d(t,"f",function(){return k}),n.d(t,"a",function(){return P.b}),n.d(t,"b",function(){return x}),n.d(t,"g",function(){return L}),n.d(t,"e",function(){return j.e}),n.d(t,"c",function(){return j.b}),n.d(t,"d",function(){return j.c});var k=function(e){var t=e.inventoryLoadedSelector;return function(){return t(Object(l.getStore)().getState())}}({inventoryLoadedSelector:j.d})},51:function(e,t,n){"use strict";n.d(t,"q",function(){return i}),n.d(t,"s",function(){return o}),n.d(t,"p",function(){return s}),n.d(t,"n",function(){return c}),n.d(t,"l",function(){return l}),n.d(t,"o",function(){return u}),n.d(t,"h",function(){return d}),n.d(t,"g",function(){return p}),n.d(t,"e",function(){return h}),n.d(t,"f",function(){return m}),n.d(t,"m",function(){return f}),n.d(t,"i",function(){return g}),n.d(t,"j",function(){return y}),n.d(t,"b",function(){return v}),n.d(t,"k",function(){return b}),n.d(t,"d",function(){return E}),n.d(t,"r",function(){return O}),n.d(t,"a",function(){return C}),n.d(t,"c",function(){return S});var r=n(19),a=Object(r.actionNamespacer)("CAPACITY_REPORT"),i=a("POOL_CAPACITY_TIME_SERIES_FETCH"),o=a("TOP_POOLS_CAPACITY_TIME_SERIES_FETCH"),s=a("POOL_CAPACITY_SUMMARY_FETCH"),c=a("POOL_CAPACITY_FOLDERS_FETCH"),l=a("POOL_CAPACITY_APPLICATIONS_FETCH"),u=a("POOL_CAPACITY_RESET"),d=a("FOLDER_CAPACITY_TIME_SERIES_FETCH"),p=a("FOLDER_CAPACITY_SUMMARY_FETCH"),h=a("FOLDER_CAPACITY_APPLICATIONS_FETCH"),m=a("FOLDER_CAPACITY_RESET"),f=a("POOL_CAPACITY_ARRAY_CAPACITY_FETCH"),g=a("GROUP_POOL_FOLDER_RELATIONS_FETCH"),y=a("GROUP_POOL_FOLDER_RELATIONS_RESET"),v="ARRAY_GROUP",b="POOL",E="FOLDER",O="ROOT",C="ALL",S="(root)"},563:function(e,t,n){e.exports={metric:"metric__2Vm2x",value:"value__3pJzc",unit:"unit__VCd-s",subtitle:"subtitle__1Vyte",muted:"muted__WQ4oG",layout:"layout__fk9Sa",inset:"inset__3D4Hn",summary:"summary__1EtgW","time-series":"time-series__M3892","time-series-chart":"time-series-chart__3-epb","top-pools":"top-pools__1E9mi",chart:"chart__2IrEC","bar-chart":"bar-chart__HbVoz","total-usage":"total-usage__1I4g1","folder-limit":"folder-limit__3J7vv","system-config":"system-config__2FJJ2"}},565:function(e,t,n){e.exports={metric:"metric__BZq3n",value:"value__3lhIG",unit:"unit__3ivv1",subtitle:"subtitle__1AVaI",muted:"muted__DyPLV",layout:"layout__2TsdQ",inset:"inset__pghUJ",summary:"summary__21Ul3","time-series":"time-series__q2HgC","time-series-chart":"time-series-chart__25jdd","top-pools":"top-pools__2oWgt",chart:"chart__1Eihv","bar-chart":"bar-chart__1nmfQ","total-usage":"total-usage__3VY1i","folder-limit":"folder-limit__2HS7Q","system-config":"system-config__Yc0uX",legend:"legend__39Lmg",left:"left__1lQQo",right:"right__1rAFq",striped:"striped__1MEYI"}},58:function(e,t,n){"use strict";function r(e){return e.nimble}n.d(t,"a",function(){return r})},59:function(e,t,n){"use strict";n.d(t,"e",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"b",function(){return p});var r=n(20),a=n.n(r),i=n(23),o=n.n(i),s=n(60),c=function(e){return!(null!==e&&void 0!==e&&""!==e)},l=function(e,t,n){if(!t||c(e))return null;var r=a()(e).format(t);return t.includes(s.c)&&e>0&&e<1&&(r+="B"),r+(c(n)?"":" "+n)},u=function(e,t,n){return c(e)?s.j:l(e,t,n)},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&t?n?o.a.utc(e).format(t):o()(e).format(t):null},p=function(e,t,n){if(!e||!t)return null;var r=o()(e);return n&&(r=r.tz(n)),r.fromNow()+" ("+r.format(t)+")"}},590:function(e,t,n){},596:function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"c",function(){return m}),n.d(t,"a",function(){return f});var r,a=n(19),i=n(58),o=n(28),s=n(218),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=c({},Object(a.getInitialState)("pools"),Object(a.getInitialState)("summaryCards"),Object(a.getInitialState)("trendCards"),Object(a.getInitialState)("poolsCsv")),d=c((l(r={},o.i,function(){return u}),l(r,s.d,function(){return u}),r),Object(a.createReducersForAction)({type:s.b,stateKey:"pools"}),Object(a.createReducersForAction)({type:s.f,stateKey:"summaryCards"}),Object(a.createReducersForAction)({type:s.g,stateKey:"trendCards"}),Object(a.createReducersForAction)({type:s.a,stateKey:"poolsCsv"}));function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1],n=d[t.type];return n?n(e,t):e}var h=function(e){return Object(i.a)(e).poolCollection},m=function(e){return h(e)},f=Object(a.createSelector)(h,"poolsCsv")},60:function(e,t,n){"use strict";n.d(t,"j",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"h",function(){return s}),n.d(t,"i",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return d}),n.d(t,"f",function(){return p});var r="N/A",a="ib",i="0.0 "+a,o="0.0 b",s="0,0",c="0,0.0",l="0,0.00",u="l",d="L LTS",p=d+" z"},617:function(e,t,n){var r=n(165);e.exports=r.extend({defaults:{url:null,pages:50}})},618:function(e,t,n){"use strict";n.d(t,"b",function(){return p});var r=n(1),a=n.n(r),i=n(8),o=n.n(i),s=n(23),c=n.n(s),l=n(14),u=n.n(l),d=Object.freeze({NOT_AVAILABLE:"N/A",CURRENT:"Current",EXPIRING:"Expiring",EXPIRED:"Expired"}),p=function(e,t){return e.toLowerCase()===d.EXPIRED.toLowerCase()?d.EXPIRED:Math.abs(c()(t).diff(c()(),"years",!0))>10?d.NOT_AVAILABLE:Math.abs(c()(t).diff(c.a.utc(),"days"))<=90?d.EXPIRING:d.CURRENT},h=function(e){var t=e.parsedSupportStatus;return a.a.createElement("span",{className:u()(t!==d.CURRENT?"text-danger":"")},t)};h.displayName="ArraySupportStatus",h.propTypes={parsedSupportStatus:o.a.string},t.a=h},619:function(e,t,n){"use strict";var r=n(20),a=n.n(r);t.a=function(e){var t=e.tenGigSfpPortCount,n=e.tenGigBaseTPortCount,r=e.gigPortCount,i=e.fcPortCount,o=[];return t>0&&o.push(a()(t).divide(2).format("0,0").concat(" Dual 10Gbe SFP+")),n>0&&o.push(a()(n).divide(2).format("0,0").concat(" Dual 10GbaseT")),r>0&&o.push(a()(r).divide(2).format("0,0").concat(" Dual 1GbE")),i>0&&o.push(a()(i).divide(2).format("0,0").concat(" Dual 16Gb FC")),o.join("; ")}},620:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});var r=new Map,a=function(e){r.set(e,!0)}},621:function(e,t,n){var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(9),i=n(11),o=n(10),s=Object.freeze({NOT_AVAILABLE:"NOT_AVAILABLE",CURRENT:"CURRENT",EXPIRING:"EXPIRING",EXPIRED:"EXPIRED"});e.exports=i.Model.extend({idAttribute:"serialNumber",defaults:{company:null,accountId:null,serialNumber:null,assetId:null,arrayType:null,model:null,version:null,hostname:null,group:null,pool:null,assetStreet:null,assetCity:null,assetCountry:null,assetZip:null,assetState:null,supportStatus:null,supportStartDate:null,supportEndDate:null,sendingAsups:null,asupReceived:null,asupProcessed:null,assetShipDate:null,assetShipStatus:null,supportAgreement:null,arrayTimezone:null,capacity:null,free:null,expansionShelves:0,criticalEvents:null,urgentEvents:null,importantEvents:null,warningEvents:null,hasEvents:null,asupStatus:null,hbStatus:"not-loaded",hbReceived:null,hbAge:null,charts:[],upgradable:null,allFlash:null},parse:function(e){return function(e){e&&(e.isDelayed=o().diff(o(e.timestamp),"minutes")>25)}((e=r({},e,{supportStatus:function(e){return e.supportStatus===s.EXPIRED?s.EXPIRED:Math.abs(o(e.supportEndDate).diff(o(),"years",!0))>10?s.NOT_AVAILABLE:Math.abs(o(e.supportEndDate).diff(o.utc(),"days"))<=90?s.EXPIRING:s.CURRENT}(e),hostname:e.hostname||e.hostName,serialNumber:e.serialNumber||e.arraySn,latestHeartBeat:e.latestHeartBeat?r({},e.latestHeartBeat):null,version:e.version||e.softwareVersion})).latestHeartbeat),e},versionSupported:function(e){return!this.get("version")||(!e||e.get("supported"))},hasHardwareIssues:function(){var e=this.get("latestHeartbeat");return!!e&&(!(o().diff(e.timestamp,"days")>7)&&(!a(e.controllers).chain().pluck("state").difference(["active","standby"]).isEmpty().value()||e.ssdFailedCount||e.hddFailedCount||a(e.controllers).some(function(e){return a(e.components).some(function(e){return"OK"!=e.status})})))},hasHeartbeatWarning:function(){return!this.get("latestHeartbeat")||this.get("latestHeartbeat").isDelayed},hasAsupWarning:function(){return"RECEIVED"!=this.get("sendingAsups")}},{SupportStatus:s})},626:function(e,t,n){var r,a=n(24),i=n(13),o=n(1165),s=n(627),c=i.Object.extend({initialize:function(){var e=this;a.handleRequest("global","get:account:selection",function(){return e.accountSelection},this),this.accountSelection=new o},selectOneAccount:function(e){this.accountSelection.setAccount(new s(e)),a.event("global","change:account",this.accountSelection)}});e.exports={setTenant:function(e){this.getInstance().selectOneAccount(e)},getInstance:function(){return r||(r=new c),r}}},627:function(e,t,n){var r=n(11),a=n(229);e.exports=r.Model.extend({defaults:{id:void 0,name:void 0},urlRoot:(new a).segment("accounts"),isResellerEquivalent:function(){return["Distributor","Sub Distributor","Reseller"].includes(this.get("type"))}})},629:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return c});var r=n(19),a=Object(r.actionNamespacer)("PREFERENCES"),i=a("LOAD_PREFERENCES"),o=a("DISABLE_DIALOG"),s=a("SET_NOTIFICATION"),c=a("ACCEPT_EULA")},630:function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return f}),n.d(t,"d",function(){return g});var r,a=n(9),i=n(19),o=n(629),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var u=s({},Object(i.getInitialState)("preferences"),{dialogs:[],acceptedEulas:[],notifications:{}}),d=s({},Object(i.createReducersForAction)({type:o.c,stateKey:"preferences"}),(c(r={},o.b,function(e,t){var n=t.payload;return s({},e,{dialogs:function(e,t){var n=Object(a.findIndex)(e,t.id);return n>-1?[].concat(l(e.slice(0,n)),[t,e.slice(n+1)]):[].concat(l(e),[t])}(e.dialogs,{id:n,visible:!1})})}),c(r,o.d,function(e,t){var n=t.payload,r=n.type,a=n.subtype,i=n.value;return s({},e,{notifications:s({},e.notifications,c({},r,a?s({},e.notifications[r],c({},a,i)):i))})}),c(r,o.a,function(e,t){var n=t.payload;return s({},e,{acceptedEulas:[].concat(l(e.acceptedEulas),[n])})}),r));function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1],n=d[t.type];return n?n(e,t):e}var h=function(e){return e.preferences},m=function(e,t){var n=t.type,r=t.subtype,a=h(e).notifications;if(a)return r?(a[n]||{})[r]:a[n]},f=function(e,t){var n=Object(a.findWhere)(h(e).dialogs,{id:t});return h(e).loadedPreferences&&(!n||n.visible)},g=function(e,t){var n=h(e).acceptedEulas;return n&&n.includes(t)}},631:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return s});var r=n(19),a=Object(r.actionNamespacer)("ARRAY_DETAIL"),i=a("ARRAY_FETCH"),o=a("ARRAY_HARDWARE_UPGRADE_RECOMMENDATIONS_FETCH"),s=a("RESET")},632:function(e,t,n){"use strict";n.d(t,"e",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return l});var r=n(19),a=Object(r.actionNamespacer)("VOLUME_DETAIL"),i=a("VOLUME_FETCH"),o=a("CAPACITY_FETCH"),s=a("PROTECTION_FETCH"),c=a("PERFORMANCE_FETCH"),l=a("RESET")},643:function(e,t,n){"use strict";n.r(t);var r=n(9),a=n.n(r),i=n(232),o=n.n(i),s=.99,c=10,l=[{name:"Low",max:3,hideScore:!0},{name:"Medium",max:6},{name:"High",max:c+1}],u=o.a.scale([o.a.hsv(0,0,.86),o.a.hsv(0,1,.86)]).mode("hsv").domain([3,10]);t.default={COLOR_SCALE:u,percentileToScore:function(e){function t(e){return Math.log(e)/Math.LN10}var n=c/t(1-s)*t(1-e);return Math.min(n,c)},scoreToClassification:function(e){return a()(l).find(function(t){return e<t.max})},scoreToColor:function(e){return u(Math.max(l[0].max,e))}}},644:function(e,t,n){e.exports={chartLabel:"chartLabel__35DXf",gridRowChartContainer:"gridRowChartContainer__2oQzz",progressContainer:"progressContainer__LETxc",summaryCharts:"summaryCharts__1UN7B",paddedLegend:"paddedLegend__3XTNl"}},646:function(e,t,n){e.exports={"perspective-selector":"perspective-selector__FPZlk",options:"options__1sQg8",optionTitle:"optionTitle__3wTt-","show-more-button":"show-more-button__11_87"}},65:function(e,t,n){"use strict";n.d(t,"b",function(){return a});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e,t){return{min:e.valueOf(),max:t.valueOf()}};t.a=function(e,t){return function(){return{xAxis:r({},a(e,t))}}}},655:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return c});var r=n(19),a=Object(r.actionNamespacer)("POOL_DETAIL"),i=a("POOL_FETCH"),o=a("CAPACITY_FETCH"),s=a("OVERVIEW_FETCH"),c=a("RESET")},656:function(e,t,n){var r=n(9),a=n(11),i=n(10),o=[{label:"1D",id:"1-day",lookback:i.duration(1,"day")},{label:"1W",id:"1-week",lookback:i.duration(1,"week")},{label:"1M",id:"1-month",lookback:i.duration(1,"month")},{label:"3M",id:"3-months",lookback:i.duration(3,"months")},{label:"1Y",id:"1-year",lookback:i.duration(1,"years")}];e.exports=a.Model.extend({defaults:r(o).findWhere({id:"1-week"}),getQueryParams:function(){return this.pick("lookback","min","max")},setLookback:function(e){this.clear({silent:!0}).set(r(o).findWhere({id:e}))},setCustomRange:function(e){this.clear({silent:!0}).set({id:"custom",min:e.min.getTime(),max:e.max.getTime()})},setActualDataRange:function(e,t){var n=e&&t?{start:e,end:t}:null;this.set({actualDataRange:n},{noRefresh:!0})}})},657:function(e,t){e.exports='<div class="sk-three-bounce">\n    <div class="sk-child sk-bounce1"></div>\n    <div class="sk-child sk-bounce2"></div>\n    <div class="sk-child sk-bounce3"></div>\n</div>'},658:function(e,t,n){var r=n(9),a=n(13),i=n(1239);e.exports=a.ItemView.extend({template:r.template(i)})},659:function(e,t,n){var r=n(13),a=n(20),i=n(643).default;e.exports=r.Object.extend({initialize:function(e){this.percentile=e.percentile/100,this.score=i.percentileToScore(this.percentile),this.color=i.COLOR_SCALE(this.score).hex(),this.classification=i.scoreToClassification(this.score)},render:function(){var e=this.classification.name;return this.classification.hideScore||(e+=" ("+a(this.score).format("0")+"/10)"),e}})},660:function(e,t,n){var r=n(342);e.exports={read:r("#66cccc"),write:r("#006666")}},661:function(e,t,n){var r,a=n(24),i=n(9),o=n(11),s=n(662);function c(){return r||(r={},a.handleEvent("global","change:account",function(){r={}})),r}var l=o.Collection.extend({model:s,serialNumber:void 0,category:null,monthRange:12,initialize:function(e,t){i.defaults(this,t),console.assert(!t||t&&t.serialNumber,"serialNumber must be provided")},url:function(){return this.api().array(this.serialNumber).segment("events").addQuery({monthRange:this.monthRange,category:this.category})},fetch:function(e){return this.deferred||(this.deferred=o.Collection.prototype.fetch.call(this,e)),this.deferred}},{get:function(e){var t=c()[e];return t||(t=c()[e]=new l([],{serialNumber:e})),t}});e.exports=l},662:function(e,t,n){var r=n(11);e.exports=r.Model.extend({defaults:{serialNumber:null,date:null,category:null,details:null,change:null,previous:null,current:null,notes:null},getFlagConfig:function(e){var t=this.get("date"),n=this.get("category"),r=this.get("change"),a=this.get("details"),i=this.get("notes"),o=null;switch(i=i?"<br />"+i:"",n){case"SOFTWARE":o={x:t,title:"Software",text:"Software updated to: "+r+i,color:e?null:"#ED254E"};break;case"HARDWARE":o={x:t,title:"Hardware",text:a+" from "+this.get("previous")+" to "+this.get("current")+i,color:e?null:"#090446"};break;case"CAPACITY":o={x:t,title:"Capacity",text:a+". "+r+i,color:e?null:"#F06449"};break;default:console.error("Unexpected array event category: "+n+". Chart may not display correctly.",this.attributes)}return o}})},663:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n(19),a=Object(r.actionNamespacer)("GROUPS_COLLECTION"),i=a("LIST_FETCH"),o=a("RESET")},664:function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return h});var r,a=n(19),i=n(58),o=n(28),s=n(663),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=c({},Object(a.getInitialState)("groups")),d=c((l(r={},o.i,function(){return u}),l(r,s.b,function(){return u}),r),Object(a.createReducersForAction)({type:s.a,stateKey:"groups"}));function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1],n=d[t.type];return n?n(e,t):e}var h=Object(a.createSelector)(function(e){return Object(i.a)(e).groupCollection},"groups")},665:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n(19),a=Object(r.actionNamespacer)("BULLETINS"),i=a("FETCH_BULLETINS"),o=a("RESET")},666:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(8),o=n.n(i),s=n(12),c=n.n(s),l=n(14),u=n.n(l),d=n(17),p=n(91),h=n(27),m=n(344),f=n(667),g=n.n(f),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var v=u.a.bind(g.a),b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),y(t,[{key:"dismiss",value:function(){var e=this.props.bulletins;this.removeBulletins(),e&&e.length&&(new h.default).slash("user","banners","dismissed").put(e.map(function(e){return e.id}))}},{key:"removeBulletins",value:function(){this.props.reset()}},{key:"render",value:function(){return a.a.createElement(p.Modal,{size:"large",hideModalOnPrimaryButtonClick:!0,hideModalOnSecondaryButtonClick:!0,primaryButtonContent:"Dismiss All",secondaryButtonContent:"Hide",title:"Bulletins",onClickPrimaryButton:this.dismiss,onClickSecondaryButton:this.removeBulletins,bodyClassName:v("body"),footerClassName:v("footer"),hide:this.props.closeModal,isStoreDriven:!1,isOpen:!0,hidePrimaryButton:this.props.hidePrimaryButton},this.props.bulletins&&this.props.bulletins.map(function(e){var t=e.contents,n=e.id;return a.a.createElement("div",{key:n,dangerouslySetInnerHTML:{__html:t},className:u()("card-section card",v("bulletin"))})}))}}]),t}();b.displayName="BulletinsModal",b.propTypes={bulletins:o.a.arrayOf(o.a.shape({id:o.a.number.isRequired,contents:o.a.string.isRequired})),reset:o.a.func.isRequired,closeModal:o.a.func.isRequired,hidePrimaryButton:o.a.bool},b.defaultProps={hidePrimaryButton:!1},t.default=Object(d.connect)(null,{reset:m.c})(b)},667:function(e,t,n){e.exports={bulletin:"bulletin__3UmEL",body:"body__udDub",footer:"footer__PvMXm"}},668:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"e",function(){return d});var r=n(19),a=Object(r.actionNamespacer)("ADDRESS_REGISTRY"),i=a("FETCH_ADDRESSES"),o=a("FETCH_ASSETS"),s=a("ADD_ADDRESS"),c=a("EDIT_ADDRESS"),l=a("VALIDATE_ADDRESS"),u=a("SET_DELIVERY_PREFERENCE"),d=a("RESET")},669:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u});var r=n(19),a=n(58),i=n(670),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var s=o({},Object(r.getInitialState)("accounts"),Object(r.getInitialState)("accountsArrays")),c=o(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},i.b,function(){return s}),Object(r.createReducersForAction)({type:i.a,stateKey:"accountsArrays"}));function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1],n=c[t.type];return n?n(e,t):e}var u=Object(r.createSelector)(function(e){return Object(a.a)(e).resellerArrays},"accountsArrays")},670:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=n(19),a=Object(r.actionNamespacer)("RESELLER_DASHBOARD"),i=a("RESET"),o=a("ACCOUNT_ARRAY_FETCH")},672:function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"e",function(){return l});var r=n(19),a=Object(r.actionNamespacer)("SETTINGS/USER"),i=a("FETCH"),o=a("CHANGE_ROLE"),s=a("DELETE"),c=a("CREATE"),l=a("RESET")},679:function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"e",function(){return h}),n.d(t,"d",function(){return m}),n.d(t,"c",function(){return f}),n.d(t,"a",function(){return g});var r=n(105),a=n(1272),i=n(626),o=n.n(i),s=n(24),c=n.n(s),l=n(28),u=n(27);function d(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,i){try{var o=t[a](i),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}var p=function(){return function(){var e=d(regeneratorRuntime.mark(function e(t){var n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(r.getUserProfileApi)();case 3:n=e.sent,a=n.AuthorizationEvaluator,t({type:l.e,payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}},e,void 0,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},h=function(){return function(){var e=d(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(r.getUserProfile)();case 3:n=e.sent,c.a.request("global","get:current:session").set(n),t({type:l.g,payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}},e,void 0,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},m=function(){return function(){var e=d(regeneratorRuntime.mark(function e(t){var n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(r.getActiveTenant)();case 3:if(!(n=e.sent)||"nimble"!==n.type){e.next=12;break}return a=n.id.replace("urn:nimble:"),e.next=8,(new u.default).slash("pod","accounts",a).query({podLocator:"Nimble.Tenant."+a,boundary:"Nimble.Tenant."+a}).get();case 8:i=e.sent,n={tenant:i.data},e.next=13;break;case 12:n&&"infosight"===n.type&&(n=null);case 13:return t({type:l.h,payload:n}),e.next=16,o.a.setTenant(n&&n.tenant);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.error(e.t0);case 21:case"end":return e.stop()}},e,void 0,[[0,18]])}));return function(t){return e.apply(this,arguments)}}()},f=function(){return function(){var e=d(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(a.getConfig)();case 3:n=e.sent,t({type:l.f,payload:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,void 0,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},g=function(e){return e===r.UserContextChangeReason.ExperimentalMode?{type:l.b}:{type:l.i,payload:e}}},718:function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=n(8),o=n.n(i),s=n(12),c=n.n(s),l=n(14),u=n.n(l),d=n(17),p=n(35),h=n(25),m=n(32),f=n.n(m),g=n(16),y=n(9),v=n.n(y),b=n(759),E=n.n(b),O=n(760),C=n.n(O),S=n(720),w=n(385),R=n(30),T=n.n(R),_=n(982),N=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var j=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n.state={treeData:[{loading:!0}],cursor:void 0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),N(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.data,n=e.createTree;this.setState({treeData:n(t)})}},{key:"componentWillReceiveProps",value:function(e){var t=e.data,n=e.createTree;if(this.props.data!==t){var r=n(t);this.setState({treeData:r})}}},{key:"onToggle",value:function(e){var t=this.props.onSelect;e!==this.state.cursor?(this.state.cursor&&(this.state.cursor.active=!1),e.active=!0,this.setState({cursor:e},function(){return t(e.value,e)})):t(e.value)}},{key:"onClickIcon",value:function(e,t){e.toggled=t,this.forceUpdate()}},{key:"render",value:function(){var e=this,t=this.state.treeData;return a.a.createElement("div",{className:this.props.className},a.a.createElement(T.a,{hasData:t,message:this.props.noDataMessage},function(){return a.a.createElement(w.Treebeard,{data:t,onToggle:e.onToggle,onClickIcon:e.onClickIcon,style:_})}))}}]),t}();j.displayName="TreeView";var P=j;j.propTypes={onSelect:o.a.func,createTree:o.a.func.isRequired,data:o.a.any.isRequired,noDataMessage:o.a.string};var A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var x=u.a,L=function(e){var t=e.className,n=e.toggled,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","toggled"]);return a.a.createElement("i",A({className:x(t,"fa",{"fa-caret-right":!n,"fa-caret-down":n})},r))};L.displayName="Caret",L.propTypes={toggled:o.a.bool.isRequired},L.defaultProps={toggled:!1};var k=L,M=P,I=n(61),D=n.n(I),U=n(201),H=n.n(U),F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B=u.a.bind(H.a),V=function(e){var t=e.node,n=t.name,r=t.parent,i=e.onClick;return r.children.length>1?a.a.createElement("span",{onClick:i,className:B("name")},n):a.a.createElement("span",{onClick:i,className:B("name")},r.name," ",a.a.createElement("span",{className:B("sub-name")},n))};V.displayName="PoolNodeHeader",V.propTypes={node:o.a.shape({name:o.a.string,parent:o.a.shape({name:o.a.string})}),onClick:o.a.func};var W=function(e){return a.a.createElement("i",F({className:B("fa fa-th","icon")},e))};W.displayName="PoolNodeIcon";var q=function(e){var t=e.onClick,n=e.onClickIcon,r=e.node,i=r.children&&r.children.length;return a.a.createElement("div",{className:B("node")},a.a.createElement(k,{onClick:i?n:null,toggled:r.toggled,className:B("caret",{invisible:!i})}),a.a.createElement(W,{onClick:t}),a.a.createElement(V,{node:r,onClick:t}))};q.displayName="PoolContainer",q.propTypes={onClick:o.a.func,onClickIcon:o.a.func,node:o.a.object};var z=q,G=function(e){var t=e.className,n=e.node;return a.a.createElement("div",{className:t},a.a.createElement(W,null),a.a.createElement(V,{node:n}))};G.displayName="SelectedPool",G.propTypes={node:o.a.object};var Y=u.a.bind(H.a),K=function(e){var t=e.node;return a.a.createElement("span",{className:Y("name")},t.name)};K.displayName="FolderNodeHeader",K.propTypes={node:o.a.shape({name:o.a.string})};var $=function(){return a.a.createElement("i",{className:Y("fa fa-folder-o","icon")})};$.displayName="FolderNodeIcon";var Q=u.a.bind(H.a),X=function(e){var t=e.node;return a.a.createElement("span",{className:Q("name")},t.name)};X.displayName="ArrayGroupNodeHeader",X.propTypes={node:o.a.shape({name:o.a.string})};var J=function(e){var t=e.node;return a.a.createElement("div",{className:Q("node","disabled","text-muted")},a.a.createElement(k,{toggled:!0,className:Q("caret","invisible")}),a.a.createElement("i",{className:Q("fa fa-server","icon")}),a.a.createElement(X,{node:t}))};J.displayName="ArrayGroupContainer",J.propTypes={node:o.a.object};var Z=J,ee=u.a.bind(H.a),te=function(e){var t=e.onClick,n=e.node,r=e.decorators,i=r.Toggle,o=r.Header;return a.a.createElement("button",{onClick:t,className:ee("node")},a.a.createElement(i,null),a.a.createElement(o,{node:n}))};te.displayName="Container",te.propTypes={onClick:o.a.func,node:o.a.object,decorators:o.a.shape({Toggle:o.a.func.isRequired,Header:o.a.func.isRequired})};var ne=te,re=n(51);function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie={Loading:function(){return a.a.createElement(D.a,null)},Container:z},oe={Loading:function(){return a.a.createElement(D.a,null)},Container:Z},se={Loading:function(){return a.a.createElement(D.a,null)},Container:ne,Toggle:$,Header:K},ce=function(e){return JSON.parse(JSON.stringify(e))};function le(e){var t,n=function(e){return e.children.forEach(function(e){return function(t){var n=r[t.type];n?n(t,e):e&&(e.children[e.children.indexOf(t)]=void 0)}}(e))},r=(ae(t={},re.r,function(e){n(e);var t=e.children.map(function(e){return e.children&&e.children.length>1?e:e.children[0]});Object.assign(e,{children:Object(y.compact)(Object(y.flatten)(t))})}),ae(t,re.b,function(e){n(e);var t=Object(y.compact)(e.children);Object.assign(e,{children:t,decorators:oe,toggled:!0})}),ae(t,re.k,function(e,t){n(e),Object.assign(e,{parent:t,decorators:ie,toggled:!1,children:Object(y.compact)(e.children)})}),ae(t,re.d,function(e,t){Object.assign(e,{parent:t,decorators:se})}),t),a=ce(e);return r[re.r](a),a.children}var ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var de=function(e){var t=e.children,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children"]);return ue({},n,{children:t?function(e){return v()(e).chain().values().map(de).sortBy("name").value()}(t):void 0})},pe=function(e,t,n,r){return{id:e,type:t,name:n,value:r,children:{}}};var he=n(202),me=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var fe=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),me(t,[{key:"createTree",value:function(){var e=this.props.data;return e&&e.length?le(function(e){if(e){var t=e.reduce(function(e,t){var n=t.groupUID,r=t.poolUID,a=t.folderUID,i=t.groupName,o=t.poolName,s=t.folderName;if(e[n]||(e[n]=pe(n,re.b,i)),r){var c=e[n];if(!c.children[r]){var l=ue({},t,{type:re.k});c.children[r]=pe(r,re.k,o,l)}if(a){var u=c.children[r];if(!u.children[a]){var d=ue({},t,{type:re.d});u.children[a]=pe(a,re.d,s,d)}}}return e},{});return de({children:t,id:re.r,type:re.r,name:re.r})}}(e)):[]}},{key:"render",value:function(){var e=this.props,t=e.onSelect,n=e.data,r=e.className;return a.a.createElement(M,{data:n,createTree:this.createTree,onSelect:t,className:r})}}]),t}();fe.displayName="PoolFolderTreeView",fe.propTypes={data:o.a.arrayOf(o.a.shape({arraySn:o.a.string.isRequired,groupUID:o.a.string.isRequired,groupName:o.a.string.isRequired,poolUID:o.a.string.isRequired,poolName:o.a.string.isRequired,folderUID:o.a.string,folderName:o.a.string})),onSelect:o.a.func.isRequired};var ge=Object(d.connect)(function(e){return{data:Object(he.c)(e).relationships}})(fe),ye=n(361),ve=function(e){var t=e.value,n=e.className;if(!t)return a.a.createElement("div",{className:n});switch(t.type){case re.d:return a.a.createElement("div",{className:n},a.a.createElement(ye.b,{name:"Folder"})," ",a.a.createElement("span",null,t.folderName));case re.k:return a.a.createElement("div",{className:n},a.a.createElement(ye.b,{name:"Pool"}),a.a.createElement("span",null," ",t.groupName," ",a.a.createElement("span",{className:"subtitle"},t.poolName)));case re.a:default:return a.a.createElement("div",{className:n},"All Pools")}};ve.propTypes={value:o.a.shape({arraySn:o.a.string,groupUID:o.a.string,groupName:o.a.string,poolUID:o.a.string,poolName:o.a.string,folderName:o.a.string})};var be=ve,Ee=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Oe=u.a.bind(C.a),Ce=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Ee(t,[{key:"onSelectAll",value:function(){this.props.onSelect({type:re.a})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.menuClassName,r=e.onSelect,i=e.value,o=e.disabled;return a.a.createElement(S.a,{className:t,menuClassName:n,value:i,valueRenderer:function(){return a.a.createElement(be,{value:i,className:Oe("selection")})},disabled:o},a.a.createElement("button",{className:Oe("all-pools"),onClick:this.onSelectAll},"All Pools"),a.a.createElement(ge,{onSelect:r,className:Oe("treeview")}))}}]),t}();Ce.displayName="PoolFolderTreeViewDropdown",Ce.propTypes={menuClassName:o.a.string,value:o.a.shape({type:o.a.string.isRequired,name:o.a.string,id:o.a.string}),onSelect:o.a.func.isRequired,disabled:o.a.bool.isRequired},Ce.defaultProps={disabled:!1};var Se=Ce,we=n(19),Re=n(27),Te=function(e){return e===re.c?"null":e},_e=function(e){var t=e.poolUid,n=e.folderId,r=e.lookback;return function(e){var a=Object(we.actionsFor)(re.h,e),i=a.dispatchStart,o=a.dispatchSuccess,s=a.dispatchError;return i(),(new Re.default).pod().account().urlSegment("capacity/pools/"+t+"/folders/"+Te(n)+"/timeSeries").uriAddQuery({monthRange:r}).get().then(function(e){var t=e.data&&e.data.length?e.data:null;o(t)}).catch(s)}},Ne=function(e){var t=e.poolUid,n=e.folderId,r=e.lookback;return function(e){var a=Object(we.actionsFor)(re.g,e),i=a.dispatchStart,o=a.dispatchSuccess,s=a.dispatchError;return i(),(new Re.default).pod().account().urlSegment("capacity/pools/"+t+"/folders/"+Te(n)).uriAddQuery({monthRange:r}).get().then(function(e){var t=e.data&&e.data.length?e.data[0]:null;o(t)}).catch(s)}},je=function(e){var t=e.poolUid,n=e.folderId,r=e.lookback;return function(e){var a=Object(we.actionsFor)(re.e,e),i=a.dispatchStart,o=a.dispatchSuccess,s=a.dispatchError;return i(),(new Re.default).pod().account().urlSegment("capacity/pools/"+t+"/folders/"+Te(n)+"/applications").uriAddQuery({monthRange:r}).get().then(function(e){var t=e.data&&e.data.length?e.data:null;o(t)}).catch(s)}};function Pe(e){return function(t){_e(e)(t),je(e)(t),Ne(e)(t)}}function Ae(){return{type:re.f}}var xe=n(23),Le=n.n(xe),ke=n(155),Me=n(563),Ie=n.n(Me),De=n(63),Ue=n(42),He=n.n(Ue),Fe=n(20),Be=n.n(Fe),Ve=n(305),We=n(565),qe=n.n(We),ze=u.a.bind(qe.a),Ge=new Ve.FillPattern("unusedReservePattern").svgPath(Ve.FillPattern.patterns[0]).strokeWidth(1).strokeColor("#B0CED4").dimensions(5).fillColor("#EEE"),Ye=function(e){var t=e.height,n=e.width,r=e.data;return{chart:{type:"pie",spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0,marginTop:-10,marginRight:0,marginBottom:-10,marginLeft:-20,height:t,width:n},defs:{patterns:[Ge]},title:!1,plotOptions:{pie:{shadow:!1,dataLabels:{enabled:!1},center:[t/2,"50%"]}},tooltip:{enabled:!1},series:[{name:"Series",data:r,showInLegend:!0,size:"100%",innerSize:"85%",borderWidth:0,states:{hover:{enabled:!1}}}],legend:{enabled:!0,layout:"vertical",align:"left",width:0,x:t+20,verticalAlign:"middle",padding:0,margin:0,itemMarginTop:5,itemMarginBottom:5,symbolHeight:10,symbolWidth:10,useHTML:!0,labelFormatter:function(){return'<div class=""'+ze("legend")+'>\n                        <span class=""'+ze("left")+">"+this.name+'</span>\n                        <span class=""'+ze("right")+">"+Be()(this.y).format("0.0 ib")+"</span>\n                    </div>"}}}},Ke=function(e){return e/Math.pow(2,40)},$e=function(e,t){return Be()(Ke(e)).format(function(e){return Ke(e)<25?"0.000":"0"}(t))},Qe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Xe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),Qe(t,[{key:"data",value:function(){var e=this.props,t=e.poolCapacityUsed,n=e.poolFree,r=e.poolUnusedReserve,a=[{name:"Total Usage",y:t,color:"#2d94cf"}];return r&&Object(y.isNumber)(r)&&a.push({name:"Unused Reserve",y:r,color:"url(#unusedReservePattern)"}),a.push({name:"Free Space",y:n,color:"#EEE"}),a}},{key:"config",value:function(){var e=this.props,t=e.poolCapacityUsed,n=e.poolFree,r=e.poolUsedPct,a=e.containerHeight,i=e.containerWidth;if(![t,n,r].every(y.isNumber))return null;var o=Ye({height:a,width:i,data:this.data()});return o.title={text:'<div style="width: '+a+'px" class="'+qe.a.value+'">\n                        '+Be()(r).format("0")+"%\n                   </div>",useHTML:!0,align:"left",y:10,verticalAlign:"middle",style:{"text-align":"center","font-size":"24px","font-family":"'Helvetica Neue', Helvetica, Roboto, Arial, sans-serif",color:"#444"}},o}},{key:"render",value:function(){var e=this.config();return a.a.createElement(T.a,{hasData:!!e},function(){return a.a.createElement(De.ReactHighcharts,{config:e})})}}]),t}();Xe.displayName="PoolUsageChart",Xe.propTypes={poolCapacityUsed:o.a.number.isRequired,poolFree:o.a.number.isRequired,poolUnusedReserve:o.a.number.isRequired,poolUsedPct:o.a.number.isRequired,containerHeight:o.a.number.isRequired,containerWidth:o.a.number.isRequired},Xe.defaultProps={containerHeight:0,containerWidth:0};He()({elementResize:!0})(Xe);var Je=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ze=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),Je(t,[{key:"data",value:function(){var e=this.props,t=e.volumeUsage,n=e.snapshotUsage,r=e.unusedReserve,a=e.limit,i=[{name:"Volume Usage",y:t,color:"#2d94cf"},{name:"Snapshot Usage",y:n,color:"#66CCCC"}];return 0!==r&&i.push({name:"Unused Reserve",y:r,color:"url(#unusedReservePattern)"}),i.push({name:"Unused",y:a-(t+n+r),color:"#EEE"}),i}},{key:"config",value:function(){var e=this.props,t=e.volumeUsage,n=e.snapshotUsage,r=e.unusedReserve,a=e.containerHeight;return[t,n,r].every(y.isNumber)?Ye({height:a,data:this.data()}):null}},{key:"render",value:function(){var e=this.config();return a.a.createElement(T.a,{hasData:!!e},function(){return a.a.createElement(De.ReactHighcharts,{config:e})})}}]),t}();Ze.displayName="FolderUsageChart",Ze.propTypes={volumeUsage:o.a.number,snapshotUsage:o.a.number,unusedReserve:o.a.number,limit:o.a.number,containerHeight:o.a.number};He()({elementResize:!0})(Ze);var et=n(1030),tt=n.n(et),nt=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),rt=u.a.bind(tt.a),at=function(e){var t=e.swatchClassName,n=e.color,r=e.name,i=e.value,o=Be()(i).format("0.00 ib").split(" "),s=nt(o,2),c=s[0],l=s[1];return a.a.createElement("div",{className:u()(rt("legend"))},a.a.createElement("span",{className:rt("legend-name")},a.a.createElement("i",{className:u()(t,rt("swatch")),style:{backgroundColor:n}}),r),a.a.createElement("span",{className:rt("legend-value")},c),a.a.createElement("span",{className:rt("legend-unit")},l))};at.displayName="LegendItem",at.propTypes={color:o.a.string,name:o.a.string.isRequired,value:o.a.number.isRequired,swatchClassName:o.a.string};var it=function(e){var t=e.className,n=e.volumeUsage,r=e.snapshotUsage,i=e.unusedReserve,o=e.limit,s=!0,c=(n||0)+(r||0)+(i||0),l=o-c;l>0?(c=o,s=!1):l=0;var u=function(e){return Be()(e/c).format("0%")},d=u(o),p=u(n),h=u(r),m=u(i);return a.a.createElement("div",{className:t},a.a.createElement("div",{className:rt("bar-chart")},a.a.createElement("div",{className:rt("bar",{"is-zero":"0%"===p}),style:{width:p,backgroundColor:"#2d94cf"}}),a.a.createElement("div",{className:rt("bar",{"is-zero":"0%"===h}),style:{width:h,backgroundColor:"#66CCCC"}}),!!i&&a.a.createElement("div",{className:rt("striped","bar",{"is-zero":"0%"===m}),style:{width:m}}),s&&a.a.createElement("div",{className:rt("caret"),style:{left:d}},a.a.createElement("i",{className:"fa fa-caret-up",style:{position:"relative",left:"-0.4ch"}}))),a.a.createElement("div",{className:rt("legend-container")},a.a.createElement(at,{name:"Volume Usage",value:n,color:"#2d94cf"}),a.a.createElement(at,{name:"Snapshot Usage",value:r,color:"#66CCCC"}),!!i&&a.a.createElement(at,{name:"Unused Reserve",value:i,swatchClassName:rt("striped"),color:"white"}),a.a.createElement(at,{name:"Limit",value:o,color:"#f1c232"}),!!l&&a.a.createElement(at,{name:"Free Space",value:l,color:"#EEF0F2"})))};it.displayName="FolderUsageBarChart",it.propTypes={volumeUsage:o.a.number,snapshotUsage:o.a.number,unusedReserve:o.a.number,limit:o.a.number};var ot=it,st=n(52),ct=n(86),lt=n.n(ct),ut=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"totalUsed";return e&&e.length?Math.max.apply(null,Object(y.compact)(Object(y.pluck)(e,t))):null},dt=function(e){return e?Object(y.sortBy)(e,function(e){return 0-e.totalUsed}):null},pt=n(15),ht=n.n(pt);var mt=function(e){var t=e.className,n=e.value,r=e.min,i=e.max,o=e.color;if(!Object(y.isNumber)(r)||!Object(y.isNumber)(i)||!Object(y.isNumber)(n))return null;var s={width:function(e,t,n){if(t<=e||n>t||n<e)throw new Error("Invalid input min: "+e+", max: "+t+", value: "+n+".\nValid cases are max !== min, value <= max, value >= min");return 100*(n-e)/(t-e)}(r,i,n)+"%",backgroundColor:o};return a.a.createElement("span",{className:ht()("progress-bar",t),style:s})};mt.displayName="Bar",mt.propTypes={value:o.a.number,min:o.a.number,max:o.a.number,color:o.a.string},mt.defaultProps={value:0,min:0,max:100};var ft=mt,gt=(n(590),function(e){var t=e.className,n=e.value,r=e.min,i=e.max,o=e.color,s=e.context;return Object(y.isNumber)(r)&&Object(y.isNumber)(i)&&Object(y.isNumber)(n)?a.a.createElement("div",{className:ht()(t,"progress",s),"aria-valuemax":i,"aria-valuemin":r,"aria-valuenow":n,role:"progressbar"},a.a.createElement(ft,{value:n,color:o,max:i,min:r})):null});gt.displayName="Progress",gt.propTypes={value:o.a.number,min:o.a.number,max:o.a.number,color:o.a.string,context:o.a.oneOf(["chart","thin"])},gt.defaultProps={value:0,min:0,max:100,context:"thin"};var yt=gt,vt=function(e){var t=e.className,n=e.values,r=e.min,i=e.max,o=e.colors,s=e.context;return Object(y.isNumber)(r)&&Object(y.isNumber)(i)&&n.length===o.length?a.a.createElement("div",{className:ht()(t,"progress",s),"aria-valuemax":i,"aria-valuemin":r,role:"progressbar"},n.map(function(e,t){return a.a.createElement(ft,{key:o[t],value:e,color:o[t],min:r,max:i})})):null};vt.displayName="StackedProgress",vt.propTypes={min:o.a.number,max:o.a.number,values:o.a.arrayOf(o.a.number),colors:o.a.arrayOf(o.a.string),context:o.a.oneOf(["chart","thin"])},vt.defaultProps={min:0,max:100,context:"thin"};var bt=vt,Et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var St=new(function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"object"===(void 0===t?"undefined":Ot(t))){var n=t.block,r=t.element,a=t.modifier,i=t.chainable,o=void 0!==i&&i;Object.assign(this,{block:n,element:r,modifier:a,chainable:o})}else{if("string"!=typeof t)throw new Error("contructor argument must be a string or object");this.block=t}}return Ct(e,null,[{key:"nextValue",value:function(e){return e.chainable?e:e.valueOf()}}]),Ct(e,[{key:"cloneWith",value:function(t){return new e(Et({},this,t))}},{key:"e",value:function(t){return e.nextValue(this.cloneWith({element:t}))}},{key:"m",value:function(t){return e.nextValue(this.cloneWith({modifier:t}))}},{key:"valueOf",value:function(){var e=this.block,t=this.element,n=this.modifier,r=e;return t&&(r=r+"__"+t),n&&(r=r+"--"+n),r}},{key:"chain",value:function(){return e.nextValue(this.cloneWith({chainable:!0}))}}]),e}())("nmbl-ProgressWithValue"),wt=function(e){var t=e.className,n=e.children,r=e.leftLabel,i=e.rightLabel;return n.type!==yt&&n.type!==bt?null:a.a.createElement("div",{className:ht()(t,St.valueOf(),"clearfix")},!!r&&a.a.createElement("span",{className:ht()(St.e("left"))},r),!!i&&a.a.createElement("span",{className:ht()(St.e("right"))},i),n)};wt.displayName="ProgressWithValue",wt.propTypes={children:o.a.element.isRequired,leftLabel:o.a.node,rightLabel:o.a.node};var Rt=wt,Tt=n(177),_t=n(158),Nt=n.n(_t),jt=n(311),Pt=n.n(jt),At=u.a.bind(Pt.a);function xt(e){var t=e.className,n=e.name,r=e.savings,i=e.factor;return a.a.createElement("div",{className:At("detail",t)},a.a.createElement("div",{className:At("savings-name")},n),a.a.createElement("div",{className:At("savings-value")},void 0!==r?Be()(r).format("0.0 ib"):null,void 0!==i?" | "+i+"x":null,void 0===r&&void 0===i?"N/A":null))}xt.displayName="SavingsDetail",xt.propTypes={name:o.a.string.isRequired,savings:o.a.number,factor:o.a.number};var Lt=xt,kt=u.a.bind(Pt.a),Mt=function(e){var t=e.cloneSavings,n=e.dedupSavings,r=e.compressionSavings;return a.a.createElement("div",{className:kt("popover")},Object(y.isNumber)(t)&&t>0&&a.a.createElement(Lt,{name:"Clones",savings:t}),Object(y.isNumber)(n)&&n>0&&a.a.createElement(Lt,{name:"Deduplication",savings:n}),Object(y.isNumber)(r)&&r>0&&a.a.createElement(Lt,{name:"Compression",savings:r}))};Mt.displayName="Popover",Mt.propTypes={cloneSavings:o.a.number,dedupSavings:o.a.number,compressionSavings:o.a.number};var It=Mt;var Dt=u.a.bind(Pt.a);function Ut(e){var t=e.className,n=e.children,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","children"]);return a.a.createElement(Nt.a,{trigger:"hover",overlay:a.a.createElement(It,r),placement:"bottom"},a.a.createElement("div",{className:Dt(t,"popover-link")},n))}Ut.displayName="SavingsBreakdownPopover",Ut.propTypes={cloneSavings:o.a.number,dedupSavings:o.a.number,compressionSavings:o.a.number,children:o.a.node};var Ht=Ut,Ft=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Bt=function(e,t){return{categories:["space"],columns:[{Header:"Application",accessor:"applicationCategory",minWidth:st.COLUMN_WIDTHS.LARGE,Cell:function(e){var t=e.original.applicationCategory;return a.a.createElement(Tt.a,{iconName:t,inline:!0})}},{Header:"Volumes",accessor:"volumeCount",minWidth:st.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.volumeCount;return a.a.createElement("span",null,t)}},{Header:"Volume Usage",accessor:"volumeUsed",minWidth:st.COLUMN_WIDTHS.XLARGE,style:{marginTop:"5px"},Cell:function(t){var n=t.original.volumeUsed;return a.a.createElement(Rt,{leftLabel:Be()(n).format("0.0 ib")},a.a.createElement(yt,{color:"#2d94cf",max:e,value:n}))}},{Header:"Snapshot Usage",accessor:"snapshotUsed",minWidth:st.COLUMN_WIDTHS.XLARGE,style:{marginTop:"5px"},Cell:function(t){var n=t.original.snapshotUsed;return a.a.createElement(Rt,{leftLabel:Be()(n).format("0.0 ib")},a.a.createElement(yt,{color:"#66CCCC",max:e,value:n}))}},{Header:"Physical Usage (After Deduplication)",accessor:"totalPhysicalUsed",minWidth:st.COLUMN_WIDTHS.XLARGE,style:{marginTop:"5px"},Cell:function(e){var n=e.original.totalPhysicalUsed;return a.a.createElement(Rt,{leftLabel:Be()(n).format("0.00 ib")},a.a.createElement(yt,{color:"#2d94cf",max:t,value:n}))}},{Header:"Past Growth (days)",headerClassName:"text-center",columns:[{Header:"90",headerClassName:"text-right",accessor:"growthPct90day",filterable:!1,className:"text-right",minWidth:st.COLUMN_WIDTHS.XSMALL,Cell:function(e){var t=e.original.growthPct90day;return null===t?"":a.a.createElement(lt.a,{value:t,isPercent:!0})}},{Header:"60",headerClassName:"text-right",accessor:"growthPct60day",filterable:!1,className:"text-right",minWidth:st.COLUMN_WIDTHS.XSMALL,Cell:function(e){var t=e.original.growthPct60day;return null===t?"":a.a.createElement(lt.a,{value:t,isPercent:!0})}},{Header:"30",headerClassName:"text-right",accessor:"growthPct30day",filterable:!1,className:"text-right",minWidth:st.COLUMN_WIDTHS.XSMALL,Cell:function(e){var t=e.original.growthPct30day;return null===t?"":a.a.createElement(lt.a,{value:t,isPercent:!0})}}]},{Header:"Savings",accessor:"totalPhysicalUsed",minWidth:st.COLUMN_WIDTHS.MEDIUM,Cell:function(e){var t=e.original,n=t.savingsFactor,r=t.totalSavings,i=null;if(void 0!==r){var o=Be()(r).format("0.0 ib").split(" "),s=Ft(o,2);i=s[0]+" "+(s[1]||"B"),void 0!==n&&(i=i+" | "+Be()(n).format("0.00")+"x")}return r<=0?a.a.createElement("span",null,i):a.a.createElement(Ht,t,i)}}]}},Vt=n(159),Wt=n.n(Vt),qt=u.a.bind(Wt.a);function zt(e){var t=e.values,n=e.loadingCollection,r=e.userName,i=dt(t||[]),o=ut(i),s=ut(i,"totalPhysicalUsed"),c=Bt(o,s),l=c.columns,u=c.categories;return a.a.createElement("div",{className:qt("applications-container")},a.a.createElement(st.ClientControlledTable,{tableId:r+"_NIMBLE_APPLICATIONS_CAPACITY",data:i||[],columns:l,categories:u,loading:n,syncUrl:!1}))}zt.displayName="ApplicationsTable",zt.propTypes={loadingCollection:o.a.bool.isRequired,userName:o.a.string,values:o.a.arrayOf(o.a.shape({applicationCategory:o.a.string,volumeCount:o.a.number.isRequired,volumeUsed:o.a.number.isRequired,snapshotUsed:o.a.number.isRequired,totalUsed:o.a.number.isRequired,growthPct30day:o.a.number,growthPct60day:o.a.number,growthPct90day:o.a.number}))};var Gt=zt,Yt=n(125),Kt=function(){return{categories:["space"],columns:[{Header:"Folder",accessor:"folderName",filterable:!0,minWidth:st.COLUMN_WIDTHS.LARGE,Cell:function(e){var t=e.original,n=t.poolUID,r=t.folderName;return a.a.createElement("a",{href:"#capacity-report?pool="+n+"&folder="+r},r||re.c)}},{Header:"Volumes",accessor:"volumeCount",minWidth:st.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.volumeCount;return a.a.createElement("span",null,t)}},{Header:"Volume Usage",accessor:"volumeUsed",minWidth:st.COLUMN_WIDTHS.XLARGE,style:{marginTop:"5px"},Cell:function(e){var t=e.original,n=t.volumeUsed,r=t.folderLimit,i=t.totalUsed;return a.a.createElement(Yt.ProgressWithValue,{leftLabel:Be()(n).format("0.0 ib")},a.a.createElement(Yt.Progress,{color:"#2d94cf",max:Object(y.max)([0,r,i]),value:n}))}},{Header:"Snapshot Usage",accessor:"snapshotUsed",minWidth:st.COLUMN_WIDTHS.XLARGE,style:{marginTop:"5px"},Cell:function(e){var t=e.original,n=t.snapshotUsed,r=t.folderLimit,i=t.totalUsed;return a.a.createElement(Yt.ProgressWithValue,{leftLabel:Be()(n).format("0.0 ib")},a.a.createElement(Yt.Progress,{color:"#66CCCC",max:Object(y.max)([0,r,i]),value:n}))}},{Header:"Total Usage",accessor:"totalUsed",minWidth:st.COLUMN_WIDTHS.XLARGE,style:{marginTop:"5px"},Cell:function(e){var t=e.original,n=t.volumeUsed,r=t.snapshotUsed,i=t.folderLimit,o=t.totalUsed,s=o,c="No limit";if(i>0){var l=o>=i;s=l?o:i,c=l?a.a.createElement("span",{className:Wt.a.warning},"Exceeds limit"):Be()(i).format("0.0 ib")}return a.a.createElement(Yt.ProgressWithValue,{leftLabel:Be()(o).format("0.00 ib"),rightLabel:c},a.a.createElement(Yt.StackedProgress,{values:[n,r],colors:["#2d94cf","#66CCCC"],max:s,context:"thin"}))}},{Header:"Limit",accessor:"folderLimit",minWidth:st.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.folderLimit;return t?Be()(t).format("0.0 ib"):"No limit"}},{Header:"% Free",accessor:"percentFree",minWidth:st.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.percentFree;return t>1?null:t<=.1?a.a.createElement("span",{className:Wt.a.warning},Be()(t<0?0:t).format("0%")):Be()(t).format("0%")}},{Header:"Past Growth (days)",headerClassName:"text-center",columns:[{Header:"90",headerClassName:"text-right",accessor:"growthPct90day",filterable:!1,className:"text-right",minWidth:st.COLUMN_WIDTHS.XSMALL,Cell:function(e){var t=e.original.growthPct90day;return null===t?"":a.a.createElement(lt.a,{value:t,isPercent:!0})}},{Header:"60",headerClassName:"text-right",accessor:"growthPct60day",filterable:!1,className:"text-right",minWidth:st.COLUMN_WIDTHS.XSMALL,Cell:function(e){var t=e.original.growthPct60day;return null===t?"":a.a.createElement(lt.a,{value:t,isPercent:!0})}},{Header:"30",headerClassName:"text-right",accessor:"growthPct30day",filterable:!1,className:"text-right",minWidth:st.COLUMN_WIDTHS.XSMALL,Cell:function(e){var t=e.original.growthPct30day;return null===t?"":a.a.createElement(lt.a,{value:t,isPercent:!0})}}]}]}},$t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qt=u.a.bind(Wt.a);function Xt(e){var t=e.values,n=e.loadingCollection,r=e.userName,i=dt(t),o=i&&i.map(function(e){return $t({},e,{percentFree:e.folderLimit?1-e.totalUsed/e.folderLimit:2})}),s=Kt(),c=s.columns,l=s.categories;return a.a.createElement("div",{className:Qt("container")},a.a.createElement(st.ClientControlledTable,{tableId:r+"_NIMBLE_FOLDERS_CAPACITY",data:o||[],columns:c,categories:l,loading:n,syncUrl:!1}))}Xt.displayName="FoldersTable",Xt.propTypes={loadingCollection:o.a.bool.isRequired,userName:o.a.string,values:o.a.arrayOf(o.a.shape({folderName:o.a.string,volumeCount:o.a.number.isRequired,volumeUsed:o.a.number.isRequired,snapshotUsed:o.a.number.isRequired,totalUsed:o.a.number.isRequired,growthPct30day:o.a.number,growthPct60day:o.a.number,growthPct90day:o.a.number,folderLimit:o.a.number}))};var Jt=Xt,Zt=n(49),en=n(725),tn=n(218),nn=u.a.bind(Wt.a),rn=function(e){var t=e.poolUid,n=e.config,r=e.userName,i=t?{type:Zt.a.POOL,id:t}:null;return a.a.createElement("div",{className:nn("container")},a.a.createElement(en.a,{tableId:r+"_NIMBLE_POOLS_CAPACITY",scope:i,config:n,enabledFieldSets:[tn.e],syncUrl:!1,disableDefaultSort:!0}))};rn.displayName="PoolsTable",rn.propTypes={poolUid:o.a.string,userName:o.a.string,config:o.a.object};var an=rn,on=n(726),sn=n(223),cn=u.a.bind(Wt.a);function ln(e){var t=e.poolUid,n=e.folderId,r=e.config,i=e.userName,o=null,s=null;return(t||n)&&(n===re.c?(o={type:Zt.a.POOL,id:t},s=[{field:"_scope_folderUid",$eq:null}]):o={id:n||t,type:n?Zt.a.FOLDER:Zt.a.POOL}),a.a.createElement("div",{className:cn("container")},a.a.createElement(on.a,{tableId:i+"_NIMBLE_VOLUMES_CAPACITY",scope:o,filters:s,config:r,enabledFieldSets:[sn.g],syncUrl:!1,disableDefaultSort:!0}))}ln.displayName="VolumesTable",ln.propTypes={poolUid:o.a.string,folderId:o.a.string,config:o.a.object,userName:o.a.string};var un=ln,dn=n(89),pn=n.n(dn),hn=n(39),mn=n(65),fn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var gn=pn()({valueFormatter:function(e){return Be()(e.y).format("0.0 ib")},xValueFormatter:function(e){return Object(dn.Timestamp)(e.x,"L")}}),yn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),fn(t,[{key:"shouldComponentUpdate",value:function(e){var t=e.timeSeries,n=e.containerHeight,r=e.chartRangeStart,a=e.chartRangeEnd;return!(r.isSame(this.props.chartRangeStart)&&a.isSame(this.props.chartRangeEnd)&&t===this.props.timeSeries&&n===this.props.containerHeight)}},{key:"config",value:function(){var e=this,t=this.props,n=t.chartRangeStart,r=t.chartRangeEnd,a=t.timeSeries,i={timeSeriesStart:r,timeSeriesEnd:n},o=a.find(function(e){return null!==e.totalUsed});o&&(i.timeSeriesStart=Math.min(i.timeSeriesStart,o.asupLocalDate));var s=a.concat().reverse().find(function(e){return null!==e.totalUsed});return s&&(i.timeSeriesEnd=Math.max(i.timeSeriesEnd,s.asupLocalDate)),{chart:{height:this.props.containerHeight,spacingTop:20,resetZoomButton:{theme:{display:"none"}}},title:!1,xAxis:Object(mn.b)(n,r),yAxis:{title:{text:"USAGE (TiB)"},labels:{formatter:function(){return $e(this.value,this.axis.dataMax)},zIndex:6},plotLines:[.25,.5,.75].map(function(t){return{color:hn.CHART_COLORS.plotBandGrey,dashStyle:"ShortDot",value:e.finalCapacity()*t,width:2}})},legend:{enabled:!0,symbolHeight:10,symbolWidth:10,labelFormatter:function(){var e=Object(y.last)(this.yData);return"LIMIT"===this.userOptions.id?this.name+" "+$e(e,e)+" TiB":this.name}},series:[this.totalUsageSeries(),this.limitSeries()]}}},{key:"totalUsageSeries",value:function(){return{type:"area",color:hn.CHART_COLORS.blue,fillColor:hn.CHART_COLORS.blueLight,name:"Total Usage",data:this.props.timeSeries.map(function(e){return{x:e.asupLocalDate,y:e.totalUsed}}),events:{legendItemClick:function(e){e.preventDefault()}},marker:{enabled:!1}}}},{key:"limitSeries",value:function(){var e=this.props.timeSeries.map(function(e){return{x:e.asupLocalDate,y:e.folderLimit}});return{type:"line",color:hn.CHART_COLORS.warningYellow,dashStyle:"Dash",name:"Limit",data:e,id:"LIMIT",marker:{enabled:!1},step:!0}}},{key:"finalCapacity",value:function(){return function(e){return e*Math.pow(2,20)}(Object(y.last)(this.props.timeSeries).folderLimit)}},{key:"render",value:function(){var e=this,t=this.props.timeSeries&&this.props.timeSeries.length>0;return a.a.createElement(T.a,{hasData:t,message:"No capacity history data available."},function(){return a.a.createElement(gn,{config:e.config()})})}}]),t}();yn.displayName="FolderCapacityTimeSeries",yn.propTypes={timeSeries:o.a.arrayOf(o.a.shape({asupLocalDate:o.a.number,totalUsed:o.a.number,folderLimit:o.a.number})),chartRangeStart:o.a.object,chartRangeEnd:o.a.object,containerHeight:o.a.number.isRequired},yn.defaultProps={containerHeight:0};var vn=He()({elementResize:!0})(yn),bn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var En=pn()({getPoints:function(e){var t=e.points;return[t[1],t[0]].concat(t.slice(2)).filter(function(e){return"DEGRADATION"!==e.series.options.id})},valueFormatter:function(e){return Be()(e.y).format("0.0 ib")},xValueFormatter:function(e){return Object(dn.Timestamp)(e.x,"L")}}),On=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),bn(t,[{key:"shouldComponentUpdate",value:function(e){var t=e.timeSeries,n=e.containerHeight,r=e.containerWidth,a=e.chartRangeStart,i=e.chartRangeEnd;return!(a.isSame(this.props.chartRangeStart)&&i.isSame(this.props.chartRangeEnd)&&t===this.props.timeSeries&&n===this.props.containerHeight&&r===this.props.containerWidth)}},{key:"config",value:function(){var e=this,t=this.maxCapacity(),n=this.finalCapacity(),r=this.props,a=r.chartRangeStart,i=r.chartRangeEnd,o=r.timeSeries,s={timeSeriesStart:i,timeSeriesEnd:a},c=o.find(function(e){return null!==e.used});c&&(s.timeSeriesStart=Math.min(s.timeSeriesStart,c.asupLocalDate));var l=o.concat().reverse().find(function(e){return null!==e.used});return l&&(s.timeSeriesEnd=Math.max(s.timeSeriesEnd,l.asupLocalDate)),{chart:{width:this.props.containerWidth,height:this.props.containerHeight,spacingBottom:0,spacingTop:20,marginTop:30,type:"area",resetZoomButton:{theme:{display:"none"}}},title:!1,xAxis:Object(mn.b)(a,i),yAxis:{title:{text:"USAGE (TiB)"},labels:{formatter:function(){return $e(this.value,t)}},plotLines:[.25,.5,.75].map(function(t){return{color:hn.CHART_COLORS.plotBandGrey,dashStyle:"ShortDot",value:e.finalCapacity()*t,width:2}})},legend:{enabled:!0,symbolHeight:10,symbolWidth:10,labelFormatter:function(){return"CAPACITY"===this.userOptions.id?this.name+" "+Be()(n).format("0 ib"):this.name}},series:[this.savingsSeries(),this.totalUsageSeries(),this.maxCapacitySeries(),this.performanceDegradationCapacitySeries()],plotOptions:{area:{animation:!1,stacking:"normal",marker:{enabled:!1}},line:{marker:{enabled:!1,width:0,height:0,states:{hover:{enabled:!1}}}}}}}},{key:"savingsSeries",value:function(){return{color:hn.CHART_COLORS.teal,fillColor:hn.CHART_COLORS.tealLight,name:"Savings",data:this.props.timeSeries.map(function(e){return{x:e.asupLocalDate,y:e.savingsTotal}}),legendIndex:2,visible:!1}}},{key:"totalUsageSeries",value:function(){return{color:hn.CHART_COLORS.blue,fillColor:hn.CHART_COLORS.blueLight,name:"Total Usage",data:this.props.timeSeries.map(function(e){return{x:e.asupLocalDate,y:e.used}}),legendIndex:1,events:{legendItemClick:function(e){e.preventDefault()}}}}},{key:"maxCapacitySeries",value:function(){return{type:"line",color:"#D3524D",lineWidth:2,legendIndex:10,id:"CAPACITY",name:"Capacity",data:this.props.timeSeries.map(function(e){return{x:e.asupLocalDate,y:e.capacity}}),step:!0}}},{key:"performanceDegradationCapacitySeries",value:function(){return{type:"line",color:"#D3524D",lineWidth:2,dashStyle:"dot",legendIndex:11,id:"DEGRADATION",name:"Performance Degradation Threshold (90%)",data:this.props.timeSeries.map(function(e){return{x:e.asupLocalDate,y:Object(y.isNumber)(e.capacity)?.9*e.capacity:e.capacity}}),step:!0,marker:{enabled:!1}}}},{key:"maxCapacity",value:function(){return Math.max.apply(null,Object(y.pluck)(this.props.timeSeries,"capacity"))}},{key:"finalCapacity",value:function(){return Object(y.last)(this.props.timeSeries).capacity}},{key:"render",value:function(){var e=this,t=this.props.timeSeries&&this.props.timeSeries.length>0;return a.a.createElement(T.a,{hasData:t,message:"No capacity history data available."},function(){return a.a.createElement(En,{config:e.config()})})}}]),t}();On.displayName="PoolCapacityTimeSeries",On.propTypes={timeSeries:o.a.arrayOf(o.a.shape({asupLocalDate:o.a.number,used:o.a.number,capacity:o.a.number,savingsTotal:o.a.number})),chartRangeStart:o.a.object,chartRangeEnd:o.a.object,containerWidth:o.a.number,containerHeight:o.a.number.isRequired},On.defaultProps={containerWidth:0,containerHeight:0};var Cn=He()({elementResize:!0})(On),Sn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var wn=pn()({valueFormatter:function(e){return Be()(e.y).format("0.0 ib")},xValueFormatter:function(e){return Object(dn.Timestamp)(e.x,"L")},leftJustifyPoints:!0}),Rn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Sn(t,[{key:"shouldComponentUpdate",value:function(e){var t=e.pools,n=e.containerHeight,r=e.containerWidth,a=e.chartRangeStart,i=e.chartRangeEnd;return!(a.isSame(this.props.chartRangeStart)&&i.isSame(this.props.chartRangeEnd)&&t===this.props.pools&&n===this.props.containerHeight&&r===this.props.containerWidth)}},{key:"config",value:function(){var e=this.props,t=e.pools,n=e.chartRangeStart,r=e.chartRangeEnd;return{chart:{width:this.props.containerWidth,height:this.props.containerHeight,spacingBottom:0,spacingTop:20,marginTop:40,type:"area",resetZoomButton:{theme:{display:"none"}}},title:!1,xAxis:Object(mn.b)(n,r),yAxis:{title:{text:"USAGE (TiB)"},labels:{formatter:function(){return Be()(this.value/Math.pow(2,40)).format("0.0")}}},legend:{enabled:!0,symbolHeight:10,symbolWidth:10},series:t.map(function(e,t){return{name:e.poolName,data:e.timeSeries.map(function(e){return{x:e.asupLocalDate,y:e.used}}),legendIndex:t}}),plotOptions:{area:{animation:!1,stacking:"normal",marker:{enabled:!1}},line:{marker:{enabled:!1,width:0,height:0,states:{hover:{enabled:!1}}}}}}}},{key:"render",value:function(){var e=this,t=this.props.pools&&this.props.pools.length>0;return a.a.createElement(T.a,{hasData:t,message:"No capacity history data available."},function(){return a.a.createElement(wn,{config:e.config()})})}}]),t}();Rn.displayName="TopPoolsCapacityTimeSeries",Rn.propTypes={pools:o.a.arrayOf(o.a.shape({poolUID:o.a.string,poolName:o.a.string,timeSeries:o.a.arrayOf(o.a.shape({asupLocalDate:o.a.number,used:o.a.number}))})),chartRangeStart:o.a.object,chartRangeEnd:o.a.object,containerWidth:o.a.number,containerHeight:o.a.number.isRequired},Rn.defaultProps={containerWidth:0,containerHeight:0};var Tn=He()({elementResize:!0})(Rn),_n=n(318),Nn=n.n(_n),jn=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Pn=u.a.bind(Nn.a),An=function(e){return Object(y.isNumber)(e)?Be()(e).format(function(e){return e>=1024?"0.0 ib":"0 ib"}(e)).split(" "):[null,null]};function xn(e){var t=e.totalUsage,n=e.growthPctLastWeek,r=e.capacity,i=e.className,o=e.children;if(!Object(y.isNumber)(t))return a.a.createElement("div",{className:i},a.a.createElement("div",{className:Pn("metric")},a.a.createElement("span",{className:Pn("value")},"N/A")));var s=An(t),c=jn(s,2),l=c[0],u=c[1],d=An(r),p=jn(d,2),h=p[0],m=p[1],f=void 0;return n&&(f=a.a.createElement("span",null,a.a.createElement(lt.a,{percent:n,precision:1,isPercent:!0})," past 7 days")),a.a.createElement("div",{className:i},a.a.createElement("div",{className:Pn("subtitle")},"Total Usage"),a.a.createElement("div",{className:Pn("metric")},a.a.createElement("span",{className:Pn("value")},l),a.a.createElement("span",{className:Pn("unit")},u),a.a.createElement("span",{className:Pn("muted")},h?" of ":null),a.a.createElement("span",{className:Pn("value","muted")},h),a.a.createElement("span",{className:Pn("unit","muted")},m)),f,o)}xn.displayName="TotalUsage",xn.propTypes={totalUsage:o.a.number,capacity:o.a.number,growthPctLastWeek:o.a.number,children:o.a.node};var Ln=xn;function kn(e){var t=e.className,n=e.volumeCount,r=e.totalAllocated,i=void 0;Object(y.isNumber)(r)&&(i=a.a.createElement("span",null,Be()(r).format("0.0 ib")," allocated"));var o=n||0===n?Be()(n).format("0,0"):"N/A";return a.a.createElement("div",{className:t},a.a.createElement("div",{className:Nn.a.subtitle},"Volumes"),a.a.createElement("div",{className:Nn.a.metric},a.a.createElement("span",{className:Nn.a.value},o)),i)}kn.displayName="Volumes",kn.propTypes={volumeCount:o.a.number,totalAllocated:o.a.number};var Mn=kn;function In(e){var t=e.className,n=e.recentIssuesCount;return Object(y.isNumber)(n)?a.a.createElement("div",{className:t},a.a.createElement("div",{className:Nn.a.subtitle},"Recent Issues"),a.a.createElement("div",{className:Nn.a.metric},a.a.createElement("span",{className:Nn.a.value},n||"N/A"))):null}In.displayName="RecentIssues",In.propTypes={recentIssuesCount:o.a.number.isRequired};var Dn=In,Un=n(1141),Hn=n.n(Un),Fn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bn=u.a.bind(Hn.a);function Vn(e){var t=e.type,n=e.message,r=e.tooltip,i={"fa-info":"info"===t,"fa-check":"success"===t,"fa-exclamation":"error"===t||"warning"===t,"text-success":"success"===t,"text-danger":"error"===t,"text-warning":"warning"===t,"text-primary":"info"===t},o=a.a.createElement("span",null,a.a.createElement("i",{className:Bn("icon","fa",i)}));return"success"!==t&&r?a.a.createElement(Nt.a,{overlay:a.a.createElement("div",{className:Bn("tooltip")},r),placement:"left"},a.a.createElement("div",{className:Bn("trend","popover-link")},o," ",n)):a.a.createElement("div",{className:Bn("trend")},o," ",n)}function Wn(e){var t=e.className,n=e.trends;return n?a.a.createElement("div",{className:t},n.map(function(e){return a.a.createElement(Vn,Fn({},e,{key:e.message}))})):null}Vn.displayName="Trend",Vn.propTypes={type:o.a.oneOf(["info","success","error","warning"]),message:o.a.string.isRequired,tooltip:o.a.string},Vn.defaultProps={type:"info"},Wn.propTypes={trends:o.a.array};var qn=Wn,zn=function(e){if(null===e||void 0===e)return null;var t=null;return e<=7?t="one week":e<=15?t="two weeks":e<=31?t="one month":e<=60?t="two months":e<=90&&(t="three months"),t},Gn=function(e){var t=e.className,n=e.days;return a.a.createElement("span",{className:t},zn(n))};Gn.displayName="DaysUntilFull",Gn.propTypes={days:o.a.number};var Yn=Gn;function Kn(e){var t=e.className,n=e.fullCapacityReachDays,r=[],i=zn(n);return i?r.push({type:"warning",message:"Full capacity in "+i}):r.push({type:"success",message:"No capacity risk"}),a.a.createElement(qn,{className:t,trends:r})}Kn.displayName="FolderTrends",Kn.propTypes={fullCapacityReachDays:o.a.number};var $n=Kn,Qn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Xn=u.a.bind(Ie.a),Jn=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Qn(t,[{key:"renderTabs",value:function(){var e=this.props,t=e.applications,n=e.loadingApplications,r=e.config,i=e.folderId,o=e.poolUid;return a.a.createElement(ke.Tabs,{forceRenderTabPanel:!0},a.a.createElement(ke.TabList,{className:ke.TabClasses.TableHeader},a.a.createElement(ke.Tab,null,"Applications"),a.a.createElement(ke.Tab,null,"Volumes")),a.a.createElement(ke.TabPanel,null,a.a.createElement(Gt,{values:t,loadingCollection:n})),a.a.createElement(ke.TabPanel,null,a.a.createElement(un,{poolUid:o,folderId:i,config:r})))}},{key:"renderSummary",value:function(){var e=this.props.summary;if(!e)return a.a.createElement(T.a,{hasData:!1,message:"No data available."});var t=e.volumeCount,n=e.volumeUsed,r=e.snapshotUsed,i=e.totalUsed,o=e.totalSizeMB,s=e.fullCapacityReachDays,c=e.folderLimit,l=e.folderUnusedReserve;return a.a.createElement("div",{className:Xn("summary")},a.a.createElement("div",{className:Xn("total-usage")},a.a.createElement(Ln,{totalUsage:i},a.a.createElement("div",{className:Xn("bar-chart")},a.a.createElement(ot,{snapshotUsage:r,volumeUsage:n,unusedReserve:l,limit:c})))),a.a.createElement("div",null,a.a.createElement("div",{className:Xn("subtitle")},"Trends"),a.a.createElement($n,{fullCapacityReachDays:s,limit:c})),a.a.createElement(Mn,{totalAllocated:o*Math.pow(2,20),volumeCount:t}),a.a.createElement(Dn,null))}},{key:"renderTimeSeries",value:function(){var e=this.props,t=e.timeSeries,n=e.lookbackMonths,r=Le()().startOf("day"),i=Le()(r).subtract(n,"months").add(1,"day");return a.a.createElement("div",{className:Xn("time-series-chart")},a.a.createElement(vn,{timeSeries:t,chartRangeStart:i,chartRangeEnd:r}))}},{key:"render",value:function(){var e=this.props,t=e.loadingSummary,n=e.loadingTimeSeries,r=e.summary,i=e.timeSeries,o=!t&&r&&!n&&i;return a.a.createElement(f.a,{loading:t||n},a.a.createElement(T.a,{hasData:!!o},a.a.createElement("article",{className:Xn("layout")},a.a.createElement("section",null,this.renderSummary()),a.a.createElement("section",{className:Xn("time-series","inset")},a.a.createElement("h1",null,"Usage"),this.renderTimeSeries()),a.a.createElement("section",{className:Xn("facet-tables","inset")},this.renderTabs()))))}}]),t}();Jn.displayName="FolderCapacity",Jn.propTypes={folderId:o.a.string,poolUid:o.a.string,loadingTimeSeries:o.a.bool.isRequired,loadingSummary:o.a.bool.isRequired,loadingApplications:o.a.bool.isRequired,summary:o.a.shape({volumeCount:o.a.number,volumeUsed:o.a.number,snapshotUsed:o.a.number,totalUsed:o.a.number,totalSizeMB:o.a.number,fullCapacityReachDays:o.a.number,folderLimit:o.a.number,folderUnusedReserve:o.a.number}),applications:o.a.array,timeSeries:o.a.array,lookbackMonths:o.a.number,config:o.a.object};var Zn=Jn,er=function(e){return e.capacityReport.folderContext},tr=function(e){var t=er(e),n=t.loadingTimeSeries,r=t.loadingApplications,a=t.loadingSummary;return n||r||a},nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ar=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),rr(t,[{key:"componentDidMount",value:function(){this.props.loading||this.props.getData({folderId:this.props.folderId,poolUid:this.props.poolUid,lookback:this.props.lookbackMonths})}},{key:"componentWillReceiveProps",value:function(e){var t=e.poolUid,n=e.folderId,r=e.lookbackMonths,a=e.loading;this.props.folderId===n&&this.props.poolUid===t&&this.props.lookbackMonths===r||this.props.getData({folderId:n,poolUid:t,lookback:r}),this.props.toggleFilters&&this.props.toggleFilters(!a)}},{key:"componentWillUnmount",value:function(){Object(y.isFunction)(this.props.reset)&&this.props.reset()}},{key:"render",value:function(){return a.a.createElement(Zn,this.props)}}]),t}();ar.displayName="FolderCapacityContainer",ar.propTypes={getData:o.a.func.isRequired,reset:o.a.func,loading:o.a.bool.isRequired,lookbackMonths:o.a.number.isRequired,folderId:o.a.string.isRequired,poolUid:o.a.string.isRequired,toggleFilters:o.a.func},ar.defaultProps={lookbackMonths:3,loading:!1};var ir=Object(d.connect)(function(e){return nr({},er(e),{loading:tr(e)})},function(e){return Object(h.bindActionCreators)({getData:Pe,reset:Ae},e)})(ar),or=n(114),sr=function(e){return e?"/"+e:""},cr=function(e){var t=e.count,n=void 0===t?5:t,r=e.lookback;return function(e){var t=Object(we.actionsFor)(re.s,e),a=t.dispatchStart,i=t.dispatchSuccess,o=t.dispatchError;return a(),(new Re.default).pod().account().urlSegment("capacity/pools/topnTimeSeries").uriAddQuery({monthRange:r,topnCount:n}).get().then(function(e){var t=e.data&&Object.keys(e.data).length?e.data:null;i(t)}).catch(o)}},lr=function(e){var t=e.poolUid,n=e.lookback;return function(e){var r=Object(we.actionsFor)(re.q,e),a=r.dispatchStart,i=r.dispatchSuccess,o=r.dispatchError;a(),(new Re.default).pod().account().urlSegment("capacity/pools"+sr(t)+"/timeSeries").uriAddQuery({monthRange:n}).get().then(function(e){var t=e.data&&e.data.length?e.data:null;i(t)}).catch(o)}},ur=function(e){var t=e.lookback;return function(e){var n=Object(we.actionsFor)(re.p,e),r=n.dispatchStart,a=n.dispatchSuccess,i=n.dispatchError;r(),(new Re.default).pod().account().urlSegment("capacity/pools").uriAddQuery({monthRange:t}).get().then(function(e){var t=e.data;a(t[0])}).catch(function(e){i(e)})}},dr=function(e){var t=e.poolUid;return function(e){var n=Object(we.actionsFor)(re.p,e),r=n.dispatchStart,a=n.dispatchSuccess,i=n.dispatchError;r();var o={};t&&(o.scope={type:"pool",id:t}),(new Re.default).pod().genericQuery("pool",["capacityDashboardDetail"]).post(o).then(or.d).then(a).catch(i)}},pr=function(e){var t=e.poolUid,n=e.lookback;return function(e){var r=Object(we.actionsFor)(re.n,e),a=r.dispatchStart,i=r.dispatchSuccess,o=r.dispatchError;return a(),(new Re.default).pod().account().urlSegment("capacity/pools"+sr(t)+"/folders").uriAddQuery({monthRange:n}).get().then(function(e){return 1!==e.data.length||e.data[0].folderName?e.data:[]}).then(i).catch(o)}},hr=function(e){var t=e.poolUid,n=e.lookback;return function(e){var r=Object(we.actionsFor)(re.l,e),a=r.dispatchStart,i=r.dispatchSuccess,o=r.dispatchError;return a(),(new Re.default).pod().account().urlSegment("capacity/pools"+sr(t)+"/applications").uriAddQuery({monthRange:n}).get().then(function(e){var t=e.data&&e.data.length?e.data:null;i(t)}).catch(o)}},mr=function(e){var t=e.arraySerialNumber,n=e.lookback;return function(e){var r=Object(we.actionsFor)(re.m,e),a=r.dispatchStart,i=r.dispatchSuccess,o=r.dispatchError;return a(),(new Re.default).pod().account().urlSegment("capacity").uriAddQuery({monthRange:n,arraySn:t}).get().then(function(e){var t=e.data&&e.data.length?e.data[0]:null;i(t)}).catch(o)}};function fr(e){return function(t){lr(e)(t),pr(e)(t),hr(e)(t),dr(e)(t),mr(e)(t)}}function gr(e){return function(t){cr(e)(t),hr(e)(t),ur(e)(t)}}function yr(){return{type:re.o}}var vr=n(363),br=n(368),Er=n(38),Or=function(e,t){return"This array is "+(e?"highly likely":"likely")+" to exceed the performance throttling threshold on "+t+". It is critical that you take corrective action by freeing up space on the array or adding additional capacity."},Cr=function(e,t){return e+" folder"+(e>1?"s":"")+" full in less than "+t};function Sr(e){var t=e.className,n=e.arrayCapacity,r=e.pool;if(!n||!r)return null;var i=n.capacity,o=n.free,s=n.possiblyExceedsThreshold,c=n.probablyExceedsThreshold,l=n.unmanagedSnapshots,u=r.foldersFull1Month,d=r.foldersFull2Month,p=[];if(o/i<=.1)p.push({type:"error",message:"Critical space alert",tooltip:"This array has exceeded the performance throttling threshold. It is critical that you take corrective action by freeing up space on the array or adding additional capacity."});else{c&&p.push({type:"error",message:"Highly likely to exceed threshold on "+Le.a.utc(c).format("l"),tooltip:Or(!0,Le.a.utc(c).format("l"))});!s||c&&!(c-s>12096e5)||p.push({type:"error",message:"Likely to exceed threshold on "+Le.a.utc(s).format("l"),tooltip:Or(!0,Le.a.utc(s).format("l"))})}return l>0&&p.push({type:"error",message:l+" unmanaged snapshot"+(l>1?"s":""),tooltip:"A snapshot is considered unmanaged when a protection schedule or volume collection is deleted and snapshots that were created as part of the schedule still remain. This may be an opportunity to free up some space."}),u>0&&p.push({type:"error",message:Cr(u,"one month")}),d>0&&p.push({type:"warning",message:Cr(d,"two months")}),0===p.length&&p.push({type:"success",message:"No capacity risk"}),a.a.createElement(qn,{className:t,trends:p})}Sr.displayName="PoolTrends",Sr.propTypes={arrayCapacity:o.a.shape({capacity:o.a.number,free:o.a.number,possiblyExceedsThreshold:o.a.number,probablyExceedsThreshold:o.a.number,unmanagedSnapshots:o.a.number}),pool:o.a.shape({foldersFull1Month:o.a.number.isRequired,foldersFull2Month:o.a.number.isRequired})};var wr=Sr,Rr=n(11),Tr=n.n(Rr),_r=n(319),Nr=n.n(_r),jr=n(24),Pr=n.n(jr),Ar=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var xr=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Ar(t,[{key:"onClickVersion",value:function(e){e.preventDefault(),Pr.a.modalRegion.show(new Nr.a({model:new Tr.a.Model(this.props)}))}},{key:"render",value:function(){var e=this.props,t=e.version,n=e.className;return a.a.createElement("a",{className:n,href:"_null",onClick:this.onClickVersion},t)}}]),t}();xr.displayName="NimbleOSVersionLink",xr.propTypes={version:o.a.string.isRequired,serialNumber:o.a.string.isRequired,hostname:o.a.string.isRequired};var Lr=xr,kr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Mr=u.a.bind(Ie.a),Ir=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),kr(t,[{key:"renderTabs",value:function(){var e=this.props,t=e.applications,n=e.loadingApplications,r=e.folders,i=e.loadingFolders,o=e.isAggregate,s=e.poolUid,c=e.config,l=e.userName,u=!o&&r&&r.length;return a.a.createElement(ke.Tabs,{forceRenderTabPanel:!0},a.a.createElement(ke.TabList,{className:ke.TabClasses.TableHeader},o&&a.a.createElement(ke.Tab,null,"Pools"),a.a.createElement(ke.Tab,null,"Applications"),a.a.createElement(ke.Tab,{disabled:!u},"Folders"),a.a.createElement(ke.Tab,null,"Volumes")),o&&a.a.createElement(ke.TabPanel,null,a.a.createElement(an,{userName:l,poolUid:s,config:c})),a.a.createElement(ke.TabPanel,null,a.a.createElement(Gt,{userName:l,values:t,loadingCollection:n})),a.a.createElement(ke.TabPanel,null,a.a.createElement(Jt,{userName:l,values:r,loadingCollection:i})),a.a.createElement(ke.TabPanel,null,a.a.createElement(un,{userName:l,poolUid:s,config:c})))}},{key:"renderTrends",value:function(){var e=this.props,t=e.arrayCapacity,n=e.summary;return t?a.a.createElement("div",null,a.a.createElement("div",{className:Mr("subtitle")},"Trends"),a.a.createElement(wr,{arrayCapacity:t,pool:n})):null}},{key:"renderShelfConfig",value:function(){if(!this.props.arrayCapacity)return null;var e=this.props.arrayCapacity,t=e.hostname,n=e.group,r=e.version,i=e.model,o=e.serialNumber;return a.a.createElement("div",null,a.a.createElement("div",{className:Mr("subtitle")},"System Configuration"),a.a.createElement("div",{className:Mr("system-config")},a.a.createElement("dl",null,a.a.createElement("dt",null,"Array"),a.a.createElement("dd",null,t),a.a.createElement("dt",null,"Model"),a.a.createElement("dd",null,i),a.a.createElement("dt",null,"Version"),a.a.createElement("dd",null,a.a.createElement(Lr,{hostname:t,version:r,serialNumber:o}))),a.a.createElement("dl",null,a.a.createElement("dt",null,"Serial Number"),a.a.createElement("dd",null,o),a.a.createElement("dt",null,"Group"),a.a.createElement("dd",null,n))))}},{key:"renderSummary",value:function(){var e=this.props,t=e.summary,n=e.isAggregate;if(!t)return a.a.createElement(T.a,{hasData:!1,message:"No data available."});var r=t.savingsDedupBytes,i=t.savingsCompressionBytes,o=t.savingsCloneBytes,s=t.totalSavingsBytes,c=t.cloneSavingsFactor,l=t.compressionSavingsFactor,u=t.dedupSavingsFactor,d=t.totalSavingsFactor,p=t.daysUntilFull,h=t.usedBytes,m=t.lastWeekGrowthPercent,f=t.unusedReserveBytes,g=t.freeBytes,y=t.volumeCount,v=t.totalAllocated,b=t.allocatedBytes;return a.a.createElement("div",{className:Mr("summary")},a.a.createElement("div",{className:Mr("total-usage")},a.a.createElement(Ln,{growthPctLastWeek:m,totalUsage:h,capacity:b}),!n&&null!==p&&a.a.createElement("span",null,"Forecasting full capacity in",a.a.createElement("strong",null," ",a.a.createElement(Yn,{days:p})))),a.a.createElement("div",{className:Mr("chart")},a.a.createElement(vr.a,{allocatedBytes:b,usedBytes:h,freeBytes:g,unusedReserveBytes:f,growthPercent:m,warningThreshold:90})),a.a.createElement(Mn,{volumeCount:y,totalAllocated:v}),a.a.createElement("div",null,a.a.createElement("div",{className:Mr("subtitle")},"Savings"),a.a.createElement(br.a,{dedupSavings:r,compressionSavings:i,cloneSavings:o,cloneSavingsFactor:c,compressionSavingsFactor:l,dedupSavingsFactor:u,totalSavingsFactor:d,totalSavings:s,usedBytes:h})),!n&&this.renderTrends(),!n&&this.renderShelfConfig())}},{key:"renderTimeSeries",value:function(){var e=this.props,t=e.timeSeries,n=e.topPoolsTimeSeries,r=e.isAggregate,i=e.lookbackMonths,o=Le()().startOf("day"),s=Le()(o).subtract(i,"months").add(1,"day");return a.a.createElement("div",{className:Mr("time-series-chart",{"top-pools":r})},r?a.a.createElement(Tn,{pools:n,chartRangeStart:s,chartRangeEnd:o}):a.a.createElement(Cn,{timeSeries:t,chartRangeStart:s,chartRangeEnd:o}))}},{key:"render",value:function(){var e=this.props,t=e.loadingSummary,n=e.loadingTimeSeries,r=e.loadingArrayCapacity,i=e.loadingTopPoolsTimeSeries,o=e.summary,s=e.timeSeries,c=e.topPoolsTimeSeries,l=!t&&o&&(!n&&s||!i&&c),u=t||r||n||i;return a.a.createElement(f.a,{loading:u},a.a.createElement(T.a,{hasData:!!l},a.a.createElement("article",{className:Mr("layout")},a.a.createElement("section",null,this.renderSummary()),a.a.createElement("section",{className:Mr("time-series","inset")},a.a.createElement("h1",null,"Usage"),this.renderTimeSeries()),a.a.createElement("section",{className:Mr("facet-tables","inset")},this.renderTabs()))))}}]),t}();Ir.displayName="PoolCapacity",Ir.propTypes={poolUid:o.a.string,loadingTimeSeries:o.a.bool.isRequired,loadingSummary:o.a.bool.isRequired,loadingApplications:o.a.bool.isRequired,loadingFolders:o.a.bool.isRequired,loadingArrayCapacity:o.a.bool.isRequired,loadingTopPoolsTimeSeries:o.a.bool,summary:o.a.shape({allocatedBytes:o.a.number,arrayHostName:o.a.string,arraySearchableName:o.a.string,arraySn:o.a.string,daysUntilFull:o.a.number,folderCount:o.a.number,freeBytes:o.a.number,groupName:o.a.string,groupUid:o.a.string,lastWeekGrowthPercent:o.a.number,poolName:o.a.string,poolUid:o.a.string,savingsCloneBytes:o.a.number,savingsCompressionBytes:o.a.number,savingsDedupBytes:o.a.number,cloneSavingsFactor:o.a.number,compressionSavingsFactor:o.a.number,dedupSavingsFactor:o.a.number,totalSavingsFactor:o.a.number,snapshotCount:o.a.number,totalSavingsBytes:o.a.number,unusedReserveBytes:o.a.number,usedBytes:o.a.number,volumeCount:o.a.number,foldersFull1Month:o.a.number,foldersFull2Month:o.a.number}),arrayCapacity:o.a.shape({group:o.a.string.isRequired,hostname:o.a.string.isRequired,model:o.a.string.isRequired,serialNumber:o.a.string.isRequired,version:o.a.string.isRequired}),applications:o.a.array,folders:o.a.array,timeSeries:o.a.array,topPoolsTimeSeries:o.a.array,isAggregate:o.a.bool.isRequired,lookbackMonths:o.a.number.isRequired,config:o.a.object,userName:o.a.string};var Dr=Object(d.connect)(function(e){return{userName:Object(Er.h)(e).username}})(Ir),Ur=n(326),Hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Br=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Fr(t,[{key:"componentDidMount",value:function(){if(!this.props.loading){var e=this.props,t=e.poolUid,n=e.arraySerialNumber,r=e.lookbackMonths;this.getData(t)({poolUid:t,lookback:r,arraySerialNumber:n})}}},{key:"componentWillReceiveProps",value:function(e){var t=e.poolUid,n=e.lookbackMonths,r=e.arraySerialNumber,a=e.loading;this.props.poolUid===t&&this.props.lookbackMonths===n||this.getData(t)({poolUid:t,lookback:n,arraySerialNumber:r}),this.props.toggleFilters&&this.props.toggleFilters(!a)}},{key:"componentWillUnmount",value:function(){Object(y.isFunction)(this.props.resetPoolCapacity)&&this.props.resetPoolCapacity()}},{key:"getData",value:function(e){return e?this.props.getPoolCapacity:this.props.getAggregatePoolCapacity}},{key:"render",value:function(){return a.a.createElement(Dr,this.props)}}]),t}();Br.displayName="PoolCapacityContainer",Br.propTypes={loading:o.a.bool.isRequired,getAggregatePoolCapacity:o.a.func.isRequired,getPoolCapacity:o.a.func.isRequired,resetPoolCapacity:o.a.func,lookbackMonths:o.a.number.isRequired,poolUid:o.a.string,toggleFilters:o.a.func,arraySerialNumber:o.a.string,isAggregate:o.a.bool,config:o.a.object},Br.defaultProps={lookbackMonths:3,loading:!1,isAggregate:!1};var Vr=Object(d.connect)(function(e,t){return Hr({},function(e,t){return{sort:t.match.params.sort}}(0,t),Object(Ur.b)(e),{topPoolsTimeSeries:Object(Ur.c)(e),loading:Object(Ur.a)(e)})},function(e){return Object(h.bindActionCreators)({getPoolCapacity:fr,getAggregatePoolCapacity:gr,resetPoolCapacity:yr},e)})(Br),Wr=function(){return function(e){var t=Object(we.actionsFor)(re.i,e),n=t.dispatchStart,r=t.dispatchSuccess,a=t.dispatchError;n(),(new Re.default).pod().account().urlSegment("capacity/pools/overview").get().then(function(e){return e.data}).then(r).catch(a)}},qr=function(){return{type:re.j}},zr=n(138),Gr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Kr=u.a.bind(E.a),$r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n.state={disableFilters:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),Yr(t,[{key:"componentWillMount",value:function(){this.props.loadingRelationships||this.props.fetchRelationships();var e=document.getElementById("content-region");e&&e.classList.add("hack-100vw")}},{key:"componentWillUnmount",value:function(){this.props.resetRelationships();var e=document.getElementById("content-region");e&&e.classList.remove("hack-100vw")}},{key:"onSelectMonthRange",value:function(e){this.updateUrlParams({monthRange:e.target.value})}},{key:"updateUrlParams",value:function(e){var t=Object(y.pick)(Gr({},this.props.match.params,e),y.identity);this.props.history.push("?"+Object(g.param)(t),{})}},{key:"updateFragmentForResource",value:function(e){var t=e.poolUID,n=e.folderUID,r=e.type;r===re.a&&this.updateUrlParams({pool:null}),r===re.k&&t&&this.updateUrlParams({pool:t,folderId:null}),r===re.d&&n&&this.updateUrlParams({pool:t,folderId:n})}},{key:"findResource",value:function(){var e=this.props.relationships,t=this.props.match.params,n=t.pool,r=t.folderId;if(!e)return null;var a=re.a;return r||null===r?a=re.d:n&&(a=re.k),e.find(function(e){var t=e.poolUID,i=e.folderUID;return e.type===a&&(!n||n&&t===n)&&(!r||r===i)})}},{key:"toggleFilters",value:function(e){this.setState({disableFilters:!e})}},{key:"renderChildContainer",value:function(e){if(!e)return null;var t=e.poolUID,n=e.folderUID,r=e.arraySn,i=e.type,o=void 0;switch(i){case re.d:o=ir;break;case re.a:case re.k:o=Vr;break;default:return null}var s=this.props.match.params.monthRange,c=""+t+n+s;return a.a.createElement(o,{history:this.props.history,location:this.props.location,match:this.props.match,key:c,lookbackMonths:s,poolUid:t,folderId:n,toggleFilters:this.toggleFilters,arraySerialNumber:r,isAggregate:i===re.a,config:zr.b})}},{key:"renderFilters",value:function(e){var t=this.state.disableFilters,n=this.props.match.params.monthRange;return a.a.createElement("div",{className:"row expanded align-justify"},a.a.createElement("div",{className:"pool-list"},a.a.createElement("label",{className:Kr("align-middle","label"),htmlFor:"capacity-object-dropdown"},"Pool",this.props.hasFolders&&a.a.createElement("span",null," or Folder")),a.a.createElement(Se,{id:"capacity-object-dropdown",onSelect:this.updateFragmentForResource,className:Kr("pool-selector","align-middle"),menuClassName:Kr("menu"),value:e,disabled:t})),a.a.createElement("div",null,a.a.createElement("select",{onChange:this.onSelectMonthRange,className:Kr("align-middle","time-range"),value:n,disabled:t},a.a.createElement("option",{value:"3"},"Past 3 months"),a.a.createElement("option",{value:"6"},"Past 6 months"),a.a.createElement("option",{value:"9"},"Past 9 months"),a.a.createElement("option",{value:"12"},"Past year"))))}},{key:"render",value:function(){var e=this.findResource(this.props);return a.a.createElement("div",{className:Kr("container")},a.a.createElement("div",{className:E.a.title},"Capacity Report"),a.a.createElement(f.a,{loading:this.props.loadingRelationships},a.a.createElement("div",{className:u()("container-fluid",Kr("header-container"))},this.renderFilters(e),a.a.createElement("div",{className:"row expanded"},a.a.createElement(be,{className:Kr("header"),value:e})))),this.renderChildContainer(e))}}]),t}();$r.displayName="CapacityContainer",$r.propTypes={relationships:o.a.array,loadingRelationships:o.a.bool.isRequired,fetchRelationships:o.a.func.isRequired,resetRelationships:o.a.func.isRequired,hasFolders:o.a.bool.isRequired,history:o.a.object.isRequired,location:o.a.object.isRequired,match:o.a.shape({params:o.a.object}).isRequired};t.a=Object(p.withQueryParams)(Object(d.connect)(function(e){return Gr({},Object(he.c)(e),{relationships:Object(he.d)(e),hasFolders:Object(he.b)(e)})},function(e){return Object(h.bindActionCreators)({fetchRelationships:Wr,resetRelationships:qr},e)})($r))},720:function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=n(8),o=n.n(i),s=n(12),c=n.n(s),l=n(14),u=n.n(l),d=n(9),p=n(183),h=n.n(p),m=n(184),f=n.n(m),g=u.a.bind(f.a),y=function(e){var t=e.active,n=e.options,r=e.onClick,i=e.disabled,o=t&&!i;return a.a.createElement("ul",{className:g("menu","menu-item-container",{hide:!o})},n.map(function(e){return a.a.createElement("li",{key:e.value},a.a.createElement("button",{className:g("menu-item"),onClick:function(e){return function(t){t.preventDefault(),i||r(e)}}(e)},e.label))}))};y.displayName="Menu",y.propTypes={active:o.a.bool.isRequired,options:o.a.arrayOf(o.a.shape({label:o.a.node,value:o.a.any})).isRequired,onClick:o.a.func,disabled:o.a.bool.isRequired},y.defaultProps={disabled:!1};var v=y,b=u.a.bind(f.a),E=function(e){var t=e.active,n=e.onClick,r=e.children,i=e.disabled,o=t&&!i,s=i?d.noop:n;return a.a.createElement("button",{className:b("btn-block","toggle",{active:t}),onClick:s,disabled:i},a.a.createElement("div",{className:b("pull-left","align-middle")},r),a.a.createElement("div",{className:b("pull-right","align-middle")},a.a.createElement("i",{className:b("fa","caret",{"fa-caret-up":o,"fa-caret-down":!o})})))};E.displayName="ComplexToggle",E.propTypes={active:o.a.bool.isRequired,children:o.a.element,onClick:o.a.func.isRequired,disabled:o.a.bool.isRequired},E.defaultProps={disabled:!1};var O=E;var C=function(e){var t=e.value,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["value"]);return a.a.createElement(O,n,a.a.createElement("span",null,t?t.label:" "))};C.displayName="Toggle",C.propTypes={active:o.a.bool.isRequired,value:o.a.shape({label:o.a.node}),onClick:o.a.func.isRequired};var S=C,w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var R=u.a.bind(f.a),T=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n.state={active:!1},console.warn("Don't use anything in here if you can avoid it. I plan to replace this convoluted nonsense that I factored out of capacity report. - Marque"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),w(t,[{key:"componentWillReceiveProps",value:function(e){e.selection!==this.props.selection&&this.setState({active:!1})}},{key:"onClickToggle",value:function(e){e.preventDefault(),this.setState({active:!this.state.active})}},{key:"onClickMenuItem",value:function(e){var t=this;this.setState({active:!1},function(){return t.props.onChange(e)})}},{key:"handleClickOutside",value:function(){this.state.active&&this.setState({active:!1})}},{key:"render",value:function(){var e=this.state.active,t=this.props,n=t.disabled,r=t.className,i=t.value,o=t.options;return a.a.createElement("div",{className:R(r,"nmbl-dropdown")},a.a.createElement(S,{active:e,value:i,onClick:this.onClickToggle,disabled:n}),a.a.createElement(v,{active:e,options:o,onClick:this.onClickMenuItem,disabled:n}))}}]),t}();T.displayName="Dropdown",T.propTypes={value:o.a.object,onChange:o.a.func,options:o.a.array.isRequired,selection:o.a.any,disabled:o.a.bool.isRequired},T.defaultProps={disabled:!1,onChange:d.noop};var _=h()(T),N=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var j=u.a.bind(f.a),P=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c()(n),n.state={active:!1},console.warn("Don't use anything in here if you can avoid it. I plan to replace this convoluted nonsense that I factored out of capacity report. - Marque"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),N(t,[{key:"componentWillReceiveProps",value:function(){this.setState({active:!1})}},{key:"onClickToggle",value:function(){this.setState({active:!this.state.active})}},{key:"handleClickOutside",value:function(){this.state.active&&this.setState({active:!1})}},{key:"render",value:function(){var e=this.props,t=e.valueRenderer,n=e.value,r=e.className,i=e.menuClassName,o=e.children,s=e.disabled,c=this.state.active;return a.a.createElement("div",{className:j(r,"nmbl-dropdown")},a.a.createElement(O,{active:c,onClick:this.onClickToggle,value:n,disabled:s},t(n)),a.a.createElement("div",{className:j("menu",i,{hide:!c||s})},o))}}]),t}();P.displayName="ComplexDropdown",P.propTypes={value:o.a.object,menuClassName:o.a.string,children:o.a.node.isRequired,valueRenderer:o.a.func.isRequired,disabled:o.a.bool.isRequired},P.defaultProps={value:null,disabled:!1};var A=h()(P);n.d(t,"a",function(){return A});t.b=_},725:function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=n(8),o=n.n(i),s=n(25),c=n(17),l=n(9),u=n(52),d=n(38),p=n(19),h=(n(301),n(23)),m=n.n(h),f=n(217),g=n(218),y=n(27),v=(Object.assign,function(e){return Object(l.indexBy)(e,"poolUid")});function b(e){return function(t){var n=Object(p.actionsFor)(g.b,t),r=n.dispatchStart,a=n.dispatchSuccess,i=n.dispatchError;r(),(new y.default).pod().genericQuery("pools").post({scope:e}).then(function(e){return v(e.data.data)}).then(a).catch(i)}}var E=function(e){return function(t){var n=Object(p.actionsFor)(g.a,t),r=n.dispatchStart,a=n.dispatchSuccess,i=n.dispatchError;r(),(new y.default).pod().genericQuery("pools").csv().post({scope:e},{responseType:"blob"}).then(function(e){return Object(f.saveAs)(e.data,"HPE InfoSight Pools "+m()().format("L").replace(/\\|\//g,"-")+".csv")}).then(function(){return a({})}).catch(i)}};function O(){return{type:g.d}}var C=n(596),S=n(20),w=n.n(S),R=n(14),T=n.n(R),_=n(125),N=n(86),j=n.n(N),P=n(88),A=n(368),x=n(222),L=n(49),k=n(175),M=n(316),I=function(e,t){var n=Object(M.b)(e,t),r=n[0],i=n[1]||"B";return r?a.a.createElement("span",null,r," ",i,"/sec"):""};I.displayName="numeralPerSec";var D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var H=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),U(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.scope,n=e.config;this.props.fetchPools(n.convertToGenericQueryScope(t))}},{key:"componentWillUnmount",value:function(){this.props.resetPoolCollection()}},{key:"render",value:function(){var e=this,t=this.props,n=t.userName,r=t.pools,i=t.loadingPools,o=t.config,s=t.loadingPoolsCsv,c=t.scope,d=t.enabledFieldSets,p=t.disableDefaultSort,h=function(e){return{categories:[g.e,g.c],columns:[{Header:"Pool Name",accessor:"poolName",filterable:!0,minWidth:u.COLUMN_WIDTHS.LARGE,Cell:function(t){var n=t.original,r=n.poolName,i=n.poolUid;return a.a.createElement(P.ObjectDetailLink,{objectType:L.a.POOL,id:i,productInterface:e,name:r})}},{Header:"Group Name",accessor:"groupName",filterable:!0,minWidth:u.COLUMN_WIDTHS.LARGE,Cell:function(e){var t=e.original.groupName;return a.a.createElement("span",null,t)}},{Header:"Arrays",accessor:"arrayHostName",filterable:!0,minWidth:u.COLUMN_WIDTHS.LARGE,Cell:function(t){var n=t.original,r=n.arrayHostName,i=n.poolArrays;if(i){var o=i.toString().split(", ").map(function(e){return e.split(":")}).map(function(e){return{id:e[0],name:e[1]}});return a.a.createElement(P.ObjectListPopover,{productInterface:e,objectList:o,type:L.a.ARRAY,listSuffix:"Arrays",includeIcon:!1})}return r}},{Header:"Time Until Full",headerClassName:"text-right",accessor:"daysUntilFull",filterable:!1,className:"text-right",minWidth:u.COLUMN_WIDTHS.SMALL,categories:[g.e],Cell:function(e){var t=e.original.daysUntilFull;return a.a.createElement(k.b,{days:t,inline:!0})}},{Header:"% Used",accessor:"percentFull",filterable:!1,minWidth:u.COLUMN_WIDTHS.XLARGE,style:{marginTop:"8px"},categories:[g.e],Cell:function(e){var t=e.original,n=t.percentFull,r=t.usedBytes,i=t.allocatedBytes;return a.a.createElement(_.ProgressWithValue,{leftLabel:w()(n).format("0.0%")+"\n                     ("+w()(r).format(x.a)+")"},a.a.createElement(_.Progress,{className:n>=.9?"danger":null,max:i,value:r>i?i:r}))}},{Header:"Size",headerClassName:"text-right",accessor:"allocatedBytes",className:"text-right",filterable:!1,minWidth:u.COLUMN_WIDTHS.SMALL,categories:[g.e],Cell:function(e){var t=e.original.allocatedBytes;return a.a.createElement("span",null,w()(t).format(x.a))}},{Header:"Unused Reserve",headerClassName:"text-right",accessor:"unusedReserveBytes",className:"text-right",filterable:!1,minWidth:u.COLUMN_WIDTHS.SMALL,categories:[g.e],Cell:function(e){var t=e.original.unusedReserveBytes;return w()(t).format(x.a)}},{Header:"Savings",headerClassName:"text-right",accessor:"savingsFactor",className:"text-right",filterable:!1,minWidth:u.COLUMN_WIDTHS.LARGE,categories:[g.e],Cell:function(e){var t=e.original,n=t.totalSavingsBytes,r=t.totalSavingsFactor,i=t.savingsDedupBytes,o=t.usedBytes,s=t.savingsCompressionBytes,c=t.savingsCloneBytes,l=t.cloneSavingsFactor,u=t.compressionSavingsFactor,d=t.dedupSavingsFactor;return a.a.createElement(A.a,{context:"table",totalSavings:n,totalSavingsFactor:r,cloneSavingsFactor:l,compressionSavingsFactor:u,dedupSavingsFactor:d,cloneSavings:c,dedupSavings:i,compressionSavings:s,usedBytes:o})}},{Header:"Cache Capacity",headerClassName:"text-center",categories:[g.e],columns:[{Header:"Pinnable",headerClassName:"text-right",accessor:"pinnableCacheCapacity",filterable:!1,className:"text-right",minWidth:u.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original,n=t.pinnableCacheCapacity;return t.allFlash?"all-flash":w()(n).format(x.a)}},{Header:"Pinned",headerClassName:"text-right",accessor:"pinnedCacheCapacity",filterable:!1,className:"text-right",minWidth:u.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original,n=t.pinnedCacheCapacity;return t.allFlash?"all-flash":w()(n).format(x.a)}}]},{Header:"Past Growth (days)",headerClassName:"text-center",categories:[g.e],columns:[{Header:"90",headerClassName:"text-right",accessor:"growthLast90Days",filterable:!1,className:"text-right",minWidth:u.COLUMN_WIDTHS.XSMALL,Cell:function(e){var t=e.original.growthLast90Days;return null===t?"":a.a.createElement(j.a,{value:t,isPercent:!0})}},{Header:"60",headerClassName:"text-right",accessor:"growthLast60Days",filterable:!1,className:"text-right",minWidth:u.COLUMN_WIDTHS.XSMALL,Cell:function(e){var t=e.original.growthLast60Days;return null===t?"":a.a.createElement(j.a,{value:t,isPercent:!0})}},{Header:"30",headerClassName:"text-right",accessor:"growthLast30Days",filterable:!1,className:"text-right",minWidth:u.COLUMN_WIDTHS.XSMALL,Cell:function(e){var t=e.original.growthLast30Days;return null===t?"":a.a.createElement(j.a,{value:t,isPercent:!0})}}]},{Header:"Avg IOPS (past week)",headerClassName:"text-center",categories:[g.c],columns:[{Header:"Read",headerClassName:"text-right",accessor:"avgReadsPerWeek",filterable:!1,className:"text-right",minWidth:u.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.avgReadsPerWeek;return Object(x.j)(t,x.e,x.c)}},{Header:"Write",headerClassName:"text-right",accessor:"avgWritesPerWeek",filterable:!1,className:"text-right",minWidth:u.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.avgWritesPerWeek;return Object(x.j)(t,x.e,x.c)}},{Header:"Overall",headerClassName:"text-right",accessor:"avgIopsPerWeek",filterable:!1,className:"text-right",minWidth:u.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.avgIopsPerWeek;return Object(x.j)(t,x.e,x.c)}}]},{Header:"Avg Latency (past week)",headerClassName:"text-center",categories:[g.c],columns:[{Header:"Read",headerClassName:"text-right",accessor:"avgReadLatencyMs",filterable:!1,className:"text-right",minWidth:u.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.avgReadLatencyMs;return w()(t).format(x.e)+" "+x.d}},{Header:"Write",headerClassName:"text-right",accessor:"avgWriteLatencyMs",filterable:!1,className:"text-right",minWidth:u.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.avgWriteLatencyMs;return w()(t).format(x.e)+" "+x.d}},{Header:"Overall",headerClassName:"text-right",accessor:"avgLatencyMs",filterable:!1,className:"text-right",minWidth:u.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.avgLatencyMs;return w()(t).format(x.e)+" "+x.d}}]},{Header:"Avg Throughput (past week)",headerClassName:"text-center",categories:[g.c],columns:[{Header:"Read",headerClassName:"text-right",accessor:"avgReadThroughput",filterable:!1,className:"text-right",minWidth:u.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.avgReadThroughput;return I(t,x.a)}},{Header:"Write",headerClassName:"text-right",accessor:"avgWriteThroughput",filterable:!1,className:"text-right",minWidth:u.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.avgWriteThroughput;return I(t,x.a)}},{Header:"Overall",headerClassName:"text-right",accessor:"avgThroughput",filterable:!1,className:"text-right",minWidth:u.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.avgThroughput;return I(t,x.a)}}]},{Header:"CPU Usage",headerClassName:"text-right",accessor:"avgCpuUtilization",filterable:!1,categories:[g.c],className:"text-right",minWidth:u.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original,n=t.avgCpuUtilization,r=t.cpuUtilizationThreshold;return a.a.createElement("span",{className:T()(n>r?"text-danger":null)},w()(n).format("0.0")," %")}},{Header:"Cache Miss Rate",headerClassName:"text-right",accessor:"avgCacheMissRate",filterable:!1,categories:[g.c],className:"text-right",minWidth:u.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original,n=t.avgCacheMissRate,r=t.cacheMissThreshold;return a.a.createElement("span",{className:T()(n>r?"text-danger":null)},w()(n).format("0.0")," %")}}]}}(o),m=h.columns,f=h.categories;return a.a.createElement(u.ClientControlledTable,D({tableId:n+"_NIMBLE_POOLS",data:r?Object(l.values)(r):[],columns:m,categories:d||f,loading:i,defaultSorted:p?void 0:[{id:"poolName",desc:!1}],downloadCsv:function(){return e.props.getPoolsCsv(o.convertToGenericQueryScope(c))},downloadingCsv:s},this.props))}}]),t}();H.displayName="PoolsTableView",H.propTypes={userName:o.a.string,resetPoolCollection:o.a.func.isRequired,pools:o.a.arrayOf(o.a.shape({allFlash:o.a.bool,allocatedBytes:o.a.number,arrayHostName:o.a.string,arraySearchableName:o.a.string,arraySn:o.a.string,avgCacheMissRate:o.a.number,avgCpuUtilization:o.a.number,avgIopsPerWeek:o.a.number,avgLatencyMs:o.a.number,avgReadLatencyMs:o.a.number,avgReadThroughput:o.a.number,avgReadsPerWeek:o.a.number,avgThroughput:o.a.number,avgWriteLatencyMs:o.a.number,avgWriteThroughput:o.a.number,avgWritesPerWeek:o.a.number,daysUntilFull:o.a.number,folderCount:o.a.number,freeBytes:o.a.number,groupName:o.a.string,groupUid:o.a.string,growthLast30Days:o.a.number,growthLast60Days:o.a.number,growthLast90Days:o.a.number,lastWeekGrowthPercent:o.a.number,pinnableCacheCapacity:o.a.number,pinnedCacheCapacity:o.a.number,poolArrays:o.a.number,poolName:o.a.string,poolUid:o.a.string,savingsCloneBytes:o.a.number,savingsCompressionBytes:o.a.number,savingsDedupBytes:o.a.number,savingsFactor:o.a.number,snapshotCount:o.a.number,totalSavingsBytes:o.a.number,unusedReserveBytes:o.a.number,usedBytes:o.a.number,volumeCount:o.a.number})),loadingPools:o.a.bool,fetchPools:o.a.func.isRequired,getPoolsCsv:o.a.func.isRequired,loadingPoolsCsv:o.a.bool.isRequired,scope:o.a.shape({type:o.a.string.isRequired,id:o.a.string.isRequired}),config:o.a.object.isRequired,enabledFieldSets:o.a.array,disableDefaultSort:o.a.bool},H.defaultProps={pools:[],loadingPools:!1,loadingPoolsCsv:!1,disableDefaultSort:!1};t.a=Object(c.connect)(function(e){return D({},Object(C.c)(e),Object(C.a)(e),{userName:Object(d.h)(e).username})},function(e){return Object(s.bindActionCreators)({fetchPools:b,resetPoolCollection:O,getPoolsCsv:E},e)},null,{pure:!1})(H)},726:function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=n(8),o=n.n(i),s=n(25),c=n(17),l=n(52),u=n(38),d=n(317),p=n(224),h=n(125),m=n(88),f=n(225),g=n.n(f),y=n(86),v=n.n(y),b=n(177),E=n(49),O=n(175),C=n(222),S=n(59),w=n(60),R=n(223),T=function(e){return Object(C.i)(e)?null:a.a.createElement(v.a,{value:e,isPercent:!0})},_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var j=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),N(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.scope,n=e.config,r=e.filters;this.props.getVolumes(n.convertToGenericQueryScope(t),r)}},{key:"componentWillUnmount",value:function(){this.props.resetVolumeListStore()}},{key:"render",value:function(){var e=this,t=this.props,n=t.loadingVolumes,r=t.volumes,i=t.config,o=t.loadingVolumesCsv,s=t.scope,c=t.userName,u=t.enabledFieldSets,d=t.disableDefaultSort,p=function(e){return{categories:[R.a,R.g,R.b,R.d],columns:[{Header:"Volume Name",accessor:"name",minWidth:l.COLUMN_WIDTHS.XLARGE,Cell:function(t){var n=t.original,r=n.name,i=n.sn;return a.a.createElement(m.ObjectDetailLink,{objectType:E.a.VOLUME,id:i,productInterface:e,name:r})},filterable:!0},{Header:"Attributes",headerClassName:"text-center",accessor:"volumeStatusSort",categories:[R.a],minWidth:l.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original,n=t.volumePinned,r=t.volumeEncrypted;return a.a.createElement(O.d,{volumePinned:n,volumeEncrypted:r})}},{Header:"Application",accessor:"appCategory",categories:[R.a],minWidth:l.COLUMN_WIDTHS.LARGE,Cell:function(e){var t=e.original.appCategory;return a.a.createElement(b.a,{iconName:t,inline:!0})},filterable:!0},{Header:"Array",accessor:"arraySearchableName",categories:[R.a],minWidth:l.COLUMN_WIDTHS.LARGE,Cell:function(t){var n=t.original,r=n.hostName,i=n.arraySn;if(null===i)return null;null===r&&(r="");var o=r+" ("+i+")";return a.a.createElement(m.ObjectDetailLink,{objectType:E.a.ARRAY,id:i,config:e,name:o,includeIcon:!1})},filterable:!0},{Header:"Pool",accessor:"poolName",categories:[R.a],minWidth:l.COLUMN_WIDTHS.MEDIUM,Cell:function(t){var n=t.original,r=n.poolName,i=n.poolUid;return a.a.createElement(m.ObjectDetailLink,{objectType:E.a.POOL,id:i,config:e,name:r,includeIcon:!1})},filterable:!0},{Header:"Folder",accessor:"folderName",categories:[R.a],minWidth:l.COLUMN_WIDTHS.MEDIUM,filterable:!0},{Header:"Total Usage",headerClassName:"text-right",accessor:"totalUsageBytes",categories:[R.g],className:"text-right",minWidth:l.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.totalUsageBytes;return Object(C.j)(t,C.a)}},{Header:a.a.createElement(O.c,{title:"% Data Usage"}),accessor:"percentFull",categories:[R.a,R.g],minWidth:l.COLUMN_WIDTHS.XLARGE,style:{marginTop:"8px"},Cell:function(e){var t=e.original,n=t.percentFull,r=t.dataUsageBytes,i=t.allocatedBytes;return a.a.createElement(h.ProgressWithValue,{leftLabel:Object(C.j)(n,C.g)+"\n                         ("+Object(C.j)(r,C.a)+")"},a.a.createElement(h.Progress,{className:n>=.9?"danger":null,max:i,value:r>i?i:r}))},sortable:!0},{Header:"Size",accessor:"allocatedBytes",headerClassName:"text-right",className:"text-right",minWidth:l.COLUMN_WIDTHS.XSMALL,Cell:function(e){var t=e.original.allocatedBytes;return Object(C.j)(t,C.a)},categories:[R.a,R.g]},{Header:"Days Until Full",headerClassName:"text-right",accessor:"daysUntilFull",filterable:!0,categories:[R.g],className:"text-right",minWidth:l.COLUMN_WIDTHS.MEDIUM,Cell:function(e){var t=e.original.daysUntilFull;return a.a.createElement(O.b,{days:t,inline:!0})},filterMethod:function(e,t){var n=e.id,r=e.value,a=t[n];if(!Object(C.i)(a))switch(r){case"<= 1 Week":return a<=7;case">1 Week and <=1 Month":return a>7&&a<=28;case">1 Month":return a>29;default:return String(Object(O.e)(a).category).toLowerCase().includes(String(r).toLowerCase())}return!1}},{Header:"SNAPSHOT",headerClassName:"text-center",categories:[R.g],columns:[{Header:"Count",headerClassName:"text-right",accessor:"snapshotCount",className:"text-right",minWidth:l.COLUMN_WIDTHS.SMALL},{Header:"Usage",headerClassName:"text-right",accessor:"snapshotBytes",className:"text-right",minWidth:l.COLUMN_WIDTHS.LARGE,Cell:function(e){var t=e.original.snapshotBytes;return Object(C.j)(t,C.a)}}]},{Header:"Compression",headerClassName:"text-right",accessor:"volumeCompression",className:"text-right",categories:[R.g],minWidth:l.COLUMN_WIDTHS.LARGE,Cell:function(e){var t=e.original.volumeCompression;return Object(C.i)(t)?null:Object(C.h)(t,C.f)+"X"}},{Header:"Dedupe",headerClassName:"text-right",accessor:"dedupeEnabled",categories:[R.g],minWidth:l.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.dedupeEnabled;return Object(C.i)(t)?null:a.a.createElement(g.a,{status:t?"success":"unavailable",tooltip:t?"Enabled":"Disabled",size:17})}},{Header:"Past Growth (days)",headerClassName:"text-center",categories:[R.g],columns:[{Header:"90",headerClassName:"text-right",accessor:"last90daysGrowth",className:"text-right",minWidth:l.COLUMN_WIDTHS.XSMALL,Cell:function(e){var t=e.original.last90daysGrowth;return T(t)}},{Header:"60",headerClassName:"text-right",accessor:"last60daysGrowth",className:"text-right",minWidth:l.COLUMN_WIDTHS.XSMALL,Cell:function(e){var t=e.original.last60daysGrowth;return T(t)}},{Header:"30",headerClassName:"text-right",accessor:"last30daysGrowth",className:"text-right",minWidth:l.COLUMN_WIDTHS.XSMALL,Cell:function(e){var t=e.original.last30daysGrowth;return T(t)}}]},{Header:"IO/Week",headerClassName:"text-right",accessor:"ioPerWeek",categories:[R.a],className:"text-right",minWidth:l.COLUMN_WIDTHS.MEDIUM,Cell:function(e){var t=e.original,n=t.perWeekIopsRead,r=t.perWeekIopsWrite;return Object(C.j)(n+r,C.e)}},{Header:"Performance Policy",accessor:"performancePolicy",categories:[R.b],minWidth:l.COLUMN_WIDTHS.LARGE,filterable:!0},{Header:"Avg IOPS (past week)",headerClassName:"text-center",categories:[R.b],columns:[{Header:"Read",headerClassName:"text-right",accessor:"avgReadsPerWeek",className:"text-right",minWidth:l.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.avgReadsPerWeek;return Object(C.j)(t,C.e,C.c)}},{Header:"Write",headerClassName:"text-right",accessor:"avgWritesPerWeek",className:"text-right",minWidth:l.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.avgWritesPerWeek;return Object(C.j)(t,C.e,C.c)}},{Header:"Overall",headerClassName:"text-right",accessor:"avgIopsPerWeek",className:"text-right",minWidth:l.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.avgIopsPerWeek;return Object(C.j)(t,C.e,C.c)}}]},{Header:"Avg Latency (past week)",headerClassName:"text-center",categories:[R.b],columns:[{Header:"Read",headerClassName:"text-right",accessor:"avgReadLatencyMs",className:"text-right",minWidth:l.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.avgReadLatencyMs;return Object(C.j)(t,C.e,C.d)}},{Header:"Write",headerClassName:"text-right",accessor:"avgWriteLatencyMs",className:"text-right",minWidth:l.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.avgWriteLatencyMs;return Object(C.j)(t,C.e,C.d)}},{Header:"Overall",headerClassName:"text-right",accessor:"avgLatencyMs",className:"text-right",minWidth:l.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.avgLatencyMs;return Object(C.j)(t,C.e,C.d)}}]},{Header:"Avg Throughput (past week)",headerClassName:"text-center",categories:[R.b],columns:[{Header:"Read",headerClassName:"text-right",accessor:"avgReadThroughput",className:"text-right",minWidth:l.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.avgReadThroughput;return Object(C.j)(t,C.a)}},{Header:"Write",headerClassName:"text-right",accessor:"avgWriteThroughput",className:"text-right",minWidth:l.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.avgWriteThroughput;return Object(C.j)(t,C.a)}},{Header:"Overall",headerClassName:"text-right",accessor:"avgThroughput",className:"text-right",minWidth:l.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.avgThroughput;return Object(C.j)(t,C.a)}}]},{Header:"Cache Hit Rate",headerClassName:"text-right",accessor:"cacheHit",categories:[R.b],className:"text-right",minWidth:l.COLUMN_WIDTHS.SMALL,Cell:function(e){var t=e.original.cacheHit;return Object(C.j)(t,C.f,C.g)}},{Header:"Volume Collection",accessor:"volumeCollection",categories:[R.d],minWidth:l.COLUMN_WIDTHS.LARGE,filterable:!0},{Header:"Protection Level",accessor:"protectionLevel",categories:[R.a,R.d],minWidth:l.COLUMN_WIDTHS.LARGE,Cell:function(e){var t=e.original.protectionLevel;return a.a.createElement(O.a,{protectionLevel:t,inline:!0})},filterable:!0},{Header:"Replication Partner",accessor:"replicationPartner",categories:[R.d],minWidth:l.COLUMN_WIDTHS.LARGE,filterable:!0},{Header:"Last Snapped",headerClassName:"text-right",accessor:"lastSnapped",className:"text-right",categories:[R.d],minWidth:l.COLUMN_WIDTHS.MEDIUM,Cell:function(e){var t=e.original.lastSnapped;return a.a.createElement("div",{className:"ellipsis-on-overflow",title:Object(S.a)(t,w.e)},Object(S.a)(t,w.e))}},{Header:"Last Replicated",headerClassName:"text-right",accessor:"lastReplicated",className:"text-right",categories:[R.d],minWidth:l.COLUMN_WIDTHS.MEDIUM,Cell:function(e){var t=e.original.lastReplicated;return a.a.createElement("div",{className:"ellipsis-on-overflow",title:Object(S.a)(t,w.e)},Object(S.a)(t,w.e))}},{Header:"Replication Lag (days)",headerClassName:"text-right",accessor:"replicationBehindDays",className:"text-right",categories:[R.d],minWidth:l.COLUMN_WIDTHS.LARGE}]}}(i),f=p.columns,y=p.categories;return a.a.createElement(l.ClientControlledTable,_({tableId:c+"_NIMBLE_VOLUMES",data:r,columns:f,categories:u||y,loading:n,defaultSorted:d?void 0:[{id:"name",desc:!1}],downloadCsv:function(){return e.props.getVolumesCsv(i.convertToGenericQueryScope(s))},downloadingCsv:o},this.props))}}]),t}();j.displayName="ListContainer",j.propTypes={volumes:o.a.arrayOf(o.a.shape({sn:o.a.string,name:o.a.string,groupName:o.a.string,folderName:o.a.string,poolName:o.a.string,arraySn:o.a.string,hostName:o.a.string,arraySearchableName:o.a.string,appCategory:o.a.string,protectionLevel:o.a.string,dataUsageBytes:o.a.number,allocatedBytes:o.a.number,percentFull:o.a.number,snapshotCount:o.a.number,snapshotBytes:o.a.number,isCompressed:o.a.bool,volumeCompression:o.a.number,totalUsageBytes:o.a.number,daysUntilFull:o.a.number,last30daysGrowth:o.a.number,last60daysGrowth:o.a.number,last90daysGrowth:o.a.number,performancePolicy:o.a.string,cacheHit:o.a.number,perWeekIopsRead:o.a.number,perWeekIopsWrite:o.a.number,ioPerWeek:o.a.number,avgReadsPerWeek:o.a.number,avgWritesPerWeek:o.a.number,avgIopsPerWeek:o.a.number,avgReadLatencyMs:o.a.number,avgWriteLatencyMs:o.a.number,avgLatencyMs:o.a.number,avgReadThroughput:o.a.number,avgWriteThroughput:o.a.number,avgThroughput:o.a.number,volumeCollection:o.a.string,volumeClone:o.a.bool,replicationPartner:o.a.string})),filters:o.a.arrayOf(o.a.object),getVolumes:o.a.func.isRequired,resetVolumeListStore:o.a.func.isRequired,loadingVolumes:o.a.bool.isRequired,getVolumesCsv:o.a.func.isRequired,loadingVolumesCsv:o.a.bool.isRequired,scope:o.a.shape({type:o.a.string.isRequired,id:o.a.string.isRequired}),config:o.a.object.isRequired,userName:o.a.string,enabledFieldSets:o.a.array,disableDefaultSort:o.a.bool},j.defaultProps={loadingVolumes:!1,loadingVolumesCsv:!1};var P=Object(c.connect)(function(e){return _({},Object(p.d)(e),Object(p.a)(e),{userName:Object(u.h)(e).username})},function(e){return Object(s.bindActionCreators)({getVolumes:d.f,resetVolumeListStore:d.h,getVolumesCsv:d.g},e)},null,{pure:!1})(j);t.a=P},728:function(e,t,n){"use strict";var r,a=n(1),i=n.n(a),o=n(66),s=n.n(o),c=n(19),l=n(58),u=n(672);n.d(t,"a",function(){return f}),n.d(t,"b",function(){return g});var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={users:null};var m=d((p(r={},u.e,function(){return h}),p(r,u.a,function(e,t){var n=t.success,r=t.user,a=t.error;return n?(s.a.success(i.a.createElement("span",null,"Successfully changed role for ",i.a.createElement("b",null,r.login))),d({},e,{users:e.users.map(function(e){return e.login!==r.login?e:r})})):(s.a.error(i.a.createElement("span",null,"Error changing role for ",i.a.createElement("b",null,r.login),": ",a)),e)}),p(r,u.c,function(e,t){var n=t.success,r=t.user,a=t.error;return n?(s.a.success(i.a.createElement("span",null,"Successfully deleted ",i.a.createElement("b",null,r.login))),d({},e,{users:e.users.filter(function(e){return e.login!==r.login})})):(s.a.error(i.a.createElement("span",null,"Error deleting ",i.a.createElement("b",null,r.login),": ",a)),e)}),p(r,u.b,function(e,t){var n=t.success,r=t.user,a=t.login,o=t.error;return n?(s.a.success(i.a.createElement("span",null,"Successfully created ",i.a.createElement("b",null,a))),d({},e,{users:[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e.users),[r])})):(s.a.error(i.a.createElement("span",null,"Error creating ",i.a.createElement("b",null,a),": ",o)),e)}),r),Object(c.createReducersForAction)({type:u.d,stateKey:"users"}));function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments[1],n=m[t.type];return n?n(e,t):e}var g=function(e){return function(e){return Object(l.a)(e).settings}(e).user}},759:function(e,t,n){e.exports={title:"title__2sApc",legacyLink:"legacyLink__2qvJc","header-container":"header-container__2hhxZ",header:"header__1LY0k","align-middle":"align-middle__3Bb2g","time-range":"time-range__3DYeZ","pool-selector":"pool-selector__23x66",menu:"menu__263M_",label:"label__pSZtp",container:"container__10rp4"}},760:function(e,t,n){e.exports={"all-pools":"all-pools__32vmT",selection:"selection__2Xngm"}},79:function(e,t,n){"use strict";n.r(t);var r=n(40),a=n(87),i=n(28),o=n(36),s=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c={isReseller:function(){return o.AuthorizationEvaluator.evaluate({access:{authorities:i.a.ATTRIBUTE_NIMBLE_RESELLER}})},isExternal:function(){return o.AuthorizationEvaluator.evaluate({access:{authorities:i.a.REALM_EXTERNAL}})},isInternal:function(){return o.AuthorizationEvaluator.evaluate({access:{authorities:i.a.REALM_INTERNAL}})},ownsSelectedTenant:function(){return o.AuthorizationEvaluator.evaluate({access:i.j})},isPrimaryTenant:function(){return o.AuthorizationEvaluator.evaluate({access:i.k})},hasArrays:function(){try{return!!Object(a.f)(Object(r.getStore)().getState())}catch(e){return!1}},getAuthorizedTenantCount:function(){try{var e=Object(o.permissionsSelector)(Object(r.getStore)().getState());if(!e)return 0;for(var t=0,n=0;n<e.length;n+=1){var a=e[n],s=a.privilege,c=a.targetType,l=a.targetId;if(s===i.d.ACCESS&&c===i.c.NIMBLE_TENANT){if(l===i.c.GLOBAL_TARGET_ID)return 1/0;t+=1}}return t}catch(e){return 0}},canAccessMultipleTenants:function(){return c.getAuthorizedTenantCount()>1},getCurrentTenant:function(){var e=Object(o.tenantSelector)(Object(r.getStore)().getState());return e?e.tenant:null},currentTenantIsNimbleTenant:function(){return!!this.getCurrentTenant()},toJSON:function(){return Object.entries(c).reduce(function(e,t){var n=s(t,2),r=n[0],a=n[1];return r!==c.toJSON.name&&(e[r]=a()),e})}};t.default=c},80:function(e,t,n){"use strict";n.r(t),n.d(t,"buildNimbleTenantUrl",function(){return s}),n.d(t,"buildUrlForCurrentTenant",function(){return c}),n.d(t,"nimbleResellerAuthorizationEvaluator",function(){return l});var r=n(22),a=n(40),i=n(79);n.d(t,"NimbleUserTenantHelpers",function(){return i.default});var o=n(36),s=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return r.buildUrl.apply(void 0,["org",encodeURIComponent("urn:nimble:"+e)].concat(n))},c=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Object(o.tenantSelector)(Object(a.getStore)().getState());return r&&r.tenant?s.apply(void 0,[r.tenant.id].concat(t)):void 0},l=function(){if(i.default.isReseller()&&i.default.ownsSelectedTenant())return i.default.hasArrays()&&i.default.currentTenantIsNimbleTenant()}},87:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"e",function(){return h}),n.d(t,"f",function(){return f}),n.d(t,"b",function(){return g}),n.d(t,"c",function(){return y}),n.d(t,"d",function(){return v});var r=n(19),a=n(58),i=n(126),o=n(40),s=n(28);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={objects:{flat:null,index:null,indexedDescendants:null}},u=(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e})(c({},s.i,function(){return l}),Object(r.createReducersForAction)({type:i.a,stateKey:"objects"}),c({},i.c,function(){return l}));function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1],n=u[t.type];return n?n(e,t):e}var p=function(e){return Object(a.a)(e).inventory},h=Object(r.createSelector)(p,"objects"),m=function(e){return p(e).objects&&p(e).objects.index},f=function(e){return m(e)&&m(e)[i.b.ARRAY]?Object.keys(m(e)[i.b.ARRAY]).length:0},g=function(e,t){var n=h(Object(o.getStore)().getState()).objects;if(n&&n.index){var r=n.index;return r&&r[e]&&r[e][t]||void 0}},y=function(e,t){var n=h(Object(o.getStore)().getState()).objects;if(n&&n.topology){var r=n.topology;return r&&r[e]&&r[e][t]||void 0}},v=function(e){var t=h(e);return t&&t.loadedObjects}},90:function(e,t,n){var r=n(9),a=n(16),i=(n(54),n(11)),o=n(13);n(320),n(1148);var s=n(165),c=n(321),l=n(128),u=n(227),d=n(617),p=n(1149),h=n(1153),m=n(1155),f=Object.freeze({NONE:"none",SINGLE:"single",MULTI:"multi"});a.fn.dataTableExt.oApi.fnSetFilteringDelay=function(e,t){var n=this;return void 0===t&&(t=250),this.each(function(e){a.fn.dataTableExt.iApiIndex=e;var r=null,i=null,o=a("input",n.fnSettings().aanFeatures.f);return o.unbind("keyup search input").bind("keyup",function(){null!==i&&i==o.val()||(window.clearTimeout(r),i=o.val(),r=window.setTimeout(function(){a.fn.dataTableExt.iApiIndex=e,n.fnFilter(o.val())},t))}),this}),this},a.fn.dataTable.ext.type.order["nimbleos-version-pre"]=function(e){return e.split(/\.|\-/).slice(0,4).map(function(e){return e.length>="0000".length?e:("0000"+e).slice(-"0000".length)}).join(".")},a.fn.dataTable.ext.search.push(function(e,t,n,r,i){var o=new a.fn.dataTable.Api(e).init().view;return!o||o.getOption("_isRowIncluded").call(o,n,r,t)}),e.exports=o.LayoutView.extend({template:r.template(m),className:"grid-view",regions:{filterRegion:".filter-region"},ui:{selectAllCheckbox:"th.row-selection-checkbox input"},events:{"init.dt":"onDataTableInit","draw.dt":"onDraw","xhr.dt":"onAjaxComplete","click tr:not(.child-row)":"onRowClick","click @ui.selectAllCheckbox":"onSelectAllClick","click td.details-control":"toggleChildRow"},url:null,columns:null,chooseColumns:!1,childTemplate:null,dataTableOptions:null,rowSelectionMode:f.NONE,toolbar:null,initialized:!1,highlightRowOnChange:!0,initialize:function(e){if(r.bindAll(this,"selectRow","updateSelectionForRowVisibilityChange","refreshData","getDataTableApi"),this.model){if(!(this.model instanceof s))throw new Error('"model" must extend from the BaseGridModel class.');this.model.isValid()}else;if(!this.options.tableTemplate)throw new Error('"tableTemplate" must be provided to the GridView component.  It is expected to define the table structure for the grid.');e.childTemplate?this.ChildView=o.ItemView.extend({template:e.childTemplate}):this.ChildView=e.ChildView,this.dataTableOptions=e.dataTableOptions,e.rowSelectionMode&&(this.rowSelectionMode=e.rowSelectionMode),e.toolbar&&(this.toolbar=e.toolbar),e.sort instanceof h?this.sort=e.sort:(e.sort=e.sort||[],e.sort.length&&r.isString(e.sort[0])?this.sort=new h(e.sort.map(function(e){return{column:e}})):this.sort=new h(e.sort)),this.listenTo(this.sort,"update",this.applyOrdering),this.listenTo(this.sort,"reset",this.applyOrdering),this.model.get("showFilters")&&(this.filterView=new p({grid:this}))},onRender:function(){var e=this;if(this.options.tableTemplate instanceof a?(console.warn("Use of existing DOM element as GridView template is deprecated - a template function (or HTML string) should be used instead"),this.$table=this.options.tableTemplate):this.$table=a(r.result(this.options,"tableTemplate")),0===this.$table.find("THEAD").length)throw new Error("GridView["+this.id+"] GridView template must specify a THEAD section.");this.$el.append(this.$table),this.model.get("showFilters")&&this.filterRegion.show(this.filterView);var t=this.model instanceof d,n=this.model.get("columns"),i=this.model.get("pageLength"),o=this.model.get("emptyLabel"),s=this.model.get("groupBy"),p=this.$table.find("thead tr").length;this.ChildView&&(this.$table.find("th:first").before(a("<th/>").attr("rowspan",p)),n=a.merge([{data:null,class:"details-control",orderable:!1,defaultContent:'<span class="fa fa-caret-right"/>'}],n)),this.rowSelectionMode==f.MULTI&&(this.$table.find("th:first").before(a('<th><input type="checkbox"/></th>').attr("rowspan",p)),n=a.merge([{data:null,class:"row-selection-checkbox",orderable:!1,defaultContent:'<input type="checkbox"/>'}],n)),this.model.set("columns",n),this.applyColumnNames(),this.applyColumnIndices();var h={processing:t,serverSide:t,language:{emptyTable:o},pageLength:i,order:this.sortToDatatablesOrder(),columns:n,dom:'<"top"C<"toolbar">f<"clear">lp<"clear"><"custom-filter">>rt<"bottom"p<"clear">>',lengthMenu:[[10,25,50,100],[10,25,50,100]],drawCallback:function(t){var n=this.api(),r=s(n);null!==r&&e.insertGroupingRows(n,r)},createdRow:this.createdRow.bind(this),view:this},m=function(t,n,r){console.log("GridView data load error - "+n+": "+r),e.trigger("error",t,n,r),e.$table.dataTable().api().destroy(),e.$table.dataTable({info:!1,language:{emptyTable:"Error while fetching data"}})};if(this.model instanceof c)h.data=this.model.get("data");else if(this.model instanceof l){var g=this.model.get("collection");h.data=g.toJSON(),this.listenTo(g,"add",this.refreshModelData),this.listenTo(g,"remove",this.refreshModelData),this.listenTo(g,"change",this.refreshModelData),this.listenTo(g,"reset",this.refreshCollectionData)}else if(this.model instanceof u){this.model.get("data");h.ajax={url:e.model.url(),dataSrc:e.model.get("dataSrc"),error:m}}else h.ajax=this.cachePipeline({url:this.model.get("url"),pages:this.model.get("pages"),error:m});return a.extend(h,this.dataTableOptions),this.$table.dataTable(h),this},onDataTableInit:function(){this.$table.DataTable();var e=this;if(this.model instanceof l){var t=this.model.get("collection"),n=this.$(".dataTables_paginate"),r=function(){var r=e.model.get("pageLength");r?n.toggle(t.length>r):n.toggle(t.length>10)};r(),this.listenTo(t,"sync",r),this.listenTo(t,"add",r),this.listenTo(t,"remove",r),this.listenTo(t,"reset",r)}this.toolbar&&this.$(".toolbar").html(this.toolbar),this.$table.find("TH:not(.row-selection-checkbox):not([title])").each(function(e,t){a(this).attr("title","Click to sort.  Shift click to sort by multiple columns.")}),this.initialized=!0,this.trigger("init",this)},applyColumnNames:function(){var e=this.$table;this.model.get("columns").forEach(function(t,n){if(!t.name){var r=e.find("thead > tr:first > th:nth-of-type("+(n+1)+")");t.name=r.text()}})},applyColumnIndices:function(){this.model.get("columns").forEach(function(e,t){e.index=t})},onDestroy:function(){this.$table&&this.$table.api().destroy()},getDataTable:function(){return this.$table},getDataTableApi:function(){return this.$table.api()},onDraw:function(){this.bindUIElements(),this.rowSelectionMode!=f.NONE&&this.updateSelectionForRowVisibilityChange()},onRowClick:function(e){this.selectRow(a(e.currentTarget))},selectRow:function(e){e.find("td").hasClass("dataTables_empty")||e.parents("tr.child-row").length||e.hasClass("unselectable")||this.rowSelectionMode!=f.NONE&&(e.hasClass("selected")?e.removeClass("selected"):(this.rowSelectionMode==f.SINGLE&&this.$table.find("TR.selected").removeClass("selected"),e.addClass("selected")),this.$table.find("TR.selected TD.row-selection-checkbox INPUT").prop("checked",!0),this.$table.find("TR:not(.selected) TD.row-selection-checkbox INPUT").prop("checked",!1),this.updateSelectAllCheckbox(),this.trigger("row-selection:changed",this.$table.find("TR.selected")))},onSelectAllClick:function(e){var t=a(e.currentTarget),n=this.getDataTableApi().$("TR",{page:"current"});t.is(":checked")?(n.addClass("selected"),n.find("TD.row-selection-checkbox INPUT").prop("checked",!0)):(n.removeClass("selected"),n.find("TD.row-selection-checkbox INPUT").prop("checked",!1)),this.trigger("row-selection:changed",this.$table.find("TR.selected"))},updateSelectAllCheckbox:function(){if(this.rowSelectionMode==f.MULTI){var e=this.getDataTableApi().$("TR",{page:"current"});0===e.filter(".selected").length?(this.ui.selectAllCheckbox.prop("checked",!1),this.ui.selectAllCheckbox.prop("indeterminate",!1)):0===e.filter(":not(.selected)").length?(this.ui.selectAllCheckbox.prop("checked",!0),this.ui.selectAllCheckbox.prop("indeterminate",!1)):this.ui.selectAllCheckbox.prop("indeterminate",!0)}},updateSelectionForRowVisibilityChange:function(){var e=this.getDataTableApi().$("TR"),t=this.getDataTableApi().$("TR",{page:"current"}),n=e.filter(function(){return!a(this).filter(t).length});n.removeClass("selected"),n.find("TD.row-selection-checkbox INPUT").prop("checked",!1),this.updateSelectAllCheckbox(),this.trigger("row-selection:changed",this.$table.find("TR.selected"))},getSelectedRowData:function(){return console.assert(this.rowSelectionMode==f.SINGLE),this.getDataTableApi().row(".selected").data()},getSelectedRowsData:function(){return console.assert(this.rowSelectionMode==f.MULTI),this.getDataTableApi().rows(".selected").data()},eachRow:function(e){var t=this.getDataTableApi();t.rows().eq(0).each(function(n){e(t.row(n))})},refreshCollectionData:function(){this.refreshData()},refreshModelData:function(e){this.getOption("highlightRowOnChange")&&this.highlightRowsOnNextDraw(function(t){return e.id===t.id}),this.refreshData()},refreshData:function(){this.model instanceof c||(this.model instanceof l?(this.getDataTableApi().clear().rows.add(this.model.get("collection").toJSON()).draw(),this.trigger("reload",this)):this.getDataTableApi().ajax.reload())},onAjaxComplete:function(){if(this.initialized){var e=this;r.defer(function(){e.trigger("reload",e)})}},highlightRowsOnNextDraw:function(e){var t=this;this.getDataTableApi().one("draw",function(){t.eachRow(function(t){e(t.data())&&a(t.node()).find("> td").effect("highlight",{color:"#78c639"},3e3)})})},cachePipeline:function(e){var t=a.extend({pages:5,url:"",data:null,method:"GET"},e),n=-1,r=null,i=null,o=null;return function(e,s,c){var l=!1,u=e.start,d=e.length,p=u+d;if(c.clearCache?(l=!0,c.clearCache=!1):n<0||u<n||p>r?l=!0:JSON.stringify(e.order)===JSON.stringify(i.order)&&JSON.stringify(e.columns)===JSON.stringify(i.columns)&&JSON.stringify(e.search)===JSON.stringify(i.search)||(l=!0),i=a.extend(!0,{},e),l){if(u<n&&(u-=d*(t.pages-1))<0&&(u=0),n=u,r=u+d*t.pages,e.start=u,e.length=d*t.pages,a.isFunction(t.data)){var h=t.data(e);h&&a.extend(e,h)}else a.isPlainObject(t.data)&&a.extend(e,t.data);c.jqXHR=a.ajax({type:t.method,url:t.url,data:e,dataType:"json",cache:!1,success:function(e){o=a.extend(!0,{},e),n!=u&&e.data.splice(0,u-n),e.data.splice(d,e.data.length),s(e)}})}else{var m=a.extend(!0,{},o);m.draw=e.draw,m.data.splice(0,u-n),m.data.splice(d,m.data.length),s(m)}}},insertGroupingRows:function(e,t){var n=this.model.get("columns"),r=e.rows({page:"current"}).nodes(),i=null;e.column(t,{page:"current"}).cache("order").each(function(e,t){i!==e&&(a(r).eq(t).before('<tr class="rowgroup-header"><td colspan="'+n.length+'">'+e+"</td></tr>"),i=e)})},toggleChildRow:function(e){console.assert(this.ChildView,"Child view expected to be defined");var t,n,r,o=this.getDataTableApi(),s=a(e.currentTarget).closest("tr"),c=o.row(s),u=a(c.node()),d=null,p=c.data();if(e.stopPropagation(),s.find("SPAN").toggleClass("fa-caret-right fa-caret-down"),c.child.isShown())(t=c.child().data("view")).destroy(),c.child.remove(),d=u.next(),this.trigger("child-row:hide",u,p);else{if(this.model instanceof l){var h=(r=this.model.get("collection")).model.prototype.idAttribute||"id";n=r.get(p[h])}else n=new i.Model(p);t=new this.ChildView({model:n,collection:r,rowData:p}),c.child(t.render().el).show(),c.child().data("view",t),(d=u.next()).addClass("child-row").css("background-color","white"),this.trigger("child-row:show",d,p)}},isRowIncluded:function(){return!0},_isRowIncluded:function(e,t,n){return this.getOption("isRowIncluded")(e,t,n)&&(!this.filterView||this.filterView.isRowIncluded(e,t,n))},redraw:function(){this.getDataTableApi().draw()},rawRows:function(){return this.getDataTableApi().rows({search:"applied"})},sortToDatatablesOrder:function(){var e=this.model.get("columns");return this.sort.map(function(t){return[r.findIndex(e,function(e){return e.name==t.get("column")}),t.get("order")]})},applyOrdering:function(){this.getDataTableApi().order(this.sortToDatatablesOrder()).draw()},createdRow:function(e,t,n){t.id&&a(e).attr("data-model-id",t.id)}},{RowSelectionMode:f})},92:function(e,t,n){"use strict";n.d(t,"h",function(){return r}),n.d(t,"g",function(){return a}),n.d(t,"f",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"j",function(){return d}),n.d(t,"i",function(){return p}),n.d(t,"A",function(){return h}),n.d(t,"z",function(){return m}),n.d(t,"y",function(){return f}),n.d(t,"x",function(){return g}),n.d(t,"w",function(){return y}),n.d(t,"C",function(){return v}),n.d(t,"B",function(){return b}),n.d(t,"v",function(){return E}),n.d(t,"u",function(){return O}),n.d(t,"t",function(){return C}),n.d(t,"s",function(){return S}),n.d(t,"r",function(){return w}),n.d(t,"E",function(){return R}),n.d(t,"D",function(){return T}),n.d(t,"n",function(){return _}),n.d(t,"m",function(){return N}),n.d(t,"l",function(){return j}),n.d(t,"k",function(){return P}),n.d(t,"p",function(){return A}),n.d(t,"o",function(){return x}),n.d(t,"q",function(){return L});var r="FETCH_CASE_HEADERS_OK",a="FETCH_CASE_HEADERS_FAIL",i="FETCH_CASE_DETAIL_OK",o="FETCH_CASE_DETAIL_FAIL",s="FETCH_CASE_COMMENTS_OK",c="FETCH_CASE_COMMENTS_FAIL",l="FETCH_CASE_ATTACHMENTS_OK",u="FETCH_CASE_ATTACHMENTS_FAIL",d="FETCH_CASE_RMALABELS_OK",p="FETCH_CASE_RMALABELS_FAIL",h="POST_CASE_OK",m="POST_CASE_COMMENT_OK",f="POST_CASE_COMMENT_FAIL",g="POST_CASE_ATTACHMENT_OK",y="POST_CASE_ATTACHMENT_FAIL",v="POST_CASE_RESOLUTION_OK",b="POST_CASE_RESOLUTION_FAIL",E="FILTER_CASE_STATUS",O="FILTER_CASE_PRIORITY",C="FILTER_CASE_PARAMS",S="FETCH_SUGGESTED_TERMS_OK",w="FETCH_SUGGESTED_TERMS_FAIL",R="SEARCH_KCS_SOLUTIONS_OK",T="SEARCH_KCS_SOLUTIONS_FAIL",_="FETCH_KCS_SOLUTION_OK",N="FETCH_KCS_SOLUTION_FAIL",j="FETCH_KCS_RELATED_SOLUTIONS_OK",P="FETCH_KCS_RELATED_SOLUTIONS_FAIL",A="FETCH_KCS_SUPPORTED_METHODS_OK",x="FETCH_KCS_SUPPORTED_METHODS_FAIL",L="FETCH_SFDC_CONTACT"},982:function(e){e.exports={tree:{base:{listStyle:"none",backgroundColor:"white",margin:0,padding:"0.75em"},node:{base:{position:"relative"},subtree:{listStyle:"none",paddingLeft:"2em"}}}}},986:function(e,t,n){e.exports=n.p+"nmbl-sharepoint-app-category-5657936c8d227414d7c5306fce263562.png"},987:function(e,t,n){e.exports=n.p+"nmbl-virtual-server-app-category-e1b953caa9855bba9773db754d74b2a9.png"},988:function(e,t,n){e.exports=n.p+"nmbl-virtual-desktop-app-category-06e451821e1e04e12ad08eb016c2753c.png"},989:function(e,t,n){e.exports=n.p+"nmbl-file-server-app-category-5507ee917e0b9f09905a093001cb3371.png"},990:function(e,t,n){e.exports=n.p+"nmbl-other-app-category-5bd1ff203b39c69d10fbf47d518e0754.png"},991:function(e,t,n){e.exports=n.p+"nmbl-unassigned-app-category-1fc7e5e6d45254d7c4f8155fae54d22d.png"},992:function(e,t,n){e.exports=n.p+"nmbl-remote-replica-4c21bd9575b5beaf0960867ad3c2f3f8.png"},993:function(e,t,n){e.exports=n.p+"nmbl-local-replication-c5b17fabb276c92cd8749bae1438a782.png"},994:function(e,t,n){e.exports=n.p+"images/nmbl-dashboard-heartbeat-down.png"},995:function(e,t,n){e.exports=n.p+"images/nmbl-dashboard-heartbeat-up.png"},996:function(e,t,n){e.exports=n.p+"images/nmbl-dashboard-asup-down.png"},997:function(e,t,n){e.exports=n.p+"images/nmbl-dashboard-asup-up.png"}}]);
//# sourceMappingURL=1-5dd62fa9396b1f21ca44.js.map