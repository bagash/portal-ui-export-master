{"version":3,"sources":["webpack:///./app/views/components/Spinner.js","webpack:///./app/common/FormBehavior.js","webpack:///./app/templates/components/error.html","webpack:///./progeny/modules/support/library/SFCaseModel.js","webpack:///./progeny/modules/nimble/address/components/style.scss","webpack:///./progeny/modules/nimble/settings/user/style.scss?b74b","webpack:///./app/modules/permissions/PermissionModel.js","webpack:///./app/views/components/confirmation/ConfirmationRequestView.js","webpack:///./app/modules/elasticsearch/ElasticsearchClient.js","webpack:///./progeny/modules/nimble/settings/telemetry/style.scss?2e86","webpack:///./app/util/FormattingUtils.js","webpack:///./app/modules/reports/executiveDashboard/LocalRetentionModel.js","webpack:///./app/modules/reports/executiveDashboard/DataProtectionLegend.js","webpack:///./app/modules/wellness/maintenanceWindow/MaintenanceWindowModel.js","webpack:///./progeny/modules/nimble/legacyStyles/labels.scss","webpack:///./app/modules/vmops/dashboard/views/TopVMsBarChart.js","webpack:///./app/modules/vmops/dashboard/templates/TopVmsChartView.html","webpack:///./app/modules/inventory/InventoryFilterable.js","webpack:///./app/modules/reports/executiveDashboard/SpaceUsageChart.js","webpack:///./app/modules/reports/executiveDashboard/DisasterRecoveryModel.js","webpack:///./app/modules/reports/executiveDashboard/UpgradeSummaryModel.js","webpack:///./app/models/ArrayModel.js","webpack:///./app/models/capacity/CapacityForecastModel.js","webpack:///./app/modules/reports/executiveDashboard/notification/ExecutiveDashboardEmailModel.js","webpack:///./app/modules/reports/executiveDashboard/notification/ExecutiveDashboardEmailCollection.js","webpack:///./app/modules/wellness/WellnessSummaryModel.js","webpack:///./app/modules/wellness/WellnessIssueModel.js","webpack:///./app/modules/wellness/WellnessEmailModel.js","webpack:///./progeny/modules/nimble/wellnessDashboard/components/style.scss?660a","webpack:///./app/modules/wellness/maintenanceWindow/MaintenanceWindowCollection.js","webpack:///./app/modules/labs/LabAppCollection.js","webpack:///./progeny/modules/nimble/legacyStyles/breadcrumbs.scss?bae0","webpack:///./app/modules/documentation/HitCollection.js","webpack:///./app/modules/documentation/FacetCollection.js","webpack:///./app/modules/documentation/FacetBucketCollection.js","webpack:///./app/modules/documentation/HitView.js","webpack:///./app/modules/documentation/EmptyHitsView.js","webpack:///./app/modules/documentation/LanguagePreferenceModel.js","webpack:///./app/modules/software/ProductVersionCollection.js","webpack:///./app/modules/software/WhitelistModel.js","webpack:///./progeny/modules/support/components/SupportLoading/SupportLoading.scss?fc10","webpack:///./progeny/modules/support/components/SupportExamineCase/PanelStyles.scss?6b48","webpack:///./app/modules/virtualArrays/VirtualArrayModel.js","webpack:///./app/modules/virtualArrays/VirtualArrayCollection.js","webpack:///./app/modules/permissions/PermissionGroupCollection.js","webpack:///./app/modules/tools/tools_central/modules/banners/BannerModel.js","webpack:///./app/modules/dashboard/OperationalDashboardView.js","webpack:///./app/modules/dashboard/topVms/TopVmsDashboardView.js","webpack:///./app/modules/vmops/dashboard/views/TopVMsByLatencyView.js","webpack:///./app/modules/vmops/dashboard/views/TopVMsByIOView.js","webpack:///./app/modules/vmops/dashboard/collections/TopVMsCollection.js","webpack:///./app/modules/vmops/dashboard/models/TopVMModel.js","webpack:///./app/modules/dashboard/topVms/TopVmsDashboardView.html","webpack:///./app/modules/dashboard/performance/PeerPerformanceDashboardView.js","webpack:///./app/modules/dashboard/performance/PeerPerformanceChartView.js","webpack:///./app/modules/dashboard/performance/PeerPerformanceChartTooltip.html","webpack:///./app/modules/dashboard/performance/PeerPerformanceCollection.js","webpack:///./app/modules/dashboard/capacity/CapacityDashboardView.js","webpack:///./app/modules/dashboard/capacity/ArrayCapacityDashboardView.js","webpack:///./app/modules/dashboard/capacity/ArrayForecastCollection.js","webpack:///./app/modules/dashboard/capacity/AssetCapacityTooltipView.js","webpack:///./app/modules/dashboard/capacity/AssetCapacityTooltipItem.html","webpack:///./app/modules/dashboard/capacity/ArrayCapacityDashboardView.html","webpack:///./app/modules/dashboard/capacity/VolumeCapacityDashboardView.js","webpack:///./app/modules/dashboard/capacity/VolumeForecastBuckets.js","webpack:///./app/modules/dashboard/capacity/VolumeCapacityDashboardView.html","webpack:///./app/modules/dashboard/capacity/CapacityDashboardView.html","webpack:///./app/modules/dashboard/protection/ProtectionDashboardView.js","webpack:///./app/modules/dashboard/protection/ProtectionModel.js","webpack:///./app/modules/dashboard/system/SystemDashboardView.js","webpack:///./app/modules/dashboard/system/HeartbeatWarningsView.js","webpack:///./app/modules/dashboard/system/HeartbeatWarningsItem.html","webpack:///./app/modules/dashboard/system/AsupWarningsView.js","webpack:///./app/modules/dashboard/system/AsupWarningsItem.html","webpack:///./app/modules/dashboard/system/HardwareWarningsView.js","webpack:///./app/modules/dashboard/system/HardwareWarnings.html","webpack:///./app/modules/dashboard/system/HardwareWarningsItem.html","webpack:///./app/modules/dashboard/system/SystemDashboardView.html","webpack:///./app/modules/dashboard/PerformanceTooltip.html","webpack:///./app/modules/dashboard/ProtectionTooltip.html","webpack:///./app/modules/dashboard/OperationalDashboardView.html","webpack:///./progeny/modules/nimble/operationalDashboard/components/style.scss?64dc","webpack:///./app/modules/reports/executiveDashboard/ExecutiveDashboardReportView.js","webpack:///./app/modules/reports/executiveDashboard/ExecutiveDashboardReportView.html","webpack:///./app/modules/reports/executiveDashboard/DashboardROIView.js","webpack:///./app/modules/reports/executiveDashboard/DashboardROIView.html","webpack:///./app/modules/reports/executiveDashboard/SpaceSavingsModel.js","webpack:///./app/modules/inventory/InventoryFilter.js","webpack:///./app/modules/reports/executiveDashboard/CaseStatisticsModel.js","webpack:///./app/modules/reports/executiveDashboard/CaseStatisticsView.js","webpack:///./app/modules/reports/executiveDashboard/CaseStatisticsView.html","webpack:///./app/modules/reports/executiveDashboard/CaseStatisticsChart.js","webpack:///./app/modules/reports/executiveDashboard/CaseStatisticsDonutView.js","webpack:///./app/modules/reports/executiveDashboard/SpaceSavingsView.js","webpack:///./app/modules/reports/executiveDashboard/SpaceSavings.html","webpack:///./app/modules/reports/executiveDashboard/SpaceSavingsDonutView.js","webpack:///./app/modules/reports/executiveDashboard/SpaceSavingsBarChart.js","webpack:///./app/modules/reports/executiveDashboard/SpaceSavingsBarChart.html","webpack:///./app/modules/reports/executiveDashboard/SpaceSavingsWaterfallView.js","webpack:///./app/modules/reports/executiveDashboard/SpaceUsageView.js","webpack:///./app/modules/reports/executiveDashboard/SpaceUsageView.html","webpack:///./app/views/components/SpinnerModel.js","webpack:///./app/templates/components/Spinner.html","webpack:///./app/modules/reports/executiveDashboard/DataProtectionView.js","webpack:///./app/modules/reports/executiveDashboard/DataProtectionView.html","webpack:///./app/modules/reports/executiveDashboard/RPOModel.js","webpack:///./app/modules/reports/executiveDashboard/DisasterRecoveryView.js","webpack:///./app/modules/reports/executiveDashboard/LocalRetentionView.js","webpack:///./app/modules/reports/executiveDashboard/RPOView.js","webpack:///./app/modules/reports/executiveDashboard/UpgradeSummaryCollectionView.js","webpack:///./app/modules/reports/executiveDashboard/UpgradeSummaryItemView.js","webpack:///./app/modules/reports/executiveDashboard/UpgradeSummaryItemView.html","webpack:///./app/modules/reports/executiveDashboard/UpgradesView.js","webpack:///./app/modules/reports/executiveDashboard/UpgradesView.html","webpack:///./app/modules/reports/executiveDashboard/UpgradeSummaryCollection.js","webpack:///./app/modules/reports/executiveDashboard/ArrayUpgradeModel.js","webpack:///./app/modules/inventory/ArrayScoped.js","webpack:///./app/modules/reports/executiveDashboard/CapacitySummaryModel.js","webpack:///./app/modules/capacity_report/collections/CapacityForecastCollection.js","webpack:///./app/views/cards/CardCollectionView.js","webpack:///./app/templates/cards/CardCollectionView.html","webpack:///./app/modules/reports/executiveDashboard/ArrayUpgradeCard.js","webpack:///./app/views/cards/array/BaseArrayCard.js","webpack:///./app/views/components/asset/AssetHeader.js","webpack:///./app/collections/AssetShelfCollection.js","webpack:///./app/models/asset/AssetShelfModel.js","webpack:///./app/views/components/asset/AssetShelfTooltip.js","webpack:///./app/views/components/asset/AssetShelfTooltip.html","webpack:///./app/views/components/asset/AssetShelfTooltipDetails.js","webpack:///./app/views/components/asset/AssetShelfTooltipDetails.html","webpack:///./app/views/components/asset/AssetHeader.html","webpack:///./app/templates/cards/array/BaseArrayCard.html","webpack:///./app/modules/reports/executiveDashboard/UpgradeCapacityDetailsView.js","webpack:///./app/views/components/capacity/CapacityForecastChart.js","webpack:///./app/modules/reports/executiveDashboard/CpuAreaChart.js","webpack:///./app/modules/reports/executiveDashboard/CacheAreaChart.js","webpack:///./app/modules/reports/executiveDashboard/ArrayUpgradeCard.html","webpack:///./app/modules/reports/executiveDashboard/notification/ExecutiveDashboardEmailSettingsView.js","webpack:///./app/modules/reports/executiveDashboard/notification/ExecutiveDashboardEmailSettingsView.html","webpack:///./app/modules/reports/executiveDashboard/notification/ExecutiveDashboardEmailView.js","webpack:///./app/modules/reports/executiveDashboard/notification/ExecutiveDashboardEmailSettingsModel.js","webpack:///./app/modules/reports/executiveDashboard/notification/ExecutiveDashboardEmailSettingsLayoutView.html","webpack:///./progeny/modules/nimble/executiveDashboard/components/style.scss","webpack:///./app/modules/wellness/WellnessView.js","webpack:///./app/modules/wellness/WellnessView.html","webpack:///./app/modules/wellness/WellnessSummaryView.js","webpack:///./app/modules/wellness/WellnessSummaryWrapper.html","webpack:///./app/modules/wellness/WellnessSummaryView.html","webpack:///./app/modules/wellness/WellnessIssuesView.js","webpack:///./app/modules/wellness/WellnessIssueCollection.js","webpack:///./app/views/components/confirmation/ConfirmationRequestModel.js","webpack:///./app/views/components/confirmation/ConfirmationRequestView.html","webpack:///./app/modules/wellness/WellnessChildRowTemplate.html","webpack:///./app/modules/wellness/WellnessIssuesView.html","webpack:///./app/modules/wellness/WellnessIssuesGridToolbar.html","webpack:///./app/modules/wellness/WellnessIssueClearConfirmation.html","webpack:///./app/modules/wellness/WellnessEmailSettingsView.js","webpack:///./app/modules/wellness/WellnessEmailSettingsView.html","webpack:///./app/modules/wellness/WellnessEmailView.js","webpack:///./app/modules/wellness/WellnessEmailCollection.js","webpack:///./app/modules/wellness/WellnessEmailSettingsLayoutView.html","webpack:///./app/modules/wellness/maintenanceWindow/MaintenanceWindowStatusView.js","webpack:///./app/modules/wellness/maintenanceWindow/MaintenanceWindowStatusModel.js","webpack:///./app/modules/wellness/maintenanceWindow/MaintenanceWindowStatusView.html","webpack:///./app/modules/wellness/maintenanceWindow/MaintenanceWindowView.js","webpack:///./app/modules/wellness/maintenanceWindow/MaintenanceWindowFormView.js","webpack:///./app/modules/wellness/maintenanceWindow/MaintenanceWindowFormView.html","webpack:///./app/modules/wellness/maintenanceWindow/MaintenanceWindowDetailsView.js","webpack:///./app/modules/wellness/maintenanceWindow/MaintenanceWindowDetailsView.html","webpack:///./app/modules/wellness/maintenanceWindow/MaintenanceWindowSidePanelView.js","webpack:///./app/modules/wellness/maintenanceWindow/MaintenanceWindowSidePanelView.html","webpack:///./app/modules/wellness/maintenanceWindow/MaintenanceWindowSidePanelItemView.html","webpack:///./app/modules/wellness/maintenanceWindow/MaintenanceWindowView.html","webpack:///./app/modules/wellness/maintenanceWindow/MaintenanceWindowEmptyDetailsView.html","webpack:///./app/modules/labs/LabsView.js","webpack:///./app/modules/labs/LabAppModel.js","webpack:///./app/modules/labs/LabsItemView.html","webpack:///./app/modules/labs/LabsView.html","webpack:///./app/modules/labs/LabAppView.js","webpack:///./app/modules/labs/LabAppView.html","webpack:///./app/modules/labs/LabsFeedBackView.js","webpack:///./app/modules/labs/LabsFeedBackView.html","webpack:///./app/modules/labs/LabAppUserGuide.js","webpack:///./app/modules/labs/user-guides/ReplicationPlanning.html","webpack:///./app/modules/labs/user-guides/ReplicationTimeline.html","webpack:///./app/modules/labs/user-guides/VolumeCapacitySubset.html","webpack:///./app/modules/labs/user-guides/VolumePerformanceSubset.html","webpack:///./app/modules/labs/user-guides/CapacityConsumersTimeline.html","webpack:///./app/modules/labs/user-guides/PerformanceHeatMap.html","webpack:///./app/modules/labs/user-guides/InterVolumePerformanceContention.html","webpack:///./app/modules/labs/user-guides/PerformanceRecommendationsStorage.html","webpack:///./app/modules/labs/user-guides/HpeCloudVolumesSizingTool.html","webpack:///./app/modules/labs/user-guides/CapacityConsumersForecast.html","webpack:///./app/modules/labs/user-guides/WhatIfPlanningTool.html","webpack:///./app/modules/labs/user-guides/CrossStackRecommendationEngine.html","webpack:///./progeny/modules/nimble/labs/components/style.scss?08c9","webpack:///./progeny/modules/nimble/resellerDashboard/components/style.scss?9346","webpack:///./app/modules/documentation/DocumentationView.js","webpack:///./app/modules/documentation/SearchForm.js","webpack:///./app/modules/documentation/SearchForm.html","webpack:///./app/modules/documentation/QueryModel.js","webpack:///./app/modules/documentation/HitModel.js","webpack:///./app/modules/documentation/FacetModel.js","webpack:///./app/modules/documentation/FacetBucketModel.js","webpack:///./app/modules/documentation/documents.js","webpack:///./app/modules/documentation/ResultsView.js","webpack:///./app/modules/documentation/PaginationModel.js","webpack:///./app/modules/documentation/BreadcrumbsView.js","webpack:///./app/modules/documentation/BreadcrumbItem.html","webpack:///./app/modules/documentation/BreadcrumbsView.html","webpack:///./app/modules/documentation/PaginationView.js","webpack:///./app/modules/documentation/PaginationView.html","webpack:///./app/modules/documentation/HitsView.js","webpack:///./app/modules/documentation/InnerHitView.js","webpack:///./app/modules/documentation/InnerHitView.html","webpack:///./app/modules/documentation/HitView.html","webpack:///./app/modules/documentation/HitsView.html","webpack:///./app/modules/documentation/EmptyHitsView.html","webpack:///./app/modules/documentation/ResultsView.html","webpack:///./app/modules/documentation/HomeView.js","webpack:///./app/modules/documentation/HomeView.html","webpack:///./app/modules/documentation/images/releaseNotes.svg","webpack:///./app/modules/documentation/images/solutionGuides.svg","webpack:///./app/modules/documentation/images/support.svg","webpack:///./app/modules/documentation/images/userGuides.svg","webpack:///./app/modules/documentation/FacetPanel.js","webpack:///./app/modules/documentation/FacetView.js","webpack:///./app/modules/documentation/FacetBucketView.js","webpack:///./app/modules/documentation/FacetBucketView.html","webpack:///./app/modules/documentation/FacetView.html","webpack:///./app/modules/documentation/FacetPanel.html","webpack:///./app/modules/documentation/LanguagePreferenceView.js","webpack:///./app/modules/documentation/LanguagePreferenceForm.js","webpack:///./app/modules/documentation/LanguagePreferenceForm.html","webpack:///./app/modules/documentation/LanguagePreferenceView.html","webpack:///./app/modules/documentation/DocumentationView.html","webpack:///./app/modules/software/SoftwareView.js","webpack:///./app/modules/software/CategoryCollection.js","webpack:///./app/modules/software/CategoryModel.js","webpack:///./app/modules/software/ProductCollection.js","webpack:///./app/modules/software/ProductModel.js","webpack:///./app/modules/software/ProductVersionModel.js","webpack:///./app/modules/software/CategoriesView.js","webpack:///./app/modules/software/CategoryPanel.js","webpack:///./app/modules/software/CategoryPanelProduct.html","webpack:///./app/modules/software/CategoryPanel.html","webpack:///./app/modules/software/WhitelistCategoryView.js","webpack:///./app/modules/software/WhitelistItemView.html","webpack:///./app/modules/software/WhitelistCategoryView.html","webpack:///./app/modules/software/WhitelistCollection.js","webpack:///./app/modules/software/ProductView.js","webpack:///./app/modules/software/ProductVersionTable.js","webpack:///./app/modules/software/ProductVersionRow.js","webpack:///./app/modules/software/ProductVersionRow.html","webpack:///./app/modules/software/ProductVersionTable.html","webpack:///./app/modules/software/EulaView.js","webpack:///./app/modules/software/EulaModel.js","webpack:///./app/modules/software/EulaView.html","webpack:///./app/modules/software/ProductDocumentationView.js","webpack:///./app/modules/software/ProductDocumentationView.html","webpack:///./app/modules/software/ProductDocumentCollection.js","webpack:///./app/modules/software/ProductView.html","webpack:///./app/modules/software/HomeView.js","webpack:///./app/modules/software/WhatsNewView.js","webpack:///./app/modules/software/WhatsNewItem.html","webpack:///./app/modules/software/WhatsNewView.html","webpack:///./app/modules/software/NimbleOsReleasesView.js","webpack:///./app/modules/software/NimbleOsReleaseNotesCollection.js","webpack:///./app/modules/software/NimbleOsReleasesView.html","webpack:///./app/modules/software/NimbleOsRelease.html","webpack:///./app/modules/software/HomeView.html","webpack:///./app/modules/software/SoftwareView.html","webpack:///./app/modules/supportmatrix/SupportMatrixView.js","webpack:///./app/modules/supportmatrix/SupportCategoryCollection.js","webpack:///./app/modules/supportmatrix/SupportCategoryModel.js","webpack:///./app/modules/supportmatrix/SupportMatrixView.html","webpack:///./app/modules/supportmatrix/base64/hpe_logo_print_small.png","webpack:///./app/modules/admin/auditlog/AuditLogView.js","webpack:///./app/modules/admin/auditlog/templates/AuditLogView.html","webpack:///./progeny/modules/nimble/documentation/AuditLogView.scss","webpack:///./progeny/modules/support/library/SFCaseCollection.js","webpack:///./progeny/modules/support/components/SupportTab/SupportTab.scss?f8b9","webpack:///./progeny/modules/support/components/SearchNav/SearchNav.scss?33e5","webpack:///./progeny/components/DatePicker/style.scss?65fa","webpack:///./progeny/modules/support/components/SupportListCases/SupportListCases.scss?506d","webpack:///./progeny/modules/support/components/KcsDocument/KcsDocument.scss?2578","webpack:///./progeny/components/TypeAhead/style.scss?55db","webpack:///./progeny/modules/support/components/SupportCreateCase/SupportCreateCase.scss?c11b","webpack:///./progeny/modules/support/components/SupportExamineCase/CommentItem/CommentItem.scss?23ef","webpack:///./progeny/modules/support/components/SupportExamineCase/CaseComments/CaseComments.scss","webpack:///./progeny/modules/support/components/SupportExamineCase/CaseAttachments/CaseAttachments.scss?2618","webpack:///./progeny/modules/support/components/SupportExamineCase/CaseRmaLabels/CaseRmaLabels.scss?d2d4","webpack:///./progeny/modules/support/components/SupportExamineCase/CaseSection/CaseSection.scss?56e8","webpack:///./progeny/modules/support/components/SupportExamineCase/AddComment/AddComment.scss?c3c9","webpack:///./progeny/modules/support/components/SupportExamineCase/AddAttachment/AddAttachment.scss?3d1d","webpack:///./progeny/modules/support/components/SupportExamineCase/CaseResolver/CaseResolver.scss?2c5b","webpack:///./progeny/modules/support/components/SupportExamineCase/CaseInformation/CaseInformation.scss?e8a2","webpack:///./progeny/modules/support/contact/style.scss?d71d","webpack:///./app/modules/virtualArrays/VirtualArraysLicenseKeysView.js","webpack:///./app/modules/virtualArrays/VirtualArraysLicenseKeysGridView.js","webpack:///./app/modules/virtualArrays/VirtualArraysExpirationDateModal.js","webpack:///./app/modules/virtualArrays/VirtualArraysExpirationDateModal.html","webpack:///./app/modules/virtualArrays/LicenseKeysGridView.html","webpack:///./app/modules/virtualArrays/VirtualArraysLicenseKeysView.html","webpack:///./progeny/modules/nimble/vmarray/style.scss","webpack:///./progeny/modules/nimble/settings/selfRegistration/style.scss","webpack:///./app/modules/permissions/PermissionsView.js","webpack:///./app/modules/permissions/PermissionCollection.js","webpack:///./app/modules/permissions/OutboundGrantsView.js","webpack:///./app/modules/permissions/OutboundPermissionsCellView.js","webpack:///./app/modules/permissions/AddPermissionForm.js","webpack:///./app/modules/permissions/AddPermissionForm.html","webpack:///./app/modules/permissions/OutboundPermissionsCellView.html","webpack:///./app/modules/permissions/OutboundPermissionItemView.html","webpack:///./app/modules/permissions/OutboundGrantsView.html","webpack:///./app/modules/permissions/InboundGrantsView.js","webpack:///./app/modules/permissions/PermissionRequestForm.js","webpack:///./app/modules/permissions/PermissionRequestModel.js","webpack:///./app/modules/permissions/PermissionRequestForm.html","webpack:///./app/modules/permissions/InboundGrantsView.html","webpack:///./app/modules/permissions/InboundPermissionsCell.html","webpack:///./app/modules/permissions/InboundGrantStatus.html","webpack:///./app/modules/permissions/RequestedGrantsView.js","webpack:///./app/modules/permissions/RequestedGrantsView.html","webpack:///./app/modules/permissions/RequestedGrantsItemView.html","webpack:///./app/modules/permissions/PermissionsView.html","webpack:///./progeny/modules/nimble/settings/permissions/style.scss?a63a","webpack:///./app/modules/tools/tools_central/modules/banners/BannersView.js","webpack:///./app/modules/tools/tools_central/modules/banners/BannerCollection.js","webpack:///./app/modules/tools/tools_central/modules/banners/BannerDialogView.js","webpack:///./app/modules/tools/tools_central/modules/banners/BannerDialogView.html","webpack:///./app/modules/tools/tools_central/modules/banners/BannerPreviewView.js","webpack:///./app/modules/banners/BannerView.js","webpack:///./app/util/html.js","webpack:///./app/modules/tools/tools_central/modules/banners/BannerPreviewView.html","webpack:///./app/modules/tools/tools_central/modules/banners/BannerNotifyView.js","webpack:///./app/modules/tools/tools_central/modules/banners/BannerNotifyView.html","webpack:///./app/modules/tools/tools_central/modules/banners/BannersView.html","webpack:///./progeny/modules/infrastructure/search.worker.js","webpack:///./progeny/modules/nimble/extensions/constants.js","webpack:///./progeny/modules/nimble/extensions/PrimaryNavExtension.js","webpack:///./progeny/store/constants.js","webpack:///./progeny/bootstrapReducer.js","webpack:///./progeny/modules/nimble/NimbleInfrastructureRouter.js","webpack:///./progeny/modules/nimble/operationalDashboard/components/index.js","webpack:///./progeny/modules/nimble/executiveDashboard/components/index.js","webpack:///./progeny/modules/nimble/wellnessDashboard/components/WellnessDashboard.js","webpack:///./progeny/modules/nimble/wellnessDashboard/components/WellnessRulesPage.js","webpack:///./progeny/modules/nimble/wellnessDashboard/components/MaintenanceWindowPage.js","webpack:///./progeny/modules/nimble/wellnessDashboard/components/index.js","webpack:///./progeny/modules/nimble/labs/components/index.js","webpack:///./progeny/modules/nimble/resellerDashboard/actionCreators.js","webpack:///./progeny/modules/nimble/resellerDashboard/helper.js","webpack:///./progeny/modules/nimble/resellerDashboard/components/index.js","webpack:///./progeny/modules/nimble/NimbleDashboardsRouter.js","webpack:///./progeny/modules/nimble/documentation/DocumentationMarionetteWrapper.js","webpack:///./progeny/modules/nimble/documentation/SoftwareDownloadsMarionetteWrapper.js","webpack:///./progeny/modules/nimble/documentation/ValidatedConfigMatrixMarionetteWrapper.js","webpack:///./progeny/modules/nimble/documentation/AuditReportMarionetteWrapper.js","webpack:///./progeny/modules/support/actions/fetch-support-cases.js","webpack:///./progeny/modules/support/library/support-api.js","webpack:///./progeny/modules/support/library/support-helper.js","webpack:///./progeny/modules/support/actions/set-filters.js","webpack:///./progeny/modules/support/components/SupportTab/SupportTab.js","webpack:///./progeny/modules/support/components/SupportTab/index.js","webpack:///./progeny/components/Toggle/Toggle.js","webpack:///./progeny/components/Toggle/index.js","webpack:///./progeny/modules/support/components/SearchNav/SearchNav.js","webpack:///./progeny/modules/support/components/SearchNav/index.js","webpack:///./progeny/util/warn.js","webpack:///./progeny/components/Pagination/Pagination.js","webpack:///./progeny/components/Pagination/index.js","webpack:///./progeny/components/DateTime/DateTime.js","webpack:///./progeny/components/DateTime/index.js","webpack:///./progeny/components/DatePicker/DatePicker.js","webpack:///./progeny/components/DatePicker/getSingleDate.js","webpack:///./progeny/components/DatePicker/index.js","webpack:///./progeny/components/GridView/GridView.js","webpack:///./progeny/components/GridView/Column.js","webpack:///./progeny/components/GridView/ColumnGroup.js","webpack:///./progeny/components/GridView/SimpleGridView.js","webpack:///./progeny/components/GridView/index.js","webpack:///./progeny/modules/support/components/SupportLoading/SupportLoading.js","webpack:///./progeny/modules/support/components/SupportLoading/SupportLoadingError.js","webpack:///./progeny/modules/support/components/SupportListCases/SupportListCases.js","webpack:///./progeny/modules/support/components/SupportListCases/index.js","webpack:///./progeny/modules/support/components/KcsDocument/KcsDocument.js","webpack:///./progeny/modules/support/components/KcsDocument/index.js","webpack:///./progeny/modules/support/components/KcsDocumentModal/KcsDocumentModal.js","webpack:///./progeny/modules/support/components/KcsDocumentModal/index.js","webpack:///./progeny/components/TypeAhead/TypeAhead.js","webpack:///./progeny/components/TypeAhead/index.js","webpack:///./progeny/modules/support/components/SupportCreateCase/SupportCreateCase.js","webpack:///./progeny/modules/support/components/SupportCreateCase/index.js","webpack:///./progeny/modules/support/components/CaseNotFound/CaseNotFound.js","webpack:///./progeny/modules/support/components/CaseNotFound/index.js","webpack:///./progeny/modules/support/components/SupportExamineCase/CommentItem/CommentItem.js","webpack:///./progeny/modules/support/components/SupportExamineCase/CommentItem/index.js","webpack:///./progeny/modules/support/components/SupportExamineCase/CaseComments/CaseComments.js","webpack:///./progeny/modules/support/components/SupportExamineCase/CaseComments/index.js","webpack:///./progeny/modules/support/components/QuickTable/QuickTable.js","webpack:///./progeny/modules/support/components/QuickTable/QuickRow.js","webpack:///./progeny/modules/support/components/SupportExamineCase/CaseAttachments/CaseAttachments.js","webpack:///./progeny/modules/support/components/SupportExamineCase/CaseAttachments/index.js","webpack:///./progeny/modules/support/components/SupportExamineCase/CaseRmaLabels/CaseRmaLabels.js","webpack:///./progeny/modules/support/components/SupportExamineCase/CaseRmaLabels/index.js","webpack:///./progeny/modules/support/components/SupportExamineCase/CaseSection/CaseSection.js","webpack:///./progeny/modules/support/components/SupportExamineCase/CaseSection/index.js","webpack:///./progeny/modules/support/components/SupportExamineCase/PanelArrayMeta/PanelArrayMeta.js","webpack:///./progeny/modules/support/components/SupportExamineCase/PanelArrayMeta/index.js","webpack:///./progeny/modules/support/components/SupportExamineCase/PanelCaseMeta/PanelCaseMeta.js","webpack:///./progeny/modules/support/components/SupportExamineCase/PanelCaseMeta/index.js","webpack:///./progeny/modules/support/components/SupportExamineCase/AddComment/AddComment.js","webpack:///./progeny/modules/support/components/SupportExamineCase/AddComment/index.js","webpack:///./progeny/modules/support/components/SupportExamineCase/AddAttachment/AddAttachment.js","webpack:///./progeny/modules/support/components/SupportExamineCase/AddAttachment/index.js","webpack:///./progeny/modules/support/components/SupportExamineCase/CaseResolver/CaseResolver.js","webpack:///./progeny/modules/support/components/SupportExamineCase/CaseResolver/index.js","webpack:///./progeny/modules/support/components/SupportExamineCase/CaseInformation/CaseInformation.js","webpack:///./progeny/modules/support/components/SupportExamineCase/CaseInformation/index.js","webpack:///./progeny/modules/support/components/SupportExamineCase/SupportExamineCase.js","webpack:///./progeny/modules/support/components/SupportExamineCase/index.js","webpack:///./progeny/modules/support/contact/SupportContactPage.js","webpack:///./progeny/modules/support/SupportRouter.js","webpack:///./progeny/modules/nimble/vmarray/VmarrayLicenseManagementContainer.js","webpack:///./progeny/modules/nimble/NimbleResourcesRouter.js","webpack:///./progeny/modules/nimble/settings/user/roles.js","webpack:///./progeny/modules/nimble/settings/user/forms.js","webpack:///./progeny/modules/nimble/settings/user/RoleField.js","webpack:///./progeny/modules/nimble/settings/user/ChangeRoleForm.js","webpack:///./progeny/modules/nimble/settings/user/actionCreators.js","webpack:///./progeny/modules/nimble/settings/user/DeleteUserConfirmation.js","webpack:///./progeny/modules/nimble/settings/user/RoleCell.js","webpack:///./progeny/modules/nimble/settings/user/UserManagementGrid.js","webpack:///./progeny/modules/nimble/settings/user/CreateUserForm.js","webpack:///./progeny/modules/nimble/settings/user/UserManagementContainer.js","webpack:///./progeny/modules/nimble/settings/selfRegistration/SelfRegistrationCapable.js","webpack:///./progeny/modules/nimble/settings/selfRegistration/SelfRegistrationIncapable.js","webpack:///./progeny/modules/nimble/settings/selfRegistration/SelfRegistrationContainer.js","webpack:///./progeny/modules/nimble/settings/permissions/PermissionsContainer.js","webpack:///./progeny/modules/nimble/settings/telemetry/Switch.js","webpack:///./progeny/modules/nimble/settings/telemetry/RealtimeDeliveryCell.js","webpack:///./progeny/modules/nimble/settings/telemetry/VmwareContentCell.js","webpack:///./progeny/modules/nimble/settings/telemetry/TelemetrySettingsGrid.js","webpack:///./progeny/modules/nimble/settings/telemetry/telemetryConfig.js","webpack:///./progeny/modules/nimble/settings/telemetry/TelemetrySettingsContainer.js","webpack:///./progeny/modules/nimble/address/actionCreators.js","webpack:///./progeny/util/countries.js","webpack:///./progeny/modules/nimble/address/components/FormikAddressDetailForm.js","webpack:///./progeny/modules/nimble/address/components/FormikAddressForm.js","webpack:///./progeny/modules/nimble/address/components/FormikAddressValidationForm.js","webpack:///./progeny/modules/nimble/address/components/deliveryPreferences.js","webpack:///./progeny/modules/nimble/address/components/FormikDeliveryPreferenceForm.js","webpack:///./progeny/modules/nimble/address/components/AddressCard.js","webpack:///./progeny/modules/nimble/address/components/index.js","webpack:///./progeny/modules/nimble/settings/SettingsRouter.js","webpack:///./progeny/modules/bulletins/components/BulletinsAdminPage.js","webpack:///./progeny/modules/nimble/AdminRouter.js","webpack:///./progeny/modules/nimble/extensions/RouterExtension.js","webpack:///./progeny/modules/infrastructure/LocalObjectSearchSubject.js","webpack:///./progeny/modules/nimble/search/crossTenantArraySearchSubject.js","webpack:///./progeny/modules/nimble/extensions/SearchExtension.js","webpack:///./progeny/modules/bootstrapper/ShellStateCache.js","webpack:///./progeny/modules/nimble/extensions/index.js"],"names":["_","require","Marionette","SpinnerModel","tpl","module","exports","ItemView","extend","template","className","initialize","options","this","model","message","set","show","$el","hide","Backbone","Behavior","validationOptions","forceUpdate","valid","view","attr","selector","$formGroup","$","closest","removeClass","find","remove","invalid","error","addClass","after","onBeforeRender","Validation","bind","onRender","stickit","onDestroy","unbind","__webpack_require__","r","__webpack_exports__","backbone__WEBPACK_IMPORTED_MODULE_0__","backbone__WEBPACK_IMPORTED_MODULE_0___default","n","moment_timezone__WEBPACK_IMPORTED_MODULE_1__","moment_timezone__WEBPACK_IMPORTED_MODULE_1___default","Model","defaults","id","createdDate","createdDateOnly","caseNumber","status","bucket","subject","type","assetId","accountId","createdById","contactId","priority","closedDate","Auto_Open__c","Auto_Close__c","owner","ownerName","caseLastComment__c","lastUpdatedDate","lastUpdatedTS","description","comments","reason","ownerId","suppliedEmail","origin","isEscalated","closed_By__c","casePortalResolutionNotes__c","caseClosureCaseReason__c","casCatClosureRootCause__c","caseClosureCategory__c","technology_Area__c","sub_Technology_Area__c","url","api","account","segment","search","userName","get","parse","md","name","match","moment","format","opt","assetRegistry","addressDisplay","addressText","confirmation","addressCard","edit","new","form-label","equalHeight","cardAddress","card","sla","search-container","search-icon-container","search-input-container","cancel-search","addressDetailForm","user-management","footer-pagination","settings-popup","form-error","validation","privilege","required","privilegeNameMap","Feature.Core.Access","Feature.VMVision.Access","Feature.SupportCase.Manage","ConfirmationRequestModel","triggers","click button[name=\"submit\"]","event","stopPropagation","ui","modalBody","pick","console","assert","content","append","result","baseUrl","BASE_URL","searchTemplate","ajax","index","contentType","data","JSON","stringify","params","switch","switch-input","switch-paddle","switch-active","switch-inactive","tiny","small","large","switch-with-status","text-alert","text-success","telemetry-settings","Highcharts","Highstock","formatSize","valueMB","decimalPlaces","value","suffix","numberFormat","isNumber","formatGB","valueGB","formatTB","valueTB","categories","series","pod","seriesColors","Exchange","Oracle","SharePoint","VMware ESX","VMware VDI","VMware Other","SQL Server","SQL Other","Nimble Default","Hyper-V","MySQL","Windows","Custom","getSeriesColor","seriesName","color","Error","scheduleCategoryLabelFormatter","category","s","_typeof","isNumeric","weeks","indexOf","timePieces","split","hours","parseInt","mins","attributes","createNew","arrays","notes","msg","startTime","fn","computed","test","trackStartTime","Date","startTimeOnly","endTime","changed","trackEndTime","endTimeOnly","length","_originalAttrs","legacy-labels","buildUrlFromBase","opts","dataValues","element","yAxisLabelFormatter","tooltipFormatter","maxAxisValue","Math","ceil","max","height","Chart","chart","alignTicks","marginTop","title","text","plotOptions","bar","minPointLength","pointWidth","xAxis","labels","formatter","useHTML","lineWidth","tickWidth","yAxis","opposite","offset","overflow","y","gridLineWidth","showFirstLabel","tickPositions","legend","enabled","tooltip","credits","valueSuffix","InventoryFilter","arg1","inventoryFilter","listenTo","decorateApi","addQuery","toJSON","View","renderChart","container","renderTo","width","events","load","delay","reflow","call","point","pie","dataLabels","showInLegend","render","html","sliced","selected","el","totalUnprotectedSize","totalSnapshotSize","totalReplicatedSize","unprotected","snapshots","replicated","currentArrayModel","currentCacheExpNonAfsGB","currentCacheHeadGB","currentCacheSystemTotalGB","currentCacheTotalAfsGB","currentController","currentHddExpansionShelves","currentHddGB","recommendCacheUpgrade","recommendControllerUpgrade","recommendDiskUpgrade","recommendScaleOut","recommendedAddShelf","recommendedArrayModel","recommendedController","recommendedCacheHeadGB","recommendedCacheSystemTotalGB","recommendedCacheTotalAfsGB","recommendedHddExpansionShelves","serialNumber","arrayType","addAfsShelf","cpuRecommendationObject","cacheTotalSystemRecommendationObject","cacheHeadShelfRecommendationObject","cacheSSDShelfRecommendationObject","cacheHDDShelfRecommendationObject","capacityRecommendationObject","upgradeNotes","recommendController","recommendCache","recommendDisk","buildRecommendation","currentShelves","additionalShelves","diskRecommendationText","setUpgradeNotes","summary","current","recommended","recommendedComponents","push","i","ArrayScoped","mixins","hostname","version","group","pool","expansionShelves","upgradable","ArrayModel","ArrayEventsCollection","idAttribute","possiblyExceedsThreshold","probablyExceedsThreshold","unmanagedSnapshots","capacity","free","prototype","monthRange","undefined","constructor","__super__","query","email","pattern","EmailModel","Collection","InventoryFilterable","central","header","rules-page","frame-container","MaintenanceWindowModel","response","sort","a","b","LabAppModel","legacy-breadcrumbs","PageableCollection","HitModel","mode","state","firstPage","pageSize","comparator","aKey","sortKey","bKey","min","order","FacetModel","ORDERING","toQueryParamMap","getSelectedBuckets","reduce","memo","getFacet","facet","getSelectedBucket","hasSelected","some","Number","POSITIVE_INFINITY","FacetBucketModel","compareVersion","models","facetField","lowerA","toLowerCase","lowerB","buildUrl","InnerHitView","VERSION_FAMILY_COLLAPSE","CompositeView","variable","templateHelpers","versionFamilies","families","Array","isArray","childVersions","parentVersion","every","childVersion","contains","difference","mediaUrl","_len","arguments","path","_key","concat","_toConsumableArray","tagName","childView","childViewContainer","collection","topics","hits","browserLanguages","navigator","window","languages","language","userLanguage","map","lang","e","unique","ProductVersionModel","padVersionParts","pad","part","slice","join","product","aVersion","localeCompare","support-loading","loading-box","wait-text","case-panel","panel-content","registrationDate","arraySn","licenseKey","macAddress","ipAddress","uuid","VirtualArrayModel","groupKey","permission","target","clone","opaqueName","grantee","build","onAdd","onRemove","onChange","groups","chain","groupBy","pairs","pair","key","permissions","uniqueId","reset","removedPermission","matcher","permissionGroup","newPermissions","reject","newPermissionModel","newPermission","newPermissionGroupKey","add","visibility","feature","expirationDate","creationTimestamp","notificationTimestamp","contents","computedState","App","TopVmsDashboardView","PeerPerformanceDashboardView","CapacityDashboardView","ProtectionDashboardView","SystemDashboardView","performanceTooltip","protectionTooltip","AuthorizationEvaluator","PRIVILEGES","AUTHORITIES","PERMISSION_TARGET","LayoutView","regions","performance","topVms","protection","system","perfPopover","protectionPopover","capacityPopover","popover","trigger","placement","viewport","tip","request","getAccount","evaluate","access","$or","authorities","REALM_INTERNAL","ATTRIBUTE_NIMBLE_SUPPORT_PROVIDER","PRIMARY","targetType","NIMBLE_TENANT","targetId","ACTIVE_TARGET_ID","FEATURE_VMVISION_ACCESS","AsyncView","TopVMsByLatencyView","TopVMsByIOView","TopVMsCollection","iops","latency","vmCount","ViewConstructor","topVMsBarChart","numeral","totalValueDisplay","topVmsChart","onAttach","isEmpty","populateMaxValueDisplay","topVMs","sortBy","first","getOption","pluck","vm","isLast","maxValue","displayValue","toUpperCase","number","magnitude","TopVMModel","Request","default","genericQuery","uriBuilder","valueOf","iopsRanking","latencyRanking","totalIops","avgLatency","totalIopsAllVms","avgLatencyAllVms","PeerPerformanceChartView","PeerPerformanceCollection","CollectionView","collectionEvents","emptyView","getChartOptions","chartOptions","minDate","maxDate","maxLatency","maxIops","MIN_VALUE","onFetch","last","childViewOptions","animateOnLoad","ImpactScore","peerPerformanceTooltipTmpl","tooltipTtemplate","constant","chartContainer","sn","host","hostDisplay","displayXAxis","round","highcharts","global","useUTC","spacingLeft","marginRight","column","pointPadding","groupPadding","borderWidth","colorByPoint","tickInterval","dateTimeLabelFormats","day","style","display","allowDecimals","showLastLabel","tickPositioner","dataMax","rotation","x","min-width","max-width","transformPoint","backgroundColor","shadow","padding","positioner","labelWidth","labelHeight","tooltipX","plotX","plotLeft","chartWidth","plotY","chartHeight","plotTop","itemView","impactScore","percentile","severityPercentile","timestamp","toString","ArrayCapacityDashboardView","VolumeCapacityDashboardView","spinnerTpl","SpinnerView","spinner","array","volume","headerLabels","bindAll","arrayView","volumeView","showChildView","self","when","deferred","then","onChildrenLoaded","empty","ArrayForecastCollection","AssetCapacityTooltipView","arrayForecasts","arrayBuckets","popoverDefaults","renderPopover","findWhere","label","useSpinner","Deferred","fetch","fail","done","forecasts","assets","bucketLessThan30","bucketLessThan90","bucketGreaterThan90","each","item","daysUntilFull","asset","dataBuckets","resolve","getAssetLink","VolumeForecastBuckets","getVolumeFilterLink","filter","volumeBuckets","info","ProtectionModel","spacingTop","spacingBottom","spacingRight","marginLeft","percentProtected","align","verticalAlign","labelFormatter","layout","margin","itemMarginTop","itemMarginBottom","center","legendItemClick","preventDefault","size","innerSize","borderColor","lag","states","hover","seriesData","legendSymbol","localProtectedCount","remoteProtectedCount","accountTotalVolumeCount","HeartbeatWarningsView","AsupWarningsView","HardwareWarningsView","arrayCount","hardwareIssueCount","hasHardwareIssues","hasHeartbeatWarnings","hasHeartbeatWarning","hasAsupWarnings","hasAsupWarning","upgradeAvailable","hbWarnings","asupWarnings","mergeTimestamps","asupStatusMap","assetModel","asupStatus","asupReceived","lastReceived","asupProcessed","lastProcessed","_this","getJSON","assetCollection","VirtualCollection","hb","hbMoment","asupReceivedMoment","itemTpl","componentTooltipTemplate","diskTooltipTemplate","COMPONENT_NAMES","psu","fan","temperature","parentView","$tooltipContainer","bs_tooltip","renderComponentTooltip","renderDiskTooltip","partial","controller","component","isAlerted","failed","good","DashboardROIView","DataProtectionView","UpgradesView","ExecutiveDashboardEmailSettingsView","NimbleUserTenantHelpers","executiveDashboardEmailBtn","click @ui.executiveDashboardEmailBtn","renderROIView","renderDataProtection","renderCaseStatistics","renderUpgrades","isExternal","isPrimaryTenant","dashboardROIView","destroy","dataProtectionView","upgradesView","onClickExecutiveDashboardEmail","modalRegion","errorTpl","SpaceSavingsModel","CaseStatisticsModel","CaseStatisticsView","SpaceSavingsView","Spinner","spaceSavingsModel","caseStatsModel","spaceSavings","spaceSpinner","caseSpinner","always","errorTemplate","caseStatisticsView","traditionalSpace","spaceUsed","excludeDonut","thinProvisionedSpace","compression","zeroCopyClones","deduplication","savingsFactor","customer","caseStats","automaticallyClosed","manuallyClosed","totalCases","CaseStatisticsChart","CaseStatisticsDonutView","caseStatisticsChart","caseStatisticsDonutView","numberOfDataPoints","subtitle","month","shared","dateFormat","points","cases","area","animation","stacking","lineColor","marker","autoClosed","totalClosed","automaticSeries","manualSeries","dp","auto","automatic","manual","closeWeek","summaryText","successMessage","percentAutoClosed","pctAutoClosed","SpaceSavingsDonutView","SpaceSavingsWaterfallView","pctSaved","spaceSavingsView","spaceSavingsDonut","FormattingUtils","spaceSaved","reversed","redraw","forEach","barHeight","shapeArgs","dataLabel","yTranslation","svgElem","currentTransform","getAttribute","css","textShadow","matches","exec","xPos","yPos","newTransform","setAttribute","crosshair","fontWeight","isSum","SpaceUsageChart","spaceUsedChart","dataTable","sDom","tabs","DisasterRecoveryModel","LocalRetentionModel","RPOModel","DisasterRecoveryView","LocalRetentionView","RPOView","disasterRecoveryModel","localRetentionModel","rpoModel","rpoView","prepend","localRetentionView","disasterRecoveryView","clear","silent","DataProtectionLegend","valueDecimals","values","volumeUsedTib","section","lowerCaseCategory","seriesItem","UpgradeSummaryItemView","document","createDocumentFragment","row","appendChild","UpgradeSummaryCollection","CapacityForecastCollection","CardCollectionView","ArrayUpgradeCard","upgradeSummaryCollection","downloadLink","capacityCollection","loadCollections","collectionView","renderCollection","arrayUpgradeMap","arrayUpgradeModel","capacityForecastModel","contentEl","cardClass","emptyCollectionMessage","ArrayUpgradeModel","CapacitySummaryModel","CapacityForecastModel","UpgradeSummaryModel","utilization","upgradeSummary","utilizationData","cacheColors","getColorCodedBreakdown","cache","cpuColors","cpu","ts","cacheGreen","green","cacheYellow","yellow","cacheRed","red","cpuGreen","cpuYellow","cpuRed","usage","details","requiredParams","optionalParams","currentView","renderedViews","param","warn","removeSubviews","renderList","footer","BaseArrayCard","UpgradeCapacityDetailsView","CapacityForecastChart","CpuAreaChart","CacheAreaChart","showDetailsLink","modelEvents","change:capacity","data-array-type","onClose","onChangeCapacity","capacityForecastChart","tooltipsEnabled","enableMouseTracking","showYAxisLabel","showBoundsSeries","renderContents","$containerEl","upgradeSummaryModel","cpuView","cacheView","addReadableUpgradeNote","AssetHeader","headerRegion","footerRegion","showFooter","log","recommendationChart","close","hyperlinkHostname","detailsLink","tooltipClass","AssetShelfCollection","AssetShelfTooltip","SoftwareUpgradesView","versionSupported","isFunction","click .array-version a","assetShelfCollection","assetShelfTooltip","shelfTooltip","items","callback","assetShelfCollectionLoaded","innerHTML","stop","fadeTo","fadeOut","onClickVersion","AssetShelfModel","arraySerial","arrayHostname","shelfSerialNumber","position","controllerName","disks","shelfCount","usedTiB","capacityTiB","rawCapacity","AssetShelfTooltipDetails","onCollectionLoaded","onLoadFailed","maxY","containerWidth","svgNoDataLabelGroup","translate","getBoundingClientRect","renderer","g","svgNoDataLabelText","fill","arrayUsedPct","arrayCapacity","line","dataPoint","pctUsed","capacityUsed","tinycolor","CHART_COLORS","onChangeEvents","eventsCollection","flagSeries","eventModel","addPoint","containerId","hasData","j","futureSeries","rangeSeries","throttleSeries","currentVal","futureVal","rangeVals","currentColor","futureColor","rangeColor","capacityMB","seriesId","chartThrottleVal","chartThrottleColor","low","high","capacityTB","pastSeries","zIndex","legacyLightBlue","connectNulls","dashStyle","boundsSeries","fillOpacity","legacyRed","pctUse","cap","predUse","thresh","onSeries","shape","fillColor","desaturate","year","greenSeries","legacyGreen","pointInterval","redSeries","yellowSeries","legacyYellow","FormBehavior","ExecutiveDashboardEmailView","ExecutiveDashboardEmailModel","ExecutiveDashboardEmailCollection","ExecutiveDashboardEmailSettingsModel","layoutTpl","EmptyEmailListView","EmailSettingsView","fetchModel","readonly","behaviors","behaviorClass","bindings","input[name=\"frequencyDays\"]","observe","setOptions","validate","#enabled","input[name=\"email\"]","form","messageArea","emailInput","testEmailButton","addEmailButton","click @ui.addEmailButton","click @ui.testEmailButton","focus @ui.emailInput","click @ui.submitButton","onValidate","onEmailListLoad","collectionModelDeleted","saveCollection","isValid","trim","prop","isInternal","decorateAsReadonly","resetEmailButton","bs_button","testEmail","newEmail","addEmailModel","dataType","jqxhr","command","responseJSON","defer","addEmail","val","newEmailModel","submit","save","emailSettingsView","bodyRegion","submitButton","cancelButton","wrap","onSubmit","deleteButton","click @ui.deleteButton","deleteEmail","frequencyDays","emailList","isNew","obj","attrs","legacyPage","WellnessSummaryView","WellnessIssuesView","WellnessSummaryModel","WellnessEmailSettingsView","MaintenanceWindowStatusView","getNestedLink","caseCreateBtn","dailyEmailBtn","wellnessEmailInfo","caseCreateInfo","emptyResults","issuesEl","viewMaintenanceWindowBtn","click @ui.dailyEmailBtn","click @ui.viewMaintenanceWindowBtn","maintenanceWindowStatusRegion","wellnessSummaryModel","wellnessSummary","history","wellnessIssues","onClickDailyEmail","getRegion","refresh","results","showDetails","scrollFunc","scrollIntoView","block","behavior","effect","filterModel","clearValues","isRendered","is","listenToOnce","wellnessSummaryTpl","summaryTemplate","wellnessContent","wellnessSummaryEmpty","click .highlight-badge","$contentEl","onLoad","responseText","modelJSON","keys","change","changeSummaryFilter","$this","newCount","onCellClick","$cell","currentTarget","Severity","Target Type","Acknowledged","GridView","GridFilterModel","BulkLoadGridModel","WellnessIssueModel","WellnessIssueCollection","ConfirmationRequestView","childTpl","toolbar","wellnessIssueClearConfirmation","rulesUrl","childTemplateRaw","childTemplate","issues","click .toolbar button","gridContent","columns","configDisabled","isAll","visible","issueDate","severityIndex","severityName","sev","replace","conditionName","arrayName","groupName","poolName","arraySN","caseLevel","href","volumeCollectionName","volumeName","caseDescription","ackedAt","ackedBy","fromNow","buttons","actions","ack","action","getSelectedIssues","acknowledge","afterAction","unack","unacknowledge","createModel","createBulkLoadModel","createRemoteModel","emptyLabel","showFilters","pageLength","table","gridModel","grid","tableTemplate","rowSelectionMode","RowSelectionMode","MULTI","dataTableOptions","createdRow","onCreateRow","onGridLoaded","onEventsLoadFailed","onRowSelectionChange","$row","xhr","textStatus","textThrown","onButtonClick","actionOpts","refreshData","attribute","getSelectedRowsData","$selectedRows","doAction","WellnessEmailView","WellnessEmailCollection","WellnessEmailModel","toBeSend","MaintenanceWindowStatusModel","active","scheduled","sprintf","MaintenanceWindowFormView","MaintenanceWindowDetailsView","MaintenanceWindowSidePanelView","MaintenanceWindowCollection","emptyDetailsTpl","EmptyDetailsView","sidePanelRegion","detailsPanelRegion","newButton","click @ui.newButton","sidePanelView","onItemSelect","showEmptyDetailsView","maintenanceWindowCount","showDetailsView","detailsView","onItemEdit","onItemDelete","showFormView","startTracking","formView","onFormCancel","onFormSubmit","resetAttributes","wasNew","unset","selectOne","onClickNew","unselectAll","openPrepopulatedForm","[name=\"name\"]","[name=\"notes\"]","[name=\"startTime\"]","onSet","newStartTime","onGet","d","[name=\"startTimeOnly\"]","currentStartDate","[name=\"endTime\"]","newEndTime","[name=\"endTimeOnly\"]","currentEndTime","unselectedArrays","selectedArrays","selectArray","unselectArray","click @ui.selectArray","click @ui.unselectArray","click button[name=\"cancel\"]","onValidated","hostName","refreshArraysInModel","catch","apply","hostnameFor","click button[name=\"edit\"]","click button[name=\"delete\"]","SidePanelItemView","data-model-id","click","sync","childEvents","onItemSelected","SERVER_BASE_URL","LabAppCollection","class","data-app-id","args","click a[data-category]","selectedCategory","filterLabApps","thisView","btn","recollection","c","isSingle","setTimeout","location","creationTime","LabsFeedBackView","LabAppUserGuide","reportId","popReportIdFromUrl","currentAccount","accountModel","_len2","_key2","feedbackData","click .labsFeedback","userManualAdded","srcElem","labFrame","on","setHeight","subtract","querySelector","top","off","onClickLabsFeedback","collectionReady","reportModel","FlashNotification","API_BASE_URL","userLogin","uploadButton","starduo","feedbackText","click @ui.uploadButton","mousedown @ui.starduo","input @ui.feedbackText","change #contact-form input[type=radio]","labAppModel","onClickUpload","appId","uploadForm","formData","FormData","idx","$item","fieldName","fieldScore","success","processData","updateRatings","starSrc","scoreKeeper","score","adjustUploadButton","updateChoice","optSrc","templateCache","replication_planning","replication_timeline","volume_capacity_subset","volume_performance_subset","volume_capacity_birdseye","perf_regularity_heatmap","volume_performance_birdseye","performance_recommendations_storage","ncv_sizing","capacity_forecast","controller_planning","cross_stack_recommendation","arrayWarrantyExpiring","warrantyCol","icon","URI","esClient","SearchForm","QueryModel","HitCollection","FacetCollection","ResultsView","HomeView","FacetPanel","LanguagePreferenceModel","LanguagePreferenceView","languageRegion","searchRegion","mainRegion","facetsRegion","facets","languageFilter","languagePreferenceView","doQuery","uri","setQuery","equals","pathname","hasQueryOrFilter","term","filters","termFilter","processFacets","processHits","mainView","aggregations","aggregation","aggName","field","buckets","count","doc_count","isSelected","union","bucketModel","setParams","input","click button","onClick","hasTerm","source","toSortableVersion","Version","_source","without","FacetBucketCollection","TITLE_MAP","Version Family","onBucketChange","where","selectBucket","bucketValue","clearSelection","getTitle","sortThis","direction","nameA","nameB","numA","numB","PaginationModel","BreadcrumbsView","PaginationView","HitsView","EmptyHitsView","breadcrumbs","pagination","getFirstPage","totalPages","total","fullCollection","from","currentPage","to","BreadcrumbItem","click [data-action=\"deselect-facet\"]","deselectFacet","click [data-action=\"deselect-query\"]","click [data-action=\"clear-all\"]","refreshPagination","deselectQuery","clearAll","previous","next","click @ui.previous","click @ui.next","adjustLinkState","nextPage","getNextPage","previousPage","getPreviousPage","toggleClass","hasPreviousPage","hasNextPage","scrollToTop","animate","scrollTop","HitView","releaseNotes","solutionGuides","support","userGuides","p","FacetView","onCollectionReset","toggle","FacetBucketView","click [data-action=\"select\"]","click [data-action=\"deselect\"]","deselectBucket","LanguagePreferenceForm","anchor","click @ui.anchor","click .close","hidden.bs.popover @ui.anchor","showPopover","hidePopover","onPopoverHidden","renderForm","change :checkbox","CategoryCollection","CategoriesView","WhitelistCategoryView","WhitelistCollection","ProductView","sidePanel","whitelistCategoryPanel","mainPanel","_getChannel","whitelistCollection","showProduct","productName","unselectAllProducts","showHome","loadCategories","urlSegments","prioritizedCategories","_this2","invokePostRender","CategoryModel","products","flattenToProductVersions","productVersions","productVersion","findIndex","ProductCollection","_ref","ProductModel","categoryName","ordering","ProductVersionCollection","versions","CategoryPanel","productTpl","encodeURI","WhitelistModel","ProductVersionTable","EulaView","ProductDocumentationView","ProductDocumentCollection","UserPreferencesController","otherVersionsToggle","otherVersionsToggleContainer","show.bs.collapse #otherVersionsContainer","hide.bs.collapse #otherVersionsContainer","documentation","currentVersion","otherVersions","documents","session","isEulaAccepted","showEulaView","showProductView","defaultVersions","onShowOtherVersions","onHideOtherVersions","ProductVersionRow","EulaModel","eulaWrapper","click [name=\"submit\"]","click [name=\"cancel\"]","acceptanceModel","iframe","contentWindow","open","write","accept","acceptEula","cancel","Nimble Software and Solutions","terms","Document Type","WhatsNewView","NimbleOsReleasesView","whatsNew","nimbleOsReleases","seen","diff","reverse","productId","NimbleOsReleaseNotesCollection","ChildView","releaseNotesCollection","mergeCollections","releases","release","displayStatus","code","shortVersion","notesVersion","CollectionGridModel","SupportCategoryCollection","logo","jsPDF","defaultCategory","defaultSupportType","sortColumnConfig","Replication Support","iSCSI Software Initiators","iSCSI Hardware Initiators","Cisco UCSM Managed Servers Support (iSCSI)","Fibre Channel Hardware Initiators","Fibre Channel (SAN) Switches","Cisco UCSM Managed Servers Support (FC)","Veritas Storage Foundation Support","Storage Virtualization Appliances","Nimble OS Support","Nimble Setup Manager (NSM)","Nimble Connection Manager (NCM) for Windows","Nimble VSS Services","NCM for VMware Compatibility with Nimble OS","Nimble Connection Manager for VM","SRA for SRM","VMware Synchronized Snapshots","Management Plugin for vCenter","Nimble Connection Manager for Linux","NimbleOS Support for Cisco UCS Director Integration","Nimble Storage UCS Director Open Automation Module","NimbleOS Support for Adaptive Flash Cinder Driver Integration","Nimble Storage Adaptive Flash Cinder Driver","Backup Software Support","Browser Support","gridRegion","titlenotesContainer","titlenotes","supportTypeLabel","dropdownMenu","selectedSupportType","footNotes","click a.support-type","loadSupportTypes","renderTable","allConfigsBySupportType","displayTitlenotes","displayFootnotes","optgroupHtml","endIdx","optionsHtml","supportType","splitValuesInColumns","supportedConfigs","columnDef","metadata","multipleSelect","splitValueOn","matrix","rawRows","len","doc","setFontSize","logoW","logoH","addImage","titleNotes","getTitlenotes","splitTitle","splitTextToSize","autoTable","startY","bottom","addPageContent","left","settings","pageStartY","setFillColor","rect","internal","generationDateText","theme","headerStyles","textColor","bodyStyles","valign","styles","fontSize","columnWidth","addPage","footnotes","getFootnotes","footnotesLen","footnote","splitFootnote","output","generatePdf","onSupportTypeClicked","parent","prevAll","eq","SupportCategoryModel","onGridError","resp","SFCaseModel","support-tab","support-content","search-nav","actions-options","case-owner","filter-label","search-stuff","search-bar","hide-auto-cases","is-internal","local-stuff","nmbl-date-picker","support-list-cases","status-banner","grid-inset","filter-form","top-buttons","holdit","biggie","create-case","kcs-document","kcs-body-text","type-ahead-input","type-ahead-results","support-create-case","create-banner","content-inset","measured","severity-buttons","kcs-suggestions","suggestion-card","read-suggestion-card","comment-item","attribution","user-icon","caret","comment-text","from-nimble","case-comments","attachments","rma-labels","case-section","sub-text","extend-line","child-content","add-comment","textbox-wrapper","sending","busy-sending","attach-doc","big-file","case-resolver","case-information","case-banner","support-logo","closed","page-inset","action-set","VirtualArraysLicenseKeysGridView","VirtualArrayCollection","vmImageLicenseLimit","login","licenseKeysGridRegion","ExpirationDateModal","ErrorModel","errorThrown","dateColumnOptions","sortable","searchable","date","userCanViewAllAccounts","userCanExtendLicense","userCanDeleteLicense","click @ui.generateLicenseButton","click @ui.extendExpirationButton","click @ui.expireLicenseButton","toolbarContent","generateLicenseButton","extendExpirationButton","expireLicenseButton","messageRegion","renderGrid","onErroneuousCollectionLoad","getAuthorization","userIsReseller","ATTRIBUTE_NIMBLE_RESELLER","userIsSuperInternal","VIRTUAL_ARRAY_ADMIN","isSiteAdmin","SITE_ADMIN","userIsSe","vmArray","SINGLE","onErroneuousGridLoad","errorModel","statusText","bindUIElements","getSelectedRowData","generateLicense","virtualArray","extendExpirationDate","modal","showDialog","expireLicenseKey","confirmationView","expireLicenseKeyCallback","now","#extension-in-days","unix","updateView","extensionInDays","click @ui.submit","PermissionCollection","OutboundGrantsView","InboundGrantsView","RequestedGrantsView","inbound","outbound","requested","resellerEquivalent","PermissionModel","PermissionGroupCollection","OutboundPermissionsCellView","orderable","createdCell","initOptions","init","permissionCollection","permissionGroupCollection","update","isResellerEquivalent","dom","updateVisibility","AddPermissionForm","privilegeName","revocable","click [data-action=\"revoke\"]","onClickRevoke","revokePermission","wait","addLink","click @ui.addLink","click [name=\"revoke-all\"]","onClickAdd","onClickRevokeAll","revokeAll","ids","[name=\"privilege\"]","selectOptions","defaultOption","disabled","currentPrivileges","PermissionRequestForm","permissionsTpl","statusTpl","statusTemplate","permissionsTemplate","lastUpdated","updatedBy","updatedAt","click button[name=\"request\"]","onClickRequest","onClickDelete","permissionGroupId","deletePermissionGroup","PermissionRequestModel","input[name=\"arraySn\"]","affiliation","warning","click button[name=\"approve\"]","click button[name=\"deny\"]","approve","patch","emulateHTTP","deny","LocalGridModel","BannerModel","BannerCollection","BannerDialogView","BannerNotifyView","React","ReactDOM","BulletinsModal","ThemeProvider","Provider","getStore","splitCamelCase","string","bannerCollection","rowButtons","setupAndLoadCollection","menu","button","onOpenDialog","getSelectedModel","onPreview","onNotify","Status","disableToolbarActions","enableToolbarActions","reloadGrid","getDataTableApi","rows","draw","dialogView","updatedModel","filterView","clearFilters","one","eachRow","node","createElement","store","closeModal","onPreviewClose","bulletins","hidePrimaryButton","getElementById","unmountComponentAtNode","notifyView","rowData","accountIdContainer","featureContainer","#title","#type","#status","#visibility","#accountId","#contents","#feature","change:visibility","validated","autocomplete","appendTo","slash","accounts","select","onChangeVisibility","slideDown","slideUp","BannerView","htmlEncode","attachElContent","getUrlParameter","RegExp","decodeURIComponent","escaped","htmlDecode","dialog","autoOpen","dialogClass","$status","$notify","$confirmation","notify","fadeIn","post","jqXHR","ID","PrimaryNavExtension","props","_classCallCheck","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","autobind","Component","handleUpdate","unsubscribe","onUserContextChange","custom","resellerCase","nimbleResellerAuthorizationEvaluator","currentTenantIsNimbleTenant","PRODUCT_FAMILY_NIMBLE","isReseller","unshift","_ref2","config","nimble","getNavRoutes","_ref3","route","getPluralTitle","preserveQueries","tier","_ref4","depth","SUPPORT_CASE","PRODUCT_FAMILY_STOREONCE","PRODUCT_FAMILY_STORESERV","VIRTUAL_ARRAY_ACCESS","nodeType","nimbleThirdPartyPermissionRequestAccess","divider","collapseHeader","_ref5","$not","nimbleTenantAdminAccess","ADDRESS_ADMIN","_ref6","innerOptions","externals","menuId","getDashboard","getInfrastructure","getResources","getSettings","extension","addMenu","removeMenu","propTypes","PropTypes","object","isRequired","withRouter","ns","actionNamespacer","FETCH_BOOTSTRAP","START_LEGACY_APP","nimbleShims","jQuery_1_11_1","initialState","getInitialState","ACTION_HANDLERS","createReducersForAction","stateKey","baseSelector","bootstrap","bootstrapSelector","createSelector","NimbleInfrastructureRouter","_props","loadedObjects","loadingObjects","loadedBootstrap","fetchInventory","_props2","external_React_default","Async_default","loading","NoData_default","infrastructure","productInterface","func","bool","mapDispatchToProps","resetInventory","connect","NimbleInfrastructureRouter_extends","inventorySelector","cx","classnames","OperationalDashboard","NimbleLegacyContainer","createLegacyView","OperationalDashboardView","ExecutiveDashboard","ExecutiveDashboardView","DetailsRouteHandler","deparam","DetailsHandler","WellnessDashboard","WellnessDashboard_classCallCheck","WellnessDashboard_possibleConstructorReturn","WellnessView","setElement","_this3","Card_default","attachView","Route","awaitLegacyApp","Header","Link","WellnessRulesPage","WellnessRulesPage_classCallCheck","WellnessRulesPage_possibleConstructorReturn","loaded","setContainerHeight","setState","viewportOffsetTop","containerEl","tenantSelection","queryParams","substr","WellnessRulesPage_Header","ref","Spinner_default","onIframeLoad","src","tenant","tenantSelector","MaintenanceWindowPage","Fragment","MaintenanceWindowView","WellnessRouter","es_Switch","components_extends","breadcrumbStyle","LandingPage","components_classCallCheck","components_possibleConstructorReturn","LabsView","renderView","LabAppView","appid","LabsContainer","INSTANCE","_this4","_this5","_state","Switch_default","Route_default","exact","components_App","components_LandingPage","getArraysFromAllAccounts","dispatch","_actionsFor","actionsFor","FETCH_ALL_ARRAYS","dispatchStart","dispatchSuccess","dispatchError","all","_slicedToArray","heartbeats","arraysData","heartbeatsData","latestHeartbeat","actionCreators_extends","arrayHostName","hardwareStatusComparator","ArrayHardwareStatus","supportEndDate","isAfter","RESET","arrayStatus","EXPIRED","textClass","arrayUsedSpaceInPercentage","freeSpace","hasArrayWarrantyExpired","arrayWarrantyStatus","ResellerDashboard","_Component","resellerDashboard_components_classCallCheck","resellerDashboard_components_possibleConstructorReturn","resellerDashboard_components_inherits","resellerDashboard_components_createClass","resetResellerDashboard","accountsArrays","accessor","filterable","Cell","_ref$original","original","customerName","buildNimbleTenantUrl","headerClassName","_ref2$original","rootPath","arrayCapacityBytes","formatValue","FORMAT_BYTE_PRECISION","_ref4$original","arrayFreeBytes","Progress","leftLabel","_ref5$original","isAllFlash","ArrayHealth","softwareVersion","_ref7","_ref7$original","supportStatus","formatDateTime","FORMAT_MOMENT_CALENDAR_DAY","StatusIndicator","_ref8","_ref8$original","hasHardwareRecommendations","_ref9","_ref9$original","hasSoftwareRecommendations","Table","tableId","defaultSorted","desc","getTrProps","rowInfo","downloadCsv","saveAs","Blob","objArray","str","convertObjectToCSV","rawData","Customer Name","Account ID","Array Capacity","Array Free Space","Array Free Space in %","Array Serial Number","Array Model","Software Version","Is All Flash","Support Agreement","supportAgrmt","Support End Date","Hardware Upgrade Recommended","Software Upgrade Recommended","transformDataForCSV","resellerDashboard_components_extends","accountsCollectionSelector","userSelector","username","bindActionCreators","NimbleDashboardsRouter","objects","CapacityContainer","Labs","ScrollContainer_default","Fixed","SecondaryNavBar","NavLink","StaticBold","Scrollable","pageBoundaryRouteRenderer","labelsStyle","DocumentationWrapper","DocumentationMarionetteWrapper_classCallCheck","DocumentationMarionetteWrapper_possibleConstructorReturn","oldProps","isShallowEqual","DocumentationMarionetteWrapper_extends","DocumentationView","withQueryParams","includePathParams","SoftwareDownloadsMarionetteWrapper_extends","breadcrumbsStyle","SoftwareDownloadsMarionetteWrapper","SoftwareDownloadsMarionetteWrapper_classCallCheck","SoftwareDownloadsMarionetteWrapper_possibleConstructorReturn","_props$match$params","_ref$match$params","oldCategory","oldProduct","_props$match$params2","SoftwareView","_props$match$params3","documentation_SoftwareDownloadsMarionetteWrapper","ValidatedConfigMatrixMarionetteWrapper","ValidatedConfigMatrixMarionetteWrapper_classCallCheck","ValidatedConfigMatrixMarionetteWrapper_possibleConstructorReturn","SupportMatrixView","AuditReportMarionetteWrapper","AuditReportMarionetteWrapper_classCallCheck","AuditReportMarionetteWrapper_possibleConstructorReturn","AuditLogView","postCaseDetailOk","caseData","types","payload","postCaseCommentOk","commentData","postCaseAttachmentOk","attachmentData","postCaseResolveOk","commentsData","attachmentsData","rmaLabelsData","URL_REGEX","ACCOUNT_REGEX","USER_REGEX","USERIDNAME_REGEX","nimbleSupportContactId","BASE_KCS_URL","convertToHTML","htmlDescription","fetchCases","SFCaseCollection","stuff","caseHeaders","fetchCaseHeadersOk","fetchCaseHeadersFail","parseComment","comment","assign","createdByName","createdBy","commentBody","fromNimble","userIdName","_userIdName","support_api_slicedToArray","_userIdName2","fetchCase","caseId","theCase","caseUrl","caseDetailsFetch","caseCommentsFetch","caseAttachmentsFetch","caseRmaLabelsFetch","caseDetailsRes","caseCommentsRes","caseAttachmentsRes","caseRmaLabelsRes","caseAttachments","caseRmaLabels","caseComments","$_complete","fetchCaseDetailOk","fetchCaseDetailFail","fetchSuggestedTerms","englishText","req","getUserProfile","likeASolution","kcsDocId","reqData","dislikeASolution","searchKcsSolutions","someStuffToFind","fetchSfdcContact","FETCH_SFDC_CONTACT","getCurrentTenant","resolveCase","resolutionNotes","successCallback","errorCallback","isWordChar","charCode","theChar","String","fromCharCode","makeDomId","intId","random","getContact","contact","contactSelector","getState","findCaseByNumber","supportCases","someCase","filterStatusDispatch","caseStatus","setCaseStatusFilter","filterParamDispatch","filterKey","filterValue","revalued","filterParams","setCaseParamFilters","filterSetDispatch","filterSet","setCaseParamFilterSet","SupportTab","children","Toggle","Toggle_classCallCheck","Toggle_possibleConstructorReturn","childAtIndex","Children","toArray","kids","child","_child$props","childProps","_objectWithoutProperties","newChildClassName","nmbl-Toggle__first","nmbl-Toggle__last","nmbl-Toggle--selected","Toggle_extends","any","SearchNav","SearchNav_classCallCheck","SearchNav_possibleConstructorReturn","casesBy","isOpenNav","searchString","navStuff","justMine","redirect","currentFilters","hideAutoCases","checked","hashDestination","hash","clickTarget","unOpen","searchTerms","onSearch","setAllCases","setMyCases","components_Toggle","showCasesBy","Button_default","forwardSearch","placeholder","eraseSearch","filtering","supportTab","Pagination","Pagination_classCallCheck","Pagination_possibleConstructorReturn","dataOffset","hasAttribute","page","getPageAt0BasedIndex","end","start","onPageSelect","itemCount","numberPerPage","pages","floor","_getPageAt0BasedIndex","role","aria-label","onPage","data-disabled","aria-hidden","defaultProps","DateTime","momentized","toDate","isoDate","descDate","timeString","isNaN","toISOString","toUTCString","dateTime","oneOfType","defaultValues","DatePicker","DatePicker_classCallCheck","DatePicker_possibleConstructorReturn","inputElem","datePicker","enableTime","allowInput","altFormat","altInput","eventChange","eventClose","onOpen","eventOpen","onReady","eventReady","Flatpickr","dates","dateString","getSingleDate","dateObj","subfilter","eref","eventClear","LIST_SIZES","GridView_classCallCheck","GridView_possibleConstructorReturn","userOptions","withData","optionSet","withOptions","defaultOptions","perPage","nested","GridView_extends","nestedOptions","tableData","colsToShow","hoverRows","colReference","MAX_SAFE_INTEGER","sorting","si","colname","recordSample","knownKeys","resetToFirstPage","tableDataLength","npp","sortKeyOptions","sd","IconAdaptor","sort_asc_default","sort_desc_default","sort_default","rowCount","columnMapper","rowIndex","parentColumnIndex","columnIndex","objectHash","compact","flatten","cs","desensitizeCase","subqueries","tableQuery","hasOwnProperty","includes","includeRow","columnValue","GridView_typeof","filterx","sortpasses","sortgroup","gsk","gso","atest","btest","getRenderRows","currentPageRows","writeSettings","writeHeader","writeSubfilter","writeRows","noDataMsg","writePagination","writeUserPerPageSelection","getColumnsByRow","renderCell","colSpan","rowSpan","colIndex","getRowSpan","sortNode","getSortArrow","isGroupHeader","thProps","data-sortable","data-group-header","eventHeaderSort","sorted","data-colname","getHeaderContent","col","subquery","showSubfilterDateRange","showSubfilterSelect","showNoSubfilter","showSubfilterInput","components_DatePicker","datePickerFormat","eventDateRangeSubfilter","data-subfilter","onInput","eventSubfilter","summaryOptions","lo","sourceArray","targetprop","rs","pdata","pdk","searchArrayFor","cellData","expression","extra","rowKey","oddRow","customAttributes","data-odd","data-even","data-rowkey","eventRowTouch","writeCell","getRenderColumns","components_Pagination","gotPageSelect","_this6","enableUserPerPageSelection","setStatePerPage","setStateOffset","dataset","rowkey","rowindex","sfk","sfq","csf","eventSrc","wantsAdd","shiftKey","sk","sko","splice","arrayOf","oneOf","childRowComponent","Column","dataKey","summaryFilter","textFilter","ColumnGroup","toColumn","SimpleGridView_objectWithoutProperties","SimpleGridView_extends","toColumnGroup","toPagination","SimpleGridView","disablePagination","components_GridView_GridView","noPagination","SupportLoading","SupportLoadingError","cd","components_DateTime","tableOptions","SupportListCases","SupportListCases_classCallCheck","SupportListCases_possibleConstructorReturn","isSupportCaseAccessOnly","tableSearch","checkboxId","fromDateId","toDateId","getArrays","caselog","startDate","setHours","setMinutes","endDate","setSeconds","SupportListCases_typeof","getCurrentUserContactId","caseOpened","caseClosed","justMineIsChecked","fetchCasesFailed","redirectToLogin","loadedContact","SupportLoading_SupportLoadingError","caseList","caseSum","Total","Open","Closed","Resolved","pval","filteredCases","getFilteredCases","temp","_loop","foundAsset","arrayId","assetName","addCaseInfo","components_SupportTab","components_SearchNav","eventSearching","components_GridView","SupportListCases_extends","caseListSelector","fetchCasesFailedSelector","listSelector","KcsDocument","KcsDocument_classCallCheck","KcsDocument_possibleConstructorReturn","kcsDocument","grabKcsDocument","docId","onError","kcsDoc","created_at","dangerouslySetInnerHTML","__html","body_html","KcsDocumentModal","KcsDocumentModal_classCallCheck","KcsDocumentModal_possibleConstructorReturn","resultsLiked","resultsDisliked","isSupportCaseAccess","Modal","hideModalOnPrimaryButtonClick","hideSecondaryButton","primaryButtonContent","onClickPrimaryButton","redirectToDocs","isStoreDriven","isOpen","hideModalOnSecondaryButtonClick","secondaryButtonContent","docSolvedMyIssue","onClickSecondaryButton","docNotHelpful","components_KcsDocument","onKcsError","TypeAhead","TypeAhead_classCallCheck","TypeAhead_possibleConstructorReturn","inputValue","suggestions","valueList","savedValues","showSuggestions","listIndex","listElem","eventBlur","eventKeyDown","eventMouseOver","outsideClick","nextProps","nstate","suggestionsChanged","newSuggestions","l","rootElem","changeId","clearTimeout","dispatchChanges","onBlur","leState","suggestionsLength","keyCode","which","newIndex","pickText","inList","centerScroll","onKeyDown","selectedIndex","childNodes","itemPosition","offsetTop","itemHeight","scrollHeight","listVisibleHeight","offsetHeight","pp","elem","pt","pti","anchorClass","onMouseOver","data-list-index","renderResults","SEVERITY_OPTIONS","labelDesc","SupportCreateCase","SupportCreateCase_classCallCheck","SupportCreateCase_possibleConstructorReturn","searching","didSearch","kcsSuggestions","kcsResults","doc_id","resultsRead","caseTitle","caseArray","caseSeverity","lastError","busySend","caseSubmission","visibleKcsDocId","lastSuggestionSearch","inputTypeAheadId","textareaId","summaryInput","requestTermsSuggestion","descriptionInput","valueSet","arrayPick","severityPick","errors","getFormErrors","compositeQuery","compileFullTextSearch","requestKcsSolutions","theQuery","casePostResponse","what","postCaseDetailOkDispatch","caseModel","casePriority","eventCaseCreateSuccess","eventCaseCreateFail","_state2","suggestedSolutions","limitedSet","hostprint","_state3","resultDisplayCount","kcsSuggestion","Suggestion","onClickKcsSuggestion","read","prevState","_defineProperty","confirm","arrayOptions","makeAssetDropdownOptions","hasErrors","formBlocked","option","onSeverityChange","components_TypeAhead","onKeyUp","eventKeyUp","eventSummaryKeyDown","onSummaryChange","cols","eventDescriptionKeyDown","onDescriptionChange","Dropdown","onArrayChange","eventSubmit","cancelCase","_this7","renderSubmitResults","renderNewCaseForm","renderKcsSearchResults","components_KcsDocumentModal","SupportCreateCase_extends","CaseNotFound","CommentItem","CaseComments","SupportExamineCase_CommentItem","QuickTable","caption","hasHeadline","rowIterator","colData","ci","QuickRow","CaseAttachments","components_QuickTable_QuickTable","QuickTable_QuickRow","attachment","Name","CaseRmaLabels","CaseRmaLabels_classCallCheck","CaseRmaLabels_possibleConstructorReturn","rmaLabels","userIsInternal","rmaLabel","Body","download","CaseSection","PanelArrayMeta","PanelArrayMeta_classCallCheck","PanelArrayMeta_possibleConstructorReturn","theAsset","arrayAsset","_arrayAsset$softwareV","PanelArrayMeta_slicedToArray","PanelArrayMeta_extends","hasSupportCase","PanelCaseMeta","AddComment","AddComment_classCallCheck","AddComment_possibleConstructorReturn","formBusy","textarea","commentPosted","uiComment","onSave","commentText","ContactId","ContactName","getCurrentUserContact","taggedText","casePath","resultCommentPostOk","resultCommentPostFail","eventSubmitComment","unboundClear","AddAttachment","AddAttachment_classCallCheck","AddAttachment_possibleConstructorReturn","fileTooBig","fileName","file","files","attachmentPostOk","attachmentPostFail","pow","filePicked","eventAttachDoc","CaseResolver","CaseResolver_classCallCheck","CaseResolver_possibleConstructorReturn","resolveText","resultResolutionPostOk","resultResolutionPostFail","eventSubmitResolution","CaseInformation","CaseInformation_classCallCheck","CaseInformation_possibleConstructorReturn","busyCloseCase","commentDispatch","attachmentDispatch","updatedCase","resolveDispatch","scrollTo","resolveBox","getElementsByClassName","focus","commentBox","isClosed","goToComment","goToAttachment","goToResolve","SupportExamineCase_CaseSection","SupportExamineCase_PanelArrayMeta","SupportExamineCase_PanelCaseMeta","renderDescription","SupportExamineCase_CaseComments","SupportExamineCase_AddComment","commentWasPosted","SupportExamineCase_CaseAttachments","SupportExamineCase_AddAttachment","attachmentWasPosted","SupportExamineCase_CaseRmaLabels","SupportExamineCase_CaseResolver","caseWasResolved","SupportExamineCase","SupportExamineCase_classCallCheck","SupportExamineCase_possibleConstructorReturn","kcsModal","requestFullCase","_match$params","SupportExamineCase_CaseInformation","postCaseCommentOkDispatch","postCaseAttachmentOkDispatch","postCaseResolveOkDispatch","components_CaseNotFound","SupportExamineCase_extends","SupportContactPage","rel","SupportRouter","hasSupportPermission","FEATURE_SUPPORT_CASE_MANAGE","VmarrayLicenseManagementContainer","LegacyView","Documentation","SoftwareDownloads","ResourcesRouter","RouteComponent","uniqKey","NimbleResourcesRouter_extends","renderComponent","ROLES","InputWithFeedback","_ref$meta","meta","touched","forms_extends","fieldPropTypes","SelectWithFeedback","_ref2$meta","RoleField","roles","Field","ChangeRoleForm","user","changeRole","handleSubmit","pristine","disablePrimaryButton","showCloseIcon","htmlFor","user_RoleField","formPropTypes","initialValues","urlSegment","CHANGE_ROLE","reduxForm","DeleteUserConfirmation","deleteUser","delete","DELETE","RoleCell","RoleCell_classCallCheck","RoleCell_possibleConstructorReturn","findRole","UserManagementGrid","UserManagementGrid_classCallCheck","UserManagementGrid_possibleConstructorReturn","user_RoleCell","users","UserManagementGrid_extends","validateEmail","CreateUserForm","CREATE","UserManagementContainer","UserManagementContainer_classCallCheck","UserManagementContainer_possibleConstructorReturn","modalVisible","fetchUsers","loadingUsers","marginBottom","user_UserManagementGrid","user_CreateUserForm","FETCH","PreRegistration","register","RegistrationSuccess","RegistrationError","SelfRegistrationCapable","SelfRegistrationCapable_classCallCheck","SelfRegistrationCapable_possibleConstructorReturn","preRegistration","registrationLoading","registrationError","SelfRegistrationCapable_PreRegistration","SelfRegistrationCapable_extends","SelfRegistrationCapable_RegistrationError","SelfRegistrationCapable_RegistrationSuccess","SelfRegistrationIncapable","SelfRegistrationContainer","SelfRegistrationContainer_classCallCheck","SelfRegistrationContainer_possibleConstructorReturn","evaluateSelfRegistrationCapability","selfRegistration_SelfRegistrationCapable","selfRegistration_SelfRegistrationIncapable","PermissionsContainer","PermissionsView","idCounter","Switch","handleChange","onLabel","offLabel","switchId","RealtimeDeliveryCell","RealtimeDeliveryCell_classCallCheck","RealtimeDeliveryCell_possibleConstructorReturn","setting","latestDelivery","telemetry_Switch","renderStatus","statusMap","OK","isError","remediation","NoVCentersFound","OtherCollectionError","<null>","VmwareContentCell","VmwareContentCell_classCallCheck","VmwareContentCell_possibleConstructorReturn","iconClass","fa","fa-lg","fa-warning","fa-check-circle","PopoverTrigger_default","TelemetrySettingsGrid","_telemetryConfig","lastHeartbeat","lastDaily","_ref3$original","realtime","telemetry_RealtimeDeliveryCell","telemetryConfig_extends","vmware","telemetry_VmwareContentCell","telemetryConfig","Description","TelemetrySettingsContainer","TelemetrySettingsContainer_classCallCheck","TelemetrySettingsContainer_possibleConstructorReturn","fetchData","TelemetrySettingsContainer_extends","heartbeat","daily","arraySearch","realtimeSearch","vmwareSearch","arrayTelemetrySettings","it","applyChange","changes","noop","produce","arraySettings","settingDisplay","timeout","Card","TelemetrySettingsContainer_Description","telemetry_TelemetrySettingsGrid","ASSET_SERVICE_URL","ADDRESS_SERVICE_URL","fetchAddresses","FETCH_ADDRESSES","fetchAssets","_actionsFor2","FETCH_ASSETS","addAddress","address","_actionsFor3","ADD_ADDRESS","editAddress","addressId","_actionsFor4","EDIT_ADDRESS","editAsset","_actionsFor5","SET_DELIVERY_PREFERENCE","setDeliveryAddress","_actionsFor6","assetPartShipAddressBook__c","setDeliveryPreference","_actionsFor7","assetSameDayPartDeliveryPreference__c","validateAddress","_actionsFor8","VALIDATE_ADDRESS","countries","formikEnhancer","withFormik","Install_Street1__c","Install_City__c","Install_State_Province__c","Install_Zip_Code__c","Install_Country__c","AddressDetailForm","validateForm","dirty","handleBlur","formik_es6","setFieldValue","setTouched","relatedAssets","bodyClassName","footerClassName","renderField","Select","multi","clearable","FormikAddressDetailForm","setSubmitting","onValidationResult","hasDoneInitialValidation","AddressForm","addressOptions","addressUpdating","handleReset","setFieldTouched","onFieldChanged","isSubmitting","onEdit","newAddress","FormikAddressForm_AddressSelect","selection","AddressSelect","FormikAddressForm_classCallCheck","FormikAddressForm_possibleConstructorReturn","react_select_es","FormikAddressForm","AddressValidationForm","assetData","onConfirm","installAddress","is4HourSla","Support_Level__c","lastValidatedBy","assetPartShipLastValidatedByInfo__c","lastValidatedDate","assetPartShipLastValidatedDatetime__c","deliveryPreference","addressBookId","validationIcon","validationText","lastModifiedInMonths","assetInstallAddressBook__c","FormikAddressValidationForm","deliveryPreferences","displayName","SAME-DAY-10: Always deliver (site is manned 24x7)","SAME-DAY-20: Deliver only during business hours (9am to 5pm asset time)","SAME-DAY-30: Always call customer first","premiumDeliveryOptions","tooltipText","SLA","DeliveryPreferenceSelect","FormikDeliveryPreferenceForm_classCallCheck","FormikDeliveryPreferenceForm_possibleConstructorReturn","DeliveryPreferenceForm","currentDeliveryPreference","deliveryOptions","SLA__c","FormikDeliveryPreferenceForm_DeliveryPreferenceSelect","FormikDeliveryPreferenceForm","AssetCard","AddressCard_classCallCheck","AddressCard_possibleConstructorReturn","editAddressDetails","newAddressDetails","hasInstallAddressIssue","hasRmaAddressIssue","hasDeliveryPrefIssue","hasDoneInitialValidationDeliveryPref","hasDoneInitialValidationRmaAddress","hasDoneInitialValidationInstallAddress","addressbookId","addressbookIndex","addressCollection","addressbookEntry","abStreet1__c","Install_Street2__c","abStreet2__c","abCity__c","abStateProvince__c","abPostalCode__c","abCountry__c","System_Name__c","rmaAddress","hasRmaAddress","getMatchingAddressId","abDescription__c","assetArenaProductCode__c","components_FormikDeliveryPreferenceForm","components_FormikAddressValidationForm","components_FormikAddressForm","openAddressEditForm","assetDef","getAssetDef","installAddressUpdating","deliveryAddressUpdating","components_FormikAddressDetailForm","updatePromise","applyNewAddressPromise","AddressCard_extends","updatePromises","assetValues","Promise","addressSelector","assetSelector","AssetRegistry","address_components_classCallCheck","address_components_possibleConstructorReturn","searchText","loadingAddressCollection","loadedAddressCollection","loadingAssetCollection","loadedAssetCollection","autoFocus","onChangeAssetSearch","onClearAssetSearch","Order_Type__c","searchFilter","AddressCard","address_components_extends","$and","SITE_ACCESS","SettingsRouter","BulletinsAdminPage","BulletinsAdminPage_classCallCheck","BulletinsAdminPage_possibleConstructorReturn","BannersView","adminRoutes","AdminRouter","checkAccess","provideContexts","WrappedComponent","_class","RouterExtension_classCallCheck","RouterExtension_possibleConstructorReturn","RouterExtension_inherits","RouterExtension_createClass","parentNode","removeChild","es","ReactHighcharts","RouterExtension","router","NimbleResourcesRouter","addRouter","removeRouter","LocalObjectSearchSubject","OBJECTS","LocalObjectSearchSubject_classCallCheck","turn","worker","SearchWorker","addEventListener","onReceiveResults","objectType","singularName","getSingularTitle","pluralName","terminate","hasResults","handlers","entries","LocalObjectSearchSubject_slicedToArray","hasDetailView","findObject","_productInterface$get","getLinkPropsForView","getDetailView","topic","noOp","tryUntilReady","isReadyForTopologySearch","postMessage","productFamily","_callee","detailView","hasResultsFromOtherTenants","regeneratorRuntime","_context","prev","NIMBLE_ARRAY","includeInvisible","boostAccountId","cancelToken","CancelToken","cancellationExecutor","sent","abrupt","crossTenantArraySearchSubject_defineProperty","excludeTenant","t0","t1","accountName","thisSearch","ARRAY","crossTenantArraySearchSubject","cancelSearch","SearchExtension","SearchExtension_classCallCheck","SearchExtension_possibleConstructorReturn","localSearchProvider","NimbleObjects","addSubject","provider","removeSubject","canAccessMultipleTenants","ShellStateCache","ShellStateCache_classCallCheck","ShellStateCache_possibleConstructorReturn","getShellState","loadAuthorizationEvaluator","loadTenant","loadUser","loadConfig","UserContextChangeReason","Tenant","changeUserContext","ShellStateCache_extends","NimbleExtensions","bootstrapper_ShellStateCache","extensions_PrimaryNavExtension","extensions_RouterExtension","extensions_SearchExtension"],"mappings":"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BACA,UACA,QACA,cACA,UACA,WACA,mBACA,UACA,SACA,UACA,UACA,QACA,YACA,SACA,YACA,YACA,UACA,UACA,QACA,YACA,OACA,UACA,SACA,QACA,cACA,UACA,QACA,SACA,aACA,QACA,SACA,SACA,UACA,YACA,aACA,YACA,SACA,WACA,OACA,QACA,YACA,UACA,SACA,UACA,UACA,UACA,cACA,gBACA,cACA,UACA,SACA,OACA,WACA,YACA,SACA,WACA,OACA,cACA,SACA,WACA,cACA,QACA,UACA,SACA,QACA,eACA,UACA,wBACA,YACA,WACA,WACA,eACA,cACA,QACA,YACA,SACA,cACA,SACA,WACA,sBACA,UACA,SACA,SACA,SACA,UACA,uBACA,iBACA,gBACA,UACA,aACA,YACA,UACA,QACA,sRC1HJ,IAAMviC,GAAKC,KAAW3hE,KAAK8kB,MAOrBo/E,GAAiBC,cACnBvhE,SAAU,SAAC1M,GACP,IAAMu4D,KAoBN,OAnBKv4D,EAAO9zB,cACRqsF,EAAOrsF,YAAc,eAEpB8zB,EAAOkuE,qBACR3V,EAAO2V,mBAAqB,eAE3BluE,EAAOmuE,kBACR5V,EAAO4V,gBAAkB,eAExBnuE,EAAOouE,4BACR7V,EAAO6V,0BAA4B,eAElCpuE,EAAOquE,sBACR9V,EAAO8V,oBAAsB,eAE5BruE,EAAOsuE,qBACR/V,EAAO+V,mBAAqB,eAGzB/V,KAKTgW,irBAA0BpoC,gEAExBh+D,KAAKy9D,MAAM4oC,mDAGHxuD,EAAW7tB,GAAO,IAAAk4C,EAQtBliE,KAAKy9D,MANLi+B,EAFsBx5B,EAEtBw5B,QAEAtL,GAJsBluB,EAGtBokC,MAHsBpkC,EAItBkuB,QAEAgQ,GANsBl+B,EAKtBqkC,WALsBrkC,EAMtBk+B,cACAvoE,EAPsBqqC,EAOtBrqC,OAGJ,OACI2qC,EAAAxrD,EAAAwjD,cAAA,OAAK36D,UAAU,cACX2iE,EAAAxrD,EAAAwjD,cAAA,SAAOiiC,QAAS5kD,EAAWh4C,UAAWwjE,GAAG,aAAe+sB,EAAOv4C,IAAc6jD,EAAQ7jD,GAAa,QAAU,OACvG7tB,E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","file":"4-103f831b1b40a7d41534.js","sourcesContent":["const _ = require('underscore');\nvar Marionette = require('backbone.marionette'),\n    SpinnerModel = require('./SpinnerModel'),\n    tpl = require('raw-loader!app/templates/components/Spinner.html');\n\nmodule.exports = Marionette.ItemView.extend(\n    /** @lends views/components/Spinner.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name views/components/Spinner\n         * @constructor\n         * @augments Backbone.View\n         */\n\n        template: _.template(tpl),\n\n        className: 'spinner-view',\n\n        initialize: function (options) {\n            this.model = new SpinnerModel();\n            if (options && options.message) {\n                this.model.set('message', options.message);\n            }\n        },\n\n        show: function () {\n            this.$el.show();\n        },\n\n        hide: function () {\n            this.$el.hide();\n        },\n\n    });\n","const Backbone = require('backbone');\nvar Marionette = require('backbone.marionette');\nrequire('backbone.stickit');\nrequire('backbone-validation');\n\nmodule.exports = Marionette.Behavior.extend({\n\n    validationOptions: {\n\n        forceUpdate: true,\n\n        valid: function (view, attr, selector) {\n            var $el = view.$('[' + selector + '~=\"' + attr + '\"]');\n            var $formGroup = $el.closest('.form-group');\n            $formGroup\n            //.addClass('has-success')  // This is a bit too heavy of a visual effect\n                .removeClass('has-error');\n            $formGroup.find('.form-control-feedback')\n            //.addClass('glyphicon-ok') // This is a bit too heavy of a visual effect\n                .removeClass('glyphicon-remove');\n            $formGroup.find('.validation-error').remove();\n        },\n\n        invalid: function (view, attr, error, selector) {\n            var $el = view.$('[' + selector + '~=\"' + attr + '\"]');\n            var $formGroup = $el.closest('.form-group');\n            $formGroup\n            //.removeClass('has-success')\n                .addClass('has-error');\n            $formGroup.find('.form-control-feedback')\n            //.removeClass('glyphicon-ok')\n                .addClass('glyphicon-remove');\n            $formGroup.find('.validation-error').remove();\n\n            // This requires that all form inputs be nested within a .row\n            // This allows the error message help-block to have a different column width than the input element\n            // TODO enhance this such that it falls-back gracefully if the <input> itself is not nested in a row\n            $el.closest('.row')\n                .after('<div class=\"row validation-error\"><p class=\"column large-24 help-block\">' + error + '</p></div>');\n        },\n    },\n\n    onBeforeRender: function () {\n        // Ideally we would do this in initialize... see:\n        // https://github.com/marionettejs/backbone.marionette/issues/1579\n        // https://github.com/marionettejs/backbone.marionette/pull/1875\n\n        Backbone.Validation.bind(this.view, this.validationOptions);\n    },\n\n    onRender: function () {\n        this.view.stickit();\n    },\n\n    onDestroy: function () {\n        Backbone.Validation.unbind(this);\n    },\n\n});\n","module.exports = \"<div class=\\\"error-message\\\">\\n    <i class=\\\"fa fa-exclamation-triangle\\\" style=\\\"color: #ed2826;\\\"></i>\\n    <span class=\\\"text-danger\\\"><%=message%></span>\\n</div>\\n\"","/* eslint-disable */\nimport Backbone from 'backbone';\nimport moment from 'moment-timezone';\n\nexport default Backbone.Model.extend({\n\n    defaults: {\n\n        // these are the header record fields (SFCase.java)\n        id: null,\n        createdDate: null,\n        createdDateOnly: null,\n        caseNumber: null,\n        status: null,\n        bucket: null,\n        subject: null,\n        type: null,\n\n        assetId: null,\n        accountId: null,\n        createdById: null,\n        contactId: null,\n        priority: null,\n        closedDate: null,\n        Auto_Open__c: null,\n        Auto_Close__c: null,\n        owner: {},\n        ownerName: null,\n        caseLastComment__c: null,\n        lastUpdatedDate: null,\n        lastUpdatedTS: null,\n\n        // these fields belong to the full record (SFCaseDetail.java)\n        description: null,\n        comments: null,\n        reason: null,\n        ownerId: null,\n        suppliedEmail: null,\n        origin: null,\n        isEscalated: null,\n        closed_By__c: null,\n        casePortalResolutionNotes__c: '',\n        caseClosureCaseReason__c: null,\n        casCatClosureRootCause__c: null,\n        caseClosureCategory__c: null,\n        technology_Area__c: null,\n        sub_Technology_Area__c: null\n    },\n\n    url: function() {\n        if (!this.id) {\n            return this.api().account().segment('cases').search({ userName: this.get('userName') }); // for POSTs\n        }\n        return this.api().account().segment('cases') + '/' + this.id; // for GETs\n    },\n\n    parse: function(md) {\n\n        // normalize status\n        switch (md.status) {\n            /* falls through */\n            // jshint ignore: start\n            case 'Resolved':\n                md.bucket = 'Resolved';\n                break;\n\n            case 'Closed':\n            case 'Closed(Duplicate)':\n                md.bucket = 'Closed';\n                break;\n\n            case 'New':\n            case 'On Hold':\n            case 'Open':\n            case 'Awaiting Customer':\n            case 'Awaiting Engineering':\n            case 'Wait-Fix':\n            case 'Handover':\n            default:\n                md.bucket = 'Open';\n            // jshint ignore: end\n        }\n\n        // normalize dates\n        // if (md.closedDate && typeof md.closedDate === 'string') {\n        //     md.closedDate = moment(md.closedDate).toDate();\n        // }\n        // if (md.createdDate && typeof md.createdDate === 'string') {\n        //     md.createdDate = moment(md.createdDate).toDate();\n        // }\n        // if (md.systemModstamp && typeof md.systemModstamp === 'string') {\n        //     md.systemModstamp = moment(md.systemModstamp).toDate();\n        // }\n\n        // normalize resolution notes\n        if (!md.casePortalResolutionNotes__c) {\n            md.casePortalResolutionNotes__c = '';\n        }\n\n        // assign owner name\n        if (md.owner) {\n            const queueRegex = /queue/i;\n            md.ownerName = md.owner.name.match(queueRegex) ? '(pending)' : md.owner.name;\n            if (md.Auto_Close__c && md.ownerName === '(pending)') { md.ownerName = 'N/A'; }\n        }\n\n        // get date string\n        md.createdDateOnly = moment(md.createdDate).format('YYYYMMDD');\n        md.lastUpdatedDate = (md.caseLastComment__c) ? moment(md.caseLastComment__c).format('YYYYMMDD') : md.createdDateOnly;\n        md.lastUpdatedTS = (md.caseLastComment__c) ? md.caseLastComment__c : md.createdDate;\n\n        return md;\n    },\n\n    initialize: function(opt) {\n\n    }\n\n});\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"assetRegistry\":\"assetRegistry__qcpii\",\"addressDisplay\":\"addressDisplay__31rI5\",\"addressText\":\"addressText__10RbQ\",\"confirmation\":\"confirmation__17dfE\",\"addressCard\":\"addressCard__19uT9\",\"edit\":\"edit__1S_rG\",\"new\":\"new__2Pvnx\",\"form-label\":\"form-label__2wST-\",\"error\":\"error__lIyIT\",\"equalHeight\":\"equalHeight__274vc\",\"cardAddress\":\"cardAddress__8JJOX\",\"card\":\"card__3BV3u\",\"sla\":\"sla__2_w2H\",\"search-container\":\"search-container__29oWo\",\"search-icon-container\":\"search-icon-container__1UnXn\",\"search-input-container\":\"search-input-container__wpVQv\",\"search\":\"search__22e8O\",\"cancel-search\":\"cancel-search__mg3F5\",\"addressDetailForm\":\"addressDetailForm__275-L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user-management\":\"user-management__3DgJ_\",\"footer-pagination\":\"footer-pagination__Sxc8B\",\"settings-popup\":\"settings-popup__-AUvg\",\"form-error\":\"form-error__drGMh\"};","var Backbone = require('backbone');\n\nvar privilegeNameMap = {\n    'Feature.Core.Access': 'Basic Access',\n    'Feature.VMVision.Access': 'VMVision Feature',\n    'Feature.SupportCase.Manage': 'Support Case Management',\n};\n\nmodule.exports = Backbone.Model.extend({\n    validation: {\n        privilege: {\n            required: true,\n        },\n    },\n}, {\n    privilegeNameMap: privilegeNameMap,\n});\n","const _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar ConfirmationRequestModel = require('./ConfirmationRequestModel');\nvar tpl = require('raw-loader!./ConfirmationRequestView.html');\n\nmodule.exports = Marionette.ItemView.extend({\n\n    template: _.template(tpl),\n\n    triggers: {\n        'click button[name=\"submit\"]': {\n            event: 'submit',\n            stopPropagation: false,\n        },\n    },\n\n    ui: {\n        modalBody: '.modal-body',\n    },\n\n    initialize: function (options) {\n        this.model = new ConfirmationRequestModel(_.pick(options, 'action', 'title'));\n        _.extend(this, _.pick(options, ['content']));\n\n        console.assert(this.content, 'content option is required');\n    },\n\n    onRender: function () {\n        this.ui.modalBody.append(_.result(this, 'content'));\n    },\n\n});\n","const $ = require('jquery');\nconst { BASE_URL } = require('progeny/config');\nvar baseUrl = BASE_URL + '/es';\n\nmodule.exports = {\n    searchTemplate: function (options) {\n        return $.ajax({\n            type: 'POST',\n            url: baseUrl + '/' + options.index + '/_search/template',\n            contentType: 'application/json',\n            data: JSON.stringify({\n                id: options.template,\n                params: options.params,\n            }),\n        });\n    },\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"switch\":\"switch__3h3vl\",\"switch-input\":\"switch-input__YJJ9R\",\"switch-paddle\":\"switch-paddle__1AFR2\",\"switch-active\":\"switch-active__1xU5e\",\"switch-inactive\":\"switch-inactive__3UJUD\",\"tiny\":\"tiny__2W01-\",\"small\":\"small__2l1h-\",\"large\":\"large__3izdB\",\"switch-with-status\":\"switch-with-status__13Wz0\",\"text-alert\":\"text-alert__38YeY\",\"text-success\":\"text-success__zJklF\",\"telemetry-settings\":\"telemetry-settings__1wYOU\"};","const _ = require('underscore');\nconst { Highstock: Highcharts } = require('progeny/modules/nimble/highchartsProxy');\nconst MBtoGB = 1024;\n\nmodule.exports = {\n\n    formatSize: function (valueMB, decimalPlaces) {\n\n        var value = valueMB,\n            suffix = 'MB';\n\n        // TiB\n        if (valueMB > 1048576) {\n            value = valueMB / 1048576;\n            suffix = 'TiB';\n            // force the precision to keep at least 1 or 2 decimal places of precision\n            if (decimalPlaces === 0) {\n                decimalPlaces = 2;\n            }\n        }\n        // GB\n        else if (valueMB > 1024) {\n            value = valueMB / 1024;\n            suffix = 'GiB';\n        }\n        // MB\n        else {\n            value = valueMB;\n            suffix = 'MB';\n        }\n\n        return Highcharts.numberFormat(value,\n            _.isNumber(decimalPlaces) ? decimalPlaces : 2) + ' ' + suffix;\n    },\n\n    formatGB: function (valueGB, decimalPlaces) {\n        var value = valueGB,\n            suffix = 'GiB';\n\n        // TB\n        if ((valueGB >= 1024) || (valueGB === 0) || (valueGB <= -1024)) {\n            value = valueGB / 1024;\n            suffix = 'TiB';\n        }\n\n        return Highcharts.numberFormat(value,\n            _.isNumber(decimalPlaces) ? decimalPlaces : 2) + ' ' + suffix;\n    },\n\n    formatTB: function (valueTB, decimalPlaces) {\n        var valueGB = valueTB * 1024,\n            suffix = 'GiB';\n        var value = valueGB;\n        // Larger than 1TB\n        if ((valueGB >= 1024) || (valueGB === 0) || (valueGB <= -1024)) {\n            value = valueTB;\n            suffix = 'TiB';\n        }\n\n        return Highcharts.numberFormat(value,\n            _.isNumber(decimalPlaces) ? decimalPlaces : 2) + ' ' + suffix;\n    },\n\n};\n","var Backbone = require('backbone');\n\nmodule.exports = Backbone.Model.extend(\n    /** @lends models/dashboard/LocalRetentionModel.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name models/dashboard/LocalRetentionModel\n         * @constructor\n         * @augments Backbone.Model\n         */\n\n        defaults: {\n            categories: [],\n            series: [],\n        },\n\n        // override the default URL so we can specify a custom format\n        url: function () {\n            return this.api().pod().account().segment('/dashboard/local_retention');\n        },\n    });\n","const $ = require('jquery');\n\nvar seriesColors = {\n    'Exchange': '#2f7ed8',\n    'Oracle': '#910000',\n    'SharePoint': '#8085e9',\n    'VMware ESX': '#C4C243',\n    'VMware VDI': '#6E6C20',\n    'VMware Other': '#8C8B27',\n    'SQL Server': '#434348',\n    'SQL Other': '#75828F',\n    'Nimble Default': '#8bbc21',\n    'Hyper-V': '#f15c80',\n    'MySQL': '#e4d354',\n    'Windows': '#2b908f',\n    'Custom': 'gray',\n};\n\nmodule.exports = {\n\n    /**\n     * Helper method for getting the appropriate series color for a given series.\n     * @param  {String} seriesName The name of the series.\n     * @return {String}            Returns the color string.\n     */\n    getSeriesColor: function (seriesName) {\n        var color = seriesColors[seriesName];\n        if (!color) {\n            throw new Error('Series \"' + seriesName + '\" does not have a mapped color.');\n        }\n        return color;\n    },\n\n    /**\n     * Helper method for retrieving a user-friendly formatted version of the category.\n     * The given category can be in the following forms:\n     *   <li>hh:mm  (where hh is hours and mm is minutes)\n     *   <li>n      (where n is the number of days)\n     *   <li>string (a string to display)\n     * @param  {String} category The category.\n     * @return {String}          The user-friendly category.\n     */\n    scheduleCategoryLabelFormatter: function (category) {\n        var s = '';\n\n        // handle the case when grouped-category lib is used with highcharts\n        // category is a object, i.e. {\"userOptions\":\"00:01\",\"name\":\"00:01\"};\n        if (typeof(category) === 'object') {\n            category = category.name;\n        }\n        // days\n        if ($.isNumeric(category)) {\n            if (category % 7 === 0) {\n                var weeks = category / 7;\n                s = weeks + (weeks > 1 ? ' weeks' : ' week');\n            } else {\n                s = category + (category > 1 ? ' days' : ' day');\n            }\n        }\n        // some combination of hours:mins\n        else if (category.indexOf(':') >= 0) {\n            var timePieces = category.split(':'),\n                hours = parseInt(timePieces[0], 10),\n                mins = parseInt(timePieces[1], 10);\n            if (hours === 0) {\n                return mins + (mins > 1 ? ' mins' : ' min');\n            } else if (mins === 0) {\n                return hours + (hours > 1 ? ' hours' : ' hour');\n            }\n            // partial hours and minutes\n            else {\n                return hours + '.' + (mins / 60) + ' hours';\n            }\n        }\n        // other string based category\n        else {\n            s = category;\n        }\n\n        return s;\n    },\n};\n","var Backbone = require('backbone');\n\nmodule.exports = Backbone.Model.extend({\n\n    initialize: function (attributes, options) {\n        this.createNew = options.createNew || false;\n    },\n\n    defaults: {\n        arrays: [],\n        notes: null,\n    },\n\n    validation: {\n        name: {\n            required: true,\n            msg: 'Name is required',\n        },\n        startTime: {\n            fn: function (startTime, attr, computed) {\n                if (!startTime) {\n                    return 'Start date is required';\n                }\n                var patt = /invalid date/i;\n                if (patt.test(startTime)) {\n                    return 'Valid date/time needed, e.g. MM/DD/YYYY 1:30 PM';\n                }\n                if (computed.trackStartTime < new Date()) {\n                    return 'Start time cannot be before current time';\n                }\n            },\n        },\n        startTimeOnly: {\n            fn: function (startTime, attr, computed) {\n                if (!startTime && computed.startTime) {\n                    return 'Start time is required';\n                }\n                var patt = /invalid date/i;\n                if (patt.test(computed.trackStartTime)) {\n                    return 'Valid date/time needed, e.g. MM/DD/YYYY 1:30 PM';\n                }\n            },\n        },\n        endTime: {\n            fn: function (value, attr, computed) {\n                if (!computed.endTime) {\n                    return 'End date is required';\n                }\n                var patt = /invalid date/i;\n                if (patt.test(value)) {\n                    return 'Valid date/time needed, e.g. MM/DD/YYYY 1:30 PM';\n                }\n                if (this.changed && this.changed.trackEndTime && (this.changed.trackEndTime < new Date())) {\n                    return 'End time cannot be before current time';\n                }\n                if (computed.trackEndTime < computed.trackStartTime) {\n                    return 'End time cannot be before start time';\n                }\n            },\n        },\n        endTimeOnly: {\n            fn: function (value, attr, computed) {\n                if (!value && computed.endTime) {\n                    return 'End time is required';\n                }\n                var patt = /invalid date/i;\n                if (patt.test(computed.trackEndTime)) {\n                    return 'Valid date/time needed, e.g. MM/DD/YYYY 1:30 PM';\n                }\n            },\n        },\n        arrays: {\n            fn: function (arrays) {\n                if (!arrays || arrays.length === 0) {\n                    return 'Please select at least one array for maintenance';\n                }\n                if (this._originalAttrs.arrays.length !== arrays.length && this._originalAttrs.endTime < new Date()) {\n                    return 'You cannot edit an array list after maintenance mode has ended.';\n                }\n            },\n        },\n    },\n\n});\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"legacy-labels\":\"legacy-labels__3xi3V\"};","const { buildUrlFromBase } = require('progeny/util/url');\nconst { Highstock: Highcharts } = require('progeny/modules/nimble/highchartsProxy');\nvar numeral = require('numeral');\nvar _ = require('underscore');\n\nmodule.exports = function (opts) {\n    var dataValues = opts.dataValues;\n    var categories = opts.categories;\n    var element = (opts.element.get ? opts.element.get(0) : opts.element);\n    var yAxisLabelFormatter = opts.yAxisLabelFormatter;\n    var tooltipFormatter = opts.tooltipFormatter;\n\n    var maxAxisValue = Math.ceil(_.max(dataValues));\n\n    // Workaround Highchart's expansion of individual bars to fill the chart height rather than shrink the overall chart height.\n    var LABEL_HEIGHT = 25;\n    var PADDED_BAR_HEIGHT = 31;\n    var height = LABEL_HEIGHT + dataValues.length * PADDED_BAR_HEIGHT;\n\n    return new Highcharts.Chart(element, {\n        chart: {\n            type: 'bar',\n            alignTicks: false,\n            marginTop: 10,\n            height: height,\n        },\n        title: {\n            text: null,\n        },\n        plotOptions: {\n            bar: {\n                minPointLength: 3,\n                pointWidth: 10,\n            },\n        },\n        xAxis: {\n            categories: categories,\n            title: {\n                text: null,\n            },\n            labels: {\n                formatter: function () {\n                    if (this.value.id) {\n                        return `<a title=\"${this.value.name}\" class=\"history-aware\" href=\"${buildUrlFromBase('/infrastructure/virtualization/vmware/vms', this.value.id)}\">${this.value.name}</a>`;\n                    }\n                },\n                useHTML: true,\n            },\n            lineWidth: 0,\n            tickWidth: 0,\n        },\n        yAxis: [\n            {\n                opposite: true,\n                offset: -25,\n                title: {\n                    text: null,\n                },\n                labels: {\n                    overflow: 'justify',\n                    formatter: yAxisLabelFormatter,\n                    y: -17,\n                },\n                gridLineWidth: 0,\n                lineWidth: 0,\n                showFirstLabel: false,\n                tickWidth: 0,\n                tickPositions: [0, maxAxisValue],\n            },\n        ],\n        legend: {\n            enabled: false,\n        },\n        tooltip: {\n            formatter: tooltipFormatter,\n            useHTML: true,\n        },\n        credits: {\n            enabled: false,\n        },\n        series: [\n            {\n                name: 'TopVMs',\n                data: dataValues,\n                color: '#95cfdb',\n                tooltip: {\n                    valueSuffix: '',\n                },\n            },\n        ],\n    });\n};\n","module.exports = \"<div style=\\\"padding-left:10px\\\" class=\\\"total-value large-number\\\"></div>\\n<div class=\\\"chart\\\"><div class=\\\"loading-spinner2\\\">Loading...</div></div>\\n\"","/**\n * A mixin for a Backbone.Collection or Backbone.Model that supports being filtered\n * by an \"inventory\" object (group, array, volume, etc.)\n */\nvar InventoryFilter = require('./InventoryFilter');\nvar Api = require('app/modules/api/Api');\n\nmodule.exports = {\n\n    initialize: function (arg1, options) {\n        /*jshint expr:true */\n        options || (options = {});\n\n        this.inventoryFilter = options.inventoryFilter || new InventoryFilter();\n\n        this.listenTo(this, 'api:create', this.decorateApi);\n\n        // TODO listen for 'change' events on the inventoryFilter model and\n        // trigger a refetch of this collection/model\n    },\n\n    decorateApi: function (api) {\n        api.addQuery(this.inventoryFilter.toJSON());\n    },\n\n};\n","const _ = require('underscore');\nconst { Highstock: Highcharts } = require('progeny/modules/nimble/highchartsProxy');\nvar Backbone = require('backbone');\n\nmodule.exports = Backbone.View.extend(\n    /** @lends views/components/dashboard/SpaceUsageChart.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name views/components/dashboard/SpaceUsageChart\n         * @constructor\n         * @augments Backbone.View\n         */\n\n\n        className: 'space-usage-chart',\n\n        renderChart: function (container, series) {\n            var self = this;\n            this.chart = new Highcharts.Chart({\n                chart: {\n                    type: 'pie',\n                    renderTo: container,\n                    height: 250,\n                    width: 300,\n                    events: {\n                        load: function () {\n                            var chart = this;\n\n                            // reflow the chart to ensure it fills the container\n                            _.delay(function () {\n                                chart.reflow.call(chart);\n                            }, 50);\n                        },\n                    },\n                },\n                title: {\n                    text: null,\n                },\n                xAxis: {\n                    type: 'category',\n                },\n                yAxis: {\n                    title: {\n                        text: 'Data (TiB)',\n                    },\n                    labels: {\n                        overflow: 'justify',\n                    },\n                },\n                credits: {\n                    enabled: false,\n                },\n                legend: {\n                    enabled: true,\n                },\n                tooltip: {\n                    useHTML: true,\n                    formatter: function () {\n                        var point = this.point,\n                            series = this.series,\n                            pctSaved = '';\n\n                        // if ( point.name != 'Traditional Storage' ) {\n                        //     var traditionalSpace = self.model.get('traditionalSpace'),\n                        //         pct = Highcharts.numberFormat((this.y / traditionalSpace * 100), 1);\n                        //     pctSaved = ' (' + pct + '%)';\n                        // }\n\n                        return '<span style=\"color:' + point.color + '\">' + point.name + '</span>' +\n                            ':</br><b>' + Highcharts.numberFormat(point.y, 2) + ' TiB</b>' + pctSaved + '<br/>';\n                    },//,\n                    // pointFormat: '<span style=\"color:{series.color}\">{series.name}</span>: <b>{point.y} TiB</b><br/>'\n                },\n                plotOptions: {\n                    pie: {\n                        dataLabels: {\n                            enabled: false,//,\n                            // size: 50\n                        },\n                        showInLegend: true,\n                    },\n                },\n                series: series,\n            });\n        },\n\n        render: function () {\n            this.$el.html();\n\n            var series = {\n                name: 'Space Usage',\n                data: [\n                    // ['Free', this.model.get('free')],\n                    {\n                        name: 'Volume Usage',\n                        y: this.model.get('volumes'),\n                        sliced: true,\n                        selected: true,\n                    }, {\n                        name: 'Snapshots',\n                        y: this.model.get('snapshots'),\n                        color: '#78c639',//,\n                        // sliced: true,\n                        // selected: true\n                    }, {\n                        name: 'Free',\n                        y: this.model.get('free'),\n                        color: '#CCC',\n                    },\n                ],\n            };\n\n            // if ( this.model.get('compression') > 0 ) {\n            //     series.data.push({\n            //         name: 'Compression Savings',\n            //         y: this.model.get('compression'),\n            //         // color: '#2f7ed8'\n            //         color: 'rgba(47, 126, 216, 0.5)'\n            //     });\n            // }\n\n            // if ( this.model.get('thinProvisionedSpace') > 0 ) {\n            //     series.data.push({\n            //         name: 'Thin Provisioned',\n            //         y: this.model.get('thinProvisionedSpace'),\n            //         // color: '#2f7ed8'\n            //         color: 'rgba(47, 126, 216, 0.7)'\n            //     });\n            // }\n\n            // if ( this.model.get('zeroCopyClones') > 0 ) {\n            //     series.data.push({\n            //         name: 'Zero Copy Clones',\n            //         y: this.model.get('zeroCopyClones'),\n            //         // color: '#2f7ed8'\n            //         color: 'rgba(47, 126, 216, 0.9)'\n            //     });\n            // }\n\n            this.renderChart(this.el, [series]);\n\n            return this;\n        },\n\n    });\n","var Backbone = require('backbone');\n\nmodule.exports = Backbone.Model.extend(\n    /** @lends models/dashboard/DisasterRecoveryModel.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name models/dashboard/DisasterRecoveryModel\n         * @constructor\n         * @augments Backbone.Model\n         */\n        defaults: {\n            totalUnprotectedSize: 0,\n            totalSnapshotSize: 0,\n            totalReplicatedSize: 0,\n            unprotected: [],\n            snapshots: [],\n            replicated: [],\n        },\n\n        // override the default URL so we can specify a custom format\n        url: function () {\n            return this.api().pod().account().segment('/dashboard/disaster_recovery');\n        },\n    });\n","/**\n * Represents an aggregation of all upgrade recommendations.  Contains all the\n * business-logic related to showing recommendations (many of the recommendations\n * are have dependencies).\n */\nvar Backbone = require('backbone');\nconst { Highstock: Highcharts } = require('progeny/modules/nimble/highchartsProxy');\n\nmodule.exports = Backbone.Model.extend(\n    /** @lends models/dashboard/UpgradeSummaryModel.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name models/dashboard/UpgradeSummaryModel\n         * @constructor\n         * @augments Backbone.Model\n         */\n\n        defaults: {\n            currentArrayModel: null,\n\n            currentCacheExpNonAfsGB: null,\n            currentCacheHeadGB: null,\n            currentCacheSystemTotalGB: null,\n            currentCacheTotalAfsGB: null,\n            currentController: null,\n            currentHddExpansionShelves: null,\n            currentHddGB: null,\n            recommendCacheUpgrade: false,\n            recommendControllerUpgrade: false,\n            recommendDiskUpgrade: false,\n            recommendScaleOut: false,\n            recommendedAddShelf: false,\n            recommendedArrayModel: null,\n            recommendedController: null,\n            recommendedCacheHeadGB: null,\n            recommendedCacheSystemTotalGB: null,\n            recommendedCacheTotalAfsGB: null,\n            recommendedHddExpansionShelves: null,\n            serialNumber: null,\n            arrayType: null,\n            addAfsShelf: null,\n\n            // these properties are not sent by the server, but instead are set\n            // during initialize() so they can be conveniently accessed via templates.\n            cpuRecommendationObject: null,\n            cacheTotalSystemRecommendationObject: null,\n            cacheHeadShelfRecommendationObject: null,\n            cacheSSDShelfRecommendationObject: null,\n            cacheHDDShelfRecommendationObject: null,\n            capacityRecommendationObject: null,\n            upgradeNotes: [],\n        },\n\n        /**\n         * Overridden Backbone initialize method.\n         * @param  {Object} options Parameterized object containing the initial attribute values.\n         */\n        initialize: function (options) {\n\n            var upgradeNotes = [],\n                recommendScaleOut = this.get('recommendScaleOut'),\n                recommendController = this.get('recommendControllerUpgrade'),\n                recommendCache = this.get('recommendCacheUpgrade'),\n                recommendDisk = this.get('recommendDiskUpgrade'),\n                currentController = this.get('currentController'),\n                recommendedController = this.get('recommendedController');\n            var addAfsShelf = this.get('addAfsShelf');\n            var arrayType = this.get('arrayType');\n\n            // scale out specific logic\n            if (recommendScaleOut) {\n\n                if (recommendController) {\n                    this.set('cpuRecommendationObject', this.buildRecommendation('CPU', 'CPU upgrade recommended'));\n                }\n\n                if (recommendCache) {\n                    this.set('cacheRecommendationObject', this.buildRecommendation('Cache', 'Cache upgrade recommended'));\n                }\n\n                if (recommendDisk) {\n                    this.set('capacityRecommendationObject', this.buildRecommendation('Disk', 'Additional storage recommended'));\n                }\n            }\n            // non-scale out\n            else {\n\n                // cpu upgrades\n                if (recommendController) {\n                    this.set('cpuRecommendationObject', this.buildRecommendation('Controller', 'CPU upgrade recommended',\n                        currentController, recommendedController));\n                }\n\n                // cache upgrades\n                if (recommendCache) {\n                    var cacheMessages = [],\n                        currentCacheExpNonAfsGB = this.get('currentCacheExpNonAfsGB'),\n                        currentCacheHeadGB = this.get('currentCacheHeadGB'),\n                        currentCacheSystemTotalGB = this.get('currentCacheSystemTotalGB'),\n                        currentCacheTotalAfsGB = this.get('currentCacheTotalAfsGB'),\n                        recommendedCacheHeadGB = this.get('recommendedCacheHeadGB'),\n                        recommendedCacheSystemTotalGB = this.get('recommendedCacheSystemTotalGB'),\n                        recommendedCacheTotalAfsGB = this.get('recommendedCacheTotalAfsGB');\n\n                    // total system cache\n                    if (recommendedCacheSystemTotalGB != currentCacheSystemTotalGB) {\n                        this.set('cacheTotalSystemRecommendationObject',\n                            this.buildRecommendation(\n                                'Cache',\n                                'Total cache upgrade recommended',\n                                Highcharts.numberFormat(currentCacheSystemTotalGB, 0) + ' GB',\n                                Highcharts.numberFormat(recommendedCacheSystemTotalGB, 0) + ' GB'));\n\n                        this.set('cacheHeadShelfRecommendationObject',\n                            this.buildRecommendation(\n                                'Cache',\n                                'Head shelf cache upgrade recommended',\n                                Highcharts.numberFormat(currentCacheHeadGB, 0) + ' GB',\n                                Highcharts.numberFormat(recommendedCacheHeadGB, 0) + ' GB'));\n\n                        if (currentCacheTotalAfsGB !== null) {\n                            this.set('cacheSSDShelfRecommendationObject',\n                                this.buildRecommendation(\n                                    'Cache',\n                                    'SSD shelf cache upgrade recommended',\n                                    Highcharts.numberFormat(currentCacheTotalAfsGB, 0) + ' GB',\n                                    Highcharts.numberFormat(recommendedCacheTotalAfsGB, 0) + ' GB'));\n                        }\n\n                        this.set('cacheHDDShelfRecommendationObject',\n                            this.buildRecommendation(\n                                'Cache',\n                                'HDD shelf cache upgrade recommended',\n                                Highcharts.numberFormat(currentCacheExpNonAfsGB, 0) + ' GB',\n                                Highcharts.numberFormat(currentCacheExpNonAfsGB, 0) + ' GB'));\n                    }\n\n                    if (arrayType === 'all-flash' && addAfsShelf) {\n                        this.set('capacityRecommendationObject', this.buildRecommendation('AFS', 'Capacity upgrade recommended',\n                            '0' + ' shelf', '+1 shelf'));\n                    }\n\n                    if (arrayType === 'all-flash' && !addAfsShelf) {\n                        this.set('capacityRecommendationObject', this.buildRecommendation('AFS', 'Capacity upgrade recommended',\n                            '0' + ' shelf', 'Populate Bank B'));\n                    }\n                }\n                // disk upgrades\n                if (recommendDisk) {\n                    var diskMessages = [],\n                        currentShelves = this.get('currentHddExpansionShelves'),\n                        recommendedShelves = this.get('recommendedHddExpansionShelves'),\n                        additionalShelves = recommendedShelves - currentShelves,\n                        diskRecommendationText = '+' + additionalShelves + (additionalShelves > 1 ? ' shelves' : ' shelf');\n\n                    this.set('capacityRecommendationObject', this.buildRecommendation('Disk', 'Capacity upgrade recommended',\n                        currentShelves + ' shelf', diskRecommendationText));\n                }\n            }\n\n            this.setUpgradeNotes();\n        },\n\n        buildRecommendation: function (category, summary, current, recommended) {\n            return {\n                category: category,\n                summary: summary,\n                current: current,\n                recommended: recommended,\n            };\n        },\n\n        /**\n         * Helper method for setting the upgrade notes on the model.\n         * @private\n         */\n        setUpgradeNotes: function () {\n            var recommendedComponents = [],\n                recommendScaleOut = this.get('recommendScaleOut'),\n                recommendController = this.get('recommendControllerUpgrade'),\n                recommendCache = this.get('recommendCacheUpgrade'),\n                recommendDisk = this.get('recommendDiskUpgrade'),\n                currentController = this.get('currentController'),\n                recommendedController = this.get('recommendedController'),\n                s = '',\n                msg = null;\n\n            // build up the upgrade notes\n            if (recommendDisk) {\n                recommendedComponents.push('capacity');\n            }\n            if (recommendController) {\n                recommendedComponents.push('cpu');\n            }\n            if (recommendCache) {\n                recommendedComponents.push('cache');\n            }\n\n            // make the recommended components string readable\n            for (var i = 0; i < recommendedComponents.length; i++) {\n                s += recommendedComponents[i];\n\n                if (i < recommendedComponents.length - 2) {\n                    s += ', ';\n                }\n                if (i < recommendedComponents.length - 1) {\n                    s += ' and ';\n                }\n            }\n\n            // set the appropriate upgrade notes\n            if (recommendScaleOut) {\n                msg = 'Scale-Out is recommended based on your ' + s + ' needs.';\n            } else if (!recommendController && currentController != recommendedController) {\n                msg = 'A controller upgrade is required to support the recommended ' + s + ' upgrades';\n            }\n            if (msg) {\n                this.set('upgradeNotes', [msg]);\n            }\n        },\n\n    });\n","var Backbone = require('backbone');\nvar ArrayScoped = require('app/modules/inventory/ArrayScoped');\n\nmodule.exports = Backbone.Model.extend(\n    /** @lends models/ArrayModel.prototype */ {\n\n        mixins: [ArrayScoped],\n\n        defaults: {\n            serialNumber: '',\n            hostname: '',\n            model: '',\n            version: '',\n            group: '',\n            pool: '',\n            expansionShelves: null,\n            upgradable: null,\n        },\n    });\n","const _ = require('underscore');\nvar Backbone = require('backbone'),\n    ArrayModel = require('app/models/ArrayModel'),\n    ArrayEventsCollection = require('app/collections/events/ArrayEventsCollection');\n\nmodule.exports = ArrayModel.extend({\n\n    idAttribute: 'serialNumber',\n\n    defaults: _.defaults({\n        data: [],\n        events: new ArrayEventsCollection(), // note: not sent via server\n        possiblyExceedsThreshold: null,\n        probablyExceedsThreshold: null,\n        unmanagedSnapshots: 0,\n        capacity: null,\n        free: null,\n    }, ArrayModel.prototype.defaults),\n\n    monthRange: undefined,\n\n    initialize: function (attributes, options) {\n        if (options) {\n            this.monthRange = options.monthRange;\n        }\n        this.constructor.__super__.initialize.call(this, attributes, options);\n    },\n\n    /**\n     * URL used when fetching this model directly.\n     * In this scenario, the arraySn parameter must be set.\n     */\n    url: function () {\n        var url = this.api().segment('capacity');\n        if (this.monthRange) {\n            url = url.query({ monthRange: this.monthRange });\n        }\n        return url;\n    },\n\n});\n","var Backbone = require('backbone');\nmodule.exports = Backbone.Model.extend({\n    defaults: {\n        email: '',\n    },\n    idAttribute: 'email',\n    validation: {\n        email: [\n            {\n                required: true,\n                msg: 'An email address is required',\n            }, {\n                pattern: 'email',\n                msg: 'The provided email address is not well-formed',\n            },\n        ],\n    },\n});\n","var Backbone = require('backbone');\nvar EmailModel = require('./ExecutiveDashboardEmailModel');\n\nmodule.exports = Backbone.Collection.extend({\n    model: EmailModel,\n});\n","var Backbone = require('backbone');\nvar InventoryFilterable = require('app/modules/inventory/InventoryFilterable');\n\nmodule.exports = Backbone.Model.extend({\n\n    mixins: [InventoryFilterable],\n\n    url: function () {\n        return this.api().central().account().segment('wellness/summary');\n    },\n});\n","var Backbone = require('backbone');\n\nmodule.exports = Backbone.Model.extend(\n    /** @lends models/wellness/WellnessIssueModel.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name models/wellness/WellnessIssueModel\n         * @constructor\n         * @augments Backbone.Model\n         */\n\n        defaults: {\n            'id': null,\n        },\n    });\n","var Backbone = require('backbone');\n\nmodule.exports = Backbone.Model.extend({\n    defaults: {\n        email: '',\n    },\n    idAttribute: 'email',\n    validation: {\n        email: [\n            {\n                required: true,\n                msg: 'An email address is required',\n            }, {\n                pattern: 'email',\n                msg: 'The provided email address is not well-formed',\n            },\n        ],\n    },\n});\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header__3Lyof\",\"rules-page\":\"rules-page__23W1X\",\"frame-container\":\"frame-container__1G9_b\"};","var Backbone = require('backbone'),\n    MaintenanceWindowModel = require('./MaintenanceWindowModel');\n\nmodule.exports = Backbone.Collection.extend({\n\n    model: MaintenanceWindowModel,\n\n    url: function () {\n        return this.api().central().account().segment('maintenancewindow');\n    },\n\n    parse(response) {\n        return response.sort((a, b) => -(a.startTime - b.startTime));\n    },\n});\n","var Backbone = require('backbone');\nvar LabAppModel = require('./LabAppModel');\n\nmodule.exports = Backbone.Collection.extend({\n\n    model: LabAppModel,\n\n    url: function () {\n        return this.api().segment('labs/apps');\n    },\n\n});\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"legacy-breadcrumbs\":\"legacy-breadcrumbs__2jkma\"};","var Backbone = require('backbone');\nvar PageableCollection = require('backbone.paginator');\nvar HitModel = require('./HitModel');\n\nmodule.exports = PageableCollection.extend({\n\n    model: HitModel,\n\n    mode: 'client',\n\n    state: {\n        firstPage: 0,\n        pageSize: 50,\n    },\n\n    comparator: function (a, b) {\n        var aKey = a.sortKey();\n        var bKey = b.sortKey();\n        for (var i = 0; i < Math.min(aKey.length, bKey.length); i++) {\n            if (aKey[i].value > bKey[i].value) {\n                return aKey[i].order == 'asc' ? 1 : -1;\n            } else if (aKey[i].value < bKey[i].value) {\n                return aKey[i].order == 'asc' ? -1 : 1;\n            }\n        }\n        return 0;\n    },\n\n});\n","var Backbone = require('backbone');\nvar FacetModel = require('./FacetModel');\nvar deepGet = require('utils-deep-get');\n\nconst ORDERING = ['Document Type', 'Nimble Software and Solutions', 'Version Family', 'Integration', 'Platform'];\n\nmodule.exports = Backbone.Collection.extend({\n\n    model: FacetModel,\n\n    toQueryParamMap: function () {\n        return this.getSelectedBuckets().reduce(function (memo, bucket) {\n            memo[bucket.getFacet().get('field')] = bucket.get('value');\n            return memo;\n        }, {});\n    },\n\n    getSelectedBuckets: function () {\n        return this.reduce(function (memo, facet) {\n            var bucket = facet.getSelectedBucket();\n            if (bucket) {\n                memo.push(bucket);\n            }\n            return memo;\n        }, []);\n    },\n\n    hasSelected: function () {\n        return this.some(function (facet) {\n            return facet.hasSelected();\n        });\n    },\n\n    comparator: function (model) {\n        var index = ORDERING.indexOf(model.get('field'));\n        return index === -1 ? Number.POSITIVE_INFINITY : index;\n    },\n\n});\n","var Backbone = require('backbone');\nvar FacetBucketModel = require('./FacetBucketModel');\nconst { compareVersion } = require('./documents');\n\nmodule.exports = Backbone.Collection.extend({\n\n    model: FacetBucketModel,\n\n    initialize: function (models, options) {\n        console.assert(options.facetField);\n        this.facet = options.facet;\n        this.facetField = options.facetField;\n    },\n\n    comparator: function (a, b) {\n        var lowerA = a.get('value').toLowerCase();\n        var lowerB = b.get('value').toLowerCase();\n\n        if (this.facetField === 'Version Family') {\n            return compareVersion(lowerA, lowerB);\n        }\n        // alphabetical order\n        return lowerA < lowerB ? -1 : lowerA > lowerB ? 1 : 0;\n    },\n\n});\n","const Backbone = require('backbone');\nconst { BASE_URL } = require('progeny/config');\nconst { buildUrl } = require('@infosight/elmer/dist/utils/url');\nconst _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar URI = require('urijs');\nvar InnerHitView = require('./InnerHitView');\nvar tpl = require('raw-loader!./HitView.html');\n\nvar VERSION_FAMILY_COLLAPSE = [\n    // If all 2.n.x families are present, collapse to a single 2.x entry\n    ['2.0.x', '2.1.x', '2.2.x', '2.3.x'], '2.x',\n];\n\nmodule.exports = Marionette.CompositeView.extend({\n\n    template: _.template(tpl, { variable: 'hit' }),\n\n    templateHelpers: function () {\n        var model = this.model;\n        return {\n            _,\n            versionFamilies: function () {\n                var families = model.get('_source')['Version Family'];\n                if (!families) {\n                    return [];\n                }\n                if (!Array.isArray(families)) {\n                    families = [families];\n                }\n                for (var i = 0; i < VERSION_FAMILY_COLLAPSE.length; i++) {\n                    var childVersions = VERSION_FAMILY_COLLAPSE[i];\n                    var parentVersion = VERSION_FAMILY_COLLAPSE[++i];\n                    if (_.every(childVersions, function (childVersion) {\n                        return _.contains(families, childVersion);\n                    })) {\n                        families = _.difference(families, childVersions);\n                        families.push(parentVersion);\n                    }\n                }\n                families.sort();\n                return families;\n            }(),\n\n            mediaUrl(...path) {\n                return buildUrl(BASE_URL, 'media', ...path);\n            },\n        };\n    },\n\n    tagName: 'li',\n    className: 'search-hit',\n\n    childView: InnerHitView,\n\n    childViewContainer: 'ul.search-inner-hits',\n\n    initialize: function () {\n        this.collection = new Backbone.Collection(\n            this.model.get('inner_hits') ? this.model.get('inner_hits').topics.hits.hits : []);\n    },\n\n});\n","const _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar tpl = require('raw-loader!./EmptyHitsView.html');\n\nmodule.exports = Marionette.ItemView.extend({\n\n    template: _.template(tpl),\n\n});\n","const _ = require('underscore');\nvar Backbone = require('backbone');\n\nvar browserLanguages = function () {\n    try {\n        var navigator = window.navigator;\n        var langs = navigator.languages || [navigator.language || navigator.userLanguage];\n        return langs.map(function (lang) {\n            return lang.split('-')[0];\n        });\n    } catch (e) {\n    }\n    return 'en';\n}();\n\nmodule.exports = Backbone.Model.extend({\n\n    defaults: function () {\n        return {\n            languages: _.unique(['en'].concat(browserLanguages)),\n        };\n    },\n\n});\n","var Backbone = require('backbone');\nvar ProductVersionModel = require('./ProductVersionModel');\n\nfunction padVersionParts(version) {\n    var pad = '000000';\n    var parts = version.split(/\\.|\\-/);\n    return parts.map(function (part) {\n        return part.length >= pad.length ? part : (pad + part).slice(-pad.length);\n    }).join('.');\n}\n\nmodule.exports = Backbone.Collection.extend({\n\n    model: ProductVersionModel,\n\n    initialize: function (models, options) {\n        console.assert(options.product);\n        this.product = options.product;\n    },\n\n    comparator: function (a, b) {\n        var aVersion = padVersionParts(a.get('version'));\n        var bVersion = padVersionParts(b.get('version'));\n        return bVersion.localeCompare(aVersion); // b.localCompare(a) to sort in descending order\n    },\n\n});\n","var Backbone = require('backbone');\n\nmodule.exports = Backbone.Model.extend({\n\n\n});\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"support-loading\":\"support-loading__2aNkJ\",\"loading-box\":\"loading-box__2KBYn\",\"error\":\"error__1le2y\",\"wait-text\":\"wait-text__3u978\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"case-panel\":\"case-panel__1PEUb\",\"panel-content\":\"panel-content__16Oiu\"};","var Backbone = require('backbone');\n\nmodule.exports = Backbone.Model.extend({\n\n    defaults: {\n        owner: null,\n        registrationDate: null,\n        arraySn: null,\n        licenseKey: null,\n        accountId: null,\n        macAddress: null,\n        ipAddress: null,\n        uuid: null,\n    },\n\n});\n","var Backbone = require('backbone'),\n    VirtualArrayModel = require('app/modules/virtualArrays/VirtualArrayModel');\n\nmodule.exports = Backbone.Collection.extend({\n\n    model: VirtualArrayModel,\n\n    url: function () {\n        return this.api().central().account().segment('vmarrays');\n    },\n\n});\n","const _ = require('underscore');\nvar Backbone = require('backbone');\n\nfunction groupKey(permission) {\n    var target = _(permission.target).clone();\n    if (target.account) {\n        // Remove opaqueName as its presence can cause permissions for the same target account to not group properly\n        target.opaqueName = null;\n    }\n    return {\n        status: permission.status,\n        grantee: permission.grantee,\n        target: target,\n    };\n}\n\nmodule.exports = Backbone.Collection.extend({\n\n    constructor: function (collection, options) {\n        options = options || {};\n        this.collection = collection;\n\n        Backbone.Collection.call(this, null, options);\n    },\n\n    initialize: function () {\n        this.build();\n\n        this.listenTo(this.collection, 'add', this.onAdd);\n        this.listenTo(this.collection, 'remove', this.onRemove);\n        this.listenTo(this.collection, 'change', this.onChange);\n        this.listenTo(this.collection, 'reset', this.build);\n    },\n\n    build: function () {\n        var groups = _.chain(this.collection.toJSON())\n            .groupBy(function (permission) {\n                return JSON.stringify(groupKey(permission));\n            })\n            .pairs()\n            .map(function (pair) {\n                var key = JSON.parse(pair[0]);\n                var permissions = pair[1];\n                return _.extend(key, {\n                    id: _.uniqueId('permissionGroup_'),\n                    permissions: permissions,\n                });\n            })\n            .value();\n\n        this.reset(groups);\n    },\n\n    onRemove: function (removedPermission) {\n        var matcher = _.matcher({ id: removedPermission.id });\n        var permissionGroup = this.find(function (permissionGroup) {\n            return _.some(permissionGroup.get('permissions'), matcher);\n        });\n        var newPermissions = _.reject(permissionGroup.get('permissions'), matcher);\n        if (newPermissions.length) {\n            permissionGroup.set('permissions', newPermissions);\n        } else {\n            this.remove(permissionGroup);\n        }\n    },\n\n    onAdd: function (newPermissionModel) {\n        var newPermission = newPermissionModel.toJSON();\n        var newPermissionGroupKey = JSON.stringify(groupKey(newPermission));\n        var permissionGroup = this.find(function (permissionGroup) {\n            return JSON.stringify(groupKey(permissionGroup.toJSON())) === newPermissionGroupKey;\n        });\n        if (permissionGroup) {\n            permissionGroup.set('permissions', permissionGroup.get('permissions').concat(newPermission));\n        } else {\n            this.add(new Backbone.Model(\n                _.extend(groupKey(newPermission), {\n                    id: _.uniqueId('permissionGroup_'),\n                    permissions: [newPermission],\n                }),\n            ));\n        }\n    },\n\n    onChange: function () {\n        // Not needed for current implementation\n        console.assert(false, 'Not implemented');\n    },\n\n});\n","var Backbone = require('backbone');\n\nmodule.exports = Backbone.Model.extend(\n    /** @lends models/toolsCentral/banners/BannerModel.prototype */ {\n\n        /**\n         * @classdesc       Backbone Model representation of an InfoSight banner.\n         * @name            models/toolsCentral/banners/BannerModel\n         * @constructor\n         * @augments        Backbone.Model\n         */\n\n        defaults: {\n            id: null,\n            type: 'ReleaseNotes',\n            status: 'Inactive',\n            visibility: 'Internal',\n            accountId: null,\n            feature: null,\n            expirationDate: null,\n            creationTimestamp: null,\n            notificationTimestamp: null,\n        },\n\n        validation: {\n            title: {\n                required: true,\n            },\n            contents: {\n                required: true,\n            },\n            feature: function (value, attr, computedState) {\n                if (computedState.visibility === 'Feature' && !value) {\n                    return 'Feature is required when visibility is \"Accounts with Feature\"';\n                }\n            },\n        },\n\n    });\n","const App = require('app/Application');\nconst _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar TopVmsDashboardView = require('./topVms/TopVmsDashboardView');\nvar PeerPerformanceDashboardView = require('./performance/PeerPerformanceDashboardView');\nvar CapacityDashboardView = require('./capacity/CapacityDashboardView');\nvar ProtectionDashboardView = require('./protection/ProtectionDashboardView');\nvar SystemDashboardView = require('./system/SystemDashboardView');\nvar performanceTooltip = require('raw-loader!./PerformanceTooltip.html');\nvar protectionTooltip = require('raw-loader!./ProtectionTooltip.html');\nvar tpl = require('raw-loader!./OperationalDashboardView.html');\nconst { AuthorizationEvaluator, PRIVILEGES, AUTHORITIES, PERMISSION_TARGET } = require('../../../progeny/modules/user');\n\nmodule.exports = Marionette.LayoutView.extend({\n\n    template: _.template(tpl),\n\n    className: 'ops-dashboard-view',\n\n    regions: {\n        performance: '[data-region=\"performance\"]',\n        topVms: '[data-region=\"top-vms\"]',\n        capacity: '[data-region=\"capacity\"]',\n        protection: '[data-region=\"protection\"]',\n        system: '[data-region=\"system\"]',\n    },\n\n    ui: {\n        perfPopover: '.performance-info',\n        protectionPopover: '.protection-info',\n        capacityPopover: '.capacity-info',\n    },\n\n    onRender: function () {\n\n        this.performance.show(new PeerPerformanceDashboardView());\n        this.system.show(new SystemDashboardView());\n        this.capacity.show(new CapacityDashboardView());\n        this.protection.show(new ProtectionDashboardView());\n\n        this.ui.perfPopover.popover({\n            html: true,\n            trigger: 'hover',\n            placement: 'right',\n            content: performanceTooltip,\n            container: '.ops-dashboard-view',\n            viewport: { selector: '.ops-dashboard-view' },\n        }).data('bs.popover').tip().addClass('ops-dashboard-popover');\n\n        this.ui.protectionPopover.popover({\n            html: true,\n            trigger: 'hover',\n            placement: 'right',\n            content: protectionTooltip,\n            container: '.ops-dashboard-view',\n            viewport: { selector: '.ops-dashboard-view' },\n        }).data('bs.popover').tip().addClass('ops-dashboard-popover');\n\n        this.ui.capacityPopover.popover({\n            trigger: 'hover',\n            placement: 'right',\n            content: 'Arrays and Volumes grouped by the number of days until projected full.',\n        });\n\n        var account = App.request('global', 'get:account:selection').getAccount();\n        const featureAccessible = AuthorizationEvaluator.evaluate({\n            access: {\n                $or: [\n                    {\n                        authorities: [AUTHORITIES.REALM_INTERNAL, AUTHORITIES.ATTRIBUTE_NIMBLE_SUPPORT_PROVIDER],\n                    },\n                    {\n                        permissions: [\n                            {\n                                privilege: PRIVILEGES.PRIMARY,\n                                targetType: PERMISSION_TARGET.NIMBLE_TENANT,\n                                targetId: PERMISSION_TARGET.ACTIVE_TARGET_ID,\n                            }, {\n                                privilege: PRIVILEGES.FEATURE_VMVISION_ACCESS,\n                                targetType: PERMISSION_TARGET.NIMBLE_TENANT,\n                                targetId: PERMISSION_TARGET.ACTIVE_TARGET_ID,\n                            },\n                        ],\n                    },\n                ],\n            },\n        });\n\n        if (featureAccessible) {\n            if (account.get('vmVisionEnabled')) {\n                this.topVms.show(new TopVmsDashboardView());\n            } else {\n                this.$el.find('.topvm-panel').hide();\n            }\n        } else {\n            this.topVms.show(new Marionette.ItemView({\n                template: `<span class=\"text-primary\">You do not have permissions to access this customer's VM information. Please obtain authorization from your customers to access their VMs.</span>`,\n            }));\n        }\n    },\n});\n","const _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar AsyncView = require('app/common/AsyncView');\nvar TopVMsByLatencyView = require('app/modules/vmops/dashboard/views/TopVMsByLatencyView');\nvar TopVMsByIOView = require('app/modules/vmops/dashboard/views/TopVMsByIOView');\nvar TopVMsCollection = require('app/modules/vmops/dashboard/collections/TopVMsCollection');\nvar tpl = require('raw-loader!./TopVmsDashboardView.html');\n\nvar View = Marionette.LayoutView.extend({\n\n    template: _.template(tpl),\n\n    regions: {\n        iops: '[data-region=\"iops\"]',\n        latency: '[data-region=\"latency\"]',\n    },\n\n    initialize: function () {\n        this.collection = new TopVMsCollection();\n    },\n\n    onRender: function () {\n        if (this.collection.length) {\n            this.iops.show(new TopVMsByIOView({\n                collection: this.collection,\n                vmCount: 10,\n            }));\n\n            this.latency.show(new TopVMsByLatencyView({\n                collection: this.collection,\n                vmCount: 10,\n            }));\n        }\n    },\n\n});\n\nmodule.exports = AsyncView.extend({\n    ViewConstructor: View,\n});\n","var Marionette = require('backbone.marionette');\nvar topVMsBarChart = require('./TopVMsBarChart');\nvar tpl = require('raw-loader!../templates/TopVmsChartView.html');\nvar numeral = require('numeral');\nvar _ = require('underscore');\n\nmodule.exports = Marionette.LayoutView.extend({\n\n    template: _.template(tpl),\n\n    className: 'dashboard-topvms-view',\n\n    ui: {\n        totalValueDisplay: '.total-value',\n        topVmsChart: '.chart',\n    },\n\n    onAttach: function () {\n        if (this.collection.isEmpty()) {\n            this.$el.html('No VMs found');\n            return;\n        }\n\n        this.populateMaxValueDisplay();\n\n        var topVMs = _.chain(this.collection.toJSON())\n            .sortBy('latencyRanking')\n            .first(this.getOption('vmCount'))\n            .value();\n\n        this.chart = topVMsBarChart({\n            dataValues: _.pluck(topVMs, 'avgLatency').map(function (latency) {\n                return Number(numeral(latency).format('0.00'));\n            }),\n            categories: _(topVMs).map(function (vm) {\n                return {\n                    name: vm.name,\n                    id: vm.id,\n                };\n            }),\n            element: this.ui.topVmsChart,\n            yAxisLabelFormatter: function () {\n                return this.isLast ? numeral(this.value).format('0,0') + ' ms' : null;\n            },\n            tooltipFormatter: function () {\n                var value = numeral(this.point.y).format('0,0');\n                return this.key.name + '</br><span style=\"color:' + this.point.color + '\">\\u25CF</span> Latency: <b>' + value + 'ms </b>';\n            },\n        });\n    },\n\n    populateMaxValueDisplay: function () {\n        var maxValue = this.collection.first().get('avgLatencyAllVms');\n        var format = maxValue < 0.5 ? '0.0' : '0';\n        var displayValue = numeral(maxValue).format(format);\n        this.ui.totalValueDisplay.html(displayValue + '<span class=\"number-text ops-label\">MS AVERAGE LATENCY</span>');\n    },\n});\n","var Marionette = require('backbone.marionette');\nvar topVMsBarChart = require('./TopVMsBarChart');\nvar tpl = require('raw-loader!../templates/TopVmsChartView.html');\nvar numeral = require('numeral');\nvar _ = require('underscore');\n\nmodule.exports = Marionette.LayoutView.extend({\n\n    template: _.template(tpl),\n\n    className: 'dashboard-topvms-view',\n\n    ui: {\n        totalValueDisplay: '.total-value',\n        topVmsChart: '.chart',\n    },\n\n    onAttach: function () {\n        if (this.collection.isEmpty()) {\n            this.$el.html('No VMs found');\n            return;\n        }\n\n        this.populateMaxValueDisplay();\n\n        var topVMs = _.chain(this.collection.toJSON())\n            .sortBy('iopsRanking')\n            .first(this.getOption('vmCount'))\n            .value();\n\n        this.chart = topVMsBarChart({\n            dataValues: _(topVMs).pluck('totalIops'),\n            categories: _(topVMs).map(function (vm) {\n                return {\n                    name: vm.name,\n                    id: vm.id,\n                };\n            }),\n            element: this.ui.topVmsChart,\n            yAxisLabelFormatter: function () {\n                return this.isLast ? numeral(this.value).format('0.0a').toUpperCase() + ' ops' : null;\n            },\n            tooltipFormatter: function () {\n                var value = numeral(this.point.y).format('0,0');\n                return this.key.name + '</br><span style=\"color:' + this.point.color + '\">\\u25CF</span> I/O: <b>' + value + ' </b>';\n            },\n        });\n    },\n\n    populateMaxValueDisplay: function () {\n        var maxValue = this.collection.first().get('totalIopsAllVms');\n        var tpl = _.template('<%= number %><span class=\"number-text ops-label\"><%= magnitude %> TOTAL I/O</span>');\n        var displayValue = numeral(maxValue).format('a');\n        this.ui.totalValueDisplay.html(tpl({\n            number: displayValue.slice(0, -1),\n            magnitude: displayValue.slice(-1),\n        }));\n    },\n});\n","const Backbone = require('backbone');\nconst TopVMModel = require('../models/TopVMModel');\nconst Request = require('../../../../../progeny/services/Request').default;\n\nmodule.exports = Backbone.Collection.extend({\n\n    model: TopVMModel,\n\n    url: function () {\n        return new Request().pod().genericQuery('vmware', ['topVms']).uriBuilder().valueOf();\n    },\n\n    parse: function (response) {\n        return response.data;\n    },\n\n});\n","var Backbone = require('backbone');\n\nmodule.exports = Backbone.Model.extend({\n    defaults: {\n        id: null,\n        iopsRanking: null,\n        latencyRanking: null,\n        name: null,\n        totalIops: null,\n        avgLatency: null,\n        totalIopsAllVms: null,\n        avgLatencyAllVms: null,\n    },\n});\n","module.exports = \"<% if (Object.values(items).length) { %>\\n<div class=\\\"row expanded\\\">\\n    <div class=\\\"column medium-12\\\" data-region=\\\"iops\\\"></div>\\n    <div class=\\\"column medium-12\\\" data-region=\\\"latency\\\"></div>\\n</div>\\n<div class=\\\"pull-right\\\"><small>Over past 24 hours</small></div>\\n<% } else { %>\\n<span>No data available</span>\\n<% } %>\\n\"","var Marionette = require('backbone.marionette');\nvar AsyncView = require('app/common/AsyncView');\nvar PeerPerformanceChartView = require('./PeerPerformanceChartView');\nvar PeerPerformanceCollection = require('./PeerPerformanceCollection');\n\nvar fiveDays = 5 * 24 * 60 * 60 * 1000;\n\nvar View = Marionette.CollectionView.extend({\n\n    childView: PeerPerformanceChartView,\n\n    className: 'dashboard-performance-view',\n\n    collectionEvents: {\n        reset: 'onFetch',\n    },\n\n    emptyView: Marionette.ItemView.extend({ template: '<span>No data available</span>' }),\n\n    initialize: function () {\n        this.collection = new PeerPerformanceCollection();\n    },\n\n    getChartOptions: function () {\n        var chartOptions = this.collection.reduce(function (memo, model) {\n\n            var min = model.get('minTimestamp');\n            var minDate = new Date(min);\n            var max = model.get('maxTimestamp');\n            var maxDate = new Date(max);\n\n            return {\n                minDate: Math.min(memo.minDate, min),\n                maxDate: Math.max(memo.maxDate, max),\n                maxLatency: Math.max(memo.maxLatency, model.get('maxLatency')),\n                maxIops: Math.max(memo.maxIops, model.get('maxIops')),\n            };\n        }, {\n            minDate: new Date(),\n            maxDate: new Date(0),\n            maxLatency: Number.MIN_VALUE,\n            maxIops: Number.MIN_VALUE,\n        });\n\n        chartOptions.minDate = Math.min(chartOptions.minDate, chartOptions.maxDate - fiveDays);\n\n        return chartOptions;\n    },\n\n    onFetch: function () {\n        if (this.collection.last()) {\n            this.collection.last().set('isLast', true);\n        }\n        this.childViewOptions = this.getChartOptions();\n    },\n});\n\nmodule.exports = AsyncView.extend({\n    ViewConstructor: View,\n    animateOnLoad: false,\n});\n","const _ = require('underscore');\nconst { buildUrl } = require('@infosight/elmer/dist/utils/url');\nvar Marionette = require('backbone.marionette');\nvar tinycolor = require('tinycolor2');\nvar moment = require('moment');\nvar numeral = require('numeral');\nvar ImpactScore = require('app/modules/asset_details/performance/ImpactScore');\nconst { buildUrlFromBase } = require('progeny/util/url');\nvar peerPerformanceTooltipTmpl = require('raw-loader!./PeerPerformanceChartTooltip.html');\nvar ONE_DAY_IN_MILLISECONDS = 24 * 3600 * 1000;\n\nvar tooltipTtemplate = _.template(peerPerformanceTooltipTmpl);\n\nmodule.exports = Marionette.ItemView.extend({\n\n    template: _.constant('<div class=\"chart\"></div>'),\n\n    templateHelpers() {\n        return { numeral };\n    },\n\n    className: 'performance-row',\n\n    ui: {\n        chartContainer: '.chart',\n    },\n\n    onRender: function () {\n        var series = this.model.get('series'),\n            sn = this.model.get('serialNumber'),\n            host = this.model.get('arrayHostname'),\n            hostDisplay = sn + '</br>' + host;\n\n        var displayXAxis = 'none';\n        var height = 90;\n        if (this.model.get('isLast')) {\n            //display xAxis only for last graph and make last graph a bit bigger to accommodate the axis\n            displayXAxis = 'block';\n            height = 100;\n        }\n\n        var maxIops = Math.round(this.getOption('maxIops'));\n\n        this.ui.chartContainer.highcharts({\n            global: {\n                useUTC: false, // https://highcharts.uservoice.com/forums/55896-highcharts-javascript-api/suggestions/2454194-useutc-as-a-configuration-per-chart\n            },\n            chart: {\n                type: 'column',\n                height: height,\n                spacingLeft: 0,\n                marginRight: 50,\n            },\n            title: {\n                text: null,\n            },\n            plotOptions: {\n                column: {\n                    pointPadding: 0,\n                    groupPadding: 0.1,\n                    borderWidth: 0,\n                    minPointLength: 3,\n                    colorByPoint: true,\n                },\n            },\n            xAxis: {\n                min: this.getOption('minDate'),\n                max: this.getOption('maxDate'),\n                type: 'datetime',\n                tickInterval: ONE_DAY_IN_MILLISECONDS,\n                dateTimeLabelFormats: {\n                    day: '%m/%d',\n                },\n                labels: {\n                    style: {\n                        display: displayXAxis,\n                    },\n                },\n            },\n            yAxis: [\n                {\n                    allowDecimals: true,\n                    min: 0,\n                    opposite: true,\n                    showLastLabel: true,\n                    showFirstLabel: false,\n                    tickPositioner: function () {\n                        return [0, this.dataMax];\n                    },\n                    tickWidth: 1,\n                    title: {\n                        text: 'IOPS',\n                        offset: 15,\n                    },\n                    labels: {\n                        useHTML: true,\n                        formatter: function () {\n                            return this.value < 1000 ? numeral(this.value).format('0') : numeral(this.value).format('0.0a');\n                        },\n                    },\n                    gridLineWidth: 0,\n                }, {\n                    title: {\n                        text: `<a title=\"${sn} : ${host}\" class=\"history-aware\" href=\"${buildUrlFromBase('/infrastructure/storage/nimble/arrays/', sn, '/performance')}\"> ${hostDisplay}</a>`,\n                        rotation: 0,\n                        useHTML: true,\n                        offset: 10,\n                        x: -50,\n                        style: {\n                            'min-width': '100px',\n                            'max-width': '100px',\n                        },\n                    },\n                },\n            ],\n            legend: {\n                enabled: false,\n            },\n            series: [\n                {\n                    name: 'Latency',\n                    data: series.map(this.transformPoint),\n                },\n            ],\n            tooltip: {\n                backgroundColor: 'white',\n                // borderWidth: 0,\n                shadow: false,\n                useHTML: true,\n                style: {\n                    padding: 0,\n                },\n\n                //HTML yAxis Title shows above tooltip... tried tweaking z-index but had no luck\n                //Using positioner to make sure tooltip doesnt hover over yAxis title\n                positioner: function (labelWidth, labelHeight, point) {\n                    var tooltipX = point.plotX + this.chart.plotLeft + 20;\n                    if (point.plotX + this.chart.plotLeft + labelWidth + 30 > this.chart.chartWidth) {\n                        tooltipX = point.plotX + this.chart.plotLeft - labelWidth - 12;\n                    }\n                    var tooltipY = point.plotY - (labelHeight - (this.chart.chartHeight - this.chart.plotTop - point.plotY)) - 12;\n                    return {\n                        x: tooltipX,\n                        y: tooltipY,\n                    };\n                },\n                formatter: function () {\n                    return tooltipTtemplate(\n                        _.extend({}, this, {\n                            numeral: numeral,\n                            moment: moment,\n                        }),\n                    );\n                },\n            },\n            credits: {\n                enabled: false,\n            },\n        });\n    },\n\n    onAttach: function (itemView) {\n        this.ui.chartContainer.highcharts().reflow();\n    },\n\n    transformPoint: function (point) {\n        var impactScore = new ImpactScore({ percentile: point.severityPercentile });\n        return _.extend({\n            x: point.timestamp,\n            y: point.iops,\n            color: impactScore.color,\n            impactScore: impactScore,\n        }, point);\n    },\n\n});\n","module.exports = \"<ul class=\\\"peer-performance-tooltip\\\">\\n    <li>Latency <span class=\\\"r\\\"><%= numeral(point.latency).format('0.00') %> ms</span></li>\\n    <li>Potential Impact\\n        <span class=\\\"r\\\">\\n            <span class=\\\"fa fa-square\\\" style=\\\"color: <%= color %>\\\"></span>\\n            <span class=\\\"text-uppercase\\\"><%= point.impactScore.render() %></span>\\n        </span>\\n    </li>\\n    <li><hr /></li>\\n    <li>IOPS <span class=\\\"r\\\"><%= numeral(point.iops).format('0.00') %></span></li>\\n    <li><hr /></li>\\n    <li>Throughput <span class=\\\"r\\\"><%= numeral(point.throughput).format('0.00') %> MiB/s</span></li>\\n    <li><hr /></li>\\n    <li>Time <span class=\\\"r\\\"><%= moment(x).format('L LT z', x) %></span></li>\\n</ul>\\n\"","var Backbone = require('backbone');\nvar PageableCollection = require('backbone.paginator');\n\nmodule.exports = PageableCollection.extend({\n\n    model: Backbone.Model,\n\n    mode: 'client',\n\n    state: {\n        firstPage: 0,\n        pageSize: 4,\n    },\n\n    comparator: 'rank',\n\n    url: function () {\n        return this.api().pod().account().segment('/opsDashboard/peerPerformance').toString();\n    },\n});\n","const $ = require('jquery');\nconst _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar ArrayCapacityDashboardView = require('./ArrayCapacityDashboardView');\nvar VolumeCapacityDashboardView = require('./VolumeCapacityDashboardView');\nvar tpl = require('raw-loader!./CapacityDashboardView.html');\n\nvar spinnerTpl = require('raw-loader!app/common/Spinner.html');\n\nvar SpinnerView = Marionette.ItemView.extend({\n    template: _.template(spinnerTpl),\n});\n\nmodule.exports = Marionette.LayoutView.extend({\n\n    template: _.template(tpl),\n\n    className: 'dashboard-capacity-view',\n\n    regions: {\n        spinner: '.spinner-view',\n        array: '.dashboard-array-capacity-view',\n        volume: '.dashboard-volume-capacity-view',\n    },\n\n    ui: {\n        headerLabels: '.headerLabels',\n    },\n\n    initialize: function () {\n        _.bindAll(this, 'render');\n\n        this.arrayView = new ArrayCapacityDashboardView();\n        this.volumeView = new VolumeCapacityDashboardView();\n\n        this.arrayView.$el.hide();\n        this.volumeView.$el.hide();\n    },\n\n    onRender: function () {\n        this.showChildView('array', this.arrayView);\n        this.showChildView('volume', this.volumeView);\n\n        this.ui.headerLabels.hide();\n\n        this.spinner.show(new SpinnerView());\n\n        var self = this;\n\n        $.when(this.arrayView.deferred, this.arrayView.deferred)\n            .then(function () {\n                self.onChildrenLoaded();\n            });\n    },\n\n    onChildrenLoaded: function (view) {\n        this.spinner.empty();\n\n        this.$el.addClass('animated fadeIn');\n        this.ui.headerLabels.show();\n        this.arrayView.$el.show();\n        this.volumeView.$el.show();\n    },\n\n});\n","const $ = require('jquery');\nconst App = require('app/Application');\nvar _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar Backbone = require('backbone');\nvar AsyncView = require('app/common/AsyncView');\nvar ArrayForecastCollection = require('./ArrayForecastCollection');\nvar AssetCapacityTooltipView = require('./AssetCapacityTooltipView');\nvar tpl = require('raw-loader!./ArrayCapacityDashboardView.html');\n\nvar View = Marionette.ItemView.extend({\n\n    template: _.template(tpl),\n\n    animateOnLoad: false,\n\n    templateHelpers: function () {\n        return {\n            _,\n            arrayForecasts: this.arrayForecasts.toJSON(),\n            arrayBuckets: this.arrayBuckets.toJSON(),\n        };\n    },\n\n    className: 'dashboard-array-capacity-view',\n\n    initialize: function () {\n        this.arrayForecasts = new ArrayForecastCollection();\n        this.arrayBuckets = new Backbone.Collection();\n    },\n\n    onRender: function () {\n        var popoverDefaults = {\n            html: true,\n            placement: 'left',\n            trigger: 'focus',\n            // Container needs to be the entire view so that the z-index stacking context is shared across all panels\n            container: '.ops-dashboard-view',\n        };\n\n        this.$('.dashboard-capacity-bucket.critical a[data-count!=0]').popover(_({\n            content: this.renderPopover.bind(this, AssetCapacityTooltipView, this.arrayBuckets.findWhere({ label: '<=30' }), 'danger'),\n        }).defaults(popoverDefaults));\n\n        this.$('.dashboard-capacity-bucket.warning a[data-count!=0]').popover(_({\n            content: this.renderPopover.bind(this, AssetCapacityTooltipView, this.arrayBuckets.findWhere({ label: '<=90' }), 'warning'),\n        }).defaults(popoverDefaults));\n\n        // disabled for now\n        /*\n        this.$('.dashboard-capacity-bucket.good a[data-count!=0]').popover(_({\n            content: this.renderPopover.bind(this, AssetCapacityTooltipView, this.arrayBuckets.findWhere({label: '>90'}))\n        }).defaults(popoverDefaults));\n        */\n\n        this.$('.dashboard-capacity-bucket a[data-count=0]')\n            .attr('tabIndex', '-1')\n            .attr('disabled', true);\n\n    },\n\n    renderPopover: function (View, bucket, style) {\n        var bucketArrays = new Backbone.Collection(bucket.toJSON().arrays);\n\n        return new View({\n            collection: bucketArrays,\n            style: style,\n        }).render().el;\n    },\n\n});\n\nmodule.exports = AsyncView.extend({\n    ViewConstructor: View,\n\n    useSpinner: false,\n\n    load: function () {\n        this.deferred = $.Deferred();\n\n        var self = this;\n\n        $.when(\n            this.view.arrayForecasts.fetch(),\n            App.request('global', 'get:assets:async', 'jQuery.Deferred'),\n        )\n            .fail(_.bind(this.deferred.reject, this.deferred))\n            .done(function (forecasts, assets) {\n\n                var bucketLessThan30 = [];\n                var bucketLessThan90 = [];\n                var bucketGreaterThan90 = [];\n\n                // for (var i=0, len=this.arrayForecasts.length; i<len; i++)\n                _.each(self.view.arrayForecasts.toJSON(), function (item, i) {\n                    var daysUntilFull = item.daysUntilFull;\n\n                    var asset = assets.findWhere({ serialNumber: item.arraySn });\n                    if (asset) {\n                        asset.set('daysUntilFull', daysUntilFull);\n\n                        if (daysUntilFull == null) {\n                            bucketGreaterThan90.push(asset);\n                        } else if (daysUntilFull <= 30) {\n                            bucketLessThan30.push(asset);\n                        } else if (daysUntilFull <= 90) {\n                            bucketLessThan90.push(asset);\n                        } else if (daysUntilFull > 90) {\n                            bucketGreaterThan90.push(asset);\n                        }\n                    }\n                });\n\n                var dataBuckets = [\n                    { label: '<=30', arrays: bucketLessThan30 },\n                    { label: '<=90', arrays: bucketLessThan90 },\n                    { label: '>90', arrays: bucketGreaterThan90 },\n                ];\n\n                self.view.arrayBuckets.set(dataBuckets);\n\n                // AssetCapacityTooltipView.collection = self.view.arrayForecasts;\n\n                self.deferred.resolve(self.view);\n            });\n\n        return this.deferred;\n    },\n\n});\n","var Backbone = require('backbone');\n\nmodule.exports = Backbone.Collection.extend({\n\n    url: function () {\n        return this.api().pod().account().segment('/opsDashboard/capacity/arrays');\n    },\n\n});\n","const _ = require('underscore');\nvar Marionette = require('backbone.marionette');\n\nvar VirtualCollection = require('backbone-virtual-collection');\nvar moment = require('moment');\nvar tpl = require('raw-loader!./AssetCapacityTooltipItem.html');\n\nconst { buildUrlFromBase } = require('progeny/util/url');\n// var arrayForecasts: this.arrayForecasts;\n\nmodule.exports = Marionette.CollectionView.extend({\n\n    initialize: function (options) {\n        this.childViewOptions = {\n            style: options.style,\n        };\n    },\n\n    tagName: 'table',\n\n    className: 'asset-capacity-warnings',\n\n    childView: Marionette.ItemView.extend({\n        templateHelpers: function () {\n            return {\n                style: this.options.style,\n                getAssetLink: buildUrlFromBase.bind(null, '/infrastructure/storage/nimble/arrays'),\n            };\n        },\n\n        template: _.template(tpl),\n\n        tagName: 'tr',\n    }),\n\n});\n","module.exports = \"<td><a href=\\\"<%= getAssetLink(serialNumber, '?tab=capacity') %>\\\" class=\\\"history-aware\\\"><%= hostname || serialNumber %></a></td>\\n<td>&nbsp;</td>\\n<td><i class=\\\"text-<%= style %> fa fa-exclamation-<%  if (style==\\\"danger\\\") { %>circle<% } else { %>triangle<% } %>\\\"></i> <%= daysUntilFull %> Days Until Full</td>\\n\\n\"","module.exports = \"<div class=\\\"dashboard-capacity-bucket row-label ops-label info\\\">\\n    <i class=\\\"fa fa-2x fa-server\\\" aria-hidden=\\\"true\\\"></i> Arrays\\n</div>\\n\\n<% if (_.size(arrayBuckets)) { %>\\n\\n<% count = _(arrayBuckets).findWhere({ label: '<=30' }).arrays.length; %>\\n<div class=\\\"dashboard-capacity-bucket critical <%= (count == 0) ? 'empty' : '' %>\\\">\\n    <a data-count=\\\"<%= count %>\\\" href=\\\"javascript:void(0);\\\">\\n        <div>\\n            <div class=\\\"text-center\\\">\\n                <%= count %>\\n            </div>\\n            <div class=\\\"ops-label text-center\\\">&le; 1 month</div>\\n        </div>\\n    </a>\\n</div>\\n\\n\\n<% count = _(arrayBuckets).findWhere({ label: '<=90' }).arrays.length; %>\\n<div class=\\\"dashboard-capacity-bucket warning <%= (count == 0) ? 'empty' : '' %>\\\">\\n    <a data-count=\\\"<%= count %>\\\" href=\\\"javascript:void(0);\\\">\\n        <div>\\n            <div class=\\\"text-center\\\">\\n                <%= count %>\\n            </div>\\n            <div class=\\\"ops-label text-center\\\">1 - 3 months</div>\\n        </div>\\n    </a>\\n</div>\\n\\n\\n<% count = _(arrayBuckets).findWhere({ label: '>90' }).arrays.length; %>\\n<div class=\\\"dashboard-capacity-bucket good <%= (count == 0) ? 'empty' : '' %>\\\">\\n    <a data-count=\\\"<%= count %>\\\" href=\\\"javascript:void(0);\\\">\\n        <div>\\n            <div class=\\\"text-center\\\">\\n                <%= count %>\\n            </div>\\n            <div class=\\\"ops-label text-center\\\">&gt; 3 months</div>\\n        </div>\\n    </a>\\n</div>\\n\\n<% } else { %>\\n<span>Capacity forecasts not available</span>\\n<% } %>\"","const $ = require('jquery');\nconst _ = require('underscore');\nconst { buildUrlFromBase } = require('progeny/util/url');\nconst { buildUrl } = require('@infosight/elmer/dist/utils/url');\nvar Marionette = require('backbone.marionette');\nvar AsyncView = require('app/common/AsyncView');\nvar VolumeForecastBuckets = require('./VolumeForecastBuckets');\n\nvar tpl = require('raw-loader!./VolumeCapacityDashboardView.html');\n\nvar View = Marionette.ItemView.extend({\n\n    template: _.template(tpl),\n\n    animateOnLoad: false,\n\n    templateHelpers: function () {\n        return {\n            _,\n            getVolumeFilterLink: function (filter) {\n                // TODO: Add filters back to this URL when Elmer's Table is enhanced to have Range Filters\n                return `${buildUrlFromBase('/infrastructure/storage/nimble/volumes')}?fieldSet=space&${(filter)}`;\n            },\n            volumeBuckets: this.volumeBuckets.toJSON(),\n        };\n    },\n\n    className: 'dashboard-volume-capacity-view',\n\n    ui: {\n        info: '.info',\n    },\n\n    initialize: function () {\n        this.volumeBuckets = new VolumeForecastBuckets();\n    },\n\n    onRender: function () {\n        this.ui.info.popover({\n            trigger: 'hover',\n            content: 'Timeframes are estimated',\n        });\n        // Disable links when count is 0\n        this.$('a[data-count=\"0\"]').attr('href', null);\n    },\n});\n\nmodule.exports = AsyncView.extend({\n    ViewConstructor: View,\n\n    useSpinner: false,\n\n    load: function () {\n        this.deferred = $.Deferred();\n\n        $.when(\n            this.view.volumeBuckets.fetch(),\n        )\n            .fail(_.bind(this.deferred.reject, this.deferred))\n            .done(_.bind(this.deferred.resolve, this.deferred, this.view));\n\n        return this.deferred;\n    },\n\n});\n","var Backbone = require('backbone');\n\nmodule.exports = Backbone.Collection.extend({\n\n    url: function () {\n        return this.api().pod().account().segment('/opsDashboard/capacity/volumes');\n    },\n\n});\n","module.exports = \"<div class=\\\"dashboard-capacity-bucket row-label ops-label\\\">\\n    <i class=\\\"fa fa-2x fa-database\\\" aria-hidden=\\\"true\\\"></i> Volumes\\n</div>\\n\\n<% if (_.size(volumeBuckets)) { %>\\n\\n<% count = _(volumeBuckets).findWhere({ label: '<=7' }).volumeCount; %>\\n<div class=\\\"dashboard-capacity-bucket critical <%= (count == 0) ? 'empty' : '' %>\\\">\\n    <a data-count=\\\"<%= count %>\\\" href=\\\"<%= getVolumeFilterLink('filter[daysUntilFull]=<%3D 1 Week') %>\\\" class=\\\"history-aware\\\">\\n        <div>\\n            <div class=\\\"text-center\\\">\\n                <%= count %>\\n            </div>\\n            <div class=\\\"ops-label text-center\\\">&le; 1 week</div>\\n        </div>\\n    </a>\\n</div>\\n\\n<% count = _(volumeBuckets).findWhere({ label: '<=28' }).volumeCount; %>\\n<div class=\\\"dashboard-capacity-bucket warning <%= (count == 0) ? 'empty' : '' %>\\\">\\n    <a data-count=\\\"<%= count %>\\\" href=\\\"<%= getVolumeFilterLink('filter[daysUntilFull]=>1 Week and <%3D1 Month') %>&sort[daysUntilFull]=false&sort[name]=false\\\" class=\\\"history-aware\\\">\\n        <div>\\n            <div class=\\\"text-center\\\">\\n                <%= count %>\\n            </div>\\n            <div class=\\\"ops-label text-center\\\">1 - 4 weeks</div>\\n        </div>\\n    </a>\\n</div>\\n\\n<% count = _(volumeBuckets).findWhere({ label: '>28' }).volumeCount; %>\\n<div class=\\\"dashboard-capacity-bucket good <%= (count == 0) ? 'empty' : '' %>\\\">\\n    <a data-count=\\\"<%= count %>\\\" href=\\\"<%= getVolumeFilterLink('filter[daysUntilFull]=>1 Month') %>\\\" class=\\\"history-aware\\\">\\n        <div>\\n            <div class=\\\"text-center\\\">\\n                <%= count %>\\n            </div>\\n            <div class=\\\"ops-label text-center\\\">&gt; 4 weeks</div>\\n        </div>\\n    </a>\\n</div>\\n\\n<% } else { %>\\n<span>Capacity forecasts not available</span>\\n<% } %>\\n\"","module.exports = \"<div class=\\\"spinner-view\\\"></div>\\n\\n<div class=\\\"headerLabels\\\">\\n\\t<div class=\\\"header dashboard-capacity-bucket column-label\\\">\\n\\t</div>\\n\\n\\t<div class=\\\"dashboard-capacity-bucket critical column-label\\\">\\n\\t    <div class=\\\"header text-center\\\">Critical</div>\\n\\t</div>\\n\\n\\t<div class=\\\"dashboard-capacity-bucket warning column-label\\\">\\n\\t    <div class=\\\"header text-center\\\">Warning</div>\\n\\t</div>\\n\\n\\t<div class=\\\"dashboard-capacity-bucket good column-label\\\">\\n\\t    <div class=\\\"header text-center\\\">Good</div>\\n\\t</div>\\n</div>\\n\\n<div class=\\\"dashboard-array-capacity-view\\\"></div>\\n<div class=\\\"dashboard-volume-capacity-view\\\"></div>\\n\\n\\n\"","const $ = require('jquery');\nvar Marionette = require('backbone.marionette');\nvar AsyncView = require('app/common/AsyncView');\nvar ProtectionModel = require('./ProtectionModel');\nvar numeral = require('numeral');\n\nvar LOCAL_PROTECTED_COLOR = '#95cfdb',\n    REMOTE_PROTECTED_COLOR = '#529fae',\n    UNPROTECTED_COLOR = '#ffffff',\n    UNPROTECTED_BORDER_COLOR = '#999999';\n\nvar View = Marionette.ItemView.extend({\n\n    template: false,\n\n    className: 'dashboard-protection-view protection-donut',\n\n    initialize: function () {\n        this.model = new ProtectionModel();\n    },\n\n    onRender: function () {\n        var model = this.model;\n        var totalVolumeCount = model.get('accountTotalVolumeCount');\n\n        if (totalVolumeCount !== 0) {\n            this.$el.highcharts({\n                // Highcharts.chart({\n                chart: {\n                    type: 'pie',\n                    spacingTop: 0,\n                    spacingBottom: 0,\n                    spacingLeft: 0,\n                    spacingRight: 0,\n                    marginLeft: 0,\n                },\n                title: {\n                    useHTML: true,\n                    text: function () {\n                        var percentProtected = model.get('percentProtected');\n                        if (percentProtected <= 1) {\n                            return '<span class=\"large-number\">' + numeral(percentProtected * 100).format('0') + '</span><span>%</span>' +\n                                '<p class=\"ops-label\">volumes</br>protected</p>';\n                        } else {\n                            return null;\n                        }\n                    }(),\n                    align: 'center',\n                    verticalAlign: 'middle',\n                    y: -27,\n                    x: -80,\n                },\n                xAxis: {\n                    type: 'category',\n                },\n                legend: {\n                    enabled: true,\n                    useHTML: true,\n                    labelFormatter() {\n                        let result = `<div class=\"protection-legend-item\"><span>${this.name}</span><span>${this.y}</span></div>`;\n\n                        if (model.get('accountTotalVolumesLagging') !== 0 && this.name === 'UNPROTECTED') {\n                            result += `<div class=\"protection-legend-item lag\">\n                                    <span class=\"text-right\"><i class=\"fa fa-exclamation-triangle text-warning\"></i> LAG</span>\n                                    <span>${model.get('accountTotalVolumesLagging')}</span>\n                                </div>`;\n                        }\n\n                        return result;\n                    },\n                    layout: 'vertical',\n                    align: 'right',\n                    verticalAlign: 'middle',\n                    padding: 0,\n                    margin: 0,\n                    x: -30,\n                    itemMarginTop: 3,\n                    itemMarginBottom: 3,\n                },\n                tooltip: {\n                    enabled: false,\n                },\n                plotOptions: {\n                    pie: {\n                        dataLabels: {\n                            enabled: false,\n                        },\n                        center: [75, '50%'],\n                        point: {\n                            events: {\n                                legendItemClick: function (event) {\n                                    event.preventDefault();\n                                },\n                            },\n                        },\n                    },\n                },\n                series: [\n                    {\n                        showInLegend: true,\n                        size: '100%',\n                        innerSize: '85%',\n                        borderColor: UNPROTECTED_BORDER_COLOR,\n                        data: [\n                            { name: 'LOCAL ONLY', y: this.model.get('localProtectedCount'), color: LOCAL_PROTECTED_COLOR },\n                            { name: 'REMOTE', y: this.model.get('remoteProtectedCount'), color: REMOTE_PROTECTED_COLOR },\n                            { name: 'UNPROTECTED', y: this.model.get('unprotectedCount'), color: UNPROTECTED_COLOR, lag: this.lag },\n                        ],\n                        states: {\n                            hover: {\n                                enabled: false,\n                            },\n                        },\n                    },\n                ],\n                credits: {\n                    enabled: false,\n                },\n            });\n\n            // Legend borders\n            $(this.$el.highcharts().series[0].data).each(function (i, seriesData) {\n                if (seriesData.legendSymbol) {\n                    $(seriesData.legendSymbol.element).attr('stroke-width', '1');\n                    $(seriesData.legendSymbol.element).attr('stroke', UNPROTECTED_BORDER_COLOR);\n                }\n            });\n\n        } else {\n            this.$el.append('<span><p>No volumes have been provisioned</p></span>');\n        }\n\n    },\n\n    onAttach: function () {\n        if (this.$el.highcharts()) {\n            this.$el.highcharts().reflow();\n        }\n    },\n\n});\n\nmodule.exports = AsyncView.extend({\n    ViewConstructor: View,\n});\n","var Backbone = require('backbone');\n\nmodule.exports = Backbone.Model.extend({\n\n    url: function () {\n        return this.api().pod().account().segment('/opsDashboard/protection');\n    },\n\n    parse: function (response) {\n        response.percentProtected = (response.localProtectedCount + response.remoteProtectedCount) / response.accountTotalVolumeCount;\n        return response;\n    },\n\n});\n","const $ = require('jquery');\nconst App = require('app/Application');\nconst _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar AsyncView = require('app/common/AsyncView');\nvar HeartbeatWarningsView = require('./HeartbeatWarningsView');\nvar AsupWarningsView = require('./AsupWarningsView');\nvar HardwareWarningsView = require('./HardwareWarningsView');\nvar tpl = require('raw-loader!./SystemDashboardView.html');\nconst moment = require('moment');\n\nvar View = Marionette.ItemView.extend({\n\n    template: _.template(tpl),\n\n    className: 'dashboard-system-view',\n\n    templateHelpers: function () {\n        var now = moment();\n        return {\n            arrayCount: this.collection.length,\n            hardwareIssueCount: this.collection.filter(x => x.hasHardwareIssues()).length,\n            hasHeartbeatWarnings: this.collection.some(x => x.hasHeartbeatWarning()),\n            hasAsupWarnings: this.collection.some(x => x.hasAsupWarning()),\n            upgradeAvailable: this.collection.some('upgradable'),\n        };\n    },\n\n    onRender: function () {\n        var popoverDefaults = {\n            html: true,\n            placement: 'left',\n            trigger: 'focus',\n            // Container needs to be the entire view so that the z-index stacking context is shared across all panels\n            container: '.ops-dashboard-view',\n            viewport: { selector: '.ops-dashboard-view' },\n\n        };\n\n        var hbWarnings = this.$('.hb-container[data-has-warnings=\"true\"]')\n            .popover(_({\n                content: this.renderPopover.bind(this, HeartbeatWarningsView),\n            }).defaults(popoverDefaults));\n        if (hbWarnings.length > 0) {\n            hbWarnings\n                .data('bs.popover')\n                .tip()\n                .addClass('ops-dashboard-popover');\n        }\n\n        var asupWarnings = this.$('.asup-container[data-has-warnings=\"true\"]')\n            .popover(_({\n                content: this.renderPopover.bind(this, AsupWarningsView),\n            }).defaults(popoverDefaults));\n        if (asupWarnings.length > 0) {\n            asupWarnings\n                .data('bs.popover')\n                .tip()\n                .addClass('ops-dashboard-popover');\n        }\n\n        this.$('.hardware-container [data-has-warnings=\"true\"]')\n            .popover(_({\n                content: this.renderPopover.bind(this, HardwareWarningsView),\n            }).defaults(popoverDefaults));\n    },\n\n    renderPopover: function (View) {\n        return new View({\n            collection: this.collection,\n        }).render().el;\n    },\n\n    mergeTimestamps: function (asupStatusMap) {\n        this.collection.each(function (assetModel) {\n            var asupStatus = asupStatusMap[assetModel.get('serialNumber')];\n            assetModel.set({\n                asupReceived: asupStatus ? asupStatus.lastReceived : null,\n                asupProcessed: asupStatus ? asupStatus.lastProcessed : null,\n            });\n        });\n    },\n\n});\n\nmodule.exports = AsyncView.extend({\n    ViewConstructor: View,\n\n    load() {\n        return $.when(\n            $.getJSON(this.api().pod().account().segment('assets/asupStatus')),\n            App.request('global', 'get:assets:async', 'jQuery.Deferred'),\n        )\n            .then((asupStatus, assetCollection) => {\n                this.view.collection = assetCollection;\n                this.view.mergeTimestamps.call(this.view, asupStatus);\n                return this.view;\n            });\n    },\n});\n","const _ = require('underscore');\nconst { buildUrlFromBase } = require('progeny/util/url');\n\nvar Marionette = require('backbone.marionette');\nvar VirtualCollection = require('backbone-virtual-collection');\nvar moment = require('moment');\nvar tpl = require('raw-loader!./HeartbeatWarningsItem.html');\n\nmodule.exports = Marionette.CollectionView.extend({\n\n    tagName: 'table',\n\n    className: 'heartbeat-warnings',\n\n    initialize: function () {\n        this.collection = new VirtualCollection(this.collection, {\n            filter: x => x.hasHeartbeatWarning(),\n            comparator: function (asset) {\n                return asset.get('hostname') + asset.get('serialNumber');\n            },\n        });\n    },\n\n    childView: Marionette.ItemView.extend({\n\n        template: _.template(tpl),\n\n        tagName: 'tr',\n\n        templateHelpers: function () {\n            var hb = this.model.get('latestHeartbeat');\n            return {\n                hbMoment: hb ? moment(hb.timestamp) : null,\n                getAssetLink: buildUrlFromBase.bind(null, '/infrastructure/storage/nimble/arrays'),\n            };\n        },\n\n    }),\n});\n","module.exports = \"<td><a href=\\\"<%= getAssetLink(serialNumber) %>\\\" class=\\\"history-aware\\\"><%= hostname ? hostname : serialNumber %></a></td>\\n<td>\\n    <% if (latestHeartbeat) { %>\\n        <i class=\\\"text-warning fa fa-exclamation-triangle\\\"></i> Heartbeat Delayed <small>(<%= hbMoment.fromNow() %>: <%= hbMoment.format('L LTS') %>)</small>\\n    <% } else { %>\\n        <i class=\\\"text-danger fa fa-exclamation-circle\\\"></i> Heartbeats Not Received\\n    <% } %>\\n</td>\\n\"","const _ = require('underscore');\nconst { buildUrl } = require('@infosight/elmer/dist/utils/url');\n\nvar Marionette = require('backbone.marionette');\nvar VirtualCollection = require('backbone-virtual-collection');\nconst { buildUrlFromBase } = require('progeny/util/url');\nvar moment = require('moment');\nvar tpl = require('raw-loader!./AsupWarningsItem.html');\n\nmodule.exports = Marionette.CollectionView.extend({\n\n    tagName: 'table',\n\n    className: 'asup-warnings',\n\n    initialize: function () {\n        this.collection = new VirtualCollection(this.collection, {\n            filter: x => x.hasAsupWarning(),\n            comparator: function (asset) {\n                return asset.get('hostname') + asset.get('serialNumber');\n            },\n        });\n    },\n\n    childView: Marionette.ItemView.extend({\n\n        template: _.template(tpl),\n\n        tagName: 'tr',\n\n        templateHelpers: function () {\n            return {\n                asupReceivedMoment: moment(this.model.get('asupReceived')),\n                getAssetLink: buildUrlFromBase.bind(null, '/infrastructure/storage/nimble/arrays'),\n            };\n        },\n\n    }),\n});\n","module.exports = \"<td><a href=\\\"<%= getAssetLink(serialNumber) %>\\\" class=\\\"history-aware\\\"><%= hostname ? hostname : serialNumber %></a></td>\\n<td>\\n    <% if (asupReceived) { %>\\n        <i class=\\\"text-warning fa fa-exclamation-triangle\\\"></i> Call Home Delayed <small>(<%= asupReceivedMoment.fromNow() %>: <%= asupReceivedMoment.format('L LTS') %>)</small>\\n    <% } else { %>\\n        <i class=\\\"text-danger fa fa-exclamation-circle\\\"></i> Call Home Never Received\\n    <% } %>\\n</td>\\n\"","const $ = require('jquery');\nconst _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar VirtualCollection = require('backbone-virtual-collection');\nvar moment = require('moment');\nconst { buildUrlFromBase } = require('progeny/util/url');\nvar tpl = require('raw-loader!./HardwareWarnings.html');\nvar itemTpl = require('raw-loader!./HardwareWarningsItem.html');\n\nvar componentTooltipTemplate = _.template(\n    'Controller <%= controller %> <b><%= component %></b> is <%= isAlerted ? \"in <b>alerted</b> status\" : \"operating normally\" %>.',\n);\n\nvar diskTooltipTemplate = _.template(\n    '<b><%= failed %></b> of <%= good + failed %> <%= type.toUpperCase() %>s are reporting as failed',\n);\n\nvar COMPONENT_NAMES = {\n    psu: 'power supply',\n    fan: 'fan',\n    temperature: 'temperature',\n};\n\nmodule.exports = Marionette.CompositeView.extend({\n\n    template: _.template(tpl),\n\n    className: 'hardware-warnings',\n\n    childViewContainer: 'tbody',\n\n    childViewOptions: function () {\n        return {\n            parentView: this,\n        };\n    },\n\n    initialize: function () {\n        this.collection = new VirtualCollection(this.collection, {\n            filter: x => x.hasHardwareIssues(),\n            comparator: function (asset) {\n                return asset.get('hostname') + asset.get('serialNumber');\n            },\n        });\n    },\n\n    childView: Marionette.ItemView.extend({\n\n        template: _.template(itemTpl),\n\n        tagName: 'tr',\n\n        templateHelpers: function () {\n            return {\n                hbMoment: moment(this.model.get('latestHeartbeat').timestamp),\n                getAssetLink: buildUrlFromBase.bind(null, '/infrastructure/storage/nimble/arrays'),\n            };\n        },\n\n        onRender: function () {\n            var $tooltipContainer = this.getOption('parentView').$el;\n            this.$('[data-component]').bs_tooltip({\n                title: this.renderComponentTooltip,\n                container: $tooltipContainer,\n                html: true,\n            });\n            this.$('[data-column=\"ssd\"] div,[data-column=\"hdd\"] div').bs_tooltip({\n                title: _(this.renderDiskTooltip).partial(this.model.get('latestHeartbeat')),\n                container: $tooltipContainer,\n                html: true,\n            });\n        },\n\n        renderComponentTooltip: function () {\n            var $el = $(this);\n            return componentTooltipTemplate({\n                controller: $el.closest('[data-controller]').data('controller').toUpperCase(),\n                component: COMPONENT_NAMES[$el.data('component')],\n                isAlerted: $el.data('status') != 'OK',\n            });\n        },\n\n        renderDiskTooltip: function (hb) {\n            var type = $(this).closest('[data-column]').data('column');\n\n            return diskTooltipTemplate({\n                type: type,\n                failed: hb[type + 'FailedCount'],\n                good: hb[type + 'GoodCount'],\n            });\n        },\n    }),\n});\n","module.exports = \"<table class=\\\"table\\\">\\n    <tbody></tbody>\\n</table>\"","module.exports = \"<td data-column=\\\"array\\\">\\n    <a href=\\\"<%= getAssetLink(serialNumber) %>\\\" class=\\\"history-aware\\\"><%= hostname ? hostname : serialNumber %></a>\\n    <% if (hostname) { %>\\n        <br/><small><%= serialNumber %></small>\\n    <% } %>\\n\\n    <div class=\\\"timestamp\\\" title=\\\"<%= hbMoment.format('L LTS') %>\\\">(as of <%= hbMoment.fromNow() %>)</div>\\n</td>\\n<td data-column=\\\"ssd\\\">\\n    <% if (latestHeartbeat.ssdFailedCount > 0) { %>\\n        <div class=\\\"text-danger\\\"><i class=\\\"fa fa-exclamation-circle\\\"></i> <%= latestHeartbeat.ssdFailedCount %></div>\\n    <% } else { %>\\n        <div class=\\\"text-success\\\"><i class=\\\"fa fa-lg fa-check-circle\\\"></i></div>\\n    <% } %>\\n    <small>SSDs</small>\\n</td>\\n<% if (!allFlash) { %>\\n<td data-column=\\\"hdd\\\">\\n    <% if (latestHeartbeat.hddFailedCount > 0) { %>\\n        <div class=\\\"text-danger\\\"><i class=\\\"fa fa-exclamation-circle\\\"></i> <%= latestHeartbeat.hddFailedCount %></div>\\n    <% } else { %>\\n        <div class=\\\"text-success\\\"><i class=\\\"fa fa-lg fa-check-circle\\\"></i></div>\\n    <% } %>\\n    <small>HDDs</small>\\n</td>\\n<% } %>\\n<td data-column=\\\"controllers\\\">\\n    <ul class=\\\"controller-list\\\">\\n        <% latestHeartbeat.controllers.forEach(function(controller) { %>\\n            <li data-controller=\\\"<%= controller.name %>\\\">\\n                <span class=\\\"ops-label\\\">Controller <%= controller.name %></span>\\n                <span data-controller-state=\\\"<%= controller.state %>\\\" class=\\\"label\\\"><%= controller.state %></span>\\n                <ul class=\\\"component-list\\\">\\n                    <% controller.components.forEach(function(component) { %>\\n                        <li class=\\\"component-icon\\\" data-component=\\\"<%= component.name %>\\\" data-status=\\\"<%= component.status %>\\\"></li>\\n                    <% }); %>\\n                </ul>\\n            </li>\\n        <% }); %>\\n    </ul>\\n</td>\\n\"","module.exports = \"<div>\\n    <div class=\\\"pull-left hardware-container\\\">\\n        <div class=\\\"header\\\">Hardware</div>\\n        <div class=\\\"pull-left\\\"><span class=\\\"icon hardware-icon\\\"></span></div>\\n        <div class=\\\"pull-left good-container\\\">\\n            <div class=\\\"large-number text-center\\\"><%= arrayCount %></div>\\n            <div class=\\\"ops-label text-center\\\">Arrays</div>\\n        </div>\\n        <div class=\\\"pull-left hardware-warning-container\\\" data-has-warnings=\\\"<%= hardwareIssueCount > 0 %>\\\">\\n            <% if (hardwareIssueCount) { %>\\n                <a tabindex=\\\"0\\\" role=\\\"button\\\" class=\\\"warning-count text-danger\\\">\\n                    <i class=\\\"fa fa-exclamation-circle\\\"></i>\\n                    <%= hardwareIssueCount %>\\n                </a>\\n            <% } %>\\n        </div>\\n    </div>\\n    <div class=\\\"pull-left connectivity-container\\\">\\n        <div class=\\\"header\\\">Monitoring Services</div>\\n        <div class=\\\"pull-left hb-container\\\" data-has-warnings=\\\"<%= hasHeartbeatWarnings %>\\\">\\n            <a tabindex=\\\"0\\\" role=\\\"button\\\">\\n                <div class=\\\"large-number text-center\\\">\\n                    <span class=\\\"icon\\\"></span>\\n                </div>\\n                <div class=\\\"ops-label text-center\\\">Heartbeat</div>\\n            </a>\\n        </div>\\n        <div class=\\\"pull-left asup-container\\\" data-has-warnings=\\\"<%= hasAsupWarnings %>\\\">\\n            <a tabindex=\\\"0\\\" role=\\\"button\\\">\\n                <div class=\\\"large-number text-center\\\">\\n                    <span class=\\\"icon\\\"></span>\\n                </div>\\n                <div class=\\\"ops-label text-center\\\">Call Home</div>\\n            </a>\\n        </div>\\n    </div>\\n    <div class=\\\"software\\\">\\n        <% if (upgradeAvailable) { %>\\n            <a href=\\\"app#assets?sort[0][column]=Version&sort[0][order]=asc&filter[Upgrade Available]=Yes\\\">\\n                <i class=\\\"fa fa-download\\\"></i> Software Update Available\\n            </a>\\n        <% } %>\\n    </div>\\n</div>\\n\"","module.exports = \"<p>\\n    The coloring in the performance chart depicts InfoSight's <b>Potential Impact Score</b> metric.\\n</p>\\n<p>\\n    Using InfoSight intelligence, this score identifies those periods where the impact of latency on application behavior is expected to be strongest.\\n</p>\\n<p>\\n    Larger-block operations, for example, tend to be more latent; at the same time the workloads driving them tend to be less latency sensitive.\\n    InfoSight's Impact Score corrects for this bias and highlights those latency events expected to cause the most impact to end users when accessing applications.\\n</p>\"","module.exports = \"<p>\\n      <b>LOCAL ONLY</b> indicates the amount of volumes that are protected locally by having only local snapshots. There are no current replication scheduled found with them. \\n</p>\\n<p>\\n      <b>REMOTE</b> indicates the amount of volumes has are not only protected locally, but are as well protected by a replication schedule. The actual replica copies are assumed to be valid and healthy.\\n</p>\\n<p>\\n      <b>UNPROTECTED</b> indicates the amount of volumes that are not protected because they have neither local snapshots nor a replication schedule. We assume a volume has no replicas without a replication schedule.\\n</p>\\n\\n\\n<p><b>VOLUMES PROTECTED</b> Percentage = 100 * (\\\"LOCAL ONLY\\\" + \\\"REMOTE\\\") / (\\\"LOCAL ONLY\\\" + \\\"REMOTE\\\" + \\\"UNPROTECTED\\\")</p>\\n\\n<p>\\\"Replication Target Volumes\\\" are excluded from the calculation.</p>\\n\\n\"","module.exports = \"<div class=\\\"row expanded\\\">\\n    <div class=\\\"column large-16\\\">\\n        <div class=\\\"row expanded\\\">\\n            <div class=\\\"column large-24\\\">\\n                <div class=\\\"panel panel-default perf-panel\\\">\\n                    <div class=\\\"panel-heading\\\">\\n                        <h2 class=\\\"panel-title\\\">Performance\\n                            <i class=\\\"fa fa-info-circle performance-info\\\"></i>\\n                        </h2>\\n                    </div>\\n                    <div class=\\\"panel-body\\\" data-region=\\\"performance\\\"></div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"row expanded\\\">\\n            <div class=\\\"column large-24\\\">\\n                <div class=\\\"panel panel-default topvm-panel\\\">\\n                    <div class=\\\"panel-heading\\\"><h2 class=\\\"panel-title\\\">Top VMs</h2></div>\\n                    <div class=\\\"panel-body\\\" data-region=\\\"top-vms\\\" data-vm-vision=\\\"true\\\"></div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"column large-8\\\">\\n        <div class=\\\"row expanded\\\">\\n            <div class=\\\"column large-24\\\">\\n                <div class=\\\"clearfix panel panel-default system-panel\\\">\\n                    <div class=\\\"panel-heading\\\"><h2 class=\\\"panel-title\\\">System</h2></div>\\n                    <div class=\\\"panel-body\\\" data-region=\\\"system\\\"></div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"row expanded\\\">\\n            <div class=\\\"column large-24\\\">\\n                <div class=\\\"panel panel-default protection-panel\\\">\\n                    <div class=\\\"panel-heading\\\"><h2 class=\\\"panel-title\\\">Protection <i class=\\\"fa fa-info-circle protection-info\\\"></i></h2></div>\\n                    <div class=\\\"panel-body\\\" data-region=\\\"protection\\\"></div>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <div class=\\\"row expanded\\\">\\n            <div class=\\\"column large-24\\\">\\n                <div class=\\\"panel panel-default capacity-panel\\\">\\n                    <div class=\\\"panel-heading\\\"><h2 class=\\\"panel-title\\\">Capacity <i class=\\\"fa fa-info-circle capacity-info\\\"></i></h2></div>\\n                    <div class=\\\"panel-body\\\" data-region=\\\"capacity\\\"></div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"container__2bmzC\",\"title\":\"title__224Jp\"};","const App = require('app/Application');\nconst _ = require('underscore');\nvar $ = require('jquery'),\n    jQueryUI = require('jqueryui'),\n    Marionette = require('backbone.marionette'),\n    tpl = require('raw-loader!./ExecutiveDashboardReportView.html'),\n    DashboardROIView = require('./DashboardROIView'),\n    DataProtectionView = require('./DataProtectionView'),\n    UpgradeSummaryCollectionView = require('./UpgradeSummaryCollectionView'),\n    UpgradesView = require('./UpgradesView'),\n    ExecutiveDashboardEmailSettingsView = require('./notification/ExecutiveDashboardEmailSettingsView');\nconst { NimbleUserTenantHelpers } = require('../../../../progeny/modules/nimble/tenantSelection');\n\nmodule.exports = Marionette.ItemView.extend(\n    /** @lends views/tabs/DashboardView.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name views/tabs/DashboardView\n         * @constructor\n         * @augments Marionette.ItemView\n         */\n\n        template: _.template(tpl),\n\n        className: 'dashboard-view',\n\n        ui: {\n            executiveDashboardEmailBtn: '#executive-dashboard-email-btn',\n        },\n\n        events: {\n            'click @ui.executiveDashboardEmailBtn': 'onClickExecutiveDashboardEmail',\n        },\n\n        /**\n         * Overridden Backbone render method.\n         * @return {DashboardView} Returns this instance (useful for chaining).\n         */\n        onRender: function () {\n            this.renderROIView();\n            this.renderDataProtection();\n            this.renderCaseStatistics();\n            this.renderUpgrades();\n            // hide email settings for resellers\n            if (NimbleUserTenantHelpers.isExternal() && !NimbleUserTenantHelpers.isPrimaryTenant()) {\n                this.ui.executiveDashboardEmailBtn.hide();\n            }\n        },\n\n        onDestroy: function () {\n            if (this.dashboardROIView) {\n                this.dashboardROIView.destroy();\n                delete this.dashboardROIView;\n            }\n            if (this.dataProtectionView) {\n                this.dataProtectionView.destroy();\n                delete this.dataProtectionView;\n            }\n            if (this.upgradesView) {\n                this.upgradesView.destroy();\n                delete this.upgradesView;\n            }\n        },\n\n        /**\n         * Render the space savings content.\n         * @return {DashboardView} Returns this instance (useful for chaining).\n         */\n        renderROIView: function () {\n            this.dashboardROIView = new DashboardROIView({\n                model: this.model,\n            });\n            this.$el.find('.dashboard-space-tab').append(\n                this.dashboardROIView.render().el);\n            return this;\n        },\n\n        /**\n         * Renders the data protection section of the dashboard\n         * @return {DashboardView} Returns this instance (useful for chaining).\n         */\n        renderDataProtection: function () {\n            var self = this;\n\n            this.dataProtectionView = new DataProtectionView({\n                model: this.model,\n            });\n\n            this.$el.find('.data-protection-container.dashboard-section').append(\n                this.dataProtectionView.render().el);\n\n            return this;\n        },\n\n        /**\n         * Render the case statistics content.\n         * @return {DashboardView} Returns this instance (useful for chaining).\n         */\n        renderCaseStatistics: function () {\n            return this;\n        },\n\n        /**\n         * Renders the upgrade summary list.\n         * @return {DashboardView} Returns this instance (useful for chaining).\n         */\n        renderUpgrades: function () {\n            this.upgradesView = new UpgradesView({ model: this.model });\n            this.$el.find('.dashboard-arrays-tab').append(\n                this.upgradesView.render().el);\n        },\n\n        onClickExecutiveDashboardEmail: function (event) {\n            event.preventDefault();\n            App.modalRegion.show(new ExecutiveDashboardEmailSettingsView());\n        },\n\n    });\n","module.exports = \"<div class=\\\"dashboard-content\\\">\\n    <div id=\\\"executive-dashboard-toolbar\\\" class=\\\"hidden-print\\\">\\n        <button class=\\\"button secondary small hidden-print\\\" id='executive-dashboard-email-btn' >\\n            <span class=\\\"glyphicon glyphicon-envelope\\\"></span> Email Settings\\n        </button>\\n        <button class=\\\"button secondary small hidden-print\\\" onclick=\\\"window.print()\\\">\\n            <span class=\\\"glyphicon glyphicon-print\\\"></span> Print\\n        </button>\\n    </div>\\n\\n    <div id=\\\"dashboard-space-tab\\\" class=\\\"dashboard-space-tab\\\"></div>\\n\\n    <div id=\\\"dashboard-data-protection-tab\\\" class=\\\"dashboard-data-protection-tab\\\">\\n        <h2>Data Protection</h2>\\n        <div class=\\\"data-protection-container dashboard-section\\\"></div>\\n        <div class=\\\"clear\\\"></div>\\n    </div>\\n\\n    <div id=\\\"dashboard-arrays-tab\\\" class=\\\"dashboard-arrays-tab\\\">\\n    </div>\\n</div>\"","const _ = require('underscore');\nvar Marionette = require('backbone.marionette'),\n    tpl = require('raw-loader!./DashboardROIView.html'),\n    errorTpl = require('raw-loader!app/templates/components/error.html'),\n    SpaceSavingsModel = require('./SpaceSavingsModel'),\n    CaseStatisticsModel = require('./CaseStatisticsModel'),\n    CaseStatisticsView = require('./CaseStatisticsView'),\n    SpaceSavingsView = require('./SpaceSavingsView'),\n    SpaceUsageView = require('./SpaceUsageView'),\n    Spinner = require('app/views/components/Spinner');\n\nmodule.exports = Marionette.ItemView.extend(\n    /** @lends views/components/dashboard/DashboardROIView.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name views/components/dashboard/DashboardROIView\n         * @constructor\n         * @augments Marionette.ItemView\n         */\n\n        template: _.template(tpl),\n\n        className: 'dashboard-space-view',\n\n        onRender: function () {\n\n            var self = this,\n                spaceSavingsModel = new SpaceSavingsModel({}),\n                caseStatsModel = new CaseStatisticsModel({});\n            var handleErrorSpaceSavings = function (response) {\n                var message = 'Space Savings Information is not available.';\n                var errorTemplate = _.template(errorTpl);\n                self.$el.find('.space-savings-header').after(errorTemplate({\n                    message: message,\n                }));\n            };\n\n            var handleErrorOpEfficiencies = function (response) {\n                var message = 'Operational Efficiency Information is not available.';\n                var errorTemplate = _.template(errorTpl);\n                self.$el.find('.space-usage-header').after(errorTemplate({\n                    message: message,\n                }));\n            };\n\n            this.spaceSavings = new SpaceSavingsView({\n                model: spaceSavingsModel,\n            });\n\n            // add a loading spinner\n            this.spaceSpinner = new Spinner();\n            this.$el.find('#space-savings-spinner').append(this.spaceSpinner.render().el);\n\n            this.caseSpinner = new Spinner();\n            this.$el.find('#case-efficiency-spinner').append(this.caseSpinner.render().el);\n\n            spaceSavingsModel.fetch()\n                .always(function () {\n                    self.spaceSpinner.hide();\n                })\n                .done(function () {\n                    // space savings section\n                    self.$el.find('.space-savings-container').append(\n                        self.spaceSavings.render().el);\n                }).fail(handleErrorSpaceSavings);\n\n            // hiding space usage for now\n            // spaceUsageModel.fetch({\n            //     success: function() {\n            //         // space usage section\n            //         self.spaceUsageView = new SpaceUsageView({\n            //             model: spaceUsageModel\n            //         });\n            //         self.$el.find('.space-usage-container').append(\n            //             self.spaceUsageView.render().el );\n            //     }\n            // });\n            caseStatsModel.fetch()\n                .always(function () {\n                    self.caseSpinner.hide();\n                })\n                .done(function () {\n                    self.caseStatisticsView = new CaseStatisticsView({\n                        model: caseStatsModel,\n                    });\n                    self.$el.find('.operational-efficiency-container').append(\n                        self.caseStatisticsView.render().el);\n                }).fail(handleErrorOpEfficiencies);\n        },\n\n        onDestroy: function () {\n            if (this.chart) {\n                this.chart.destroy();\n                delete this.chart;\n            }\n        },\n\n    });\n","module.exports = \"<h2 class=\\\"space-savings-header\\\">Space Savings</h2>\\n<div class=\\\"space-savings-container dashboard-section\\\"></div>\\n<div id=\\\"space-savings-spinner\\\"/>\\n\\n<!-- <h2 class=\\\"space-usage-header\\\">Space Usage</h2>\\n<div class=\\\"space-usage-container dashboard-section\\\"></div> -->\\n\\n<h2 class=\\\"space-usage-header\\\">Operational Efficiencies</h2>\\n<div class=\\\"operational-efficiency-container dashboard-section\\\"></div>\\n<div id=\\\"case-efficiency-spinner\\\"/>\"","var Backbone = require('backbone');\nvar InventoryFilterable = require('app/modules/inventory/InventoryFilterable');\n\nmodule.exports = Backbone.Model.extend({\n\n    mixins: [InventoryFilterable],\n\n    defaults: {\n        traditionalSpace: null,\n        spaceUsed: null,\n        excludeDonut: false,\n        thinProvisionedSpace: null,\n        compression: null,\n        zeroCopyClones: null,\n        deduplication: null,\n        spaceSavings: null,\n        savingsFactor: null,\n    },\n\n    url: function () {\n        return this.api().pod().account().segment('dashboard/savings');\n    },\n});\n","/**\n * Representation of a filter for a Backbone.Collection or Backbone.Model, that\n * scopes the underlying data query to the inventory object.\n */\nvar Backbone = require('backbone');\n\nmodule.exports = Backbone.Model.extend({\n\n    defaults: {\n        arraySn: undefined,\n    },\n\n});\n","var Backbone = require('backbone');\n\nmodule.exports = Backbone.Model.extend(\n    /** @lends models/dashboard/CaseStatisticsModel.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name models/dashboard/CaseStatisticsModel\n         * @constructor\n         * @augments Backbone.Model\n         */\n\n        defaults: {\n            customer: null,\n            caseStats: [],\n            automaticallyClosed: 0,\n            manuallyClosed: 0,\n            totalCases: 0,\n        },\n\n        // override the default URL so we can specify a custom format\n        url: function () {\n            return this.api().pod().account().segment('dashboard/casestats');\n        },\n    });\n","const _ = require('underscore');\nvar Backbone = require('backbone'),\n    tpl = require('raw-loader!./CaseStatisticsView.html'),\n    CaseStatisticsChart = require('./CaseStatisticsChart'),\n    CaseStatisticsDonutView = require('./CaseStatisticsDonutView');\n\nvar template = _.template(tpl);\n\nmodule.exports = Backbone.View.extend(\n    /** @lends views/components/dashboard/CaseStatisticsView.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name views/components/dashboard/CaseStatisticsView\n         * @constructor\n         * @augments Backbone.View\n         */\n\n\n        className: 'case-statistics-view',\n\n        render: function () {\n            this.$el.html(template(this.model.toJSON()));\n\n            this.caseStatisticsChart = new CaseStatisticsChart({\n                model: this.model,\n            });\n            this.$el.find('.chart-container').append(\n                this.caseStatisticsChart.render().el);\n\n            this.caseStatisticsDonutView = new CaseStatisticsDonutView({\n                model: this.model,\n            });\n            this.$el.find('.donut-container').append(\n                this.caseStatisticsDonutView.render().el);\n\n            return this;\n        },\n\n    });\n","module.exports = \"<div class=\\\"case-summary\\\">\\n    <div class=\\\"dashboard-success-message\\\"></div>\\n</div>\\n\\n<% if ( totalCases > 0 ) { %>\\n    <div class=\\\"row expanded\\\">\\n      <div class=\\\"column small-16 chart-container\\\"></div>\\n      <div class=\\\"column small-8 donut-container\\\"></div>\\n    </div>\\n<% } else { %>\\n    <div class=\\\"no-dashboard-content\\\">\\n        <span class=\\\"ui-icon ui-icon-info\\\"></span>\\n        <span>No cases reported</span>\\n    </div>\\n<% } %>\"","const _ = require('underscore');\nconst { Highstock: Highcharts } = require('progeny/modules/nimble/highchartsProxy');\nvar $ = require('jquery'),\n    jQueryUI = require('jqueryui'),\n    Backbone = require('backbone');\n\nmodule.exports = Backbone.View.extend(\n    /** @lends views/components/dashboard/CaseStatisticsChart.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name views/components/dashboard/CaseStatisticsChart\n         * @constructor\n         * @augments Backbone.View\n         */\n\n\n        className: 'case-statistics-chart',\n\n        renderChart: function (container, series, numberOfDataPoints) {\n            this.chart = new Highcharts.Chart({\n                chart: {\n                    type: 'area',\n                    renderTo: container,\n                    height: 350,\n                    events: {\n                        load: function () {\n                            var chart = this;\n                            // reflow the chart to ensure it fills the container\n                            _.delay(function () {\n                                chart.reflow.call(chart);\n                            }, 50);\n                        },\n                    },\n                },\n                title: {\n                    text: 'Operational Efficiencies',\n                },\n                subtitle: {\n                    text: 'Cases closed automatically vs manually',\n                },\n                credits: {\n                    enabled: false,\n                },\n                xAxis: {\n                    type: 'datetime',\n                    dateTimeLabelFormats: {\n                        day: '%e of %b',\n                        month: '%b',\n                    },\n                },\n                yAxis: {\n                    title: {\n                        text: 'Cases Resolved',\n                    },\n                },\n                tooltip: {\n                    shared: true,\n                    formatter: function () {\n                        var tip = Highcharts.dateFormat('Week of %A, %b %e, %Y', this.points[0].x),\n                            totalCases = 0;\n\n                        for (var i = 0; i < this.points.length; i++) {\n                            var point = this.points[i],\n                                color = point.series.color,\n                                cases = point.y;\n                            tip += '<br/><span style=\"color: ' + color + '\">' +\n                                point.series.name + ':</span> ' + cases;\n                            totalCases += cases;\n                        }\n\n                        tip += '<br/>Total Cases: ' + totalCases;\n\n                        return tip;\n                    },\n                },\n                plotOptions: {\n                    area: {\n                        animation: false,\n                        stacking: 'normal',\n                        lineColor: '#666666',\n                        lineWidth: 1,\n                        marker: {\n                            enabled: numberOfDataPoints < 5 ? true : false,\n                        },\n                        format: '{point.y:.1f} TiB',\n                    },\n                },\n                series: series,\n            });\n        },\n\n        render: function () {\n            // this.$el.html( template(this.model.toJSON()) );\n            this.$el.html(this.el);\n\n            // this.model\n            var caseStats = this.model.get('caseStats'),\n                categories = [],\n                autoClosed = this.model.get('automaticallyClosed'),\n                manualClosed = this.model.get('manuallyClosed'),\n                totalClosed = this.model.get('totalCases'),\n                automaticSeries = {\n                    name: 'Automatically Closed',\n                    data: [],\n                },\n                manualSeries = {\n                    name: 'Manually Closed',\n                    data: [],\n                };\n\n            for (var i = 0; i < caseStats.length; i++) {\n                var dp = caseStats[i],\n                    auto = dp.automatic,\n                    manual = dp.manual,\n                    closeWeek = dp.closeWeek;\n\n                // categories.push(closeWeek);\n                automaticSeries.data.push([closeWeek, auto]);\n                manualSeries.data.push([closeWeek, manual]);\n            }\n\n            var summaryText = '';\n            if (totalClosed > 0 && autoClosed > 0) {\n                var autoClosedPct = Highcharts.numberFormat(autoClosed / totalClosed * 100, 1);\n                summaryText = autoClosedPct + '% of your resolved cases were closed automatically.';\n            }\n\n            var successMessage = this.$el.find('.dashboard-success-message');\n            if (summaryText.length > 0) {\n                successMessage.html(summaryText);\n                successMessage.show();\n            } else {\n                successMessage.hide();\n            }\n\n            this.renderChart(this.el, [automaticSeries, manualSeries], caseStats.length);\n\n            return this;\n        },\n\n    });\n","const _ = require('underscore');\nconst { Highstock: Highcharts } = require('progeny/modules/nimble/highchartsProxy');\nvar Backbone = require('backbone');\n\nmodule.exports = Backbone.View.extend(\n    /** @lends views/components/dashboard/CaseStatisticsDonutView.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name views/components/dashboard/CaseStatisticsDonutView\n         * @constructor\n         * @augments Backbone.View\n         */\n\n\n        className: 'case-statistics-donut-view',\n\n        renderChart: function (container, series, percentAutoClosed) {\n            var self = this;\n            this.chart = new Highcharts.Chart({\n                chart: {\n                    type: 'pie',\n                    renderTo: container,\n                    height: '300',\n                    // width: 200,\n                    events: {\n                        load: function () {\n                            var chart = this;\n\n                            // reflow the chart to ensure it fills the container\n                            _.delay(function () {\n                                chart.reflow.call(chart);\n                            }, 50);\n                        },\n                    },\n                },\n                title: {\n                    text: '<span style=\"color: #78c639\">' + percentAutoClosed + '%' +\n                        '</span><br/><span>Auto-Closed</span>',\n                    align: 'center',\n                    verticalAlign: 'middle',\n                    y: 3,\n                },\n                xAxis: {\n                    type: 'category',\n                },\n                yAxis: {\n                    title: {\n                        text: 'Data (TiB)',\n                    },\n                    labels: {\n                        overflow: 'justify',\n                    },\n                },\n                credits: {\n                    enabled: false,\n                },\n                legend: {\n                    enabled: false,\n                },\n                tooltip: {\n                    useHTML: true,\n                    formatter: function () {\n                        var point = this.point,\n                            series = this.series,\n                            pctAutoClosed = '';\n\n                        var totalCases = self.model.get('totalCases'),\n                            pct = Highcharts.numberFormat((this.y / totalCases * 100), 0);\n                        pctAutoClosed = ' (' + pct + '%)';\n\n                        return '<span style=\"color:' + point.color + '\">' + point.name + '</span>' +\n                            ':</br><b>' + Highcharts.numberFormat(point.y, 0) + '</b>' + pctAutoClosed + '<br/>';\n                    },//,\n                    // pointFormat: '<span style=\"color:{series.color}\">{series.name}</span>: <b>{point.y} TiB</b><br/>'\n                },\n                plotOptions: {\n                    pie: {\n                        dataLabels: {\n                            enabled: false,\n                            // distance: -50,\n                            //\n                            size: 50,\n                            style: {\n                                // fontWeight: 'bold',\n                                // color: 'white',\n                                // textShadow: '0px 1px 2px black'\n                            },\n                        },\n                        // startAngle: -90,\n                        // endAngle: 90,\n                        center: ['50%', '50%'],\n                    },\n                },\n                series: series,\n            });\n        },\n\n        render: function () {\n            this.$el.html();\n\n            var percentAutoClosed = 0,\n                series = {\n                    name: 'Space Savings',\n                    innerSize: '75%',\n                    data: [],\n                };\n\n            percentAutoClosed = this.model.get('automaticallyClosed') /\n                this.model.get('totalCases') * 100;\n\n            if (this.model.get('automaticallyClosed') > 0) {\n                series.data.push({\n                    name: 'Automatically Closed',\n                    y: this.model.get('automaticallyClosed'),\n                    // color: '#2f7ed8'\n                    color: 'rgba(47, 126, 216, 0.7)',\n                });\n            }\n\n            if (this.model.get('manuallyClosed') > 0) {\n                series.data.push({\n                    name: 'Manually Closed',\n                    y: this.model.get('manuallyClosed'),\n                    // color: '#2f7ed8'\n                    // color: 'rgba(47, 126, 216, 0.5)'\n                    color: 'rgba(13, 35, 58, 0.75)',\n                });\n            }\n\n            this.renderChart(this.el, [series],\n                Highcharts.numberFormat(percentAutoClosed, 0));\n\n            return this;\n        },\n\n    });\n","const _ = require('underscore');\nconst { Highstock: Highcharts } = require('progeny/modules/nimble/highchartsProxy');\nvar Marionette = require('backbone.marionette'),\n    tpl = require('raw-loader!./SpaceSavings.html'),\n    SpaceSavingsDonutView = require('./SpaceSavingsDonutView'),\n    SpaceSavingsBarChart = require('./SpaceSavingsBarChart'),\n    SpaceSavingsWaterfallView = require('./SpaceSavingsWaterfallView'),\n    SpaceUsageChart = require('./SpaceUsageChart');\n\nvar template = _.template(tpl);\n\nmodule.exports = Marionette.ItemView.extend({\n\n    /**\n     * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n     * @name views/components/dashboard/./SpaceSavingsView\n     * @constructor\n     * @augments Backbone.View\n     */\n\n    template: _.template(tpl),\n\n    className: 'space-savings-view',\n\n    initialize: function (options) {\n        this.excludeDonut = options.excludeDonut;\n    },\n\n    onRender: function () {\n\n        // the summary message\n        var pctSaved = this.model.get('spaceSavings') / this.model.get('traditionalSpace') * 100;\n        pctSaved = Highcharts.numberFormat(pctSaved, 1);\n        this.$el.find('.percent-saved').append('(' + pctSaved + '%)');\n\n        // the waterfall view\n        this.spaceSavingsView = new SpaceSavingsWaterfallView({\n            model: this.model,\n        });\n        this.$el.find('.space-savings-waterfall').append(\n            this.spaceSavingsView.render().el);\n\n        if (!this.excludeDonut) {\n            // the donut summary view\n            this.spaceSavingsDonut = new SpaceSavingsDonutView({\n                model: this.model,\n            });\n            this.$el.find('.space-savings-donut').append(\n                this.spaceSavingsDonut.render().el);\n        }\n    },\n\n});\n","module.exports = \"<% if ( !traditionalSpace && !spaceUsed ) { %>\\n    <div class=\\\"no-dashboard-content\\\">\\n        <span class=\\\"ui-icon ui-icon-info\\\"></span>\\n        <span>No space information available</span>\\n    </div>\\n<% } else { %>\\n    <div class=\\\"row expanded\\\">\\n<% if ( excludeDonut ) { %>    \\n        <div class=\\\"column small-24 space-savings-waterfall\\\"></div>\\n<% } else { %>\\n        <div class=\\\"column small-16 space-savings-waterfall\\\"></div>\\n        <div class=\\\"column small-8 space-savings-donut\\\"></div>\\n<% } %>    \\n    </div>\\n<% } %>\\n<div class=\\\"spinner\\\"/>\"","const _ = require('underscore');\nconst { Highstock: Highcharts } = require('progeny/modules/nimble/highchartsProxy');\nvar Backbone = require('backbone'),\n    FormattingUtils = require('app/util/FormattingUtils');\n\nmodule.exports = Backbone.View.extend(\n    /** @lends views/components/dashboard/./SpaceSavingsDonutView.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name views/components/dashboard/./SpaceSavingsDonutView\n         * @constructor\n         * @augments Backbone.View\n         */\n\n\n        className: 'space-savings-donut-view',\n\n        renderChart: function (container, spaceSaved, pctSaved, series) {\n            var self = this;\n            this.chart = new Highcharts.Chart({\n                chart: {\n                    type: 'pie',\n                    renderTo: container,\n                    height: 300,\n                    // width: 200,\n                    events: {\n                        load: function () {\n                            var chart = this;\n\n                            // reflow the chart to ensure it fills the container\n                            _.delay(function () {\n                                chart.reflow.call(chart);\n                            }, 50);\n                        },\n                    },\n                },\n                title: {\n                    text: '<span style=\"color: #78c639\">' + pctSaved + 'x</span><br/>' +\n                        '<span>Reduction</span>',\n                    align: 'center',\n                    verticalAlign: 'middle',\n                    y: 2,\n                },\n                xAxis: {\n                    type: 'category',\n                },\n                yAxis: {\n                    title: {\n                        text: 'Data',\n                    },\n                    labels: {\n                        overflow: 'justify',\n                    },\n                },\n                credits: {\n                    enabled: false,\n                },\n                legend: {\n                    enabled: false,\n                },\n                tooltip: {\n                    useHTML: true,\n                    formatter: function () {\n                        var point = this.point,\n                            series = this.series,\n                            pctSaved = '';\n\n                        if (point.name != 'Capacity Used<br>(Pre-Savings)') {\n                            var spaceSavings = self.model.get('spaceSavings'),\n                                pct = Highcharts.numberFormat((this.y / spaceSavings * 100), 2);\n                            pctSaved = ' (' + pct + '%)';\n                        }\n\n                        return '<span style=\"color:' + point.color + '\">' + point.name + '</span>' +\n                            ':</br><b>' + FormattingUtils.formatTB(point.y) + '</b>' + pctSaved + '<br/>';\n\n                    },//,\n                },\n                plotOptions: {\n                    pie: {\n                        dataLabels: {\n                            enabled: false,\n                            size: 50,\n                        },\n                        center: ['50%', '50%'],\n                    },\n                },\n                series: series,\n            });\n        },\n\n        render: function () {\n            this.$el.html();\n\n            var series = {\n                    name: 'Space Savings',\n                    innerSize: '75%',\n                    data: [],\n                },\n                spaceSavings = this.model.get('spaceSavings'),\n                savingsFactor = this.model.get('savingsFactor'),\n                traditionalSpace = this.model.get('traditionalSpace'),\n                pctSaved = Highcharts.numberFormat(spaceSavings / traditionalSpace * 100, 0);\n\n            if (this.model.get('compression') > 0) {\n                series.data.push({\n                    name: 'Compression Savings',\n                    y: this.model.get('compression'),\n                    color: 'rgba(47, 126, 216, 0.4)',\n                });\n            }\n\n            if (this.model.get('zeroCopyClones') > 0) {\n                series.data.push({\n                    name: 'Clone Savings',\n                    y: this.model.get('zeroCopyClones'),\n                    color: 'rgba(47, 126, 216, 1)',\n                });\n            }\n\n            if (this.model.get('deduplication') > 0) {\n                series.data.push({\n                    name: 'Deduplication Savings',\n                    y: this.model.get('deduplication'),\n                    color: 'rgba(47, 126, 216, 0.8)',\n                });\n            }\n            this.renderChart(this.el, spaceSavings, savingsFactor, [series]);\n\n            return this;\n        },\n\n    });\n","const _ = require('underscore');\nconst { Highstock: Highcharts } = require('progeny/modules/nimble/highchartsProxy');\nvar $ = require('jquery'),\n    jQueryUI = require('jqueryui'),\n    Backbone = require('backbone'),\n    tpl = require('raw-loader!./SpaceSavingsBarChart.html');\n\nvar template = _.template(tpl);\n\nmodule.exports = Backbone.View.extend(\n    /** @lends views/components/dashboard/./SpaceSavingsBarChart.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name views/components/dashboard/./SpaceSavingsBarChart\n         * @constructor\n         * @augments Backbone.View\n         */\n\n\n        className: 'space-savings-view',\n\n        renderChart: function (container, spaceUsed, spaceSaved, traditionalSpace) {\n            this.chart = new Highcharts.Chart({\n                chart: {\n                    type: 'bar',\n                    renderTo: container,\n                    height: 175,\n                    events: {\n                        load: function () {\n                            var chart = this;\n                            // reflow the chart to ensure it fills the container\n                            _.delay(function () {\n                                chart.reflow.call(chart);\n                            }, 50);\n                        },\n                    },\n                },\n                title: {\n                    text: null,\n                },\n                xAxis: {\n                    categories: ['Nimble', 'Traditional Storage'],\n                },\n                yAxis: {\n                    min: 0,\n                    title: {\n                        text: null,\n                    },\n                },\n                credits: {\n                    enabled: false,\n                },\n                legend: {\n                    backgroundColor: '#FFFFFF',\n                    reversed: true,\n                },\n                plotOptions: {\n                    series: {\n                        stacking: 'normal',\n                        dataLabels: {\n                            enabled: true,\n                            // align: 'right',\n                            color: '#FFFFFF',//,\n                            //format: '{point.y}TiB'\n                            // formatter: function() {\n                            //     if ( this.series)\n                            // }\n                            // x: -10\n                        },\n                    },\n                },\n                series: [\n                    {\n                        name: 'Space Savings',\n                        data: [spaceSaved],\n                    }, {\n                        name: 'Space Used',\n                        color: '#8bbc21',\n                        data: [spaceUsed],\n                    }, {\n                        name: 'Traditional',\n                        color: 'gray',\n                        data: [null, traditionalSpace],\n                    },\n                ],\n            });\n        },\n\n        render: function () {\n            this.$el.html(template(this.model.toJSON()));\n            this.renderChart(this.$el.find('.space-savings-chart')[0],\n                this.model.get('spaceUsed'), this.model.get('spaceSavings'),\n                this.model.get('traditionalSpace'));\n            return this;\n        },\n\n    });\n","module.exports = \"<div class=\\\"space-savings-left\\\">\\n    <div class=\\\"space-savings-chart\\\"/>\\n</div>\\n<div class=\\\"space-savings-right-column\\\">\\n    <TABLE class=\\\"space-savings-table\\\">\\n        <THEAD>\\n            <TH ALIGN=\\\"left\\\">Nimble Feature</TH>\\n            <TH ALIGN=\\\"left\\\">Space Savings</TH>\\n        </THEAD>\\n        <TBODY>\\n            <TR>\\n                <TD>Compression</TD>\\n                <TD ALIGN=\\\"right\\\"><%= compression %> TiB</TD>\\n            </TR>\\n            <TR>\\n                <TD>Thin Provisioning</TD>\\n                <TD ALIGN=\\\"right\\\"><%= thinProvisionedSpace %> TiB</TD>\\n            </TR>\\n            <TR>\\n                <TD>Zero Clone</TD>\\n                <TD ALIGN=\\\"right\\\"><%= zeroCopyClones %> TiB</TD>\\n            </TR>\\n            <TR class=\\\"total-row\\\">\\n                <TD>Total</TD>\\n                <TD ALIGN=\\\"right\\\"><%= spaceSavings %> TiB</TD>\\n            </TR>\\n        </TBODY>\\n    </TABLE>\\n</div>\\n<div style=\\\"clear: left;\\\"/>\"","const _ = require('underscore');\nconst { Highstock: Highcharts } = require('progeny/modules/nimble/highchartsProxy');\nvar $ = require('jquery'),\n    jQueryUI = require('jqueryui'),\n    Backbone = require('backbone'),\n    FormattingUtils = require('app/util/FormattingUtils');\n\nmodule.exports = Backbone.View.extend(\n    /** @lends views/components/dashboard/./SpaceSavingsWaterfallView.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name views/components/dashboard/./SpaceSavingsWaterfallView\n         * @constructor\n         * @augments Backbone.View\n         */\n\n\n        className: 'space-savings-waterfall-view',\n\n        renderChart: function (container, series) {\n            var self = this;\n            this.chart = new Highcharts.Chart({\n                chart: {\n                    type: 'waterfall',\n                    renderTo: container,\n                    height: 300,\n                    events: {\n                        redraw: function () {\n                            this.series[0].points.forEach(function (point) {\n                                var barHeight = point.shapeArgs.height;\n\n                                // If label is smaller than the bar, don't move it\n                                if (point.dataLabel.height <= barHeight + 4) {\n                                    return;\n                                }\n\n                                // Move label from it's position at the center to just above the bar\n                                var yTranslation = Math.ceil(barHeight / 2) + 8;\n\n                                var svgElem = point.dataLabel.element;\n                                var currentTransform = svgElem.getAttribute('transform');\n\n                                // set the label color to black so it's visible on the white background\n                                point.dataLabel.css({ color: 'black', textShadow: 'none' });\n\n                                // update the transform to move the label above the bar\n                                if (currentTransform.indexOf('translate') != -1) {\n                                    var regex = /translate\\((\\d+)(,| )(\\d+)\\)/g;\n                                    var matches = regex.exec(currentTransform);\n                                    if (matches && matches.length == 4) {\n                                        var xPos = matches[1],\n                                            yPos = matches[3],\n                                            newTransform = 'translate(' + xPos + ',' + (parseInt(yPos, 10) - yTranslation) + ')';\n                                        svgElem.setAttribute('transform', newTransform);\n                                    }\n                                }\n                            });\n                        },\n                        load: function () {\n                            var chart = this;\n\n                            // reflow the chart to ensure it fills the container\n                            _.delay(function () {\n                                chart.reflow.call(chart);\n                            }, 50);\n                        },\n                    },\n                },\n                title: {\n                    text: 'Nimble Space Savings',\n                },\n                xAxis: {\n                    type: 'category',\n                    labels: {\n                        // pass-through formatter overrides global formatter which expects dateTimeLabelFormat\n                        formatter: function () {\n                            return this.value;\n                        },\n                    },\n                    crosshair: false,\n                },\n                yAxis: {\n                    title: {\n                        text: 'Data (TiB)',\n                    },\n                    labels: {\n                        overflow: 'justify',\n                    },\n                },\n                credits: {\n                    enabled: false,\n                },\n                legend: {\n                    enabled: false,\n                },\n                tooltip: {\n                    formatter: function () {\n                        var point = this.point,\n                            series = this.series,\n                            pctSaved = '';\n\n                        if (point.name != 'Capacity Used<br>(Pre-Savings)') {\n                            var traditionalSpace = self.model.get('traditionalSpace'),\n                                pct = Highcharts.numberFormat((this.y / traditionalSpace * 100), 2);\n                            pctSaved = ' (' + pct + '%)';\n                        }\n\n                        return '<span style=\"color:' + point.color + '\">' + point.name + '</span>' +\n                            ': <b>' + FormattingUtils.formatTB(point.y) + '</b>' + pctSaved + '<br/>';\n                    },//,\n                },\n                plotOptions: {\n                    series: {\n                        dataLabels: {\n                            // crop: false,\n                            // overflow: 'none',\n                            enabled: true,\n                            formatter: function () {\n                                return FormattingUtils.formatTB(this.y);\n                            },\n                            style: {\n                                color: '#FFFFFF',\n                                fontWeight: 'bold',\n                                textShadow: 'none',\n                            },\n                        },\n                        minPointLength: 3,\n                    },\n                },\n                series: series,\n            });\n        },\n\n        render: function () {\n            this.$el.html(this.el);\n\n            var series = {\n                name: 'Space',\n                data: [\n                    {\n                        name: 'Capacity Used<br>(Pre-Savings)',\n                        y: this.model.get('traditionalSpace'),\n                        color: 'gray',\n                    },\n                ],\n                pointPadding: 0,\n            };\n\n            if (this.model.get('compression') > 0) {\n                series.data.push({\n                    name: 'Compression Savings',\n                    y: -this.model.get('compression'),\n                    color: '#2f7ed8',\n                });\n            }\n            if (this.model.get('zeroCopyClones') > 0) {\n                series.data.push({\n                    name: 'Clones Savings',\n                    y: -this.model.get('zeroCopyClones'),\n                    color: '#2f7ed8',\n                });\n            }\n            if (this.model.get('deduplication') > 0) {\n                series.data.push({\n                    name: 'Deduplication Savings',\n                    y: -this.model.get('deduplication'),\n                    color: '#2f7ed8',\n                });\n            }\n\n            series.data.push({\n                name: 'Capacity Used<br>(Post-Savings)',\n                isSum: true,\n                y: this.model.get('spaceUsed'),\n                color: '#8bbc21',\n            });\n\n            this.renderChart(this.el, [series]);\n\n            return this;\n        },\n\n    });\n","const _ = require('underscore');\nvar Backbone = require('backbone'),\n    tpl = require('raw-loader!./SpaceUsageView.html'),\n    DataTables = require('datatables.net'),\n    SpaceUsageChart = require('./SpaceUsageChart');\n\nvar template = _.template(tpl);\n\nmodule.exports = Backbone.View.extend(\n    /** @lends views/components/dashboard/SpaceUsageView.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name views/components/dashboard/SpaceUsageView\n         * @constructor\n         * @augments Backbone.View\n         */\n\n\n        className: 'space-usage-view',\n\n        render: function () {\n            this.$el.html(template());\n\n            // space usage section\n            this.spaceUsedChart = new SpaceUsageChart({\n                model: this.model,\n            });\n            this.$el.find('.space-usage-summary').append(\n                this.spaceUsedChart.render().el);\n\n            this.$el.find('TABLE').dataTable({\n                // bFilter: false\n                sDom: '<\"top\">rt<\"bottom\"><\"clear\">',\n            });\n\n            this.$el.find('.space-usage-table-container').tabs();\n\n            return this;\n        },\n\n    });\n","module.exports = \"<div class=\\\"space-usage-summary\\\"></div>\\n<div class=\\\"space-usage-table-container\\\">\\n\\n    <ul>\\n        <li><a href=\\\"#space-usage-volumes-tab\\\">Volumes</a></li>\\n        <li><a href=\\\"#space-usage-snapshots-tab\\\">Snapshots</a></li>\\n    </ul>\\n\\n    <div id=\\\"space-usage-volumes-tab\\\">\\n        <div>Top Volume Consumers</div>\\n        <TABLE>\\n            <THEAD>\\n                <TH>Volume</TH>\\n                <TH style=\\\"width: 150px;\\\">Used (GB)</TH>\\n            </THEAD>\\n            <TBODY>\\n                <TR>\\n                    <TD>VolumeA</TD>\\n                    <TD>1.5GB</TD>\\n                </TR>\\n                <TR>\\n                    <TD>VolumeB</TD>\\n                    <TD>1.1GB</TD>\\n                </TR>\\n                <TR>\\n                    <TD>VolumeC</TD>\\n                    <TD>3GB</TD>\\n                </TR>\\n                <TR>\\n                    <TD>VolumeD</TD>\\n                    <TD>22GB</TD>\\n                </TR>\\n                <TR>\\n                    <TD>VolumeC</TD>\\n                    <TD>3GB</TD>\\n                </TR>\\n                <TR>\\n                    <TD>VolumeD</TD>\\n                    <TD>22GB</TD>\\n                </TR>\\n                <TR>\\n                    <TD>VolumeC</TD>\\n                    <TD>3GB</TD>\\n                </TR>\\n                <TR>\\n                    <TD>VolumeD</TD>\\n                    <TD>22GB</TD>\\n                </TR>\\n            </TBODY>    \\n        </TABLE>\\n    </div>\\n\\n    <div id=\\\"space-usage-snapshots-tab\\\">\\n    </div>\\n\\n    \\n</div>\\n<div style=\\\"clear: left;\\\"/>\"","var Backbone = require('backbone');\n\nmodule.exports = Backbone.Model.extend({\n    defaults: {\n        message: 'Loading results...',\n    },\n});\n","module.exports = \"<div style=\\\"height: 20px;\\\">\\n    <div class=\\\"loading-container\\\">\\n        <div class=\\\"loading-spinner\\\" style=\\\"float: left;\\\"/>\\n        <div class=\\\"loading-message\\\" style=\\\"float: left; margin-left: 8px;\\\"><%= message %></div>\\n        <div style=\\\"clear: left;\\\"/>\\n    </div>\\n</div>\"","const $ = require('jquery');\nconst _ = require('underscore');\nvar Marionette = require('backbone.marionette'),\n    tpl = require('raw-loader!./DataProtectionView.html'),\n    errorTpl = require('raw-loader!app/templates/components/error.html'),\n    DisasterRecoveryModel = require('./DisasterRecoveryModel'),\n    LocalRetentionModel = require('./LocalRetentionModel'),\n    RPOModel = require('./RPOModel'),\n    DisasterRecoveryView = require('./DisasterRecoveryView'),\n    LocalRetentionView = require('./LocalRetentionView'),\n    RPOView = require('./RPOView'),\n    Spinner = require('app/views/components/Spinner');\n\nvar template = _.template(tpl);\n\nmodule.exports = Marionette.ItemView.extend(\n    /** @lends views/components/dashboard/DataProtectionView.prototype */ {\n\n        /**\n         * @classdesc Renders the Data Protection section of the Dashboard.\n         * @name views/components/dashboard/DataProtectionView\n         * @constructor\n         * @augments Marionette.ItemView\n         */\n\n        className: 'data-protection-view',\n\n        render: function () {\n            this.$el.html(template());\n\n            var self = this;\n\n            this.disasterRecoveryModel = new DisasterRecoveryModel({});\n            this.localRetentionModel = new LocalRetentionModel({});\n            this.rpoModel = new RPOModel({});\n\n            var handleErrorRPO = function (response) {\n                var message = 'RPO Information is not available.';\n                var errorTemplate = _.template(errorTpl);\n                self.$el.prepend(errorTemplate({\n                    message: message,\n                }));\n            };\n            var handleErrorLR = function (response) {\n                var message = 'Local Retention Information is not available.';\n                var errorTemplate = _.template(errorTpl);\n                self.$el.prepend(errorTemplate({\n                    message: message,\n                }));\n            };\n            var handleErrorDR = function (response) {\n                var message = 'DR Information is not available.';\n                var errorTemplate = _.template(errorTpl);\n                self.$el.prepend(errorTemplate({\n                    message: message,\n                }));\n            };\n\n            this.spinner = new Spinner();\n            this.$el.find('#data-protection-spinner').append(this.spinner.render().el);\n\n            $.when(\n                // fetch RPO\n                this.rpoModel.fetch()\n                    .done(function () {\n                        self.rpoView = new RPOView({ model: self.rpoModel });\n                        self.$el.find('.rpo-container').append(self.rpoView.render().el);\n                    }).fail(handleErrorRPO),\n                // fetch loca retention\n                this.localRetentionModel.fetch()\n                    .done(function () {\n                        self.localRetentionView = new LocalRetentionView({\n                            model: self.localRetentionModel,\n                        });\n                        self.$el.find('.local-retention-container').append(\n                            self.localRetentionView.render().el);\n                    }).fail(handleErrorLR),\n                // fetch DR\n                this.disasterRecoveryModel.fetch()\n                    .done(function () {\n                        self.disasterRecoveryView = new DisasterRecoveryView({\n                            model: self.disasterRecoveryModel,\n                        });\n                        self.$el.find('.disaster-recovery-container').append(\n                            self.disasterRecoveryView.render().el);\n                    }).fail(handleErrorDR),\n            ).always(function () {\n                self.spinner.hide();\n            });\n\n            return this;\n        },\n\n        onDestroy: function () {\n\n            // cleanup models\n            if (this.disasterRecoveryModel) {\n                this.disasterRecoveryModel.clear({ silent: true });\n                delete this.disasterRecoveryModel;\n            }\n            if (this.localRetentionModel) {\n                this.localRetentionModel.clear({ silent: true });\n                delete this.localRetentionModel;\n            }\n            if (this.rpoModel) {\n                this.rpoModel.clear({ silent: true });\n                delete this.rpoModel;\n            }\n\n            // cleanup views\n            if (this.rpoView) {\n                this.rpoView.destroy();\n                delete this.rpoView;\n            }\n            if (this.localRetentionView) {\n                this.localRetentionView.destroy();\n                delete this.localRetentionView;\n            }\n            if (this.disasterRecoveryView) {\n                this.disasterRecoveryView.destroy();\n                delete this.disasterRecoveryView;\n            }\n        },\n\n    });\n","module.exports = \"<div id=\\\"data-protection-spinner\\\"></div>\\n<div class=\\\"rpo-container\\\"></div>\\n<div class=\\\"local-retention-container\\\"></div>\\n<div class=\\\"disaster-recovery-container\\\"></div>\\n<div style=\\\"clear: left;\\\"></div>\"","var Backbone = require('backbone');\n\nmodule.exports = Backbone.Model.extend(\n    /** @lends models/dashboard/RPOModel.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name models/dashboard/RPOModel\n         * @constructor\n         * @augments Backbone.Model\n         */\n\n\n        defaults: {\n            categories: [],\n            series: [],\n        },\n\n        // override the default URL so we can specify a custom format\n        url: function () {\n            return this.api().pod().account().segment('/dashboard/rpo');\n        },\n    });\n","const _ = require('underscore');\nconst { Highstock: Highcharts } = require('progeny/modules/nimble/highchartsProxy');\nvar Marionette = require('backbone.marionette'),\n    DisasterRecoveryModel = require('./DisasterRecoveryModel'),\n    DataProtectionLegend = require('./DataProtectionLegend');\n\nmodule.exports = Marionette.ItemView.extend(\n    /** @lends views/components/dashboard/DisasterRecoveryView.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name views/components/dashboard/DisasterRecoveryView\n         * @constructor\n         * @augments Marionette.ItemView\n         */\n\n        template: false,\n\n        className: 'disaster-recovery-view',\n\n        renderChart: function (container, categories, series) {\n            this.chart = new Highcharts.Chart({\n                chart: {\n                    type: 'column',\n                    renderTo: container,\n                    height: 350,\n                    events: {\n                        redraw: function () {\n\n                        },\n                        load: function () {\n                            var chart = this;\n                            _.delay(function () {\n                                chart.reflow.call(chart);\n                            }, 50);\n                        },\n                    },\n                },\n                credits: {\n                    enabled: false,\n                },\n                title: {\n                    text: 'Disaster Recovery',\n                },\n                subtitle: {\n                    text: 'Applications Derived by the Volume Performance Policy',\n                },\n                legend: {\n                    enabled: true,\n                },\n                xAxis: {\n                    categories: categories,\n                    crosshair: false,\n                    labels: {\n                        // pass-through formatter overrides global formatter which expects dateTimeLabelFormat\n                        formatter: function () {\n                            return this.value;\n                        },\n                    },\n                },\n                yAxis: {\n                    min: 0,\n                    max: 100,\n                    title: {\n                        text: '% of Application Total Data',\n                    },\n                    labels: {\n                        enabled: true,\n                    },\n                },\n                tooltip: {\n                    enabled: true,\n                    valueDecimals: 2,\n                    valueSuffix: ' TiB',\n                    formatter: function () {\n                        var pctVolUsed = Highcharts.numberFormat(this.point.y, 0) + '%',\n                            volUsed = Highcharts.numberFormat(this.point.values.volumeUsedTib, 2) + ' TiB',\n                            policy = '<span style=\"color: ' + this.series.color + '\">' + this.point.section + '</span>',\n                            s = '<b>' + pctVolUsed + ' (' + volUsed + ')</b> of your total ' + policy + ' data is ';\n                        var category = this.x;\n                        // handle the case when grouped-category lib is used with highcharts\n                        // category is a object, i.e. {\"userOptions\":\"00:01\",\"name\":\"00:01\"};\n                        if (typeof(category) === 'object') {\n                            category = category.name;\n                        }\n                        var lowerCaseCategory = category.toLowerCase();\n                        if (lowerCaseCategory.indexOf('local') >= 0) {\n                            s += ' protected locally';\n                        } else if (lowerCaseCategory.indexOf('replicated') >= 0) {\n                            s += ' replicated';\n                        } else if (lowerCaseCategory.indexOf('unprotected') >= 0) {\n                            s += ' <span style=\"font-weight: bold; color: red;\">' + category + '</span>';\n                        } else {\n                            throw new Error('Unexpected type: ' + category);\n                        }\n                        return s;\n                    },\n                },\n                series: series,\n                plotOptions: {\n                    series: {\n                        minPointLength: 3,\n                    },\n                },\n            });\n        },\n\n        onRender: function () {\n\n            var categories = this.model.get('categories'),\n                series = this.model.get('series');\n\n            if (series.length === 0) {\n                this.$el.append('<div>No disaster recovery information available.</div>');\n            } else {\n                for (var i = 0; i < series.length; i++) {\n                    var seriesItem = series[i];\n                    seriesItem.color = DataProtectionLegend.getSeriesColor(seriesItem.name);\n                }\n\n                this.renderChart(this.el, categories, series);\n            }\n        },\n\n        onDestroy: function () {\n            if (this.chart) {\n                this.chart.destroy();\n                delete this.chart;\n            }\n        },\n\n    });\n","const _ = require('underscore');\nconst { Highstock: Highcharts } = require('progeny/modules/nimble/highchartsProxy');\nvar Marionette = require('backbone.marionette'),\n    LocalRetentionModel = require('./LocalRetentionModel'),\n    DataProtectionLegend = require('./DataProtectionLegend');\n\nmodule.exports = Marionette.ItemView.extend(\n    /** @lends views/components/dashboard/LocalRetentionView.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name views/components/dashboard/LocalRetentionView\n         * @constructor\n         * @augments Marionette.View\n         */\n\n        template: false,\n\n        className: 'local-retention-view',\n\n        renderChart: function (container, categories, series) {\n            this.chart = new Highcharts.Chart({\n                chart: {\n                    type: 'column',\n                    renderTo: container,\n                    height: 350,\n                    events: {\n                        redraw: function () {\n\n                        },\n                        load: function () {\n                            var chart = this;\n                            _.delay(function () {\n                                chart.reflow.call(chart);\n                            }, 50);\n                        },\n                    },\n                },\n                credits: {\n                    enabled: false,\n                },\n                title: {\n                    text: 'Local Retention Configuration',\n                },\n                subtitle: {\n                    text: 'Applications Derived by the Volume Performance Policy',\n                },\n                legend: {\n                    enabled: true,\n                },\n                xAxis: {\n                    type: 'category',\n                    categories: categories,\n                    crosshair: false,\n                    title: {\n                        text: 'Snapshot Schedule Retention Period',\n                    },\n                    labels: {\n                        formatter: function () {\n                            return DataProtectionLegend.scheduleCategoryLabelFormatter(this.value);\n                        },\n                    },\n                },\n                yAxis: {\n                    min: 0,\n                    max: 100,\n                    title: {\n                        text: '% of Application Total Data',\n                    },\n                    labels: {\n                        enabled: true,\n                    },\n                },\n                tooltip: {\n                    enabled: true,\n                    valueDecimals: 2,\n                    valueSuffix: ' TiB',\n                    formatter: function () {\n                        var pctVolUsed = Highcharts.numberFormat(this.point.y, 0) + '%',\n                            volUsed = Highcharts.numberFormat(this.point.values.volumeUsedTib, 2) + ' TiB',\n                            policy = '<span style=\"color: ' + this.series.color + '\">' + this.point.section + '</span>',\n                            retainedVal = DataProtectionLegend.scheduleCategoryLabelFormatter(this.x),\n                            s = '<b>' + pctVolUsed + ' (' + volUsed + ')</b> of your total ' + policy +\n                                ' data will be retained for ' + retainedVal;\n                        return s;\n                    },\n                },\n                plotOptions: {\n                    series: {\n                        dataLabels: {\n                            enabled: false,\n                            formatter: function () {\n                                return Highcharts.numberFormat(this.y, 2) + ' TiB';\n                            },\n                        },\n                        minPointLength: 3,\n                    },\n                },\n                series: series,\n            });\n        },\n\n        onRender: function () {\n\n            var categories = this.model.get('categories'),\n                series = this.model.get('series');\n\n            if (series.length === 0) {\n                this.$el.append('<div>No retention information available.</div>');\n            } else {\n                for (var i = 0; i < series.length; i++) {\n                    var seriesItem = series[i];\n                    seriesItem.color = DataProtectionLegend.getSeriesColor(seriesItem.name);\n                }\n\n                this.renderChart(this.el, categories, series);\n            }\n        },\n\n        onDestroy: function () {\n            if (this.chart) {\n                this.chart.destroy();\n                delete this.chart;\n            }\n        },\n\n    });\n","const _ = require('underscore');\nconst { Highstock: Highcharts } = require('progeny/modules/nimble/highchartsProxy');\nvar Marionette = require('backbone.marionette'),\n    LocalRetentionModel = require('./LocalRetentionModel'),\n    DataProtectionLegend = require('./DataProtectionLegend');\n\nmodule.exports = Marionette.ItemView.extend(\n    /** @lends views/components/dashboard/RPOView.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name views/components/dashboard/RPOView\n         * @constructor\n         * @augments Marionette.ItemView\n         */\n\n        template: false,\n\n        className: 'rpo-view',\n\n        renderChart: function (container, categories, series) {\n            var self = this;\n            this.chart = new Highcharts.Chart({\n                chart: {\n                    type: 'column',\n                    renderTo: container,\n                    height: 350,\n                    events: {\n                        redraw: function () {\n\n                        },\n                        load: function () {\n                            var chart = this;\n                            _.delay(function () {\n                                chart.reflow.call(chart);\n                            }, 50);\n                        },\n                    },\n                },\n                credits: {\n                    enabled: false,\n                },\n                title: {\n                    text: 'RPO',\n                },\n                subtitle: {\n                    text: 'Applications Derived by the Volume Performance Policy',\n                },\n                legend: {\n                    enabled: true,\n                },\n                xAxis: {\n                    type: 'category',\n                    title: {\n                        text: 'Snapshot Schedule Intervals',\n                    },\n                    categories: categories,\n                    crosshair: false,\n                    labels: {\n                        formatter: function () {\n                            return DataProtectionLegend.scheduleCategoryLabelFormatter(this.value);\n                        },\n                    },\n                },\n                yAxis: {\n                    min: 0,\n                    max: 100,\n                    title: {\n                        text: '% of Application Total Data',\n                    },\n                    labels: {\n                        enabled: true,\n                    },\n                },\n                tooltip: {\n                    enabled: true,\n                    valueDecimals: 2,\n                    valueSuffix: ' TiB',\n                    formatter: function () {\n                        var s = '<b>' + Highcharts.numberFormat(this.point.y, 0) + '% (' +\n                            Highcharts.numberFormat(this.point.values.volumeUsedTib, 2) + ' TiB)</b> of your ' +\n                            'total <span style=\"color: ' + this.series.color + '\">' +\n                            this.point.section +\n                            '</span>' +\n                            '<span> data has an RPO of <b>' +\n                            DataProtectionLegend.scheduleCategoryLabelFormatter(this.x) +\n                            '</b></span>';\n                        return s;\n                    },\n                },\n                plotOptions: {\n                    series: {\n                        dataLabels: {\n                            enabled: false,\n                            formatter: function () {\n                                return Highcharts.numberFormat(this.y, 2) + ' TiB';\n                            },\n                        },\n                        minPointLength: 3,\n                    },\n                },\n                series: series,\n            });\n        },\n\n        onRender: function () {\n\n            var categories = this.model.get('categories'),\n                series = this.model.get('series');\n\n            if (series.length === 0) {\n                this.$el.append('<div>No RPO information available.</div>');\n            } else {\n                for (var i = 0; i < series.length; i++) {\n                    var seriesItem = series[i];\n                    seriesItem.color = DataProtectionLegend.getSeriesColor(seriesItem.name);\n                }\n\n                this.renderChart(this.el, categories, series);\n            }\n        },\n\n        onDestroy: function () {\n            if (this.chart) {\n                this.chart.destroy();\n                delete this.chart;\n            }\n        },\n\n    });\n","var Backbone = require('backbone'),\n    UpgradeSummaryItemView = require('./UpgradeSummaryItemView');\n\nmodule.exports = Backbone.View.extend(\n    /** @lends views/components/dashboard/UpgradeSummaryCollectionView.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name views/components/dashboard/UpgradeSummaryCollectionView\n         * @constructor\n         * @augments Backbone.View\n         */\n\n\n        render: function () {\n            this.$el.html(this.el);\n\n            var container = document.createDocumentFragment();\n\n            this.collection.each(function (model) {\n                var row = new UpgradeSummaryItemView({ model: model });\n                container.appendChild(row.render().el);\n            });\n\n            this.$el.append(container);\n\n            return this;\n        },\n\n    });\n","const _ = require('underscore');\nvar Backbone = require('backbone'),\n    tpl = require('raw-loader!./UpgradeSummaryItemView.html'),\n    UpgradeSummaryModel = require('./UpgradeSummaryModel');\n\nvar template = _.template(tpl);\n\nmodule.exports = Backbone.View.extend(\n    /** @lends views/components/dashboard/UpgradeSummaryItemView.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name views/components/dashboard/UpgradeSummaryItemView\n         * @constructor\n         * @augments Backbone.View\n         */\n\n\n        className: 'upgrade-summary-item-view',\n\n        render: function () {\n            // this.$el.html('<div>blah</div>');\n            this.$el.html(template(this.model.toJSON()));\n            return this;\n        },\n\n    });\n","module.exports = \"<div>\\n    <TABLE>\\n        <THEAD>\\n            <TH class=\\\"name-column\\\"></TH>\\n            <TH ALIGN=\\\"LEFT\\\" class=\\\"first-value-column\\\">Current</TH>\\n            <TH ALIGN=\\\"LEFT\\\" class=\\\"second-value-column\\\">Recommended</TH>\\n        </THEAD>\\n        <TBODY>\\n            <TR>\\n                <TD class=\\\"name-column\\\">Model</TD>\\n                <TD class=\\\"first-value-column\\\"><%= currentModel %></TD>\\n                <TD class=\\\"second-value-column recommended-model\\\"><%= recModel %></TD>\\n            </TR>\\n            <TR>\\n                <TD class=\\\"name-column\\\">Capacity</TD>\\n                <TD class=\\\"first-value-column\\\"><%= currentCapacity %></TD>\\n                <TD class=\\\"second-value-column\\\"><%= recCapacity %></TD>\\n            </TR>\\n            <TR>\\n                <TD class=\\\"name-column\\\">Controller</TD>\\n                <TD class=\\\"first-value-column\\\"><%= currentController %></TD>\\n                <TD class=\\\"second-value-column\\\"><%= recController %></TD>\\n            </TR>\\n            <TR>\\n                <TD class=\\\"name-column\\\">Cache</TD>\\n                <TD class=\\\"first-value-column\\\"><%= currentCache %></TD>\\n                <TD class=\\\"second-value-column\\\"><%= recCache %></TD>\\n            </TR>\\n        </TBODY>\\n    </TABLE>\\n\\n</div>\"","const $ = require('jquery');\nconst _ = require('underscore');\nvar Marionette = require('backbone.marionette'),\n    tpl = require('raw-loader!./UpgradesView.html'),\n    errorTpl = require('raw-loader!app/templates/components/error.html'),\n    UpgradeSummaryCollection = require('./UpgradeSummaryCollection'),\n    CapacityForecastCollection = require('app/modules/capacity_report/collections/CapacityForecastCollection'),\n    CardCollectionView = require('app/views/cards/CardCollectionView'),\n    ArrayUpgradeCard = require('./ArrayUpgradeCard');\n\nmodule.exports = Marionette.ItemView.extend({\n\n    template: _.template(tpl),\n\n    className: 'upgrades-view',\n\n    upgradeSummaryCollection: null,\n\n    ui: {\n        downloadLink: '.download-link',\n        spinner: '.loading-spinner2',\n    },\n\n    /**\n     * Overridden Backbone render method.\n     * @return {UpgradesView} Returns this UpgradesView instance (useful for chaining).\n     */\n    onRender: function () {\n        this.ui.spinner.show();\n\n        this.upgradeSummaryCollection = new UpgradeSummaryCollection([], {});\n\n        // we reuse the existing capacity forecast collection (used on the capacity tab),\n        // but an optimization would be to only fetch capacity info for arrays that need upgrades\n        this.capacityCollection = new CapacityForecastCollection([], {});\n\n        this.ui.downloadLink\n            .attr('href', this.api().pod().account().segment('/dashboard/upgrade_export'));\n\n        this.loadCollections();\n    },\n\n    onDestroy: function () {\n        if (this.collectionView) {\n            this.collectionView.destroy();\n            delete this.collectionView;\n        }\n        if (this.upgradeSummaryCollection) {\n            this.upgradeSummaryCollection.reset();\n            delete this.upgradeSummaryCollection;\n        }\n        if (this.capacityCollection) {\n            this.capacityCollection.reset();\n            delete this.capacityCollection;\n        }\n    },\n\n    loadCollections: function () {\n        var self = this;\n\n        var handleError = function (response) {\n            var message = 'Upgrade Information is not available.';\n            var errorTemplate = _.template(errorTpl);\n            self.$el.append(errorTemplate({\n                message: message,\n            }));\n        };\n\n        $.when(\n            this.upgradeSummaryCollection.fetch()\n                .done(function () {\n                    self.renderCollection();\n                })\n                .fail(function () {\n\n                }),\n            this.capacityCollection.fetch()\n                .done(function () {\n\n                })\n                .fail(function () {\n\n                }),\n        ).done(function () {\n\n            var arrayUpgradeMap = {};\n            self.upgradeSummaryCollection.each(function (arrayUpgradeModel) {\n                arrayUpgradeMap[arrayUpgradeModel.get('serialNumber')] = arrayUpgradeModel;\n            });\n\n            self.capacityCollection.each(function (capacityForecastModel) {\n                // if this array has a recommended upgrade\n                var arrayUpgradeModel = arrayUpgradeMap[capacityForecastModel.get('serialNumber')];\n                if (arrayUpgradeModel) {\n                    arrayUpgradeModel.set('capacity', capacityForecastModel);\n                }\n            });\n\n        }).always(function () {\n            self.ui.spinner.hide();\n        }).fail(handleError);\n    },\n\n    renderCollection: function () {\n        var contentEl = this.$('.upgrade-collection-view');\n        this.collectionView = new CardCollectionView({\n            collection: this.upgradeSummaryCollection,\n            cardClass: ArrayUpgradeCard,\n            emptyCollectionMessage: 'No upgrades recommended.',\n            // ,\n            // footer: capacityViewLegendTemplate()\n        });\n        contentEl.empty();\n        contentEl.append(this.collectionView.render().el);\n\n        if (this.upgradeSummaryCollection.isEmpty()) {\n            $('div.upgrade-section').addClass('hidden-print');\n        }\n    },\n\n});\n","module.exports = \"<div class=\\\"upgrade-section\\\">\\n    <h2>Upgrade Needs</h2>\\n    <div class=\\\"upgrade-section-notes\\\">Note: Upgrade recommendations are based on the last 4 weeks of activity.</div>\\n    <div class=\\\"upgrade-needs-container\\\">\\n        <a href=\\\"#\\\" class=\\\"download-link button secondary small hidden-print\\\" style=\\\"float: right; margin-top: -75px;\\\"><i class=\\\"fa fa-download\\\"></i> <span>Export</span></a>\\n        <div class=\\\"upgrade-collection-view\\\"></div>\\n        <div class=\\\"loading-spinner2\\\">Loading upgrades...</div>\\n    </div>\\n</div>\"","var Backbone = require('backbone'),\n    ArrayUpgradeModel = require('./ArrayUpgradeModel');\n\nmodule.exports = Backbone.Collection.extend(\n    /** @lends collections/dashboard/UpgradeSummaryCollection.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name collections/dashboard/UpgradeSummaryCollection\n         * @constructor\n         * @augments Backbone.Collection\n         */\n\n\n        model: ArrayUpgradeModel,\n\n        /**\n         * Overridden url method for fetching recommendations for a given customer.\n         * @return {String} The REST URL for this collection.\n         */\n        url: function () {\n            return this.api().pod().account().segment('/dashboard/upgrade_summary');\n        },\n    });\n","const _ = require('underscore');\nvar Backbone = require('backbone'),\n    ArrayModel = require('app/models/ArrayModel'),\n    CapacitySummaryModel = require('./CapacitySummaryModel'),\n    CapacityForecastModel = require('app/models/capacity/CapacityForecastModel'),\n    UpgradeSummaryModel = require('./UpgradeSummaryModel');\n\nmodule.exports = ArrayModel.extend({\n    defaults: _.defaults({\n        utilization: [],\n        capacity: new CapacityForecastModel(),\n        upgradeSummary: new UpgradeSummaryModel(),\n    }, ArrayModel.prototype.defaults),\n\n    parse: function (response, options) {\n\n        var utilizationData = [];\n        for (var i = 0; i < response.utilization.length; i++) {\n            var data = response.utilization[i],\n                cacheColors = this.getColorCodedBreakdown(data.cache),\n                cpuColors = this.getColorCodedBreakdown(data.cpu);\n\n            utilizationData.push({\n                ts: data.ts,\n                cache: data.cache,\n                cpu: data.cpu,\n                cacheGreen: cacheColors.green,\n                cacheYellow: cacheColors.yellow,\n                cacheRed: cacheColors.red,\n                cpuGreen: cpuColors.green,\n                cpuYellow: cpuColors.yellow,\n                cpuRed: cpuColors.red,\n            });\n        }\n\n        // take the raw response from the server and wrap some of the\n        // properties in their backbone model counterparts.\n        var obj = _.defaults({\n            utilization: utilizationData,\n            capacity: new CapacitySummaryModel(response.capacity),\n            upgradeSummary: new UpgradeSummaryModel(response.upgradeSummary),\n        }, response);\n\n        return obj;\n    },\n\n    /**\n     * Helper method for returning the color coded breakdown for a given usage.\n     * 0-79% is green, 80-99% is yellow, 100%+ is red.\n     * @param  {Number} usage The current usage.\n     * @return {Object}       Returns a parameterized object containg the [ green, yellow, red ] values.\n     */\n    getColorCodedBreakdown: function (usage) {\n        var green, yellow, red;\n\n        if (usage >= 100) {\n            red = usage - 100;\n            yellow = 20;\n            green = 80;\n        } else if (usage >= 80) {\n            red = 0;\n            yellow = usage - 80;\n            green = 79;\n        } else {\n            red = 0;\n            yellow = 0;\n            green = usage;\n        }\n\n        return {\n            green: green,\n            yellow: yellow,\n            red: red,\n        };\n    },\n});\n","/**\n * A mixin for a Backbone.Collection or Backbone.Model that is an subresource of the /arrays resource\n * Provides code reuse for handling the 'arraySn' option and constructing the appropriate base URL.\n */\nmodule.exports = {\n\n    arraySn: undefined,\n\n    initialize: function (arg1, options) {\n        if (options) {\n            this.arraySn = options.arraySn;\n        }\n\n        this.listenTo(this, 'api:create', this.decorateApi);\n    },\n\n    decorateApi: function (api) {\n        console.assert(this.arraySn, 'Missing arraySn parameter');\n        return api.array(this.arraySn);\n    },\n\n};\n","var Backbone = require('backbone');\n\nmodule.exports = Backbone.Model.extend(\n    /** @lends models/dashboard/CapacitySummaryModel.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name models/dashboard/CapacitySummaryModel\n         * @constructor\n         * @augments Backbone.Model\n         */\n\n        defaults: {\n            serialNumber: null,\n            hostname: null,\n            details: [],\n        },\n    });\n","var Backbone = require('backbone'),\n    CapacityForecastModel = require('app/models/capacity/CapacityForecastModel');\n\nmodule.exports = Backbone.Collection.extend(\n    /** @lends collections/capacity/CapacityForecastCollection.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name collections/capacity/CapacityForecastCollection\n         * @constructor\n         * @augments Backbone.Collection\n         */\n\n        model: CapacityForecastModel,\n\n        monthRange: 3,\n\n        url: function () {\n            return this.api().pod().account()\n                .segment('capacity')\n                .addQuery('monthRange', this.monthRange);\n        },\n\n    });\n","const _ = require('underscore');\nvar $ = require('jquery'),\n    jQueryUI = require('jqueryui'),\n    Marionette = require('backbone.marionette'),\n    tpl = require('raw-loader!app/templates/cards/CardCollectionView.html'),\n    Spinner = require('app/views/components/Spinner');\n\nvar template = _.template(tpl);\n\nmodule.exports = Marionette.ItemView.extend(\n    /** @lends views/cards/CardCollectionView.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name views/cards/CardCollectionView\n         * @constructor\n         * @augments Backbone.View\n         */\n\n\n        /**\n         * Required parameters that must be specified in the constructor.\n         * @type {Array}\n         */\n        requiredParams: [\n            /**\n             * The card class to instantiate.\n             */\n            'cardClass',\n\n            /**\n             * The message to be displayed if the collection is empty.\n             */\n            'emptyCollectionMessage',\n        ],\n\n        /**\n         * Optional parameters that can be included for additional functionality.\n         * @type {Array}\n         */\n        optionalParams: [\n\n            /**\n             * A header string to be prepended to the template before the main collection contents.\n             */\n            'header',\n\n            /**\n             * A footer string to be appended to the template after the main collection contents.\n             */\n            'footer',\n        ],\n\n        currentView: null,\n\n        className: 'card-collection-view',\n\n        renderedViews: [],\n\n        /**\n         * Overridden Backbone initialize method.\n         * @param  {Object} options Options param object.\n         * @override\n         */\n        initialize: function (options) {\n            _.bindAll(this, 'renderList');\n\n            // validate each of the required parameters\n            _.each(this.requiredParams, function (param) {\n                if (!options[param]) {\n                    throw new Error(param + ' must be specified.');\n                }\n                this[param] = options[param];\n            }, this);\n\n            // add each of the optional parameters\n            _.each(this.optionalParams, function (param) {\n                this[param] = options[param];\n            }, this);\n        },\n\n        onDestroy: function () {\n            console.warn('CardCollectionView:onDestroy()');\n            this.removeSubviews();\n            if (this.spinner) {\n                this.spinner.destroy();\n            }\n        },\n\n        /**\n         * Overridden Backbone render method.\n         * @return {CardCollectionView} Returns this instance (useful for chaining).\n         * @override\n         */\n        render: function () {\n            this.$el.html(template({\n                emptyCollectionMessage: this.emptyCollectionMessage,\n            }));\n\n            // render the loading spinner\n            this.spinner = new Spinner();\n            this.$el.find('.spinner').append(this.spinner.render().el);\n\n            // render the list of items\n            this.renderList();\n\n            return this;\n        },\n\n        /**\n         * Renders the list of cards.\n         * @return {CardCollectionView} Returns this instance (useful for chaining).\n         * @private\n         */\n        renderList: function () {\n            // optimize the rendering of the collection by first rendering to a DocumentFragment\n            // then appending it to avoid triggering multiple reflows.\n            var self = this;\n\n            if (this.collection.isEmpty()) {\n                this.$el.find('.empty-collection').show();\n                this.$el.find('.nonempty-collection').hide();\n            } else {\n\n                if (this.header) {\n                    this.$el.find('.header').append(this.header);\n                }\n\n                var container = document.createDocumentFragment();\n\n                // add a view for each model to the document fragment\n                this.collection.each(function (model) {\n\n                    // create a new\n                    var row = new self.cardClass({ model: model });\n                    container.appendChild(row.render().el);\n\n                    // track the rendered view so we can remove it\n                    self.renderedViews.push(row);\n                });\n\n                // finally append the fragment\n                this.$el.find('.card-collection-contents').append(container);\n\n                if (this.footer) {\n                    this.$el.find('.footer').append(this.footer);\n                }\n            }\n\n            this.spinner.hide();\n\n            return this;\n        },\n\n        /**\n         * Helper method to ensure proper closing of each rendered sub view.\n         * @private\n         */\n        removeSubviews: function () {\n            for (var i = this.renderedViews.length - 1; i >= 0; i--) {\n                this.renderedViews[i].destroy();\n            }\n        },\n    });\n","module.exports = \"<div class=\\\"empty-collection\\\" style=\\\"display: none;\\\">\\n    <span class=\\\"ui-icon ui-icon-info\\\"></span>\\n    <span class=\\\"empty-collection-message\\\"><%= emptyCollectionMessage %></span>\\n</div>\\n<div class=\\\"nonempty-collection\\\">    \\n    <div class=\\\"header\\\"/>\\n    <div class=\\\"card-collection-contents\\\"/>\\n    <div class=\\\"footer\\\"/>\\n    <div class=\\\"spinner\\\"/>\\n</div>\\n\\n\"","const _ = require('underscore');\nconst { Highstock } = require('progeny/modules/nimble/highchartsProxy');\n\nvar BaseArrayCard = require('app/views/cards/array/BaseArrayCard'),\n    Spinner = require('app/views/components/Spinner'),\n    UpgradeCapacityDetailsView = require('./UpgradeCapacityDetailsView'),\n    CapacityForecastChart = require('app/views/components/capacity/CapacityForecastChart'),\n    CpuAreaChart = require('./CpuAreaChart'),\n    CacheAreaChart = require('./CacheAreaChart'),\n    tpl = require('raw-loader!./ArrayUpgradeCard.html');\n\nvar template = _.template(tpl);\n\nmodule.exports = BaseArrayCard.extend({\n\n    showDetailsLink: false,\n\n    modelEvents: {\n        'change:capacity': 'onChangeCapacity',\n    },\n\n    attributes: function () {\n        return { 'data-array-type': this.model.get('arrayType') };\n    },\n    /**\n     * Overridden onClose method to ensure we cleanup.\n     * @override\n     */\n    onClose: function () {\n\n    },\n\n    onChangeCapacity: function () {\n        var capacityForecastChart = new CapacityForecastChart({\n            model: this.model.get('capacity'),\n            chartOptions: {\n                height: 150,\n                tooltipsEnabled: false,\n                enableMouseTracking: false,\n                showYAxisLabel: false,\n                showBoundsSeries: false,\n                tickInterval: 24 * 3600 * 1000 * 90,\n                dateTimeLabelFormats: {\n                    month: '%b',\n                },\n            },\n        });\n        this.$el.find('.dashboard-capacity-chart').html(capacityForecastChart.render().el);\n    },\n\n    /**\n     * Overrideen renderMainContent method to render the fluid main content region.\n     * @param  {jQueryEl} $containerEl The container element to append to.\n     * @override\n     */\n    renderContents: function ($containerEl) {\n        this.spinner = new Spinner();\n\n        $containerEl.append(template({ ...this.model.toJSON(), Highcharts: Highstock }));\n\n        var upgradeSummaryModel = this.model.get('upgradeSummary'),\n            recommendScaleOut = upgradeSummaryModel.get('recommendScaleOut'),\n            recommendCache = upgradeSummaryModel.get('recommendCacheUpgrade'),\n            recommendDisk = upgradeSummaryModel.get('recommendDiskUpgrade'),\n            recommendController = upgradeSummaryModel.get('recommendControllerUpgrade'),\n            capacityView = new UpgradeCapacityDetailsView({ model: this.model }),\n            cpuView = new CpuAreaChart({ model: this.model }),\n            cacheView = new CacheAreaChart({ model: this.model });\n\n        // add the charts\n        // $containerEl.find('.dashboard-capacity-chart').append( capacityView.render().el );\n        $containerEl.find('.dashboard-cpu-chart').append(cpuView.render().el);\n        $containerEl.find('.dashboard-cache-chart').append(cacheView.render().el);\n\n        // this.addReadableUpgradeNote($containerEl);\n    },\n\n    addReadableUpgradeNote: function ($containerEl) {\n        var upgradeSummaryModel = this.model.get('upgradeSummary'),\n            currentController = this.model.get('currentController'),\n            recommendedController = this.model.get('recommendedController'),\n            recommendScaleOut = upgradeSummaryModel.get('recommendScaleOut'),\n            recommendCache = upgradeSummaryModel.get('recommendCacheUpgrade'),\n            recommendDisk = upgradeSummaryModel.get('recommendDiskUpgrade'),\n            recommendController = upgradeSummaryModel.get('recommendControllerUpgrade'),\n            recommendedComponents = [];\n\n        if (recommendDisk) {\n            recommendedComponents.push('capacity');\n        }\n        if (recommendController) {\n            recommendedComponents.push('cpu');\n        }\n        if (recommendCache) {\n            recommendedComponents.push('cache');\n        }\n\n        var s = '';\n        for (var i = 0; i < recommendedComponents.length; i++) {\n            s += recommendedComponents[i];\n\n            if (i < recommendedComponents.length - 2) {\n                s += ', ';\n            }\n            if (i < recommendedComponents.length - 1) {\n                s += ' and ';\n            }\n        }\n\n        var msg = null;\n        if (recommendScaleOut) {\n            msg = 'Note: Scale out is recommended based on your ' + s + ' needs.';\n        } else if (!recommendController && currentController != recommendedController) {\n            msg = 'Note: A controller upgrade is required to support the recommended ' + s + ' upgrades';\n        }\n\n        if (msg) {\n            $containerEl.find('.upgrade-contents').append(\n                '<div class=\"upgrade-note\">' +\n                '<span class=\"ui-icon ui-icon-info\"></span> ' +\n                '<span>' + msg + '</span>' +\n                '</div>',\n            );\n        }\n    },\n});\n","const _ = require('underscore');\nvar $ = require('jquery'),\n    jQueryUI = require('jqueryui'),\n    Marionette = require('backbone.marionette'),\n    AssetHeader = require('app/views/components/asset/AssetHeader'),\n    tpl = require('raw-loader!app/templates/cards/array/BaseArrayCard.html');\n\nmodule.exports = Marionette.LayoutView.extend({\n\n    template: _.template(tpl),\n\n    className: 'array-card',\n\n    regions: {\n        headerRegion: '.header-region',\n        footerRegion: '.array-card-footer',\n    },\n\n    /**\n     * An optional parameter that can be specified to control whether\n     * the \"View Details\" link is shown.  True by default.\n     */\n    showDetailsLink: true,\n\n    /**\n     * An optional parameter to control whether the footer is shown or not.\n     * True by default\n     */\n    showFooter: true,\n\n    onClose: function () {\n        console.log('BaseArrayCard::onClose()');\n        if (this.recommendationChart) {\n            this.recommendationChart.close();\n        }\n    },\n\n    /**\n     * Overridden Backbone render method.\n     * @return {BaseArrayCard} Returns this instance (useful for chaining).\n     */\n    onRender: function () {\n        this.headerRegion.show(new AssetHeader({\n            hyperlinkHostname: true,\n            model: this.model,\n        }));\n\n        // delegate to subclass to render main and sidebar contents\n        this.renderContents(this.$el.find('.array-card-contents'));\n\n        if (this.getOption('footerView')) {\n            this.footerRegion.show(this.getOption('footerView'));\n        }\n\n        var detailsLink = this.$el.find('.details-link');\n        if (!this.showDetailsLink) {\n            detailsLink.hide();\n        } else {\n            detailsLink.tooltip({\n                tooltipClass: 'details-link-tooltip',\n            });\n        }\n\n        return this;\n    },\n\n    /**\n     * Intended to be overridden by subclasses.\n     * @param  {jQueryEl} $containerEl The jQuery element to append content to.\n     * @required\n     */\n    renderContents: function ($containerEl) {\n        // to be overidden by subclasses...\n        throw new Error('renderContents must be overridden');\n    },\n\n});\n","const _ = require('underscore');\nconst $ = require('jquery');\nvar Marionette = require('backbone.marionette');\nconst App = require('app/Application');\nvar AssetShelfCollection = require('app/collections/AssetShelfCollection');\nvar AssetShelfTooltip = require('./AssetShelfTooltip');\nvar SoftwareUpgradesView = require('./SoftwareUpgradesView');\nconst { buildUrlFromBase } = require('progeny/util/url');\nvar tpl = require('raw-loader!./AssetHeader.html');\n\nmodule.exports = Marionette.ItemView.extend({\n\n    template: _.template(tpl),\n\n    templateHelpers: function () {\n        return {\n            hyperlinkHostname: this.options.hyperlinkHostname,\n            versionSupported: _.isFunction(this.model.versionSupported) ?\n                this.model.versionSupported() :\n                this.model.versionSupported,\n            getAssetLink: buildUrlFromBase.bind(null, '/infrastructure/storage/nimble/arrays'),\n        };\n    },\n\n    className: 'array-summary-header',\n\n    events: {\n        'click .array-version a': 'onClickVersion',\n    },\n\n    onRender: function () {\n        var self = this,\n            expansionShelves = this.model.get('expansionShelves');\n        if (expansionShelves > 0) {\n\n            this.$el.find('.array-shelves').html(\n                '(+' + expansionShelves + ' ' +\n                ((expansionShelves > 1) ? 'shelves' : 'shelf') + ')');\n\n            this.assetShelfCollection = new AssetShelfCollection([], {\n                serialNumber: this.model.get('serialNumber'),\n            });\n\n            this.assetShelfTooltip = new AssetShelfTooltip({\n                collection: this.assetShelfCollection,\n            });\n\n            var shelfTooltip = this.assetShelfTooltip.render().el;\n\n            this.$el.tooltip({\n                items: '.model-info-icon',\n                tooltipClass: 'asset-details',\n                content: function (callback) {\n                    // avoid re-fetching the collection if it's already loaded\n                    if (!self.assetShelfCollectionLoaded) {\n                        self.assetShelfCollectionLoaded = true;\n                        self.assetShelfCollection.fetch().done(function () {\n                            callback(shelfTooltip.innerHTML);\n                        });\n                    } else {\n                        callback(shelfTooltip.innerHTML);\n                    }\n                },\n                // the below is to keep the tooltip visible while the mouse is\n                // inside the tooltip (allows the user to copy and paste from the tip).\n                show: null,\n                close: function (event, ui) {\n                    ui.tooltip.hover(\n                        function () {\n                            $(this).stop(true).fadeTo(400, 1);\n                        },\n                        function () {\n                            $(this).fadeOut('400', function () {\n                                $(this).remove();\n                            });\n                        },\n                    );\n                },\n            });\n\n            //Add bootstrap's popover. Used popover instead of tooltip to make it look close to other JQeuryUI tooltips used in Asset Header\n            this.$('[data-toggle=\"popover\"]').popover({\n                trigger: 'hover',\n                placement: 'bottom',\n            });\n        }\n    },\n\n    onClickVersion: function (event) {\n        event.preventDefault();\n        App.modalRegion.show(new SoftwareUpgradesView({ model: this.model }));\n    },\n\n});\n","var Backbone = require('backbone'),\n    AssetShelfModel = require('app/models/asset/AssetShelfModel');\n\nmodule.exports = Backbone.Collection.extend({\n\n    model: AssetShelfModel,\n\n    serialNumber: null,\n\n    initialize: function (attributes, options) {\n        if (!options || !options.serialNumber) {\n            throw new Error('AssetShelfCollection requires a serial number.');\n        }\n        this.serialNumber = options.serialNumber;\n    },\n\n    url: function () {\n        return this.api().array(this.serialNumber).segment('shelves');\n    },\n\n});\n","var Backbone = require('backbone');\n\nmodule.exports = Backbone.Model.extend(\n    /** @lends models/asset/AssetShelfModel.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name models/asset/AssetShelfModel\n         * @constructor\n         * @augments Backbone.Model\n         */\n\n        defaults: {\n            arraySerial: null,\n            arrayHostname: null,\n            shelfSerialNumber: null,\n            model: null,\n            position: null,\n            controllerName: null,\n            free: null,\n            capacity: null,\n            disks: null,\n            state: null,\n            shelfCount: 0,\n            usedTiB: null,\n            capacityTiB: null,\n            rawCapacity: null,\n        },\n    });\n","const _ = require('underscore');\nvar Backbone = require('backbone'),\n    tpl = require('raw-loader!./AssetShelfTooltip.html'),\n    AssetShelfTooltipDetails = require('app/views/components/asset/AssetShelfTooltipDetails'),\n    Spinner = require('app/views/components/Spinner');\n\nvar template = _.template(tpl);\n\nmodule.exports = Backbone.View.extend(\n    /** @lends views/components/asset/AssetShelfTooltip.prototype */ {\n\n        /**\n         * @classdesc Creates a tooltip on the Asset Tab with asset shelf information\n         * @name views/components/asset/AssetShelfTooltip\n         * @constructor\n         * @augments Backbone.View\n         */\n\n        initialize: function (options) {\n            this.listenTo(this.collection, 'sync', this.onCollectionLoaded);\n            this.listenTo(this.collection, 'error', this.onLoadFailed);\n        },\n\n        /**\n         * Populates the shelf info in the asset tab shelf tooltip\n         */\n        onCollectionLoaded: function () {\n            console.log('onCollectionLoaded!');\n\n            var container = document.createDocumentFragment();\n\n            // add a view for each model to the document fragment\n            this.collection.each(function (model) {\n                var row = new AssetShelfTooltipDetails({ model: model });\n                container.appendChild(row.render().el);\n            });\n\n            this.spinner.hide();\n\n            // finally append the fragment\n            this.$el.find('.shelf-container').append(container);\n        },\n\n        /**\n         * Displays error msg in the asset tab shelf tooltip\n         */\n        onLoadFailed: function () {\n            this.spinner.hide();\n            this.$el.append('<div>Unable to fetch shelves at this time.</div>');\n        },\n\n        /**\n         * Overridden Backbone render method.\n         * @return {AssetShelfTooltip} Returns this instance (useful for chaining).\n         */\n        render: function () {\n            this.$el.html(template());\n            this.spinner = new Spinner();\n            this.$el.find('.spinner').append(this.spinner.render().el);\n            return this;\n        },\n    });\n","module.exports = \"<table class=\\\"shelf-container tooltip-grid\\\">\\n\\t<tr class=\\\"tooltip-title\\\">\\n\\t<th>Shelf Serial #</th>\\n\\t<th>Shelf Model</th>\\n\\t<th>Raw Capacity (TB)</th>\\n\\t</tr>\\n</table>\\n<div class=\\\"spinner\\\"></div>\"","const _ = require('underscore');\nvar Backbone = require('backbone'),\n    tpl = require('raw-loader!./AssetShelfTooltipDetails.html');\n\nvar template = _.template(tpl);\n\nmodule.exports = Backbone.View.extend(\n    /** @lends views/components/asset/AssetShelfTooltipDetails.prototype */ {\n\n        /**\n         * @classdesc Creates the rows in the shelf table tooltip on the Asset Tab\n         * @name views/components/asset/AssetShelfTooltipDetails\n         * @constructor\n         * @augments Backbone.View\n         */\n\n        tagName: 'tr',\n\n        render: function () {\n            var self = this,\n                rawCapacity = this.model.get('rawCapacity');\n            this.$el.html(template(this.model.toJSON()));\n            this.$el.find('.raw-capacity-cell').html(rawCapacity ? rawCapacity + 'TB' : 'Unavailable');\n            return this;\n        },\n    });\n","module.exports = \"<td><%= shelfSerialNumber %></td>\\n<td><%= model %></td>\\n<td class=\\\"raw-capacity-cell\\\"></td>\\n\"","module.exports = \"<% var hostnameDisplay = hostname || \\\"Unknown\\\"; %>\\n<span class=\\\"array-hostname\\\">\\n<% if (hyperlinkHostname) { %>\\n    <a href=\\\"<%= getAssetLink(serialNumber) %>\\\" class=\\\"history-aware\\\"><%= hostnameDisplay %></a>\\n<% } else { %>\\n    <%= hostnameDisplay %>\\n<% } %>\\n</span>\\n\\n<span class=\\\"separator\\\">|</span>\\n<span class=\\\"array-serial\\\">S/N: <%= serialNumber %></span>\\n\\n<span class=\\\"separator\\\">|</span>\\n<span class=\\\"array-model\\\">Model: <%= model %></span>\\n\\n<% if ( expansionShelves ) { %>\\n    <span class=\\\"array-shelves\\\"></span>\\n    <span class=\\\"ui-icon ui-icon-info model-info-icon\\\"></span>\\n<% } %>\\n\\n<span class=\\\"separator\\\">|</span>\\n<span class=\\\"array-version\\\">\\n    Version: <a href=\\\"#\\\"><%= version %></a>\\n    <% if (versionSupported === false) { %>\\n        <i class=\\\"text-warning fa fa-exclamation-triangle\\\" data-toggle=\\\"popover\\\" data-content=\\\"This version is no longer supported.\\\"></i>\\n    <% } else if (upgradable) { %> \\n        <i class=\\\"fa fa-arrow-up\\\" data-toggle=\\\"popover\\\" data-content=\\\"Upgrade available!\\\"></i> \\n    <% } %>\\n</span>\\n\\n<% if (group) { %>\\n<span class=\\\"separator\\\">|</span>\\n<span class=\\\"array-group\\\">Group: <%= group %></span>\\n<% } %>\\n\\n<% if (pool) { %>\\n<span class=\\\"separator\\\">|</span>\\n<span class=\\\"array-pool\\\">Pool: <%= pool %></span>\\n<% } %>\\n\"","module.exports = \"<div class=\\\"header-region\\\"></div>\\n<div class=\\\"array-card-contents\\\">\\n    <!-- Expects overridden classes to render contents here -->\\n</div>\\n<div class=\\\"array-card-footer\\\">\\n    <!-- Optional overridden classes to render contents here -->\\n</div>\\n<a href=\\\"#assets/<%= serialNumber %>\\\" class=\\\"details-link\\\" title=\\\"Click to view details for this array.\\\">View Details &gt;</a>\\n<div style=\\\"clear: both;\\\"></div>\\n\"","const $ = require('jquery');\nconst _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nconst { Highstock: Highcharts } = require('progeny/modules/nimble/highchartsProxy');\n\nmodule.exports = Marionette.ItemView.extend(\n    /** @lends views/components/dashboard/UpgradeCapacityDetailsView.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name views/components/dashboard/UpgradeCapacityDetailsView\n         * @constructor\n         * @augments Backbone.View\n         */\n\n\n        className: 'upgrade-capacity-details-view',\n\n        renderChart: function (container, series, maxY) {\n            var self = this;\n            this.chart = new Highcharts.Chart({\n                chart: {\n                    type: 'line',\n                    renderTo: container,\n                    height: 150,\n                    events: {\n                        redraw: function () {\n                            var containerWidth = $(this.container).width();\n\n                            // if the no data label group is present, ensure it's centered\n                            if (self.svgNoDataLabelGroup) {\n                                self.svgNoDataLabelGroup.translate(\n                                    (containerWidth / 2) - (self.svgNoDataLabelGroup.element.getBoundingClientRect().width / 2) + 20,\n                                    65,\n                                );\n                            }\n                        },\n                        load: function () {\n                            var chart = this,\n                                renderer = chart.renderer;\n\n                            if (chart.series[0].data && chart.series[0].data.length === 0) {\n                                self.svgNoDataLabelGroup = renderer.g().attr({ id: 'svgNoDataLabel' }).add();\n                                self.svgNoDataLabelText = renderer.text('No Capacity Data Available').attr({\n                                    fill: '#666',\n                                }).add(self.svgNoDataLabelGroup);\n                            }\n\n                            _.delay(function () {\n                                chart.reflow.call(chart);\n                            }, 50);\n                        },\n                    },\n                },\n                credits: {\n                    enabled: false,\n                },\n                title: {\n                    text: null,\n                },\n                legend: {\n                    enabled: false,\n                },\n                xAxis: {\n                    categories: ['-90 Days', 'Current', '+90 Days'],\n                },\n                yAxis: {\n                    min: 0,\n                    max: maxY,\n                    title: {\n                        text: 'Array Usage (%)',\n                    },\n                    labels: {\n                        enabled: true,\n                        format: '{value}%',\n                    },\n                },\n                tooltip: {\n                    enabled: true,\n                    valueDecimals: 1,\n                    valueSuffix: ' TiB',\n                    formatter: function () {\n                        var arrayUsedPct = this.point.y / 100 * this.point.arrayCapacity,\n                            s =\n                                '<span style=\"color: ' + this.series.color + '\">' +\n                                this.x +\n                                '</span>' +\n                                '<br/>Capacity Used: <b>' + Highcharts.numberFormat(arrayUsedPct, 2) + ' TiB</b>' +\n                                '<br/>Array Usage: <b>' + Highcharts.numberFormat(this.point.y, 2) + ' %</b>';\n                        return s;\n                    },\n                },\n                plotOptions: {\n                    line: {\n                        dataLabels: {\n                            // crop: false,\n                            // overflow: 'none',\n                            enabled: false,\n                            // format: '{y} %',\n                            formatter: function () {\n                                return Highcharts.numberFormat(this.y, 2) + ' TiB';\n                            },\n                        },\n                    },\n                },\n                series: series,\n            });\n        },\n\n        render: function () {\n            this.$el.html(this.el);\n\n            var data = this.model.get('capacity'),\n                series = { name: 'Capacity Used', data: [] },\n                maxY = 100;\n\n            for (var i = 0; i < data.length; i++) {\n                var dataPoint = data[i],\n                    pctUsed = dataPoint.arrayUsedPct,\n                    arrayCapacity = dataPoint.capacityUsed;\n\n                maxY = Math.max(pctUsed, maxY);\n\n                series.data.push({\n                    y: pctUsed,\n                    pctUsed: pctUsed,\n                    arrayCapacity: arrayCapacity / 1024 / 1024,\n                });\n            }\n\n            this.renderChart(this.el, [series], maxY);\n\n            return this;\n        },\n\n        onDestroy: function () {\n            console.log('UpgradeCapacityDetailsView:onDestroy()');\n            if (this.chart) {\n                this.chart.destroy();\n                delete this.chart;\n            }\n        },\n\n    });\n","const _ = require('underscore');\nconst { Highstock: Highcharts } = require('progeny/modules/nimble/highchartsProxy');\nvar $ = require('jquery'),\n    jQueryUI = require('jqueryui'),\n    Marionette = require('backbone.marionette'),\n    FormattingUtils = require('app/util/FormattingUtils'),\n    tinycolor = require('tinycolor2');\nconst { CHART_COLORS } = require('progeny/util/chartColors');\n\nmodule.exports = Marionette.ItemView.extend(\n    /** @lends views/components/capacity/CapacityForecastChart.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name views/components/capacity/CapacityForecastChart\n         * @constructor\n         * @augments Marionette.ItemView\n         */\n\n\n        tagName: 'div',\n\n        chartOptions: {\n            height: 175,\n            tooltipsEnabled: true,\n            enableMouseTracking: true,\n            showYAxisLabel: true,\n            showBoundsSeries: true,\n            tickInterval: null,\n            dateTimeLabelFormats: {\n                day: '%e of %b',\n                month: '%b',\n            },\n        },\n\n        // height: 175,\n\n        // tooltipsEnabled: true,\n        // enableMouseTracking: true,\n        // showYAxisLabel: true,\n        // showBoundsSeries: true,\n        // tickInterval: null,\n\n        initialize: function (options) {\n            this.listenTo(this.model, 'change:events', this.onChangeEvents);\n\n            if (options.chartOptions) {\n                this.chartOptions = _.defaults(options.chartOptions, this.chartOptions);\n            }\n            // this.height = options.height ? options.height : this.height;\n            // this.tooltipsEnabled = options.tooltipsEnabled !== undefined ? options.tooltipsEnabled : this.tooltipsEnabled;\n            // this.enableMouseTracking = options.enableMouseTracking !== undefined ? options.enableMouseTracking : this.enableMouseTracking;\n            // this.showYAxisLabel = options.showYAxisLabel !== undefined ? options.showYAxisLabel : this.showYAxisLabel;\n            // this.showBoundsSeries = options.showBoundsSeries !== undefined ? options.showBoundsSeries : this.showBoundsSeries;\n            // this.tickInterval = options.tickInterval !== undefined ? options.tickInterval : this.tickInterval;\n        },\n\n        /**\n         * Handler for when the events for this array have changed.\n         * This will trigger the addition of the flags to the chart.\n         */\n        onChangeEvents: function () {\n\n            var eventsCollection = this.model.get('events'),\n                flagSeries = this.chart.get('shelfFlagSeries');\n\n            eventsCollection.each(function (eventModel) {\n                var rawCapacity = eventModel.get('change');\n                flagSeries.addPoint({\n                    x: eventModel.get('date'),\n                    title: '+Shelf',\n                    text: eventModel.get('current') + ' shelf added ' +\n                        eventModel.get('change'),\n                }, false /* don't redraw */);\n            });\n\n            this.chart.redraw();\n        },\n\n        renderChart: function (containerId, series) {\n            var self = this,\n                arrayModel = this.model.get('arrayModel');\n\n            this.chart = new Highcharts.Chart({\n                chart: {\n                    renderTo: containerId,\n                    height: this.chartOptions.height,\n                    events: {\n                        redraw: function () {\n                            var containerWidth = $(this.container).width();\n\n                            // if the no data label group is present, ensure it's centered\n                            if (self.svgNoDataLabelGroup) {\n                                self.svgNoDataLabelGroup.translate(\n                                    (containerWidth / 2) - (self.svgNoDataLabelGroup.element.getBoundingClientRect().width / 2) + 20,\n                                    65,\n                                );\n                            }\n                        },\n                        load: function () {\n                            var chart = this,\n                                renderer = chart.renderer,\n                                hasData = false;\n\n                            for (var i = 0; i < chart.series.length && !hasData; i++) {\n                                if (chart.series[i].data && chart.series[i].data.length > 0) {\n                                    hasData = true;\n                                }\n                            }\n\n                            if (!hasData) {\n                                self.svgNoDataLabelGroup = renderer.g().attr({ id: 'svgNoDataLabel' }).add();\n                                self.svgNoDataLabelText = renderer.text('No Capacity Data Available').attr({\n                                    fill: '#666',\n                                }).add(self.svgNoDataLabelGroup);\n                            }\n\n                            if (!self.width) {\n                                _.delay(function () {\n                                    self.chart.reflow.call(self.chart);\n                                }, 50);\n                            }\n\n                            for (var j = 0; j < chart.series.length; j++) {\n                                var seriesId = chart.series[j].options.id;\n                                switch (seriesId) {\n                                case 'future':\n                                    this.futureSeries = chart.series[j];\n                                    break;\n                                case 'range':\n                                    this.rangeSeries = chart.series[j];\n                                    break;\n                                case 'throttle':\n                                    this.throttleSeries = chart.series[j];\n                                    break;\n                                }\n                            }\n                        },\n                    },\n                },\n                credits: {\n                    enabled: false,\n                },\n                title: {\n                    text: null,\n                },\n                xAxis: {\n                    type: 'datetime',\n                    dateTimeLabelFormats: this.chartOptions.dateTimeLabelFormats,\n                    // dateTimeLabelFormats: {\n                    //     day: '%e of %b'\n                    // },\n                    title: {\n                        text: 'Week Ending',\n                        enabled: false,\n                    },\n                    tickInterval: this.chartOptions.tickInterval,\n                },\n                yAxis: {\n                    title: {\n                        text: this.chartOptions.showYAxisLabel ? 'Capacity %' : null,\n                    },\n                    labels: {\n                        format: '{value}%',\n                    },\n                    min: 0,\n                },\n                legend: {\n                    enabled: false,\n                },\n                tooltip: {\n                    enabled: this.chartOptions.tooltipsEnabled,\n                    shared: false,\n                    style: { width: '300px' },\n                    valueSuffix: '%',\n                    formatter: function () {\n                        var currentVal = null,\n                            futureVal = null,\n                            rangeVals = [],\n                            currentColor = null,\n                            futureColor = null,\n                            rangeColor = null,\n                            capacityMB = null;\n\n                        var series = this.point.series,\n                            seriesId = series.options.id,\n                            index = this.point.index,\n                            chartThrottleVal = self.chart.throttleSeries.data[index].y,\n                            chartThrottleColor = self.chart.throttleSeries.color;\n\n                        switch (seriesId) {\n                        case 'current':\n                            currentVal = this.point.y;\n                            currentColor = series.color;\n                            if (this.point.capacityMB) {\n                                capacityMB = this.point.capacityMB;\n                            }\n                            break;\n                        case 'future':\n                            futureVal = this.point.y;\n                            futureColor = series.color;\n                            if (this.point.capacityMB) {\n                                capacityMB = this.point.capacityMB;\n                            }\n\n                            // get range values for this point\n                            rangeVals.push(self.chart.rangeSeries.data[index].low, self.chart.rangeSeries.data[index].high);\n                            rangeColor = self.chart.rangeSeries.color;\n                            break;\n                        case 'range':\n                            rangeVals.push(this.point.low, this.point.high);\n                            rangeColor = series.color;\n\n                            //get future value for this point\n                            futureVal = self.chart.futureSeries.data[index].y;\n                            futureColor = self.chart.futureSeries.color;\n                            if (self.chart.futureSeries.data[index].capacityMB) {\n                                capacityMB = self.chart.futureSeries.data[index].capacityMB;\n                            }\n                            break;\n                        case 'throttle':\n                            return '<b><span style=\"color: ' + series.color + '\">Performance Degradation Possible: </span></b>' +\n                                '<span>' + this.point.y + '%</span>';\n                        case 'shelfFlagSeries':\n                            return '<b>' + Highcharts.dateFormat('%A, %b %e, %Y', this.point.x) + '</b><br/>' +\n                                this.point.text; // This will add the text on the flags\n                        }\n\n                        var capacityTB = null;\n                        if (capacityMB) {\n                            capacityTB = FormattingUtils.formatSize(capacityMB, 2);\n                        }\n\n                        var s = '<b>Week Of:</b> ' + Highcharts.dateFormat('%e of %b, %Y', this.x) + '<br/>';\n                        if (currentVal) {\n                            s += '<b><span style=\"color: ' + currentColor + '\">Capacity: </span></b>' +\n                                '<span>' + currentVal + '% (' + capacityTB + ')</span><br/>';\n                        }\n                        if (futureVal) {\n                            s += '<b><span style=\"color: ' + futureColor + '\">Projected Capacity: </span></b>' +\n                                '<span>' + futureVal + '% (' + capacityTB + ')</span><br/>';\n                        }\n                        if (rangeVals.length > 0) {\n                            s += '<b><span style=\"color: ' + rangeColor + '\">Projected Range: </span></b>' +\n                                '<span>' + rangeVals[0] + '% - ' + rangeVals[1] + '%</span><br/>';\n                        }\n                        if (futureVal >= chartThrottleVal || currentVal >= chartThrottleVal || rangeVals[1] >= chartThrottleVal) {\n                            s += '<b><span style=\"color: ' + chartThrottleColor + '\">Performance Degradation Possible: </span></b>' +\n                                '<span>' + chartThrottleVal + '%</span>';\n                        }\n                        return s;\n                    },\n                },\n                plotOptions: {\n                    series: {\n                        enableMouseTracking: this.chartOptions.enableMouseTracking,\n                        marker: {\n                            enabled: false,\n                        },\n                    },\n                },\n                series: series,\n            });\n        },\n\n        render: function () {\n            this.$el.html(this.el);\n\n            var data = this.model.get('data'),\n                flagSeriesData = [],\n                possiblyExceeds = this.model.get('possiblyExceedsThreshold'),\n                probablyExceeds = this.model.get('probablyExceedsThreshold');\n\n            if (data) {\n                var pastSeries = { id: 'current', type: 'line', name: 'Current Capacity', zIndex: 1, color: CHART_COLORS.legacyLightBlue, data: [], connectNulls: false },\n                    futureSeries = {\n                        id: 'future',\n                        type: 'line',\n                        name: 'Projected Capacity',\n                        zIndex: 2,\n                        dashStyle: 'shortdash',\n                        color: CHART_COLORS.legacyLightBlue,\n                        data: [],\n                        connectNulls: false,\n                    },\n                    boundsSeries = {\n                        id: 'range',\n                        type: 'arearange',\n                        lineWidth: 0,\n                        zIndex: 1,\n                        name: 'Range',\n                        color: CHART_COLORS.legacyLightBlue,\n                        fillOpacity: 0.3,\n                        data: [],\n                        connectNulls: false,\n                    },\n                    throttleSeries = {\n                        id: 'throttle',\n                        type: 'line',\n                        name: 'Performance Degradation Possible',\n                        zIndex: 1,\n                        dashStyle: 'ShortDot',\n                        color: CHART_COLORS.legacyRed,\n                        data: [],\n                        connectNulls: false,\n                    };\n\n                for (var i = 0; i < data.length; i++) {\n                    var dataPoint = data[i],\n                        isPrediction = !dataPoint.pctUse,\n                        capacityMB = null;\n\n                    if (isPrediction) {\n                        capacityMB = dataPoint.cap * (dataPoint.predUse * 0.01);\n\n                        pastSeries.data.push([\n                            dataPoint.ts, null,\n                        ]);\n                        futureSeries.data.push({\n                            x: dataPoint.ts,\n                            y: dataPoint.predUse,\n                            capacityMB: capacityMB,\n                        });\n                        boundsSeries.data.push([\n                            dataPoint.ts, dataPoint.low, dataPoint.high,\n                        ]);\n                    } else {\n                        capacityMB = dataPoint.cap * (dataPoint.pctUse * 0.01);\n                        pastSeries.data.push({\n                            x: dataPoint.ts,\n                            y: dataPoint.pctUse,\n                            capacityMB: capacityMB,\n                        });\n                        futureSeries.data.push([dataPoint.ts, null]);\n                        boundsSeries.data.push([dataPoint.ts, null, null]);\n                    }\n\n                    throttleSeries.data.push([\n                        dataPoint.ts, dataPoint.thresh,\n                    ]);\n                }\n\n                // add flags for when this array might exceed the performance threshold\n                // if ( probablyExceeds ) {\n                //     flagSeriesData.push({\n                //         x:     probablyExceeds,\n                //         title: 'Space',\n                //         text:  'Probably exceeds the performance<br/>throttling threshold.'\n                //     });\n                // }\n                // if ( possiblyExceeds && (possiblyExceeds != probablyExceeds) ) {\n                //     flagSeriesData.push({\n                //         x:     possiblyExceeds,\n                //         title: 'Space',\n                //         text:  'Possibly exceeds the performance<br/>throttling threshold.'\n                //     });\n                // }\n                //\n                var series = [pastSeries, futureSeries];\n                if (this.chartOptions.showBoundsSeries) {\n                    series.push(boundsSeries);\n                }\n\n                series.push(throttleSeries, {\n                    id: 'spaceFlagSeries',\n                    type: 'flags',\n                    data: flagSeriesData,\n                    onSeries: 'future',\n                    shape: 'flag',\n                    width: 50,\n                    zIndex: 10,\n                    fillColor: '#F20C0C',\n                    color: '#F20C0C',\n                    style: { // text style\n                        color: 'white',\n                    },\n                    states: {\n                        hover: {\n                            fillColor: tinycolor('#F20C0C').desaturate(25).toString(),\n                        },\n                    },\n                }, {\n                    id: 'shelfFlagSeries',\n                    type: 'flags',\n                    data: [],\n                    onSeries: 'current',\n                    shape: 'flag',\n                    width: 50,\n                    zIndex: 10,\n                    fillColor: '#5FAEE3',\n                    color: '#5FAEE3',\n                    style: { // text style\n                        color: 'white',\n                    },\n                    states: {\n                        hover: {\n                            fillColor: tinycolor('#5FAEE3').desaturate(25).toString(),\n                        },\n                    },\n                });\n                // console.log(boundsSeries);\n                this.renderChart(this.el, series);\n            }\n            return this;\n        },\n\n        onDestroy: function () {\n            console.log('CapacityForecastChart:onDestroy()');\n            if (this.chart) {\n                this.chart.destroy();\n                delete this.chart;\n            }\n        },\n\n    });\n","const $ = require('jquery');\nconst _ = require('underscore');\nvar Backbone = require('backbone');\nconst { Highstock: Highcharts } = require('progeny/modules/nimble/highchartsProxy');\nconst { CHART_COLORS } = require('progeny/util/chartColors');\n\nmodule.exports = Backbone.View.extend(\n    /** @lends views/components/dashboard/charts/CpuAreaChart.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name views/components/dashboard/charts/CpuAreaChart\n         * @constructor\n         * @augments Backbone.View\n         */\n\n\n        className: 'cpu-area-chart',\n\n        renderChart: function (container, series, maxY) {\n            var self = this;\n            this.chart = new Highcharts.Chart({\n                chart: {\n                    type: 'area',\n                    renderTo: container,\n                    height: 150,\n                    events: {\n                        redraw: function () {\n                            var containerWidth = $(this.container).width();\n\n                            // if the no data label group is present, ensure it's centered\n                            if (self.svgNoDataLabelGroup) {\n                                self.svgNoDataLabelGroup.translate(\n                                    (containerWidth / 2) - (self.svgNoDataLabelGroup.element.getBoundingClientRect().width / 2) + 20,\n                                    65,\n                                );\n                            }\n                        },\n                        load: function () {\n                            var chart = this,\n                                renderer = chart.renderer,\n                                hasData = false;\n\n                            for (var i = 0; i < chart.series.length && !hasData; i++) {\n                                if (chart.series[i].data && chart.series[i].data.length > 0) {\n                                    hasData = true;\n                                }\n                            }\n\n                            if (!hasData) {\n                                self.svgNoDataLabelGroup = renderer.g().attr({ id: 'svgNoDataLabel' }).add();\n                                self.svgNoDataLabelText = renderer.text('No Utilization Data Available').attr({\n                                    fill: '#666',\n                                }).add(self.svgNoDataLabelGroup);\n                            }\n\n                            if (!self.width) {\n                                _.delay(function () {\n                                    chart.reflow.call(chart);\n                                }, 50);\n                            }\n                        },\n                    },\n                },\n                credits: {\n                    enabled: false,\n                },\n                title: {\n                    text: null,\n                },\n                legend: {\n                    enabled: false,\n                },\n                xAxis: {\n                    type: 'datetime',\n                    dateTimeLabelFormats: {\n                        day: '%e. %b',\n                        year: '%b',\n                        month: '%b',\n                    },\n                    title: {\n                        text: 'Week Ending',\n                        enabled: false,\n                    },\n                    tickInterval: 24 * 3600 * 1000 * 90,\n                },\n                yAxis: {\n                    min: 0,\n                    max: maxY,\n                    title: {\n                        text: null,\n                    },\n                    labels: {\n                        format: '{value}%',\n                    },\n                },\n                tooltip: {\n                    enabled: false,\n                },\n                plotOptions: {\n                    area: {\n                        animation: false,\n                        enableMouseTracking: false,\n                        marker: {\n                            enabled: false,\n                        },\n                        stacking: 'normal',\n                    },\n                },\n                series: series,\n            });\n        },\n\n        render: function () {\n            this.$el.html(this.el);\n\n            var data = this.model.get('utilization'),\n                greenSeries = { name: 'Sufficient', id: 'cpuGreenSeries', color: CHART_COLORS.legacyGreen, data: [], pointInterval: 7 * 24 * 3600 * 1000, yAxis: 0 },\n                redSeries = { name: 'Insufficient', id: 'cpuRedSeries', color: CHART_COLORS.legacyRed, data: [], pointInterval: 7 * 24 * 3600 * 1000, yAxis: 0 },\n                yellowSeries = { name: 'Marginal', id: 'cpuYellowSeries', color: CHART_COLORS.legacyYellow, data: [], pointInterval: 7 * 24 * 3600 * 1000, yAxis: 0 },\n                maxY = 100;\n\n            for (var i = 0; i < data.length; i++) {\n                var dataPoint = data[i];\n\n                maxY = Math.max(maxY, dataPoint.cpu);\n\n                redSeries.data.push([dataPoint.ts, dataPoint.cpuRed]);\n                yellowSeries.data.push([dataPoint.ts, dataPoint.cpuYellow]);\n                greenSeries.data.push([dataPoint.ts, dataPoint.cpuGreen]);\n            }\n\n            this.renderChart(this.el, [redSeries, yellowSeries, greenSeries], maxY);\n\n            return this;\n        },\n\n    });\n","const $ = require('jquery');\nconst _ = require('underscore');\nvar Backbone = require('backbone');\nconst { Highstock: Highcharts } = require('progeny/modules/nimble/highchartsProxy');\nconst { CHART_COLORS } = require('progeny/util/chartColors');\n\nmodule.exports = Backbone.View.extend({\n    className: 'cache-area-chart',\n\n    renderChart: function (container, series, maxY) {\n        var self = this;\n        this.chart = new Highcharts.Chart({\n            chart: {\n                type: 'area',\n                renderTo: container,\n                height: 150,\n                events: {\n                    redraw: function () {\n                        var containerWidth = $(this.container).width();\n\n                        // if the no data label group is present, ensure it's centered\n                        if (self.svgNoDataLabelGroup) {\n                            self.svgNoDataLabelGroup.translate(\n                                (containerWidth / 2) - (self.svgNoDataLabelGroup.element.getBoundingClientRect().width / 2) + 20,\n                                65,\n                            );\n                        }\n                    },\n                    load: function () {\n                        var chart = this,\n                            renderer = chart.renderer,\n                            hasData = false;\n\n                        for (var i = 0; i < chart.series.length && !hasData; i++) {\n                            if (chart.series[i].data && chart.series[i].data.length > 0) {\n                                hasData = true;\n                            }\n                        }\n\n                        if (!hasData) {\n                            self.svgNoDataLabelGroup = renderer.g().attr({ id: 'svgNoDataLabel' }).add();\n                            self.svgNoDataLabelText = renderer.text('No Utilization Data Available').attr({\n                                fill: '#666',\n                            }).add(self.svgNoDataLabelGroup);\n                        }\n\n                        _.delay(function () {\n                            chart.reflow.call(chart);\n                        }, 50);\n                    },\n                },\n            },\n            credits: {\n                enabled: false,\n            },\n            title: {\n                text: null,\n            },\n            legend: {\n                enabled: false,\n            },\n            xAxis: {\n                type: 'datetime',\n                // dateTimeLabelFormats: {\n                //     day: '%e of %b'\n                // },\n                dateTimeLabelFormats: {\n                    day: '%e. %b',\n                    year: '%b',\n                    month: '%b',\n                },\n                title: {\n                    text: 'Week Ending',\n                    enabled: false,\n                },\n                tickInterval: 24 * 3600 * 1000 * 90,\n                /*,\n                labels: {\n                    formatter: function() {\n                        console.log('formatter');\n                        var tick = 0;\n                        return Highcharts.dateFormat('%e. %b', this.value);\n                    }\n                },\n\n                tickPositioner: function(min, max) {\n                    var positions = [],\n                        tick = min,\n                        increment = (max - min) / 3;\n\n                    for ( ; tick <= max; tick += increment ) {\n                        positions.push( new Date(tick) );\n                    }\n\n                    positions.info = {\n                        unitName: 'month',\n                        higherRanks: {}\n                    };\n\n                    return positions;\n                }*/\n            },\n            yAxis: {\n                min: 0,\n                max: maxY,\n                title: {\n                    text: null,\n                },\n                labels: {\n                    format: '{value}%',\n                },\n            },\n            tooltip: {\n                enabled: false,\n            },\n            plotOptions: {\n                area: {\n                    animation: false,\n                    enableMouseTracking: false,\n                    marker: {\n                        enabled: false,\n                    },\n                    stacking: 'normal',\n                },\n            },\n            series: series,\n        });\n    },\n\n    render: function () {\n        this.$el.html(this.el);\n\n        var data = this.model.get('utilization'),\n            greenSeries = { name: 'Sufficient', id: 'cacheGreenSeries', color: CHART_COLORS.legacyGreen, data: [], pointInterval: 7 * 24 * 3600 * 1000, yAxis: 0 },\n            redSeries = { name: 'Insufficient', id: 'cacheRedSeries', color: CHART_COLORS.legacyRed, data: [], pointInterval: 7 * 24 * 3600 * 1000, yAxis: 0 },\n            yellowSeries = { name: 'Marginal', id: 'cacheYellowSeries', color: CHART_COLORS.legacyYellow, data: [], pointInterval: 7 * 24 * 3600 * 1000, yAxis: 0 },\n            maxY = 100;\n\n        for (var i = 0; i < data.length; i++) {\n            var dataPoint = data[i];\n\n            maxY = Math.max(maxY, dataPoint.cache);\n\n            redSeries.data.push([dataPoint.ts, dataPoint.cacheRed]);\n            yellowSeries.data.push([dataPoint.ts, dataPoint.cacheYellow]);\n            greenSeries.data.push([dataPoint.ts, dataPoint.cacheGreen]);\n        }\n\n        this.renderChart(this.el, [redSeries, yellowSeries, greenSeries], maxY);\n\n        return this;\n    },\n\n});\n","module.exports = \"<div class=\\\"upgrade-contents\\\">\\n    <div class=\\\"upgrade-card-recommendation-column\\\">\\n        <div class=\\\"upgrade-list cpu-upgrade-list\\\">\\n            <TABLE class=\\\"component-table\\\">\\n                <THEAD>\\n                    <TH align=\\\"left\\\"></TH>\\n                    <TH align=\\\"left\\\">Current</TH>\\n                    <TH align=\\\"left\\\">Recommended</TH>\\n                </THEAD>\\n                <TBODY>\\n                <TR>\\n                    <TD>Controller</TD>\\n                    <TD class=\\\"current-value\\\">\\n                        <%- upgradeSummary.attributes.currentController%>\\n                    </TD>\\n                    <TD class=\\\"recommended-value\\\">\\n                        <%- upgradeSummary.attributes.recommendedController != upgradeSummary.attributes.currentController ? upgradeSummary.attributes.recommendedController : null %>\\n                    </TD>\\n                </TR>\\n                <% if (arrayType != 'all-flash' ) { %><TR>\\n                    <TD class=\\\"cache-table-container-cell\\\" colspan=\\\"3\\\">\\n                        <div>Cache</div>\\n                        <TABLE class=\\\"cache-table\\\">\\n                            <TR>\\n                                <TD>Head Shelf:</TD>\\n                                <TD class=\\\"current-value\\\">\\n\\n\\n                                <%- Highcharts.numberFormat(upgradeSummary.attributes.currentCacheHeadGB, 0) + ' GB' %>\\n                                </TD>\\n                                <TD class=\\\"recommended-value\\\">\\n                                    <%- upgradeSummary.attributes.cacheHeadShelfRecommendationObject ?\\n                                        upgradeSummary.attributes.cacheHeadShelfRecommendationObject.recommended : null %>\\n                                </TD>\\n                            </TR>\\n                            <TR>\\n                                <TD>All-Flash Shelf:</TD>\\n                                <TD class=\\\"current-value\\\"><%- Highcharts.numberFormat(upgradeSummary.attributes.currentCacheTotalAfsGB, 0) + ' GB' %></TD>\\n                                <TD class=\\\"recommended-value\\\">\\n                                    <%- upgradeSummary.attributes.cacheSSDShelfRecommendationObject ?\\n                                        upgradeSummary.attributes.cacheSSDShelfRecommendationObject.recommended : null %>\\n                                </TD>\\n                            </TR>\\n                            <TR>\\n                                <TD>HDD Shelf:</TD>\\n                                <TD class=\\\"current-value\\\"><%- Highcharts.numberFormat(upgradeSummary.attributes.currentCacheExpNonAfsGB, 0) + ' GB' %></TD>\\n                                <TD class=\\\"recommended-value\\\">\\n                                    <%- upgradeSummary.attributes.cacheHDDShelfRecommendationObject ?\\n                                        upgradeSummary.attributes.cacheHDDShelfRecommendationObject.recommended : null %>\\n                                </TD>\\n                            </TR>\\n                            <TR>\\n                                <TD>Total:</TD>\\n                                <TD class=\\\"current-value\\\"><%- Highcharts.numberFormat(upgradeSummary.attributes.currentCacheSystemTotalGB, 0) + ' GB' %></TD>\\n                                <TD class=\\\"recommended-value\\\">\\n                                    <%- upgradeSummary.attributes.cacheTotalSystemRecommendationObject ?\\n                                        upgradeSummary.attributes.cacheTotalSystemRecommendationObject.recommended : null %>\\n                                </TD>\\n                            </TR>\\n                        </TABLE>\\n                    </TD>\\n                </TR><%}%>\\n                <TR>\\n                    <TD>Capacity</TD>\\n                    <TD class=\\\"current-value\\\">\\n                        <%-\\n                        (arrayType != 'all-flash' ) ?\\n                             Highcharts.numberFormat(upgradeSummary.attributes.currentHddGB / 1000, 0) + ' TB' :\\n                                Highcharts.numberFormat(upgradeSummary.attributes.currentCacheSystemTotalGB / 1000, 0) + ' TB'\\n                        %>\\n                    </TD>\\n                    <TD class=\\\"recommended-value\\\">\\n                        <%- upgradeSummary.attributes.capacityRecommendationObject ? upgradeSummary.attributes.capacityRecommendationObject.recommended : null %>\\n                    </TD>\\n                </TR>\\n                </TBODY>\\n            </TABLE>\\n\\n        <TABLE>\\n        <% upgradeSummary.attributes.upgradeNotes.map(function(upgradeNote) { %>\\n            <TR class=\\\"upgrade-note\\\">\\n                <TD class=\\\"ui-icon ui-icon-info\\\"></TD>\\n                <TD><%- upgradeNote %></TD>\\n            </TR>\\n        <% }); %>\\n        </TABLE>\\n        </div>\\n\\n\\n    </div>\\n    <div class=\\\"upgrade-columns-container\\\">\\n        <div class=\\\"upgrade-card-column\\\">\\n            <div class=\\\"column-header\\\">CPU</div>\\n            <div class=\\\"dashboard-cpu-chart\\\"></div>\\n            <div class=\\\"upgrade-list capacity-upgrade-list\\\">\\n                <% if (upgradeSummary.attributes.cpuRecommendationObject ) { %>\\n                    <div class=\\\"upgrade-recommendation\\\">\\n                        <span class=\\\"fa fa-arrow-circle-o-up\\\"></span>\\n                        <span>Upgrade recommended</span>\\n                    </div>\\n                <% } %>\\n            </div>\\n        </div>\\n        <div class=\\\"upgrade-card-column cache-chart\\\">\\n            <div class=\\\"column-header\\\">Cache</div>\\n            <div class=\\\"dashboard-cache-chart\\\"></div>\\n            <div class=\\\"upgrade-list capacity-upgrade-list\\\">\\n                <% if (upgradeSummary.attributes.cacheTotalSystemRecommendationObject ) { %>\\n                    <div class=\\\"upgrade-recommendation\\\">\\n                        <span class=\\\"fa fa-arrow-circle-o-up\\\"></span>\\n                        <span>Upgrade Recommended</span>\\n                    </div>\\n                <% } %>\\n            </div>\\n        </div>\\n        <div class=\\\"upgrade-card-column last-column\\\">\\n            <div class=\\\"column-header\\\">Capacity</div>\\n            <div class=\\\"dashboard-capacity-chart\\\">\\n                <div class=\\\"temporary-loading-text\\\">Loading...</div>\\n            </div>\\n            <div class=\\\"upgrade-list capacity-upgrade-list\\\">\\n                <% if (upgradeSummary.attributes.capacityRecommendationObject) { %>\\n                    <div class=\\\"upgrade-recommendation\\\">\\n                        <span class=\\\"fa fa-arrow-circle-o-up\\\"></span>\\n                        <span>Upgrade recommended</span>\\n                    </div>\\n                <% } %>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <div style=\\\"clear: left;\\\"></div>\\n</div>\\n\"","const $ = require('jquery');\nconst App = require('app/Application');\nconst _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar stickit = require('backbone.stickit');\nvar FormBehavior = require('app/common/FormBehavior');\nvar AsyncView = require('app/common/AsyncView');\nvar tpl = require('raw-loader!./ExecutiveDashboardEmailSettingsView.html');\nvar ExecutiveDashboardEmailView = require('./ExecutiveDashboardEmailView');\nvar ExecutiveDashboardEmailModel = require('./ExecutiveDashboardEmailModel');\nvar ExecutiveDashboardEmailCollection = require('./ExecutiveDashboardEmailCollection');\nvar ExecutiveDashboardEmailSettingsModel = require('./ExecutiveDashboardEmailSettingsModel');\nvar layoutTpl = require('raw-loader!./ExecutiveDashboardEmailSettingsLayoutView.html');\n\nvar EmptyEmailListView = Marionette.ItemView.extend({\n    template: _.template('<li><b> No email subscription is set up <i name=\"deleteButton\"  class=\"fa fa-exclamation-triangle\" style=\"color:red\"></i> </b></li>'),\n});\n\nvar EmailSettingsView = Marionette.CompositeView.extend({\n    className: 'email-settings-view',\n    template: _.template(tpl),\n    fetchModel: true,\n    model: ExecutiveDashboardEmailSettingsModel,\n    collection: ExecutiveDashboardEmailCollection,\n    childView: ExecutiveDashboardEmailView,\n    emptyView: EmptyEmailListView,\n    childViewContainer: 'ul',\n    readonly: false,\n    behaviors: {\n        FormBehavior: {\n            behaviorClass: FormBehavior,\n        },\n    },\n    bindings: {\n        'input[name=\"frequencyDays\"]': {\n            observe: 'frequencyDays',\n            setOptions: {\n                validate: true,\n            },\n        },\n\n        '#enabled': {\n            observe: 'enabled',\n        },\n        'input[name=\"email\"]': {\n            observe: 'email',\n            setOptions: {\n                validate: true,\n            },\n        },\n    },\n    ui: {\n        form: 'form',\n        messageArea: '#message',\n        emailInput: 'input[name=\"email\"]',\n        testEmailButton: 'button[name=\"testEmail\"]',\n        addEmailButton: 'button[name=\"addEmail\"]',\n    },\n\n    events: {\n        'click @ui.addEmailButton': 'addEmail',\n        'click @ui.testEmailButton': 'testEmail',\n        'focus @ui.emailInput': 'resetEmailButton',\n        'click @ui.submitButton': 'submit',\n    },\n    collectionEvents: {\n        'remove': 'collectionModelDeleted',\n    },\n    initialize: function () {\n        this.model = new ExecutiveDashboardEmailSettingsModel();\n        this.collection = new ExecutiveDashboardEmailCollection();\n\n        this.listenTo(this.model, 'validated', this.onValidate);\n        this.onEmailListLoad();\n    },\n\n    collectionModelDeleted: function (event) {\n        this.saveCollection();\n    },\n\n    onEmailListLoad: function () {\n        this.collection = this.model.get('emailList');\n        this.render();\n    },\n\n    onValidate: function (isValid) {\n        var emailValue = this.model.get('email');\n        if (this.model.get('email').trim() !== '') {\n            this.ui.addEmailButton.prop('disabled', !isValid);\n            this.ui.testEmailButton.prop('disabled', !isValid);\n        } else {\n            // handle the case when email address is replaced with a few whitespace\n            this.ui.addEmailButton.prop('disabled', true);\n            this.ui.testEmailButton.prop('disabled', true);\n        }\n    },\n\n    onRender: function () {\n        this.stickit();\n        if (App.request('global', 'get:current:session').isInternal()) {\n            // The form should be made read-only for internal users\n            this.decorateAsReadonly();\n        } else {\n            this.$('.deleteEmailButton').show();\n        }\n        // disable both test and add button first\n        this.ui.testEmailButton.prop('disabled', true);\n        this.ui.addEmailButton.prop('disabled', true);\n    },\n\n    decorateAsReadonly: function () {\n        $('#executive-dashboard-email-modal-title').append('<strong>(Read Only)</strong>');\n        // Disable all buttons except 'OK'\n        this.ui.testEmailButton.prop('disabled', true);\n        this.ui.addEmailButton.prop('disabled', true);\n        this.ui.emailInput.prop('disabled', true);\n        this.$('.deleteEmailButton').hide();\n        this.$('#frequencyDays').prop('disabled', true);\n        this.$('#enabled').prop('disabled', true);\n        this.readonly = true;\n    },\n\n    resetEmailButton: function () {\n        if (!this.readonly) {\n            this.ui.testEmailButton.bs_button('reset');\n            this.ui.testEmailButton.prop('disabled', true);\n            this.ui.messageArea.hide();\n        }\n    },\n\n    testEmail: function (event) {\n\n        event.preventDefault();\n        var newEmail = this.addEmailModel.get('email');\n        var self = this;\n        self.ui.testEmailButton.bs_button('loading');\n        var toBeSend = JSON.stringify(_.pick(this.addEmailModel.toJSON(), 'email'));\n        $.ajax({\n            type: 'POST',\n            url: this.api().pod().account().segment('executiveDashboard/emailSettings/test'),\n            contentType: 'application/json',\n            dataType: 'json',\n            data: JSON.stringify(_.pick(this.addEmailModel.toJSON(), 'email')),\n        }).done(function () {\n            self.ui.testEmailButton.bs_button('success');\n        }).error(function (jqxhr) {\n            App.command('notification', 'show:error', {\n                title: 'Error sending test email to ' + newEmail,\n                message: jqxhr.responseJSON.message,\n            });\n        }).always(function () {\n            _.defer(_.bind(self.ui.testEmailButton.prop, self.ui.testEmailButton, 'disabled', true));\n        });\n    },\n\n    // add new email from input\n    addEmail: function (event) {\n        var newEmail = this.ui.emailInput.val();\n        var newEmailModel = new ExecutiveDashboardEmailModel({\n            'email': newEmail,\n        });\n\n        // check if the email already exist\n        var foundEmailModel = this.collection.findWhere({\n            'email': newEmail,\n        });\n        if (!foundEmailModel) {\n            this.collection.add(newEmailModel);\n            this.saveCollection();\n            //clear the email field and disable add button\n            this.ui.emailInput.val('');\n            this.model.set('email', '');\n            this.ui.addEmailButton.prop('disabled', true);\n            this.ui.testEmailButton.prop('disabled', true);\n        } else {\n            // email already exist, display error text\n            this.ui.messageArea.text('This email is already subscribed');\n            this.ui.messageArea.css('color', 'red');\n            this.ui.messageArea.show();\n        }\n    },\n\n    saveCollection: function () {\n        this.model.set('emailList', this.collection);\n    },\n\n    submit: function () {\n        this.saveCollection();\n        this.model.save()\n            .done(function () {\n                App.command('notification', 'show:success', { title: 'executive dashboard email settings successfully updated' });\n            })\n            .fail(function (jqxhr) {\n                App.command('notification', 'show:error', {\n                    title: 'Failed to update executive dashboard email settings:',\n                    message: jqxhr.responseJSON.message,\n                });\n            });\n    },\n\n});\n\nmodule.exports = Marionette.LayoutView.extend({\n    className: 'email-settings-dialog',\n    template: _.template(layoutTpl),\n    emailSettingsView: null,\n    regions: {\n        bodyRegion: '.modal-body',\n    },\n    ui: {\n        submitButton: 'button[name=\"submit\"]',\n        cancelButton: 'button[name=\"cancel\"]',\n    },\n    events: {\n        'click @ui.submitButton': 'onSubmit',\n    },\n    onRender: function () {\n        this.emailSettingsView = new EmailSettingsView();\n        this.bodyRegion.show(AsyncView.wrap(this.emailSettingsView));\n        if (App.request('global', 'get:current:session').isInternal()) {\n            // The form should be made read-only for internal users\n            this.ui.submitButton.hide();\n            this.ui.cancelButton.text('Close');\n        }\n    },\n    onSubmit: function () {\n        this.emailSettingsView.submit();\n    },\n\n});\n","module.exports = \"<form id=\\\"executive-dashboard-settings-form\\\" class=\\\"form-horizontal\\\">\\n    <div class=\\\"form-group has-feedback\\\">\\n        <div class=\\\"row expanded\\\">\\n            <label class=\\\"column small-10 control-label\\\">Email Subscription Enabled</label>\\n            <div class=\\\"column small-4\\\">\\n                <input class=\\\"form-control\\\" type=\\\"checkbox\\\" id=\\\"enabled\\\" />\\n            </div>\\n        </div>\\n        <div class=\\\"row expanded\\\">\\n            <label class=\\\"column small-10 control-label\\\">Email Frequency in Days</label>\\n            <div class=\\\"column small-4\\\">\\n                <input class=\\\"form-control\\\" type=\\\"number\\\" min=\\\"1\\\" max=\\\"365\\\" oninput=\\\"validity.valid||(value=30);\\\" step=\\\"1\\\" name=\\\"frequencyDays\\\" id=\\\"frequencyDays\\\"\\n                    value=\\\"30\\\" placeholder=\\\"30\\\" maxlength=6 size=6 title=\\\"Enter the number of days between 1 to 365\\\" style=\\\"padding-right:10px\\\"/>\\n            </div>\\n        </div>\\n        <div class=\\\"row expanded\\\">\\n            <label class=\\\"control-label column small-12\\\">Subscribed Emails</label>\\n        </div>\\n        <div class=\\\"row expanded\\\">\\n            <div class=\\\"column small-20\\\">\\n                <!-- placeholder for email list -->\\n                <ul class=\\\"executive-dashboard-email-list\\\"></ul>\\n            </div>\\n        </div>\\n    <div class=\\\"form-group\\\" id=\\\"executive-dashboard-email-form\\\">\\n        <div class=\\\"row expanded\\\">\\n            <label class=\\\"column small-4 control-label\\\" style=\\\"margin-left:35px\\\">Add Email</label>\\n            <div class=\\\"column small-12\\\">\\n                <input type=\\\"email\\\" class=\\\"form-control\\\" name=\\\"email\\\" id=\\\"email\\\"  placeholder=\\\"user@company.com\\\" size=50\\n                    title=\\\"Enter a valid Email address. Use 'Add' button to add to the subscription list.\\\"/>\\n                <i class=\\\"glyphicon form-control-feedback\\\"></i>\\n            </div>\\n            <div class=\\\"column small-4\\\">\\n                <button type=\\\"button\\\" class=\\\"button\\\" name=\\\"addEmail\\\" style=\\\"width: 12ch;\\\" title=\\\"Add this email to the subscription email list\\\"\\n                    data-loading-text=\\\"<i class='fa fa-spinner fa-spin'></i> Adding\\\"\\n                    data-success-text=\\\"<i class='fa fa-check'></i> Added\\\"\\n                    data-error-text=\\\"<i class='fa fa-times'></i> Error\\\">\\n                    <i class=\\\"fa fa-plus-square-o\\\"></i> Add\\n                </button>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"row expanded\\\">\\n        <div class=\\\"column small-24\\\">\\n            <div class=\\\"column small-22 help-block\\\" id=\\\"message\\\"></div>\\n        </div>\\n    </div>\\n</div>\\n</form>\\n\"","const _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar stickit = require('backbone.stickit');\n\nmodule.exports = Marionette.ItemView.extend({\n    tagName: 'li',\n    template: _.template('<%=email%>&nbsp;<span name=\"deleteButton\" class=\"glyphicon glyphicon-trash deleteEmailButton\"  title=\"Delete this email\" ></span>'),\n    onRender: function () {\n        this.stickit();\n    },\n    ui: {\n        deleteButton: 'span[name=\"deleteButton\"]',\n    },\n    events: {\n        'click @ui.deleteButton': 'deleteEmail',\n    },\n    deleteEmail: function () {\n        //remove model from collection without triggering DELETE request to server\n        this.model.collection.remove(this.model);\n    },\n});\n","const _ = require('underscore');\nvar Backbone = require('backbone');\nvar ExecutiveDashboardEmailCollection = require('./ExecutiveDashboardEmailCollection');\n\nmodule.exports = Backbone.Model.extend({\n\n    defaults: {\n        enabled: false,\n        frequencyDays: 30,\n        email: '',\n        emailList: new ExecutiveDashboardEmailCollection(),\n    },\n\n    validation: {\n        email: {\n            pattern: 'email',\n            required: false,\n        },\n    },\n    initialize: function () {\n    },\n\n    isNew: function () {\n        return false;\n    },\n\n    url: function () {\n        return this.api().central().account().segment('admin/executiveDashboard/emailSettings');\n    },\n\n    parse: function (obj) {\n        // update the inner collection\n        this.get('emailList').reset(obj.emailList);\n        return obj;\n    },\n\n    // Overwrite save function\n    save: function (attrs, options) {\n        options = {};\n        attrs = _.clone(this.attributes);\n\n        // Filter the data to send to the server\n        delete attrs.email;\n\n        options.data = JSON.stringify(attrs);\n        options.contentType = 'application/json';\n\n        // Proxy the call to the original save function\n        return Backbone.Model.prototype.save.call(this, attrs, options);\n    },\n});\n","module.exports = \"<div class=\\\"modal-dialog\\\">\\n    <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n            <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">\\n                <span aria-hidden=\\\"true\\\">&times;</span>\\n            </button>\\n            <h4 class=\\\"modal-title\\\" id=\\\"executive-dashboard-email-modal-title\\\">Executive Dashboard Email Settings</h4>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n        </div>\\n        <div class=\\\"modal-footer\\\">\\n            <button type=\\\"button\\\" class=\\\"button\\\" name=\\\"submit\\\" id=\\\"submitButton\\\" data-dismiss=\\\"modal\\\">Submit</button>\\n            <button type=\\\"button\\\" class=\\\"button secondary\\\" name=\\\"cancel\\\" id=\\\"cancelButton\\\" data-dismiss=\\\"modal\\\">Cancel</button>\\n        </div>\\n    </div>\\n</div>\\n\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"legacyPage\":\"legacyPage__3ZR2m\"};","const _ = require('underscore');\nvar Marionette = require('backbone.marionette'),\n    tpl = require('raw-loader!./WellnessView.html'),\n    errorTpl = require('raw-loader!app/templates/components/error.html'),\n    WellnessSummaryView = require('./WellnessSummaryView'),\n    WellnessIssuesView = require('./WellnessIssuesView'),\n    WellnessSummaryModel = require('./WellnessSummaryModel'),\n    WellnessEmailSettingsView = require('./WellnessEmailSettingsView'),\n    MaintenanceWindowStatusView = require('./maintenanceWindow/MaintenanceWindowStatusView');\nconst App = require('app/Application');\nconst { buildUrlFromBase } = require('progeny/util/url');\nconst { NimbleUserTenantHelpers } = require('../../../progeny/modules/nimble/tenantSelection');\n\nmodule.exports = Marionette.LayoutView.extend({\n\n    template: _.template(tpl),\n\n    templateHelpers: {\n        getNestedLink: buildUrlFromBase.bind(null, '/dashboards/nimble/wellness'),\n    },\n\n    ui: {\n        downloadLink: '.download-link',\n        spinner: '.loading-spinner2',\n        contentEl: '.wellness-summary',\n        caseCreateBtn: '#wellness-case-creation-btn',\n        dailyEmailBtn: '#wellness-daily-email-btn',\n        wellnessEmailInfo: '#wellness-info .email-info',\n        caseCreateInfo: '#wellness-info .case-creation-info',\n        emptyResults: '.empty-wellness',\n        issuesEl: '#wellness-issues-container',\n        viewMaintenanceWindowBtn: '#view-maintenance-window-btn',\n    },\n\n    events: {\n        'click @ui.dailyEmailBtn': 'onClickDailyEmail',\n        'click @ui.viewMaintenanceWindowBtn': 'onClickMaintenanceWindow',\n    },\n\n    regions: {\n        maintenanceWindowStatusRegion: '.maintenance-window-status-region',\n    },\n\n    initialize: function () {\n        this.wellnessSummaryModel = new WellnessSummaryModel();\n        this.wellnessSummary = new WellnessSummaryView({ model: this.wellnessSummaryModel, history: this.options.history });\n        this.wellnessIssues = new WellnessIssuesView({ model: this.model });\n    },\n\n    onClickDailyEmail: function (event) {\n        event.preventDefault();\n        App.modalRegion.show(new WellnessEmailSettingsView());\n    },\n\n    onRender: function () {\n        var self = this;\n\n        this.ui.contentEl.append(this.wellnessSummary.render().el);\n        this.ui.issuesEl.append(this.wellnessIssues.render().el);\n\n        if (NimbleUserTenantHelpers.isExternal() && !NimbleUserTenantHelpers.isPrimaryTenant()) {\n            this.ui.dailyEmailBtn.hide();\n            this.ui.wellnessEmailInfo.hide();\n        }\n\n        this.getRegion('maintenanceWindowStatusRegion').show(new MaintenanceWindowStatusView());\n        this.ui.downloadLink.attr('href', this.api().central().account().segment('/wellness/export'));\n\n        this.listenTo(this.wellnessIssues, 'issue-action:clear', this.wellnessSummary.refresh);\n        this.listenTo(this.wellnessIssues, 'issue-action:ack', this.wellnessSummary.refresh);\n        this.listenTo(this.wellnessIssues, 'issue-action:unack', this.wellnessSummary.refresh);\n\n        this.listenTo(this.wellnessSummary, 'summary-error', function () {\n            self.ui.spinner.hide();\n        });\n        this.listenTo(this.wellnessSummary, 'summary-load', function (results) {\n\n            self.ui.spinner.hide();\n            self.$('#wellness-summary-toolbar').show();\n\n            if (_.isEmpty(results)) {\n                self.ui.emptyResults.show();\n            } else {\n                self.ui.contentEl.show();\n                self.ui.issuesEl.show();\n            }\n        });\n    },\n\n    onDestroy: function () {\n        if (this.wellnessSummary) {\n            this.wellnessSummary.destroy();\n            delete this.wellnessSummary;\n        }\n        if (this.wellnessIssues) {\n            this.wellnessIssues.destroy();\n            delete this.wellnessIssues;\n        }\n    },\n\n    showDetails: function (filter) {\n        var self = this;\n        var scrollFunc = function () {\n            self.ui.issuesEl[0].scrollIntoView({ block: 'start', behavior: 'smooth' });\n            if (!_.isEmpty(filter)) {\n                self.ui.issuesEl.find('.grid-filter-wrapper').effect('highlight', { color: '#78c639' }, 2000);\n            }\n        };\n\n        this.wellnessIssues.filterModel.clearValues();\n        this.wellnessIssues.filterModel.set(filter);\n\n        if (this.isRendered && this.ui.contentEl.is(':visible')) {\n            scrollFunc();\n        } else {\n            this.listenToOnce(this.wellnessIssues, 'load', scrollFunc);\n        }\n    },\n\n});\n","module.exports = \"<div class=\\\"maintenance-window-status-region\\\"></div>\\n<div>\\n    <a href=\\\"#\\\" class=\\\"download-link button dark\\\" style=\\\"float: right;\\\" download><i class=\\\"fa fa-download\\\"></i> <span>Export</span></a>\\n    <div style=\\\"clear: right;\\\"></div>\\n</div>\\n\\n<div class=\\\"loading-spinner2\\\">Loading...</div>\\n\\n<div id=\\\"wellness-main\\\" class=\\\"wellness-content\\\">\\n    <div class=\\\"wellness-summary\\\"></div>\\n    <div class=\\\"empty-wellness\\\">\\n        <span class=\\\"ui-icon ui-icon-info\\\"></span>\\n        <span>There are no outstanding issues on any of your arrays.</span>\\n    </div>\\n    <div id=\\\"wellness-wrapper1\\\">\\n        <div id=\\\"wellness-summary-toolbar\\\">\\n            <a id=\\\"wellness-daily-email-btn\\\" href=\\\"#\\\" class=\\\"button dark\\\">\\n                <i class=\\\"fa fa-envelope fa-lg\\\"></i> <span>Daily Summary Emails</span>\\n            </a>\\n            <a id=\\\"wellness-case-creation-btn\\\" href=\\\"<%= getNestedLink('rules') %>\\\" class=\\\"history-aware button dark\\\">\\n                <i class=\\\"fa fa-gear fa-lg\\\"></i> <span>Configure Wellness Rules</span>\\n            </a>\\n            <a id=\\\"view-maintenance-window-btn\\\" href=\\\"<%= getNestedLink('maintenance-windows') %>\\\" class=\\\"history-aware button dark\\\">\\n                <i class=\\\"fa fa-calendar fa-lg\\\"></i> <span>Manage Maintenance Windows</span>\\n            </a>\\n        </div>\\n        <ul id=\\\"wellness-info\\\" class=\\\"wellness-text\\\">\\n            <li class=\\\"email-info\\\">You can receive a daily email of your Issue Summary and brief details of your Urgent and Critical issues by clicking \\\"Daily Summary Emails\\\" above.</li>\\n            <li class=\\\"case-creation-info\\\">You can enable/disable issue and case creation for all conditions by clicking \\\"Configure Wellness Rules\\\" above</li>\\n            <li>Issues associated with a support case will show if the case status is open or if the case was closed within the last 7 days.</li>\\n        </ul>\\n    </div>\\n    <div class=\\\"wellness-details\\\">\\n        <div id=\\\"wellness-issues-container\\\"></div>\\n    </div>\\n</div>\\n\\n\"","const $ = require('jquery');\nconst _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar tpl = require('raw-loader!./WellnessSummaryWrapper.html');\nvar wellnessSummaryTpl = require('raw-loader!./WellnessSummaryView.html');\nvar errorTpl = require('raw-loader!app/templates/components/error.html');\nvar WellnessSummaryModel = require('./WellnessSummaryModel');\nvar Spinner = require('app/views/components/Spinner');\n\nvar template = _.template(tpl);\nvar summaryTemplate = _.template(wellnessSummaryTpl, undefined, { variable: 'matrix' });\n\nmodule.exports = Marionette.ItemView.extend({\n\n    template: _.template(tpl),\n\n    className: 'wellness-summary-view',\n\n    ui: {\n        wellnessContent: '.wellness-summary-content',\n        wellnessSummaryEmpty: '.wellness-summary-empty',\n        spinner: '.spinner',\n    },\n\n    events: {\n        'click .highlight-badge': 'onCellClick',\n    },\n\n    initialize: function () {\n        _.bindAll(this, 'onLoad', 'changeSummaryFilter');\n    },\n\n    onRender: function () {\n        var self = this;\n\n        this.$contentEl = this.$el.find('#wellness-summary-wrapper');\n\n        this.ui.spinner.append(new Spinner().render().el);\n\n        var handleError = function (response) {\n\n            self.trigger('summary-error');\n            var message = '';\n\n            if (response.responseText && response.responseText.length > 0) {\n\n                message = response.responseText;\n            } else {\n                message = 'Server currently unavailable.';\n            }\n            var errorTemplate = _.template(errorTpl);\n            self.$contentEl.append(errorTemplate({\n                message: message,\n            }));\n            $('.wellness-summary').find('.sub-title').hide();\n            $('.wellness-summary').show();\n        };\n\n        this.model.fetch()\n            .always(function () {\n                self.ui.spinner.hide();\n            })\n            .done(this.onLoad)\n            .fail(handleError);\n\n        return this;\n    },\n\n    onLoad: function (results) {\n\n        var modelJSON = this.model.toJSON();\n\n        // show empty results\n        if (_.keys(modelJSON).length === 0) {\n            this.ui.wellnessContent.hide();\n            this.ui.wellnessSummaryEmpty.show();\n        }\n        // show the results template\n        else {\n            this.ui.wellnessContent.show();\n            this.ui.wellnessSummaryEmpty.hide();\n\n            this.$contentEl.append(summaryTemplate(modelJSON));\n            this.$('#summary-filter INPUT').change(this.changeSummaryFilter);\n        }\n\n        this.trigger('summary-load', results);\n    },\n\n    changeSummaryFilter: function () {\n        var filter = this.$('#summary-filter INPUT').is(':checked') ? 'total' : 'unacked';\n        this.$('.wellness-summary-table .highlight-badge').each(function () {\n            var $this = $(this);\n            var newCount = $this.data('count-' + filter);\n            $this.attr('data-count', newCount);\n            $this.find('SPAN.highlight-item-text').text(newCount);\n        });\n    },\n\n    onCellClick: function (event) {\n        event.preventDefault();\n        var $cell = $(event.currentTarget);\n\n        var filter = {\n            'Severity': $cell.attr('data-severity'),\n            'Target Type': $cell.attr('data-level'),\n            'Acknowledged': this.$('#summary-filter INPUT').is(':checked') ? '' : 'No',\n        };\n\n        if (this.model.inventoryFilter && this.model.inventoryFilter.get('arraySn')) {\n            filter['Array SN'] = this.model.inventoryFilter.get('arraySn');\n        }\n\n        this.options.history.push(`/dashboards/nimble/wellness/details?${$.param(filter)}`);\n    },\n\n});\n","module.exports = \"<div class=\\\"spinner\\\"/>\\n<div class=\\\"wellness-summary-content\\\" style=\\\"display: none;\\\">\\n    <p><span class=\\\"sub-title\\\">Issue Summary</span></p>\\n    <div id=\\\"wellness-summary-wrapper\\\"></div>\\n</div>\\n<div class=\\\"wellness-summary-empty\\\" style=\\\"display: none;\\\">\\n    <i class=\\\"fa fa-check-circle\\\"></i>\\n    <span>There are no outstanding issues.</span>\\n</div>\"","module.exports = \"<div>\\n<table class=\\\"wellness-summary-table\\\">\\n<tr>\\n    <th class=\\\"wellness-category\\\"></th>\\n    <th>Critical</th>\\n    <th>Urgent</th>\\n    <th>Important</th>\\n    <th>For Review</th>\\n</tr>\\n\\n<% [ 'Array', 'Pool', 'Volcoll', 'Volume', 'Snapshot' ].forEach(function (level) {\\n    var row = matrix[level] || {};\\n%>\\n<tr class=\\\"highlight-view\\\">\\n    <td class=\\\"wellness-category\\\"><%= level == 'Volcoll' ? 'Volume Collection' : level %>s</td>\\n    <% [ 'Critical', 'Urgent', 'Important', 'For Review' ].forEach(function (severity) {\\n        var cell = row[severity] || { unacked: 0, total: 0 };\\n    %>\\n        <td>\\n            <a class=\\\"highlight-badge\\\"\\n                data-severity=\\\"<%= severity %>\\\"\\n                data-level=\\\"<%= level %>\\\"\\n                data-count=\\\"<%= cell.unacked %>\\\"\\n                data-count-total=\\\"<%= cell.total %>\\\"\\n                data-count-unacked=\\\"<%= cell.unacked %>\\\"\\n                href=\\\"#\\\">\\n                <span class=\\\"highlight-item-text\\\"><%= cell.unacked %></span>\\n            </a>\\n        </td>\\n    <% }); %>\\n</tr>\\n<% }); %>\\n</table>\\n<div id=\\\"summary-filter\\\">\\n    <label>\\n        <input type=\\\"checkbox\\\"/>\\n        <span class=\\\"checkbox-label\\\">Include acknowledged issues</span>\\n    </label>\\n</div>\\n</div>\\n\\n\"","const _ = require('underscore');\nconst { Highstock: Highcharts } = require('progeny/modules/nimble/highchartsProxy');\nvar $ = require('jquery'),\n    jQueryUI = require('jqueryui'),\n    Backbone = require('backbone'),\n    Marionette = require('backbone.marionette'),\n    moment = require('moment'),\n    GridView = require('app/views/components/grid/GridView'),\n    GridFilterModel = require('app/views/components/grid/GridFilterModel'),\n    LocalGridModel = require('app/models/grid/LocalGridModel'),\n    RemoteGridModel = require('app/models/grid/RemoteGridModel'),\n    BulkLoadGridModel = require('app/models/grid/BulkLoadGridModel'),\n    WellnessIssueModel = require('./WellnessIssueModel'),\n    WellnessIssueCollection = require('./WellnessIssueCollection'),\n    ConfirmationRequestView = require('app/views/components/confirmation/ConfirmationRequestView'),\n    childTpl = require('raw-loader!./WellnessChildRowTemplate.html'),\n    Spinner = require('app/views/components/Spinner'),\n    tpl = require('raw-loader!./WellnessIssuesView.html'),\n    toolbar = require('raw-loader!./WellnessIssuesGridToolbar.html'),\n    wellnessIssueClearConfirmation = require('raw-loader!./WellnessIssueClearConfirmation.html'),\n    errorTpl = require('raw-loader!app/templates/components/error.html');\nconst App = require('app/Application');\nconst { buildUrlFromBase } = require('progeny/util/url');\n\nconst rulesUrl = buildUrlFromBase('/dashboards/nimble/wellness/rules');\n\nvar childTemplateRaw = _.template(childTpl);\nvar childTemplate = function (model) {\n    _.extend(model, {\n        moment: moment,\n    });\n    return childTemplateRaw(model);\n};\n\nmodule.exports = Marionette.ItemView.extend(\n    /** @lends views/components/wellness/WellnessIssuesView.prototype */ {\n\n        /**\n         * @classdesc View for the Event Details on the Wellness tab\n         * @name views/components/wellness/WellnessIssuesView\n         * @constructor\n         * @augments Backbone.View\n         */\n\n        template: _.template(tpl),\n\n        className: 'wellness-issues-grid-view',\n\n        mode: 'local',\n\n        issues: {},\n\n        events: {\n            'click .toolbar button': 'onButtonClick',\n        },\n\n        ui: {\n            gridContent: '.grid-content',\n        },\n\n        columns: function () {\n            var accountSelection = App.request('global', 'get:account:selection');\n            var configDisabled = accountSelection.isAll();\n\n            return [\n                {\n                    data: 'issueDate', visible: true,\n                    render: function (data, type, row) {\n                        return moment(row.issueDate).format('L LT');\n                    },\n                },\n                {\n                    data: function (row, type) {\n                        if (type == 'sort') {\n                            return 11 + row.severityIndex;  // HACK to deal with \"-1\" severityIndex and DataTables string sorting\n                        } else {\n                            return row.severityName;\n                        }\n                    },\n                    render: function (sev, type, row) {\n                        if (type == 'display') {\n                            return '<div style=\"height:30px;min-width:70px;line-height:30px;border-radius:2px;color:white\" class=\"severity ' +\n                                sev.replace(' ', '').toLowerCase() + '\">' + sev + '</div>';\n                        } else {\n                            return sev;\n                        }\n                    },\n                    visible: true,\n                    filter: true,\n                },\n                {\n                    data: 'conditionName', visible: true,\n                    render: function (data, type, row) {\n                        return configDisabled ? row.conditionName :\n                            `<a class=\"history-aware\"\n                                title=\"Click to configure case creation for this condition\"\n                                href=\"${rulesUrl}?condition=${row.conditionName}\">\n                                ${row.conditionName}\n                            </a>`\n                            ;\n                    },\n                },\n                { data: 'issueLevel', visible: false },\n                {\n                    data: 'arrayName', visible: true,\n                    render: function (data, type, row) {\n                        var rowClass = '';\n                        if (row.groupName) {\n                            rowClass = ' class=\"multi-row\"';\n                        }\n\n                        var hostname;\n                        var arrayName;\n\n                        if (row.arrayHostname) {\n                            arrayName = hostname = row.arrayHostname;\n                        }\n                        if (row.groupName) {\n                            arrayName += '<br />(Group: ' + row.groupName + ')';\n                            // hostname +=  row.groupName;\n                        }\n                        if (row.poolName) {\n                            arrayName += '<br />(Pool: ' + row.poolName + ')';\n                            // hostname =  row.poolName;\n                        }\n\n                        return (configDisabled ? arrayName :\n                            `<a class=\"history-aware\"\n                                title=\"Click to configure case creation for this array\"\n                                href=\"${rulesUrl}?condition=${row.conditionName}&array_sn=${row.arraySN}&array_hostname=${row.arrayHostname}\">\n                                ${arrayName}\n                            </a>`) +\n                            '<a class=\"array-management-ui link\" target=\"nimble-' + row.arraySN + '\" ' +\n                            'href=\"/InfoSight/static/nimosLauncher.html?arraySn=' + row.arraySN + '&hostname=' + hostname + '\">' +\n                            '<i class=\"fa fa-external-link\"></i>' +\n                            '<span>Click to launch the management interface for this array.</span>' +\n                            '</a>';\n                    },\n                },\n                { data: 'targetType', visible: true, filter: true },\n                {\n                    data: 'target', visible: true,\n                    render: function (data, type, row) {\n                        if (!configDisabled && row.caseLevel != 'Array') {\n                            let targetName = row.caseLevel.toLowerCase();\n                            if (row.target) {\n                                let href = `${rulesUrl}?condition=${row.conditionName}&array_sn=${row.arraySN}&array_hostname=${row.arrayHostname}`;\n                                if (row.volumeCollectionName) {\n                                    href += `&volcol=${row.volumeCollectionName}`;\n                                }\n                                if (row.volumeName) {\n                                    href += `&volume=${row.volumeName}`;\n                                }\n                                return `<a class=\"history-aware\"\n                                    title=\"Click to configure case creation for this target\"\n                                    href=\"${href}\">\n                                    ${row.target}\n                                </a>`;\n                            } else {\n                                return row.target;\n                            }\n                        } else {\n                            return row.target;\n                        }\n                    },\n                },\n                { data: 'caseNumber', visible: true },\n                { data: 'caseStatus', visible: true },\n                { data: 'severityIndex', visible: false },\n                { data: 'arraySN', visible: false, filter: true },\n                { data: 'arrayHostname', visible: false, filter: true },\n                { data: 'groupName', visible: false },\n                { data: 'poolName', visible: false },\n                { data: 'volumeName', visible: false },\n                { data: 'volumeCollectionName', visible: false },\n                { data: 'snapshotName', visible: false },\n                { data: 'caseCategory', visible: false },\n                { data: 'caseCreatedDate', visible: false },\n                { data: 'caseClosedDate', visible: false },\n                {\n                    visible: false,\n                    data: function (row, type, val) {\n                        if (row) {\n                            if (type === 'display') {\n                                row.caseDescription = row.caseDescription ?\n                                    row.caseDescription.replace(/\\n/g, '<br />').replace(/\\t/g, '&nbsp;&nbsp;&nbsp;&nbsp;') :\n                                    '(No description entered)';\n                            }\n\n                            return row.caseDescription;\n                        }\n                    },\n                },\n                { data: 'caseCreated', visible: false, filter: true },\n                { data: 'caseStatusType', visible: false, filter: true },\n                { data: 'lastObservedAt', visible: false },\n                {\n                    data: function (row, type) {\n                        if (type === 'filter') {\n                            return row.ackedAt ? 'Yes' : 'No';\n                        } else {\n                            return row.ackedAt;\n                        }\n                    },\n                    render: {\n                        display: function (data, type, row) {\n                            if (!row.ackedAt) {\n                                return null;\n                            }\n                            return `${row.ackedBy.split('@', 1)[0]}<span class=\"ack-timestamp\">(${moment(row.ackedAt).fromNow()})</span>`;\n                        },\n                    },\n                    filter: true,\n                },\n            ];\n        },\n\n        buttons: ['#ack', '#unack', '#clear'],\n\n        actions: {\n\n            ack: {\n                title: 'Acknowledge Issue(s)',\n                action: 'Acknowledge',\n                content: '<p>Acknowledged issues will be <b>hidden from the view</b> (by default).</p>' +\n                    '<p>Are you sure you want to acknowledge the selected wellness issues?</p>',\n                submit: function () {\n                    var issues = this.getSelectedIssues();\n                    issues.acknowledge()\n                        .done(function () {\n                            App.command('notification', 'show:success', {\n                                title: issues.length + ' issue(s) acknowledged',\n                            });\n                        })\n                        .fail(function (jqxhr) {\n                            App.command('notification', 'show:error', {\n                                title: 'Failed to acknowledge issues:',\n                                message: jqxhr.responseJSON.message,\n                            });\n                        })\n                        .always(_.partial(this.afterAction, 'ack'));\n                },\n            },\n\n            unack: {\n                title: 'Unacknowledge Issue(s)',\n                action: 'Unacknowledge',\n                content: '<p>Are you sure you want to unacknowledge the selected wellness issues?</p>',\n                submit: function () {\n                    var issues = this.getSelectedIssues();\n                    issues.unacknowledge()\n                        .done(function () {\n                            App.command('notification', 'show:success', {\n                                title: issues.length + ' issue(s) unacknowledged',\n                            });\n                        })\n                        .fail(function (jqxhr) {\n                            App.command('notification', 'show:error', {\n                                title: 'Failed to unacknowledge issues:',\n                                message: jqxhr.responseJSON.message,\n                            });\n                        })\n                        .always(_.partial(this.afterAction, 'unack'));\n                },\n            },\n\n            clear: {\n                title: 'Clear Issue(s)',\n                action: 'Clear',\n                content: wellnessIssueClearConfirmation,\n                submit: function () {\n                    var issues = this.getSelectedIssues();\n                    issues.clear()\n                        .done(function () {\n                            App.command('notification', 'show:success', {\n                                title: issues.length + ' issue(s) cleared',\n                            });\n                        })\n                        .fail(function (jqxhr) {\n                            App.command('notification', 'show:error', {\n                                title: 'Failed to clear issues:',\n                                message: jqxhr.responseJSON.message,\n                            });\n                        })\n                        .always(_.partial(this.afterAction, 'clear'));\n                },\n            },\n\n        },\n\n        filterModel: null,\n\n        /**\n         * Creates the appropriate model.\n         * @return {GridModel} Returns the appropriate grid model\n         *                             for the current local/remote configuration.\n         * @private\n         */\n        createModel: function () {\n            if (this.mode == 'local') {\n                return this.createBulkLoadModel();\n            } else {\n                return this.createRemoteModel();\n            }\n        },\n\n        /**\n         * Creates a BulkLoadGridModel\n         * @return {BulkLoadGridModel} Returns a BulkLoadGridModel\n         */\n        createBulkLoadModel: function () {\n            var bulkLoadGridModel = new BulkLoadGridModel({\n                url: this.api().central().account().segment('/wellness/issues'),\n                columns: this.columns(),\n                emptyLabel: 'No issues found',\n                showFilters: true,\n                pageLength: 100,\n            });\n            return bulkLoadGridModel;\n        },\n\n        initialize: function () {\n            _.bindAll(this, 'onRowSelectionChange', 'onCreateRow', 'afterAction');\n            this.filterModel = new GridFilterModel({\n                'Acknowledged': 'No',\n            });\n        },\n\n        onRender: function () {\n            var table = this.$el.find('TABLE'),\n                $table = $(table),\n                gridModel = this.createModel(),\n                self = this;\n\n            this.spinner = new Spinner();\n            this.$el.find('.spinner').append(this.spinner.render().el);\n\n            this.grid = new GridView({\n                model: gridModel,\n                id: 'wellness-issues-grid',\n                tableTemplate: this.ui.gridContent.html(),\n                childTemplate: childTemplate,\n                rowSelectionMode: GridView.RowSelectionMode.MULTI,\n                toolbar: toolbar,\n                dataTableOptions: {\n                    createdRow: this.onCreateRow,\n                },\n                filterModel: this.filterModel,\n                sort: [\n                    {\n                        column: 'Creation Time',\n                        order: 'desc',\n                    }, {\n                        column: 'Severity',\n                        order: 'asc',\n                    },\n                ],\n            });\n            this.listenTo(this.grid, 'init', this.onGridLoaded);\n            this.listenTo(this.grid, 'error', this.onEventsLoadFailed);\n            this.listenTo(this.grid, 'row-selection:changed', this.onRowSelectionChange);\n\n            this.$el.find('#wellness-issues-grid-container').append(this.grid.render().el);\n\n            return this;\n        },\n\n        onCreateRow: function (row, data) {\n            var $row = $(row);\n            if (data.ackedAt) {\n                $row.attr('data-acked', true);\n            }\n        },\n\n        /**\n         * Shows the Events Details Grid on the Wellness tab and\n         * attaches a click event handler to the grid rows\n         * @param  {grid} table The Events Details grid\n         */\n        onGridLoaded: function (table) {\n            this.spinner.hide();\n            this.$('#wellness-issues-grid-container').show();\n            this.trigger('load');\n        },\n\n        /**\n         * Captures grid load failure and writes error to console.log\n         * @param  xhr        The request\n         * @param  textStatus The request status\n         * @param  textThrown The request error\n         */\n        onEventsLoadFailed: function (xhr, textStatus, textThrown) {\n            this.spinner.hide();\n            var errorTemplate = _.template(errorTpl);\n\n            this.$el.find('#wellness-issues-grid-container').html(errorTemplate({\n                message: textThrown,\n            }));\n            this.$el.find('#wellness-issues-grid-container').show();\n        },\n\n        onButtonClick: function (event) {\n            var $button = $(event.currentTarget);\n\n            var action = $button.attr('id');\n            var actionOpts = this.actions[action];\n\n            var view = new ConfirmationRequestView(actionOpts);\n            this.listenTo(view, 'submit', _.bind(actionOpts.submit, this));\n\n            App.modalRegion.show(view);\n        },\n\n        afterAction: function (action) {\n            this.grid.refreshData();\n            this.trigger('issue-action:' + action);\n        },\n\n        getSelectedIssues: function (attribute) {\n            return new WellnessIssueCollection(_.map(this.grid.getSelectedRowsData(), function (data) {\n                return new WellnessIssueModel(data);\n            }));\n        },\n\n        onRowSelectionChange: function ($selectedRows) {\n            if ($selectedRows.length === 0) {\n                this.$(this.buttons.join(',')).prop('disabled', true);\n            } else {\n                this.$('#ack,#clear').prop('disabled', false);\n\n                if ($selectedRows.is(':not([data-acked])')) {\n                    this.$('#unack').prop('disabled', true);\n                } else {\n                    this.$('#unack').prop('disabled', false);\n                }\n            }\n        },\n\n    });\n","const $ = require('jquery');\nvar Backbone = require('backbone'),\n    WellnessIssueModel = require('./WellnessIssueModel');\n\nvar doAction = function (action) {\n    return $.ajax({\n        url: this.api().central().account().segment('/wellness/issues').segment(action),\n        type: 'PUT',\n        contentType: 'application/json',\n        dataType: 'json',\n        data: JSON.stringify(this.pluck('id')),\n    });\n};\n\nmodule.exports = Backbone.Collection.extend(\n    /** @lends collections/WellnessIssueCollection.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name collections/WellnessIssueCollection\n         * @constructor\n         * @augments Backbone.Collection\n         */\n        model: WellnessIssueModel,\n\n        clear: function () {\n            return doAction.call(this, 'cleared');\n        },\n\n        acknowledge: function () {\n            return doAction.call(this, 'acknowledged');\n        },\n\n        unacknowledge: function () {\n            return doAction.call(this, 'unacknowledged');\n        },\n\n    });\n","var Backbone = require('backbone');\n\nmodule.exports = Backbone.Model.extend({\n\n    defaults: {\n        title: 'Confirmation',\n        action: 'Submit',\n    },\n\n});\n","module.exports = \"<div class=\\\"modal-dialog\\\">\\n    <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n            <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">\\n                <span aria-hidden=\\\"true\\\">&times;</span>\\n            </button>\\n            <h4 class=\\\"modal-title\\\"><%= title %></h4>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n        </div>\\n        <div class=\\\"modal-footer\\\">\\n            <button type=\\\"button\\\" class=\\\"button\\\" name=\\\"submit\\\" data-dismiss=\\\"modal\\\"><%= action %></button>\\n            <button type=\\\"button\\\" class=\\\"button secondary\\\" name=\\\"cancel\\\" data-dismiss=\\\"modal\\\">Cancel</button>\\n        </div>\\n    </div>\\n</div>\\n\"","module.exports = \"<div class=\\\"grid-child-row\\\">\\n    <TABLE cellpadding=\\\"5\\\" cellspacing=\\\"0\\\" border=\\\"0\\\">\\n<!-- non cabo, array level, no case -->\\n<% if (groupName == undefined && volumeName == undefined && volumeCollectionName == undefined && snapshotName == undefined && caseNumber == 'N/A') { %>\\n        <TR>\\n            <TD class=\\\"grid-child-label\\\">Hostname:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= arrayHostname %></TD>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n\\n            <TD class=\\\"grid-child-label\\\">Last Observed At:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= moment(lastObservedAt).format(\\\"L LT\\\") %></TD>\\n        </TR>\\n        <TR>\\n            <TD class=\\\"grid-child-label\\\">ArraySN:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= arraySN %></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n        </TR>\\n<% } %>\\n<!-- non cabo, vol/volcoll/snap level, no case -->\\n<% if (groupName == undefined && (volumeName != undefined || volumeCollectionName != undefined || snapshotName != undefined) && caseNumber == 'N/A') { %>\\n        <TR>\\n            <TD class=\\\"grid-child-label\\\">Hostname:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= arrayHostname %></TD>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"grid-child-label\\\">Volume Collection Name:</TD>\\n             <% if (volumeCollectionName != undefined) { %>\\n                <TD class=\\\"grid-child-value\\\"><%= volumeCollectionName %></TD>\\n            <% } else { %>\\n                <TD class=\\\"grid-child-value\\\">n/a</TD>\\n            <% } %>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n\\n            <TD class=\\\"grid-child-label\\\">Last Observed At:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= moment(lastObservedAt).format(\\\"L LT\\\") %></TD>\\n        </TR>\\n        <TR>\\n            <TD class=\\\"grid-child-label\\\">ArraySN:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= arraySN %></TD>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"grid-child-label\\\">Volume Name:</TD>\\n            <% if (volumeName != undefined) { %>\\n                <TD class=\\\"grid-child-value\\\"><%= volumeName %></TD>\\n            <% } else { %>\\n                <TD class=\\\"grid-child-value\\\">n/a</TD>\\n            <% } %>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n        </TR>\\n        <% if (snapshotName != undefined) { %>\\n        <TR>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"grid-child-label\\\">Snapshot Name:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= snapshotName %></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n        </TR>\\n        <% } else { %>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"grid-child-label\\\">Snapshot Name:</TD>\\n            <TD class=\\\"grid-child-value\\\">n/a</TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n        <% } %>\\n<% } %>\\n<!-- non cabo, array level, case -->\\n<% if (groupName == undefined && volumeName == undefined && volumeCollectionName == undefined && snapshotName == undefined && caseNumber != 'N/A') { %>\\n        <TR>\\n            <TD class=\\\"grid-child-label\\\">Hostname:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= arrayHostname %></TD>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n\\n            <TD class=\\\"grid-child-label\\\">Case Number:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= caseNumber %></TD>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n\\n            <TD class=\\\"grid-child-label\\\">Case Created:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= moment(issueDate).format(\\\"L LT\\\") %></TD>\\n        </TR>\\n        <TR>\\n            <TD class=\\\"grid-child-label\\\">ArraySN:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= arraySN %></TD>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n\\n            <TD class=\\\"grid-child-label\\\">Case Category:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= caseCategory %></TD>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n        </TR>\\n        <TR>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n\\n            <TD class=\\\"grid-child-label\\\">Case Closed:</TD>\\n            <% if (caseClosedDate != undefined) { %>\\n                <TD class=\\\"grid-child-value\\\"><%= moment(caseClosedDate).format(\\\"L LT\\\") %></TD>\\n            <% } else { %>\\n                <TD class=\\\"empty\\\"></TD>\\n            <% } %>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n        </TR>\\n<% } %>\\n<!-- non cabo, vol/volcoll/snap level, case -->\\n<% if (groupName == undefined && (volumeName != undefined || volumeCollectionName != undefined || snapshotName != undefined) && caseNumber != 'N/A') { %>\\n        <TR>\\n            <TD class=\\\"grid-child-label\\\">Hostname:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= arrayHostname %></TD>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"grid-child-label\\\">Volume Collection Name:</TD>\\n             <% if (volumeCollectionName != undefined) { %>\\n                <TD class=\\\"grid-child-value\\\"><%= volumeCollectionName %></TD>\\n            <% } else { %>\\n                <TD class=\\\"grid-child-value\\\">n/a</TD>\\n            <% } %>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n\\n            <TD class=\\\"grid-child-label\\\">Case Number:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= caseNumber %></TD>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n\\n            <TD class=\\\"grid-child-label\\\">Case Created:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= moment(issueDate).format(\\\"L LT\\\") %></TD>\\n        </TR>\\n        <TR>\\n            <TD class=\\\"grid-child-label\\\">ArraySN:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= arraySN %></TD>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"grid-child-label\\\">Volume Name:</TD>\\n            <% if (volumeName != undefined) { %>\\n                <TD class=\\\"grid-child-value\\\"><%= volumeName %></TD>\\n            <% } else { %>\\n                <TD class=\\\"grid-child-value\\\">n/a</TD>\\n            <% } %>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n\\n            <TD class=\\\"grid-child-label\\\">Case Category:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= caseCategory %></TD>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n        </TR>\\n\\n        <TR>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"grid-child-label\\\">Snapshot Name:</TD>\\n            <% if (snapshotName != undefined) { %>\\n                <TD class=\\\"grid-child-value\\\"><%= snapshotName %></TD>\\n            <% } else { %>\\n                <TD class=\\\"grid-child-value\\\">n/a</TD>\\n            <% } %>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n\\n            <TD class=\\\"grid-child-label\\\">Case Closed:</TD>\\n            <% if (caseClosedDate != undefined) { %>\\n                <TD class=\\\"grid-child-value\\\"><%= moment(caseClosedDate).format(\\\"L LT\\\") %></TD>\\n            <% } else { %>\\n                <TD class=\\\"empty\\\"></TD>\\n            <% } %>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n        </TR>\\n<% } %>\\n\\n<!-- cabo, array level, no case -->\\n<% if (groupName != undefined && volumeName == undefined && volumeCollectionName == undefined && snapshotName == undefined && caseNumber == 'N/A') { %>\\n        <TR>\\n            <TD class=\\\"grid-child-label\\\">Hostname:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= arrayHostname %></TD>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n\\n            <TD class=\\\"grid-child-label\\\">Last Observed At:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= moment(lastObservedAt).format(\\\"L LT\\\") %></TD>\\n        </TR>\\n        <TR>\\n            <TD class=\\\"grid-child-label\\\">ArraySN:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= arraySN %></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n        </TR>\\n        <TR>\\n            <TD class=\\\"grid-child-label\\\">Group Name:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= groupName %></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n        </TR>\\n        <TR>\\n            <TD class=\\\"grid-child-label\\\">Pool Name:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= poolName %></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n        </TR>\\n\\n<% } %>\\n<!-- cabo, vol/volcoll/snap level, no case -->\\n<% if (groupName != undefined && (volumeName != undefined || volumeCollectionName != undefined || snapshotName != undefined) && caseNumber == 'N/A') { %>\\n        <TR>\\n            <TD class=\\\"grid-child-label\\\">Hostname:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= arrayHostname %></TD>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"grid-child-label\\\">Volume Collection Name:</TD>\\n             <% if (volumeCollectionName != undefined) { %>\\n                <TD class=\\\"grid-child-value\\\"><%= volumeCollectionName %></TD>\\n            <% } else { %>\\n                <TD class=\\\"grid-child-value\\\">n/a</TD>\\n            <% } %>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n\\n            <TD class=\\\"grid-child-label\\\">Last Observed At:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= moment(lastObservedAt).format(\\\"L LT\\\") %></TD>\\n        </TR>\\n        <TR>\\n            <TD class=\\\"grid-child-label\\\">ArraySN:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= arraySN %></TD>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"grid-child-label\\\">Volume Name:</TD>\\n            <% if (volumeName != undefined) { %>\\n                <TD class=\\\"grid-child-value\\\"><%= volumeName %></TD>\\n            <% } else { %>\\n                <TD class=\\\"grid-child-value\\\">n/a</TD>\\n            <% } %>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n        </TR>\\n        <TR>\\n            <TD class=\\\"grid-child-label\\\">Group Name:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= groupName %></TD>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"grid-child-label\\\">Snapshot Name:</TD>\\n            <% if (snapshotName != undefined) { %>\\n                <TD class=\\\"grid-child-value\\\"><%= snapshotName %></TD>\\n            <% } else { %>\\n                <TD class=\\\"grid-child-value\\\">n/a</TD>\\n            <% } %>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n        </TR>\\n        <TR>\\n            <TD class=\\\"grid-child-label\\\">Pool Name:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= poolName %></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n        </TR>\\n<% } %>\\n<!-- cabo, array level, case -->\\n<% if (groupName != undefined && volumeName == undefined && volumeCollectionName == undefined && snapshotName == undefined && caseNumber != 'N/A') { %>\\n        <TR>\\n            <TD class=\\\"grid-child-label\\\">Hostname:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= arrayHostname %></TD>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n\\n            <TD class=\\\"grid-child-label\\\">Case Number:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= caseNumber %></TD>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n\\n            <TD class=\\\"grid-child-label\\\">Case Created:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= moment(issueDate).format(\\\"L LT\\\") %></TD>\\n        </TR>\\n        <TR>\\n            <TD class=\\\"grid-child-label\\\">ArraySN:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= arraySN %></TD>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n\\n            <TD class=\\\"grid-child-label\\\">Case Category:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= caseCategory %></TD>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n        </TR>\\n        <TR>\\n            <TD class=\\\"grid-child-label\\\">Group Name:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= groupName %></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n\\n            <TD class=\\\"grid-child-label\\\">Case Closed:</TD>\\n            <% if (caseClosedDate != undefined) { %>\\n                <TD class=\\\"grid-child-value\\\"><%= moment(caseClosedDate).format(\\\"L LT\\\") %></TD>\\n            <% } else { %>\\n                <TD class=\\\"empty\\\"></TD>\\n            <% } %>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n        </TR>\\n        <TR>\\n            <TD class=\\\"grid-child-label\\\">Pool Name:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= poolName %></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n        </TR>\\n<% } %>\\n<!-- cabo, vol/volcoll/snap level, case -->\\n<% if (groupName != undefined && (volumeName != undefined || volumeCollectionName != undefined || snapshotName != undefined) && caseNumber != 'N/A') { %>\\n       <TR>\\n            <TD class=\\\"grid-child-label\\\">Hostname:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= arrayHostname %></TD>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"grid-child-label\\\">Volume Collection Name:</TD>\\n            <% if (volumeCollectionName != undefined) { %>\\n                <TD class=\\\"grid-child-value\\\"><%= volumeCollectionName %></TD>\\n            <% } else { %>\\n                <TD class=\\\"grid-child-value\\\">n/a</TD>\\n            <% } %>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n\\n            <TD class=\\\"grid-child-label\\\">Case Number:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= caseNumber %></TD>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n\\n            <TD class=\\\"grid-child-label\\\">Case Created:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= moment(issueDate).format(\\\"L LT\\\") %></TD>\\n        </TR>\\n        <TR>\\n            <TD class=\\\"grid-child-label\\\">ArraySN:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= arraySN %></TD>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"grid-child-label\\\">Volume Name:</TD>\\n            <% if (volumeName != undefined) { %>\\n                <TD class=\\\"grid-child-value\\\"><%= volumeName %></TD>\\n            <% } else { %>\\n                <TD class=\\\"grid-child-value\\\">n/a</TD>\\n            <% } %>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n\\n            <TD class=\\\"grid-child-label\\\">Case Category:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= caseCategory %></TD>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n        </TR>\\n\\n        <TR>\\n            <TD class=\\\"grid-child-label\\\">Group Name:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= groupName %></TD>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"grid-child-label\\\">Snapshot Name:</TD>\\n            <% if (snapshotName != undefined) { %>\\n                <TD class=\\\"grid-child-value\\\"><%= snapshotName %></TD>\\n            <% } else { %>\\n                <TD class=\\\"grid-child-value\\\">n/a</TD>\\n            <% } %>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n\\n            <TD class=\\\"grid-child-label\\\">Case Closed:</TD>\\n            <% if (caseClosedDate != undefined) { %>\\n                <TD class=\\\"grid-child-value\\\"><%= moment(caseClosedDate).format(\\\"L LT\\\") %></TD>\\n            <% } else { %>\\n                <TD class=\\\"empty\\\"></TD>\\n            <% } %>\\n\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n        </TR>\\n        <TR>\\n            <TD class=\\\"grid-child-label\\\">Pool Name:</TD>\\n            <TD class=\\\"grid-child-value\\\"><%= poolName %></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n            <TD class=\\\"empty\\\"></TD>\\n        </TR>\\n<% } %>\\n\\n        <TR>\\n                <TD class=\\\"grid-child-label\\\">Description:</TD>\\n                <TD colspan=\\\"10\\\" class=\\\"grid-child-value\\\"><%= caseDescription %></TD>\\n        </TR>\\n    </TABLE>\\n</div>\\n\"","module.exports = \"<div id=\\\"issues-details-title-container\\\">\\n    <div id=\\\"issues-details-title\\\" class=\\\"sub-title\\\">Issue Details</div>\\n</div>\\n\\n<div class=\\\"spinner\\\"/>\\n\\n<div id=\\\"wellness-issues-grid-container\\\"></div>\\n\\n<script class=\\\"grid-content\\\" type=\\\"text/html\\\">\\n    <table cellpadding=\\\"0\\\" cellspacing=\\\"0\\\" border=\\\"0\\\" class=\\\"wellness display table table-striped table-bordered dataTable no-footer responsive\\\" id=\\\"wellness-issues-table\\\" style=\\\"width: 100%;\\\">\\n        <thead>\\n            <tr>\\n                <th>Creation Time</th>\\n                <th>Severity</th>\\n                <th>Condition</th>\\n                <th>Level</th>\\n                <th style=\\\"width:150px\\\">Array</th>\\n                <th>Target Type</th>\\n                <th>Target</th>\\n                <th>Auto Created Case #</th>\\n                <th>Case Status</th>\\n                <th>severityIndex</th>\\n                <th>Array SN</th>\\n                <th>Array Hostname</th>\\n                <th>groupName</th>\\n                <th>poolName</th>\\n                <th>volumeName</th>\\n                <th>volumeCollectionName</th>\\n                <th>snapshotName</th>\\n                <th>caseCategory</th>\\n                <th>caseCreatedDate</th>\\n                <th>caseClosedDate</th>\\n                <th>caseDescription</th>\\n                <th>Case Created</th>\\n                <th>Case Status</th>\\n                <th>lastObservedAt</th>\\n                <th style=\\\"width: 60px;\\\">Acknowledged</th>\\n            </tr>\\n        </thead>\\n        <tbody></tbody>\\n    </table>\\n</script>\\n\"","module.exports = \"<button type=\\\"button\\\" class=\\\"button\\\" id=\\\"ack\\\" disabled>\\n    <i class=\\\"fa fa-check fa-lg\\\"></i><span style=\\\"margin-left: 5px;\\\">Acknowledge</span>\\n</button>\\n<button type=\\\"button\\\" class=\\\"button secondary\\\" id=\\\"unack\\\" disabled>\\n    <i class=\\\"fa fa-undo fa-lg\\\"></i><span style=\\\"margin-left: 5px;\\\">Unacknowledge</span>\\n</button>\\n<button type=\\\"button\\\" class=\\\"button secondary\\\" id=\\\"clear\\\" disabled>\\n    <i class=\\\"fa fa-trash fa-lg\\\"></i><span style=\\\"margin-left: 5px;\\\">Clear</span>\\n</button>\\n\"","module.exports = \"<p>\\n    Clearing a wellness issue will <b>permanently and irreversibly</b> remove it from the system.\\n    The issue will continue to remain cleared while the condition persists.\\n</p>\\n<p>\\n    If the condition is resolved and reoccurs in the future, a <b>new</b> issue will be created.\\n    <b>All future reoccurrences</b> of this condition can be suppressed by\\n    configuring your wellness rules (see button on this page).\\n</p>\\n<p>Are you sure you want to clear the selected wellness issues?</p>\\n\"","const $ = require('jquery');\nconst _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar stickit = require('backbone.stickit');\nvar FormBehavior = require('app/common/FormBehavior');\nvar AsyncView = require('app/common/AsyncView');\nvar tpl = require('raw-loader!./WellnessEmailSettingsView.html');\nvar WellnessEmailView = require('./WellnessEmailView');\nvar WellnessEmailCollection = require('./WellnessEmailCollection');\nvar WellnessEmailModel = require('./WellnessEmailModel');\nvar layoutTpl = require('raw-loader!./WellnessEmailSettingsLayoutView.html');\nconst App = require('app/Application');\n\nvar EmptyEmailListView = Marionette.ItemView.extend({\n    template: _.template('<li><b> No email subscription is set up <i name=\"deleteButton\"  class=\"fa fa-exclamation-triangle\" style=\"color:red\"></i> </b></li>'),\n});\n\nvar EmailSettingsView = Marionette.CompositeView.extend({\n    className: 'email-settings-view',\n    template: _.template(tpl),\n    model: WellnessEmailModel,\n    collection: WellnessEmailCollection,\n    childView: WellnessEmailView,\n    emptyView: EmptyEmailListView,\n    childViewContainer: 'ul',\n    readonly: false,\n    behaviors: {\n        FormBehavior: {\n            behaviorClass: FormBehavior,\n        },\n    },\n    bindings: {\n        'input[name=\"email\"]': {\n            observe: 'email',\n            setOptions: {\n                validate: true,\n            },\n        },\n    },\n    ui: {\n        form: 'form',\n        messageArea: '#message',\n        emailInput: 'input[name=\"email\"]',\n        testEmailButton: 'button[name=\"testEmail\"]',\n        addEmailButton: 'button[name=\"addEmail\"]',\n        submitButton: 'button[name=\"submit\"]',\n    },\n\n    events: {\n        'click @ui.addEmailButton': 'addEmail',\n        'click @ui.testEmailButton': 'testEmail',\n        'focus @ui.emailInput': 'resetEmailButton',\n    },\n    collectionEvents: {\n        'remove': 'collectionModelDeleted',\n    },\n    initialize: function () {\n        this.model = new WellnessEmailModel();\n        this.collection = new WellnessEmailCollection();\n        this.listenTo(this.model, 'validated', this.onValidate);\n    },\n    collectionModelDeleted: function (event) {\n        this.saveCollection();\n    },\n\n    onValidate: function (isValid) {\n        this.ui.testEmailButton.prop('disabled', !isValid);\n        this.ui.addEmailButton.prop('disabled', !isValid);\n    },\n\n    onRender: function () {\n        this.stickit();\n        if (App.request('global', 'get:current:session').isInternal()) {\n            // The form should be made read-only for internal users\n            this.decorateAsReadonly();\n            this.$('.deleteEmailButton').hide();\n        } else {\n            this.$('.deleteEmailButton').show();\n        }\n\n        // disable both test and add button first\n        this.ui.testEmailButton.prop('disabled', true);\n        this.ui.addEmailButton.prop('disabled', true);\n    },\n\n    decorateAsReadonly: function () {\n        $('#wellness-email-modal-title').append(' <strong>(Read Only)</strong>');\n        this.$('input').prop('disabled', true);\n        // Disable all buttons except 'OK'\n        this.ui.testEmailButton.prop('disabled', true);\n        this.ui.addEmailButton.prop('disabled', true);\n        this.$('.deleteEmailButton').hide();\n        this.readonly = true;\n    },\n\n    resetEmailButton: function () {\n        if (!this.readonly) {\n            this.ui.testEmailButton.bs_button('reset');\n            this.ui.testEmailButton.prop('disabled', true);\n            this.ui.messageArea.hide();\n        }\n    },\n\n    testEmail: function (event) {\n\n        event.preventDefault();\n        var newEmail = this.model.get('email');\n        var self = this;\n        self.ui.testEmailButton.bs_button('loading');\n        var toBeSend = JSON.stringify(_.pick(this.model.toJSON(), 'email'));\n        $.ajax({\n            type: 'POST',\n            url: this.api().central().account().segment('wellness/emailSettings/test'),\n            contentType: 'application/json',\n            dataType: 'json',\n            data: JSON.stringify(_.pick(this.model.toJSON(), 'email')),\n        }).done(function () {\n            self.ui.testEmailButton.bs_button('success');\n        }).error(function (jqxhr) {\n            App.command('notification', 'show:error', {\n                title: 'Error sending test email to ' + newEmail,\n                message: jqxhr.responseJSON.message,\n            });\n        }).always(function () {\n            _.defer(_.bind(self.ui.testEmailButton.prop, self.ui.testEmailButton, 'disabled', true));\n        });\n    },\n\n    // add new email from input\n    addEmail: function (event) {\n        var newEmail = this.model.get('email');\n        var newEmailModel = new WellnessEmailModel({\n            'email': newEmail,\n        });\n\n        // check if the email already exist\n        var foundEmailModel = this.collection.findWhere({\n            'email': newEmail,\n        });\n        if (!foundEmailModel) {\n            this.collection.add(newEmailModel);\n            this.saveCollection();\n            //clear the email field and disable add button\n            this.model.set({ 'email': '' });\n            this.ui.addEmailButton.prop('disabled', true);\n            this.ui.testEmailButton.prop('disabled', true);\n        } else {\n            // email already exist, display error text\n            this.ui.messageArea.text('This email is already subscribed');\n            this.ui.messageArea.css('color', 'red');\n            this.ui.messageArea.show();\n        }\n    },\n\n    saveCollection: function () {\n        var toBeSend = JSON.stringify(this.collection);\n        $.ajax({\n            type: 'PUT',\n            url: this.api().central().account().segment('wellness/emailSettings'),\n            contentType: 'application/json',\n            dataType: 'json',\n            data: toBeSend,\n        }).error(function (jqxhr) {\n            App.command('notification', 'show:error', {\n                title: 'Error saving email subscription list',\n                message: jqxhr.responseJSON.message,\n            });\n        });\n    },\n});\n\nmodule.exports = Marionette.LayoutView.extend({\n    className: 'email-settings-dialog',\n    template: _.template(layoutTpl),\n    regions: {\n        bodyRegion: '.modal-body',\n    },\n    onRender: function () {\n        this.bodyRegion.show(AsyncView.wrap(new EmailSettingsView()));\n    },\n});\n","module.exports = \"<form id=\\\"wellness-settings-form\\\" class=\\\"form-horizontal\\\">\\n    <div class=\\\"row expanded\\\">\\n        <div class=\\\"column small-20\\\">\\n            <h4>Subscribed Emails:</h4>\\n        </div>\\n    </div>\\n    <div class=\\\"row expanded\\\">\\n        <div class=\\\"column small-20\\\">\\n            <!-- placeholder for email list -->\\n            <ul class=\\\"email-list\\\"></ul>\\n        </div>\\n    </div>\\n    <div class=\\\"form-group has-feedback\\\">\\n        <div class=\\\"row expanded\\\">\\n            <label class=\\\"column small-4 control-label\\\">Add Email</label>\\n            <div class=\\\"column small-10\\\">\\n                <input type=\\\"email\\\" class=\\\"form-control\\\" name=\\\"email\\\" id=\\\"email\\\"  placeholder=\\\"user@company.com\\\" size=50\\n                    title=\\\"Enter a valid Email address. Use 'Test' button to send test email. Use 'Add' button to add to the subscription list.\\\"/>\\n                <i class=\\\"glyphicon form-control-feedback\\\"></i>\\n            </div>\\n            <div class=\\\"column small-5\\\">\\n                <button type=\\\"button\\\" class=\\\"button secondary\\\" style=\\\"width: 13ch;\\\" name=\\\"testEmail\\\" title=\\\"Send a test email\\\"\\n                    data-loading-text=\\\"<i class='fa fa-spinner fa-spin'></i> Sending\\\"\\n                    data-success-text=\\\"<i class='fa fa-check'></i> Sent\\\"\\n                    data-error-text=\\\"<i class='fa fa-times'></i> Error\\\">\\n                    <i class=\\\"fa fa-envelope-o\\\"></i> Test\\n                </button>\\n            </div>\\n            <div class=\\\"column small-4\\\">\\n                <button type=\\\"button\\\" class=\\\"button secondary\\\" name=\\\"addEmail\\\" title=\\\"Add this email to the subscription email list\\\"\\n                    data-loading-text=\\\"<i class='fa fa-spinner fa-spin'></i> Adding\\\"\\n                    data-success-text=\\\"<i class='fa fa-check'></i> Added\\\"\\n                    data-error-text=\\\"<i class='fa fa-times'></i> Error\\\">\\n                    <i class=\\\"fa fa-plus-square-o\\\"></i> Add\\n                </button>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"row expanded\\\">\\n        <p class=\\\"column small-24 help-block\\\" id=\\\"message\\\"></p>\\n    </div>\\n</form>\\n\"","const _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar stickit = require('backbone.stickit');\nmodule.exports = Marionette.ItemView.extend({\n    tagName: 'li',\n    template: _.template('<%=email%>&nbsp;<span name=\"deleteButton\" class=\"glyphicon glyphicon-trash deleteEmailButton\"  title=\"Delete this email\" ></span>'),\n    onRender: function () {\n        this.stickit();\n    },\n    ui: {\n        deleteButton: 'span[name=\"deleteButton\"]',\n    },\n    events: {\n        'click @ui.deleteButton': 'deleteEmail',\n    },\n    deleteEmail: function () {\n        //remove model from collection without triggering DELETE request to server\n        this.model.collection.remove(this.model);\n    },\n});\n","var Backbone = require('backbone');\nvar EmailModel = require('./WellnessEmailModel');\n\nmodule.exports = Backbone.Collection.extend({\n    model: EmailModel,\n    url: function () {\n        return this.api().central().account().segment('wellness/emailSettings');\n    },\n});\n","module.exports = \"<div class=\\\"modal-dialog\\\">\\n    <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n            <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">\\n                <span aria-hidden=\\\"true\\\">&times;</span>\\n            </button>\\n            <h4 class=\\\"modal-title\\\" id=\\\"wellness-email-modal-title\\\">Daily Wellness Email Settings</h4>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n        </div>\\n        <div class=\\\"modal-footer\\\">\\n            <button type=\\\"button\\\" class=\\\"button\\\" name=\\\"submit\\\" data-dismiss=\\\"modal\\\">Close</button>\\n        </div>\\n    </div>\\n</div>\\n\"","const _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar MaintenanceWindowStatusModel = require('./MaintenanceWindowStatusModel');\nvar tpl = require('raw-loader!./MaintenanceWindowStatusView.html');\n\nmodule.exports = Marionette.ItemView.extend({\n\n    template: _.template(tpl),\n\n    className: 'maintenance-window-status',\n\n    initialize: function () {\n        this.model = new MaintenanceWindowStatusModel();\n        this.model.fetch().done(this.render.bind(this));\n    },\n\n});\n","var Backbone = require('backbone');\n\nmodule.exports = Backbone.Model.extend({\n\n    defaults: {\n        active: null,\n        scheduled: null,\n    },\n\n    url: function () {\n        return this.api().central().account().segment('maintenancewindow/status');\n    },\n\n});\n","module.exports = \"<% if (active || scheduled) { %>\\n<div class=\\\"callout secondary\\\">\\n    <i class=\\\"fa fa-lg fa-info-circle\\\"></i>&nbsp;\\n    <% if (active) { %>\\n        <span><strong><%= active %></strong> <%= ' Maintenance Window' + (active == 1 ? ' is' : 's are') %> <em>active</em>.</span>\\n    <% } %>\\n    <% if (scheduled) { %>\\n        <span><strong><%= scheduled %></strong> <%= ' Maintenance Window' + (scheduled == 1 ? ' is' : 's are') %> <em>scheduled</em>.</span>\\n    <% } %>\\n</div>\\n<% } %>\\n\"","const _ = require('underscore');\nconst Backbone = require('backbone');\nvar Marionette = require('backbone.marionette');\nvar stickit = require('backbone.stickit');\nvar trackit = require('backbone.trackit');\nvar sprintf = require('sprintf-js').sprintf;\nvar FormBehavior = require('app/common/FormBehavior');\nvar AsyncView = require('app/common/AsyncView');\nvar MaintenanceWindowFormView = require('./MaintenanceWindowFormView');\nvar MaintenanceWindowDetailsView = require('./MaintenanceWindowDetailsView');\nvar MaintenanceWindowSidePanelView = require('./MaintenanceWindowSidePanelView');\nvar MaintenanceWindowModel = require('./MaintenanceWindowModel');\nvar MaintenanceWindowCollection = require('./MaintenanceWindowCollection');\nvar tpl = require('raw-loader!./MaintenanceWindowView.html');\nvar emptyDetailsTpl = require('raw-loader!./MaintenanceWindowEmptyDetailsView.html');\nconst App = require('app/Application');\n\nvar EmptyDetailsView = Marionette.ItemView.extend({\n    template: _.template(emptyDetailsTpl),\n    className: 'empty-details',\n});\n\nvar View = Marionette.LayoutView.extend({\n\n    className: 'maintenance-window-view',\n\n    template: _.template(tpl),\n\n    regions: {\n        sidePanelRegion: '#side-panel-region',\n        detailsPanelRegion: '#details-panel-region',\n    },\n\n    ui: {\n        newButton: 'button[name=\"new\"]',\n    },\n\n    events: {\n        'click @ui.newButton': 'onClickNew',\n    },\n\n    initialize: function () {\n        this.collection = new MaintenanceWindowCollection();\n        this.sidePanelView = new MaintenanceWindowSidePanelView({\n            collection: this.collection,\n        });\n        this.listenTo(this.sidePanelView, 'childview:selected', this.onItemSelect);\n    },\n\n    onRender: function () {\n        var self = this;\n\n        this.sidePanelRegion.show(this.sidePanelView);\n        this.showEmptyDetailsView();\n    },\n\n    showEmptyDetailsView: function () {\n        this.detailsPanelRegion.show(new EmptyDetailsView({\n            model: new Backbone.Model({\n                maintenanceWindowCount: this.collection.length,\n            }),\n        }));\n    },\n\n    showDetailsView: function (model) {\n        var detailsView = new MaintenanceWindowDetailsView({\n            model: model,\n        });\n        this.listenTo(detailsView, 'edit', this.onItemEdit);\n        this.listenTo(detailsView, 'delete', this.onItemDelete);\n        this.detailsPanelRegion.show(detailsView);\n    },\n\n    showFormView: function (model) {\n        model.startTracking();\n        var formView = new MaintenanceWindowFormView({\n            model: model,\n        });\n        this.listenTo(formView, 'cancel', this.onFormCancel);\n        this.listenTo(formView, 'submit', this.onFormSubmit);\n        this.detailsPanelRegion.show(formView);\n    },\n\n    onItemSelect: function (itemView) {\n        this.showDetailsView(itemView.model);\n    },\n\n    onItemEdit: function (detailsView) {\n        this.showFormView(detailsView.model);\n    },\n\n    onItemDelete: function (detailsView) {\n        var model = detailsView.model;\n        model.destroy()\n            .done(function (response) {\n                App.command('notification', 'show:success', {\n                    title: sprintf('Successfully deleted maintenance window \"%s\"', model.get('name')),\n                });\n            })\n            .fail(function (jqxhr) {\n                App.command('notification', 'show:error', {\n                    title: sprintf('Error deleting maintenance window \"%s\"', model.get('name')),\n                    message: jqxhr.responseJSON.message,\n                });\n            });\n\n        this.showEmptyDetailsView();\n    },\n\n    onFormCancel: function (formView) {\n        var model = formView.model;\n        model.resetAttributes();\n        if (model.isNew()) {\n            this.showEmptyDetailsView();\n        } else {\n            this.showDetailsView(model);\n        }\n    },\n\n    onFormSubmit: function (formView) {\n        var self = this;\n        var model = formView.model;\n        var wasNew = model.isNew();\n\n        // trackStartTime and trackEndTime will always have the correct timestamp\n        model.set('startTime', model.get('trackStartTime'));\n        model.set('endTime', model.get('trackEndTime'));\n\n        // these are needed just for form values and validation\n        model.unset('trackStartTime');\n        model.unset('trackEndTime');\n        model.unset('startTimeOnly');\n        model.unset('endTimeOnly');\n\n        // Proactively show the details view for the new model\n        // If the save fails (unlikely), we'll replace it with the EmptyDetailsView on failure\n        this.showDetailsView(model);\n\n        model.save()\n            .done(function (response) {\n                App.command('notification', 'show:success', {\n                    title: sprintf('Successfully %s maintenance window \"%s\"',\n                        wasNew ? 'created' : 'updated', model.get('name')),\n                });\n                model.collection.add(model);\n                self.sidePanelView.selectOne(model);\n            })\n            .fail(function (jqxhr) {\n                App.command('notification', 'show:error', {\n                    title: sprintf('Error %s maintenance window \"%s\"',\n                        wasNew ? 'creating' : 'updating', model.get('name')),\n                    message: jqxhr.responseJSON.message,\n                });\n\n                self.showEmptyDetailsView();\n            });\n    },\n\n    onClickNew: function () {\n        this.sidePanelView.unselectAll();\n        this.showFormView(new MaintenanceWindowModel({}, {\n            collection: this.collection,\n        }));\n    },\n\n    openPrepopulatedForm: function (arraySn) {\n        this.showFormView(new MaintenanceWindowModel({\n            arrays: [arraySn],\n        }, {\n            collection: this.collection,\n        }));\n    },\n\n});\n\nmodule.exports = AsyncView.extend({\n    ViewConstructor: View,\n\n    openPrepopulatedForm: function (arraySn) {\n        if (this.view.isRendered) {\n            this.view.openPrepopulatedForm(arraySn);\n        } else {\n            this.listenToOnce(this.view, 'render', this.view.openPrepopulatedForm.bind(this.view, arraySn));\n        }\n    },\n});\n","const $ = require('jquery');\nconst _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar stickit = require('backbone.stickit');\nvar validation = require('backbone-validation');\nvar FormBehavior = require('app/common/FormBehavior');\nrequire('bootstrap-datepicker');\n//require('bootstrap-timepicker');\nconst moment = require('moment');\nvar tpl = require('raw-loader!./MaintenanceWindowFormView.html');\nconst AsyncView = require('../../../common/AsyncView');\nconst App = require('app/Application');\n\nconst View = Marionette.LayoutView.extend({\n\n    className: 'maintenance-window-details animated fadeIn',\n\n    template: _.template(tpl),\n\n    templateHelpers: function () {\n        return {\n            isNew: this.model.isNew(),\n        };\n    },\n\n    behaviors: {\n        FormBehavior: {\n            behaviorClass: FormBehavior,\n        },\n    },\n\n    bindings: {\n        '[name=\"name\"]': {\n            observe: 'name',\n            setOptions: { validate: true },\n        },\n        '[name=\"notes\"]': {\n            observe: 'notes',\n        },\n        '[name=\"startTime\"]': {\n            observe: 'startTime',\n            onSet: function (val) {\n                var newStartTime = new Date(val + ' ' + this.$('[name=\"startTimeOnly\"]').val());\n                this.model.set('trackStartTime', newStartTime);\n                return !val ? null : newStartTime;\n            },\n            onGet: function (d) {\n                var startTimeOnly = !d ? '' : moment(d).format('hh:mm A');\n                this.model.set('startTimeOnly', startTimeOnly);\n                this.model.set('trackStartTime', d);\n                return !d ? '' : moment(d).format('MM/DD/YYYY');\n            },\n            setOptions: { validate: true },\n        },\n        '[name=\"startTimeOnly\"]': {\n            observe: 'startTimeOnly',\n            onSet: function (val) {\n                var currentStartDate = this.$('[name=\"startTime\"]').val();\n                var newStartTime = new Date(currentStartDate + ' ' + val);\n                this.model.set('trackStartTime', newStartTime);\n                return val;\n            },\n            setOptions: { validate: true },\n        },\n        '[name=\"endTime\"]': {\n            observe: 'endTime',\n            onSet: function (val) {\n                var newEndTime = new Date(val + ' ' + this.$('[name=\"endTimeOnly\"]').val());\n                this.model.set('trackEndTime', newEndTime);\n                return !val ? null : newEndTime;\n            },\n            onGet: function (d) {\n                var endTimeOnly = !d ? '' : moment(d).format('hh:mm A');\n                this.model.set('endTimeOnly', endTimeOnly);\n                this.model.set('trackEndTime', d);\n                return !d ? '' : moment(d).format('MM/DD/YYYY');\n            },\n            setOptions: { validate: true },\n        },\n        '[name=\"endTimeOnly\"]': {\n            observe: 'endTimeOnly',\n            onSet: function (val) {\n                var currentEndTime = this.$('[name=\"endTime\"]').val();\n                var newEndTime = new Date(currentEndTime + ' ' + val);\n                this.model.set('trackEndTime', newEndTime);\n                return val;\n            },\n            setOptions: { validate: true },\n        },\n    },\n\n    ui: {\n        submitButton: 'button[name=\"submit\"]',\n        unselectedArrays: 'select[name=\"arrays-unselected\"]',\n        selectedArrays: 'select[name=\"arrays\"]',\n        selectArray: 'button[name=\"array-select\"]',\n        unselectArray: 'button[name=\"array-unselect\"]',\n    },\n\n    events: {\n        'click @ui.selectArray': 'selectArray',\n        'click @ui.unselectArray': 'unselectArray',\n    },\n\n    triggers: {\n        'click button[name=\"submit\"]': 'submit',\n        'click button[name=\"cancel\"]': 'cancel',\n    },\n\n    initialize: function (options) {\n        this.listenTo(this.model, 'validated', this.onValidated);\n    },\n\n    onRender: function () {\n        var self = this;\n\n        // Need to eager init so first click on time icon works\n        //this.$('[data-provide=\"timepicker\"]').timepicker();\n        const { arrays } = this;\n        arrays.each(function (array) {\n            var hostName = !array.get('hostname') ? '' : array.get('hostname');\n            self.ui.unselectedArrays.append(\n                $('<option>')\n                    .text(hostName + ' (' + array.get('serialNumber') + ')')\n                    .val(array.get('serialNumber')),\n            );\n        });\n\n        this.model.get('arrays').forEach(function (arraySn) {\n            var hostName = arrays.findWhere({ serialNumber: arraySn }).get('hostname') || '';\n            self.ui.selectedArrays.append(\n                $('<option>')\n                    .text(hostName + ' (' + arraySn + ')')\n                    .val(arraySn),\n            );\n        });\n\n        if (this.model.isNew()) {\n            this.onValidated(false);\n        }\n    },\n\n    selectArray: function (event) {\n        event.preventDefault();\n        this.ui.selectedArrays.append(this.ui.unselectedArrays.find('option:selected'));\n        this.refreshArraysInModel();\n    },\n\n    unselectArray: function (event) {\n        event.preventDefault();\n        this.ui.unselectedArrays.append(this.ui.selectedArrays.find('option:selected'));\n        this.refreshArraysInModel();\n    },\n\n    refreshArraysInModel: function () {\n        this.model.set('arrays',\n            this.ui.selectedArrays.find('option')\n                .map(function () {\n                    return this.value;\n                })\n                .get(), { validate: true });\n    },\n\n    onValidated: function (isValid) {\n        this.ui.submitButton.prop('disabled', !isValid);\n        this.trigger('validated', isValid);\n    },\n\n});\n\nmodule.exports = AsyncView.extend({\n    ViewConstructor: View,\n\n    load() {\n        const deferred = $.Deferred();\n        const { view } = this;\n\n        App.request('global', 'get:assets:async')\n            .then((arrays) => {\n                view.arrays = arrays;\n                deferred.resolve(view);\n            })\n            .catch((...args) => deferred.reject(...args));\n\n        return deferred;\n    },\n});\n","module.exports = \"<div class=\\\"toolbar clearfix\\\">\\n    <div class=\\\"pull-right\\\">\\n        <button class=\\\"button\\\" name=\\\"submit\\\"><%= isNew ? 'Create': 'Save' %></button>\\n        <button class=\\\"button cancel\\\" name=\\\"cancel\\\">Cancel</button>\\n    </div>\\n</div>\\n\\n<form class=\\\"form-horizontal\\\">\\n    <div class=\\\"form-group row expanded\\\">\\n        <label class=\\\"control-label column small-2\\\">Name</label>\\n        <div class=\\\"column small-14\\\">\\n            <div class=\\\"row expanded\\\">\\n                <div class=\\\"column small-24 input-group\\\">\\n                    <input class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"name\\\"/>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"form-group row expanded\\\">\\n        <label class=\\\"control-label column small-2\\\">From</label>\\n        <div class=\\\"column small-20\\\">\\n            <div class=\\\"row expanded\\\">\\n                <div class=\\\"column small-8\\\">\\n                    <div class=\\\"input-group date\\\" data-provide=\\\"datepicker\\\">\\n                        <input class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"startTime\\\"></input>\\n                        <span class=\\\"input-group-addon\\\"><i class=\\\"glyphicon glyphicon-calendar\\\"></i></span>\\n                    </div>\\n                </div>\\n                <div class=\\\"column small-8\\\">\\n                    <div class=\\\"input-group\\\">\\n                        <input class=\\\"form-control\\\" type=\\\"text\\\" placeholder=\\\"e.g. 12:30 AM\\\" name=\\\"startTimeOnly\\\"></input>\\n                        <span class=\\\"input-group-addon\\\"><i class=\\\"glyphicon glyphicon-time\\\"></i></span>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"form-group row expanded\\\">\\n        <label class=\\\"control-label column small-2\\\">To</label>\\n        <div class=\\\"column small-20\\\">\\n            <div class=\\\"row expanded\\\">\\n                <div class=\\\"column small-8\\\">\\n                    <div class=\\\"input-group date\\\" data-provide=\\\"datepicker\\\">\\n                        <input class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"endTime\\\"></input>\\n                        <span class=\\\"input-group-addon\\\"><i class=\\\"glyphicon glyphicon-calendar\\\"></i></span>\\n                    </div>\\n                </div>\\n                <div class=\\\"column small-8\\\">\\n                    <div class=\\\"input-group\\\">\\n                        <input class=\\\"form-control\\\" type=\\\"text\\\" placeholder=\\\"e.g. 12:30 AM\\\" name=\\\"endTimeOnly\\\"></input>\\n                        <span class=\\\"input-group-addon\\\"><i class=\\\"glyphicon glyphicon-time\\\"></i></span>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"form-group row expanded\\\">\\n        <label class=\\\"control-label column small-2\\\" for=\\\"notes\\\">Notes</label>\\n        <div class=\\\"column small-20\\\">\\n            <div class=\\\"row expanded\\\">\\n                <div class=\\\"column small-24 input-group\\\">\\n                    <textarea class=\\\"form-control\\\" rows=\\\"3\\\" name=\\\"notes\\\"></textarea>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"form-group row expanded\\\" data-field=\\\"arrays\\\">\\n        <label class=\\\"control-label column small-2\\\" for=\\\"notes\\\">Arrays</label>\\n        <div class=\\\"column small-20\\\">\\n            <div class=\\\"row expanded\\\">\\n                <div class=\\\"column small-10\\\">\\n                    <select class=\\\"form-control\\\" name=\\\"arrays-unselected\\\" size=\\\"10\\\" multiple>\\n                    </select>\\n                </div>\\n\\n                <div class=\\\"column small-4 flex-container flex-dir-column align-center button-container\\\">\\n                    <button class=\\\"button secondary\\\" name=\\\"array-select\\\">\\n                        Add <i class=\\\"fa fa-angle-double-right fa-lg\\\"></i>\\n                    </button>\\n                    <button class=\\\"button secondary\\\" name=\\\"array-unselect\\\">\\n                        <i class=\\\"fa fa-angle-double-left fa-lg\\\"></i> Remove\\n                    </button>\\n                </div>\\n\\n                <div class=\\\"column small-10\\\">\\n                    <select class=\\\"form-control\\\" size=\\\"10\\\" name=\\\"arrays\\\" multiple>\\n                    </select>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\\n</form>\\n\"","const $ = require('jquery');\nconst _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar tpl = require('raw-loader!./MaintenanceWindowDetailsView.html');\nconst moment = require('moment');\nconst AsyncView = require('../../../common/AsyncView');\nconst App = require('app/Application');\n\nconst View = Marionette.ItemView.extend({\n\n    template: _.template(tpl),\n\n    templateHelpers() {\n        const { arrays } = this;\n        return {\n            moment,\n            hostnameFor(arraySn) {\n                return arrays.findWhere({ serialNumber: arraySn }).get('hostname') || '';\n            },\n        };\n    },\n\n    className: 'maintenance-window-details animated fadeIn',\n\n    triggers: {\n        'click button[name=\"edit\"]': 'edit',\n        'click button[name=\"delete\"]': 'delete',\n    },\n\n    modelEvents: {\n        'change': 'render',\n    },\n\n});\n\nmodule.exports = AsyncView.extend({\n    ViewConstructor: View,\n\n    load() {\n        const deferred = $.Deferred();\n        const { view } = this;\n\n        App.request('global', 'get:assets:async')\n            .then((arrays) => {\n                view.arrays = arrays;\n                deferred.resolve(view);\n            })\n            .catch((...args) => deferred.reject(...args));\n\n        return deferred;\n    },\n});\n","module.exports = \"<div class=\\\"flex-container align-justify\\\">\\n    <h3 class=\\\"\\\"><%= name %></h3>\\n    <div class=\\\"\\\">\\n        <button class=\\\"button\\\" name=\\\"edit\\\">\\n            <i class=\\\"fa fa-pencil-square-o\\\"></i> Edit\\n        </button>\\n        <button class=\\\"button\\\" name=\\\"delete\\\">\\n            <i class=\\\"fa fa-trash\\\"></i> Delete\\n        </button>\\n    </div>\\n</div>\\n\\n<form class=\\\"form-horizontal\\\">\\n    <div class=\\\"form-group\\\">\\n        <label class=\\\"control-label\\\">Duration</label>\\n        <div class=\\\"\\\">\\n            <%= moment(startTime).format('L LT') %> - <%= moment(endTime).format('L LT') %>\\n        </div>\\n    </div>\\n    <div class=\\\"form-group\\\">\\n        <label class=\\\"control-label\\\">Notes</label>\\n        <div class=\\\"\\\">\\n            <%= notes %>\\n        </div>\\n    </div>\\n    <div class=\\\"form-group\\\">\\n        <label class=\\\"control-label\\\">Arrays</label>\\n        <div class=\\\"\\\">\\n            <ul class=\\\"list-unstyled\\\">\\n                <% arrays.map(function(arraySn) { %>\\n                    <li><%= hostnameFor(arraySn) + ' (' + arraySn + ')' %></li>\\n                <% }) %>\\n            </ul>\\n        </div>\\n    </div>\\n</form>\\n\"","const _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar stickit = require('backbone.stickit');\nvar FormBehavior = require('app/common/FormBehavior');\nvar MaintenanceWindowModel = require('./MaintenanceWindowModel');\nvar MaintenanceWindowCollection = require('./MaintenanceWindowCollection');\nvar tpl = require('raw-loader!./MaintenanceWindowSidePanelView.html');\nvar itemTpl = require('raw-loader!./MaintenanceWindowSidePanelItemView.html');\nconst moment = require('moment');\n\nvar SidePanelItemView = Marionette.ItemView.extend({\n\n    template: _.template(itemTpl),\n\n    tagName: 'a',\n\n    attributes: function () {\n        return {\n            href: '#',\n            'data-model-id': this.model.id,\n        };\n    },\n\n    templateHelpers: { moment },\n    className: 'list-group-item',\n\n    triggers: {\n        'click': 'selected',\n    },\n\n    modelEvents: {\n        sync: 'render',\n    },\n\n});\n\nmodule.exports = Marionette.CompositeView.extend({\n\n    template: _.template(tpl),\n\n    childView: SidePanelItemView,\n\n    childViewContainer: '.list-group',\n\n    childEvents: {\n        'selected': 'onItemSelected',\n    },\n\n    emptyView: Marionette.ItemView.extend({\n        template: _.constant('<li class=\"list-group-item\"> There are no maintenance windows scheduled</li>'),\n    }),\n\n    onItemSelected: function (view) {\n        this.selectOne(view.model);\n    },\n\n    selectOne: function (model) {\n        this.unselectAll();\n        this.$('.list-group-item[data-model-id=\"' + model.id + '\"]').addClass('active');\n    },\n\n    unselectAll: function () {\n        this.$('.list-group-item.active').removeClass('active');\n    },\n\n});\n","module.exports = \"<button class=\\\"button expanded\\\" datat-toggle=\\\"tooltip\\\" title=\\\"New Maintenance Window\\\" name=\\\"new\\\">\\n    <i class=\\\"fa fa-plus-circle\\\"></i> New\\n</button>\\n<div class=\\\"list-group\\\"></div>\\n\"","module.exports = \"<h4 class=\\\"list-group-item-heading\\\"><%= name %></h4>\\n<ul class=\\\"list-unstyled\\\">\\n    <li><small class=\\\"list-group-item-text\\\"><strong>Start</strong> <%= moment(startTime).format(\\\"L LT z\\\") %></small></li>\\n    <li><small class=\\\"list-group-item-text\\\"><strong>End</strong> <%= moment(endTime).format(\\\"L LT z\\\") %></small></li>\\n</ul>\"","module.exports = \"<div class=\\\"well\\\">\\n    <p>\\n        <i class=\\\"fa fa-info-circle\\\"></i>\\n        Maintenance Windows allow for disabling automated support case generation during planned outages.\\n    </p>\\n    <p>\\n        Please note that automated support case generation will be disabled <em>only for maintenance related</em> events encountered during the defined period on the Nimble group.\\n        Support cases related to any unexpected array behavior will continue to be generated during this period, as will cases triggered through\\n        longer term analytical recommendations unrelated to the maintenance window.\\n    </p>\\n</div>\\n<div class=\\\"row expanded\\\">\\n    <div class=\\\"column medium-6\\\" id=\\\"side-panel-region\\\"></div>\\n    <div class=\\\"column medium-18 panel panel-default\\\">\\n        <div class=\\\"panel-body\\\" id=\\\"details-panel-region\\\"></div>\\n    </div>\\n</div>\\n\"","module.exports = \"<h4>\\n    <em>\\n    <% if (maintenanceWindowCount > 0) { %>\\n        Select a Maintenance Window to view details\\n    <% } else { %>\\n        Click the 'New' button to schedule a Maintenance Window\\n    <% } %>\\n    </em>\\n</h4>\"","const $ = require('jquery');\nconst App = require('app/Application');\nconst _ = require('underscore');\nconst { SERVER_BASE_URL } = require('progeny/config');\nconst { buildUrl } = require('@infosight/elmer/dist/utils/url');\n\nvar Marionette = require('backbone.marionette');\nvar LabAppCollection = require('./LabAppCollection');\nvar itemTpl = require('raw-loader!./LabsItemView.html');\nvar tpl = require('raw-loader!./LabsView.html');\nvar moment = require('moment');\n\nvar ItemView = Marionette.ItemView.extend({\n\n    tagName: 'li',\n    class: 'lab-app',\n\n    template: _.template(itemTpl),\n\n    attributes: function () {\n        return {\n            'data-app-id': this.model.id,\n        };\n    },\n\n    templateHelpers() {\n        return {\n            moment,\n            url: (...args) => buildUrl(SERVER_BASE_URL, this.getOption('path'), ...args),\n        };\n    },\n});\n\nmodule.exports = Marionette.CompositeView.extend({\n\n    template: _.template(tpl),\n\n    className: 'labs-view',\n\n    childView: ItemView,\n\n    childViewOptions() {\n        return { path: this.getOption('path') };\n    },\n\n    childViewContainer: 'ul.labs-apps',\n\n    events: {\n        'click a[data-category]': 'filterLabApps',\n    },\n\n    selectedCategory: 'all',\n\n    filterLabApps: function (e) {\n        // debugger; // jshint ignore: line\n\n        var thisView = this;\n\n        var btn = $(e.currentTarget);\n        thisView.selectedCategory = btn.attr('data-category');\n\n        var recollection = this.getOption('collection').filter(function (a, b, c) {\n            if (thisView.selectedCategory === 'all') {\n                return true;\n            }\n            return a.get('category') === thisView.selectedCategory;\n        });\n\n        thisView.collection = new LabAppCollection(recollection);\n        thisView.render();\n\n        thisView.$el.find('ul.labs-nav li a').removeClass('selected');\n        thisView.$el.find('ul.labs-nav li a[data-category=' + this.selectedCategory + ']').addClass('selected');\n    },\n\n    initialize: function () {\n\n        // prevent access with \"All Accounts\" mode\n        var accountSelection = App.request('global', 'get:account:selection');\n        if (!accountSelection.isSingle()) {\n            setTimeout(function () {\n                window.location = buildUrl(SERVER_BASE_URL, '/#assets');\n            }, 50);\n        }\n    },\n\n});\n","var Backbone = require('backbone');\n\nmodule.exports = Backbone.Model.extend({\n    defaults: {\n        id: null,\n        name: null,\n        category: null,\n        description: null,\n        creationTime: null,\n    },\n\n});\n","module.exports = \"<a href=\\\"<%= url(id) %>\\\" class=\\\"box-wrapper history-aware\\\">\\n\\n    <h3><%= name %></h3>\\n\\n    <!--  <%= category %> -->\\n\\n    <!-- show the ratings for the reports? -->\\n    <!-- div class=\\\"starset\\\">TBD</div -->\\n\\n    <p><%= description %></p>\\n\\n    <!-- shows the number of views for the report -->\\n    <!-- div class=\\\"lab-app-views\\\">1,286</div -->\\n\\n    <!-- if the report is less than 45 days old, we can highlight it: -->\\n    <% if (moment().diff(moment(creationTime), 'days') <= 45) { %>\\n        <div class=\\\"label label-success\\\">New!</div>\\n    <% } %>\\n</a>\\n\"","module.exports = \"<div>\\n\\n    <div class=\\\"labs-landing\\\">\\n\\n        <div class=\\\"banner\\\"><div class=\\\"label label-warning\\\">Beta</div></div>\\n\\n        <h1>Experiment with the next generation of storage insights.</h1>\\n\\n        <ul class=\\\"labs-nav\\\">\\n            <li><a href=\\\"#labs\\\" class=\\\"selected\\\" data-category=\\\"all\\\">All</a></li>\\n            <li><a href=\\\"#labs\\\" data-category=\\\"performance\\\">Performance</a></li>\\n            <li><a href=\\\"#labs\\\" data-category=\\\"capacity\\\">Capacity</a></li>\\n            <li><a href=\\\"#labs\\\" data-category=\\\"data-protection\\\">Data Protection</a></li>\\n        </ul>\\n\\n        <!-- the lab apps will be populated into this list: -->\\n        <ul class=\\\"labs-apps\\\"></ul>\\n\\n    </div>\\n\\n\\n</div>\\n\"","const $ = require('jquery');\nconst App = require('app/Application');\nconst _ = require('underscore');\nconst { SERVER_BASE_URL, BASE_URL } = require('progeny/config');\nconst { buildUrl } = require('@infosight/elmer/dist/utils/url');\n\nvar Marionette = require('backbone.marionette');\nvar tpl = require('raw-loader!./LabAppView.html');\nvar LabsFeedBackView = require('./LabsFeedBackView');\nvar LabAppUserGuide = require('./LabAppUserGuide');\n\nmodule.exports = Marionette.ItemView.extend({\n\n    className: 'lab-app',\n\n    template: _.template(tpl),\n\n    templateHelpers: function () {\n        var reportId = this.popReportIdFromUrl();\n        var currentAccount = App.request('global', 'get:account:selection');\n        if (currentAccount) {\n            var accountModel = currentAccount.getAccount();\n            if (accountModel) {\n                return {\n                    id: reportId,\n                    account: accountModel.toJSON(),\n                    pod: this.getOption('pod'),\n                    url(...args) {\n                        return buildUrl(BASE_URL, ...args);\n                    },\n                };\n            }\n        }\n        // template fail-safe\n        return {\n            id: reportId,\n            account: { id: 'invalid' },\n            url(...args) {\n                return buildUrl(BASE_URL, ...args);\n            },\n        };\n    },\n\n    ui: {\n        feedbackData: '.labsFeedback',\n    },\n\n    events: {\n        'click .labsFeedback': 'onClickLabsFeedback',\n    },\n\n    userManualAdded: false,\n\n    popReportIdFromUrl: function () {\n        return this.getOption('appid');\n    },\n\n    onRender: function () {\n\n        var srcElem = this.$el,\n            labFrame = srcElem.find('.shiny-container iframe');\n\n        labFrame.on('load error ready', function () {\n            srcElem.find('.shiny-container .lab-app-loading').hide();\n            labFrame.show();\n\n        });\n\n        labFrame.hide();\n        this.setHeight();\n    },\n\n    setHeight() {\n        let subtract = 0;\n        const el = this.el.querySelector('.shiny-container');\n        if (!el) {\n            return;\n        }\n\n        const footer = $('#infosight-app-footer');\n        if (footer.length) {\n            // Subtract the height of the footer\n            subtract += $(document).height() - footer.get(0).getBoundingClientRect().top;\n        }\n\n        // Subtract anything above the element\n        subtract += el.getBoundingClientRect().top;\n\n        // A little extra for padding and borders\n        subtract += 10;\n\n        el.style.height = `calc(100vh - ${subtract}px)`;\n    },\n\n    onDestroy: function () {\n        var target = $('ul.breadcrumb li').last();\n        target.find('a.fa-info-circle').off('click');\n    },\n\n    onClickLabsFeedback: function (event) {\n        App.modalRegion.show(new LabsFeedBackView({\n                model: this.model,\n            }),\n        );\n    },\n\n    collectionReady: function () {\n        var thisView = this;\n        var reportId = thisView.popReportIdFromUrl();\n        var reportModel = this.collection.find({ id: reportId });\n        thisView.model = reportModel;\n\n        if (thisView.userManualAdded) {\n            return;\n        }\n\n        thisView.userManualAdded = true;\n\n        // breadcrumb post-render hack\n        setTimeout(function () {\n\n            var target = $('ul.breadcrumb li').last();\n            target.find('a.fa-info-circle').remove(); // ensure a clean start\n\n            target.append('<a href=\"#\" class=\"fa fa-info-circle\">&nbsp;</a>')\n                .on('click', function (e) {\n                    e.preventDefault();\n                    App.modalRegion.show(new LabAppUserGuide({ model: reportModel }));\n                    return false;\n                });\n\n        }, 100);\n    },\n\n    initialize: function () {\n        // prevent access with \"All Accounts\" mode\n        var accountSelection = App.request('global', 'get:account:selection');\n        if (!accountSelection.isSingle()) {\n            setTimeout(function () {\n                window.location = buildUrl(SERVER_BASE_URL, '/#assets');\n            }, 50);\n            return;\n        }\n\n        this.userManualAdded = false;\n\n        // if we navigated from within the app, the content region will load the model\n        // but if the user hit the route, directly, then we need to setup the context.\n        if (!this.model) {\n\n            if (this.collection.length) {\n                this.collectionReady.call(this);\n            } else {\n                this.collection.bind('change reset add remove', this.collectionReady, this);\n            }\n\n        }\n\n    },\n\n});\n","module.exports = \"<div class=\\\"flex-container align-justify align-middle\\\">\\n    <div class=\\\"breadcrumbs-region\\\">\\n        <ul class=\\\"breadcrumb\\\">\\n            <li><a href=\\\"/dashboards/nimble/labs\\\" class=\\\"history-aware\\\">InfoSight Labs</a></li>\\n            <li class=\\\"active\\\"><%= name %></li>\\n        </ul>\\n    </div>\\n    <button class=\\\"feedbacking labsFeedback button\\\">Give Feedback <i class=\\\"fa fa-comment\\\" /></button>\\n</div>\\n<div class=\\\"embed-responsive shiny-container\\\">\\n\\n    <% if(id) { %>\\n\\t   <iframe src=\\\"<%= url('labs/apps/customer', id) %>/?account=<%= account.id %>&pod=<%= pod %>\\\"></iframe>\\n    <% } %>\\n\\n    <div class=\\\"lab-app-loading\\\"></div>\\n\\n</div>\\n\"","const $ = require('jquery');\nconst App = require('app/Application');\nconst _ = require('underscore');\nconst FlashNotification = require('@infosight/elmer/dist/components/FlashNotification').default;\nvar Marionette = require('backbone.marionette');\nvar tpl = require('raw-loader!./LabsFeedBackView.html');\nconst { buildUrl } = require('@infosight/elmer/dist/utils/url');\nconst { API_BASE_URL } = require('../../../progeny/config');\n\nmodule.exports = Marionette.ItemView.extend({\n\n    className: 'lab-app-feedback',\n\n    template: _.template(tpl),\n\n    templateHelpers: function () {\n        return {\n            userLogin: App.request('global', 'get:current:session').get('userLogin'),\n        };\n    },\n\n    ui: {\n        uploadButton: '[data-action=\"uploadDocument\"]',\n        starduo: '.starduo',\n        feedbackText: 'form.upload-labs-feedback textarea',\n    },\n\n    events: {\n        'click @ui.uploadButton': 'onClickUpload',\n        'mousedown @ui.starduo': 'updateRatings',\n        'input @ui.feedbackText': 'adjustUploadButton',\n        'change #contact-form input[type=radio]': 'updateChoice',\n    },\n\n    initialize: function () {\n        this.labAppModel = this.model;\n    },\n\n    onClickUpload: function (event) {\n\n        var appId = this.model.get('id');\n\n        var self = this;\n        var uploadForm = this.$('.upload-labs-feedback')[0];\n        var formData = new FormData(uploadForm);\n\n        this.$el.find('form .rating').each(function (idx, item) {\n            var $item = $(item);\n            var fieldName = $item.attr('data-score-rel'),\n                fieldScore = $item.attr('data-score-current') || '0';\n            formData.append(fieldName, fieldScore);\n        });\n\n        $.ajax({\n            url: buildUrl(API_BASE_URL, 'labs/apps', appId, 'feedback'),\n            type: 'POST',\n            success() {\n                FlashNotification.success('Successfully submitted the feedback.');\n            },\n            error() {\n                FlashNotification.error('Error submitting the feedback.');\n            },\n            data: formData,\n            contentType: false,\n            processData: false,\n        });\n    },\n\n    updateRatings: function (event) {\n        var starSrc = $(event.target).closest('.starduo');\n        var scoreKeeper = starSrc.closest('.rating');\n        var score = starSrc.attr('data-score');\n        scoreKeeper.attr('data-score-current', score);\n        this.adjustUploadButton(event);\n    },\n\n    updateChoice: function (event) {\n        var optSrc = $(event.target);\n        var scoreKeeper = optSrc.closest('.rating');\n        var score = optSrc.val() >>> 0;\n        scoreKeeper.attr('data-score-current', score);\n        this.adjustUploadButton(event);\n    },\n\n    adjustUploadButton: function (event) {\n        // the form will be enabled as long as one question gets answered\n        this.ui.uploadButton.prop('disabled', false);\n    },\n\n});\n","module.exports = \"<div class=\\\"modal-dialog\\\">\\n    <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n            <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">\\n                <span aria-hidden=\\\"true\\\">&times;</span>\\n            </button>\\n            <h4 class=\\\"modal-title\\\">Feedback - <%=name%></h4>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n            <form id=\\\"contact-form\\\" class=\\\"form-horizontal upload-labs-feedback\\\">\\n                <div class=\\\"form-group\\\">\\n\\n                    <label class=\\\"control-label column small-16\\\">Clarity of results</label>\\n                    <div class=\\\"column small-16\\\">\\n                        <div class=\\\"row expanded\\\">\\n                            <div class=\\\"column small-24 rating\\\" data-score-current=\\\"0\\\" data-score-rel=\\\"interpretabilityOfResults\\\">\\n\\n                                <div class=\\\"starduo\\\" data-score=\\\"1\\\"><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star-o\\\"></i></div>\\n                                <div class=\\\"starduo\\\" data-score=\\\"2\\\"><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star-o\\\"></i></div>\\n                                <div class=\\\"starduo\\\" data-score=\\\"3\\\"><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star-o\\\"></i></div>\\n                                <div class=\\\"starduo\\\" data-score=\\\"4\\\"><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star-o\\\"></i></div>\\n                                <div class=\\\"starduo\\\" data-score=\\\"5\\\"><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star-o\\\"></i></div>\\n\\n                            </div>\\n                        </div>\\n                    </div>\\n\\n\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <label class=\\\"control-label column small-16\\\">Ease of use</label>\\n                    <div class=\\\"column small-16\\\">\\n                        <div class=\\\"row expanded\\\">\\n\\n                            <div class=\\\"column small-24 rating\\\" data-score-current=\\\"0\\\" data-score-rel=\\\"easeOfUse\\\">\\n\\n                                <div class=\\\"starduo\\\" data-score=\\\"1\\\"><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star-o\\\"></i></div>\\n                                <div class=\\\"starduo\\\" data-score=\\\"2\\\"><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star-o\\\"></i></div>\\n                                <div class=\\\"starduo\\\" data-score=\\\"3\\\"><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star-o\\\"></i></div>\\n                                <div class=\\\"starduo\\\" data-score=\\\"4\\\"><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star-o\\\"></i></div>\\n                                <div class=\\\"starduo\\\" data-score=\\\"5\\\"><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star-o\\\"></i></div>\\n\\n                            </div>\\n\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <label class=\\\"control-label column small-16\\\">Usefulness of results</label>\\n                    <div class=\\\"column small-16\\\">\\n                        <div class=\\\"row expanded\\\">\\n                            <div class=\\\"column small-24 rating\\\" data-score-current=\\\"0\\\" data-score-rel=\\\"usefulness\\\">\\n\\n                                <div class=\\\"starduo\\\" data-score=\\\"1\\\"><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star-o\\\"></i></div>\\n                                <div class=\\\"starduo\\\" data-score=\\\"2\\\"><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star-o\\\"></i></div>\\n                                <div class=\\\"starduo\\\" data-score=\\\"3\\\"><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star-o\\\"></i></div>\\n                                <div class=\\\"starduo\\\" data-score=\\\"4\\\"><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star-o\\\"></i></div>\\n                                <div class=\\\"starduo\\\" data-score=\\\"5\\\"><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star-o\\\"></i></div>\\n\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <label class=\\\"control-label column small-16\\\">How often would you use this application?</label>\\n                    <div class=\\\"column small-16\\\">\\n                        <div class=\\\"row expanded\\\">\\n                            <div class=\\\"column small-24 frequency\\\">\\n                                <label><input type=\\\"radio\\\" name=\\\"frequencyOfUse\\\" value=\\\"1\\\"> daily</label>\\n                                <label><input type=\\\"radio\\\" name=\\\"frequencyOfUse\\\" value=\\\"2\\\"> weekly</label>\\n                                <label><input type=\\\"radio\\\" name=\\\"frequencyOfUse\\\" value=\\\"3\\\"> monthly</label>\\n                                <label><input type=\\\"radio\\\" name=\\\"frequencyOfUse\\\" value=\\\"4\\\"> longer</label>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <label class=\\\"control-label column small-16\\\">How can we make this report better?</label>\\n                    <div class=\\\"column small-16\\\">\\n                        <div class=\\\"row expanded\\\">\\n                            <div class=\\\"column small-20\\\">\\n                                <textarea class=\\\"form-control\\\" name=\\\"comments\\\" rows=\\\"4\\\"></textarea>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                   <label class=\\\"control-label column small-16\\\" style=\\\"vertical-align: top\\\">Screenshot</label>\\n                    <div class=\\\"column small-16\\\">\\n                        <div class=\\\"row expanded\\\">\\n                            <div class=\\\"column\\\">\\n                                <input class=\\\"btn-file\\\" type=\\\"file\\\" name=\\\"file\\\" id=\\\"file\\\"/>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <button data-dismiss=\\\"modal\\\" class=\\\"button secondary center-block\\\" type=\\\"button\\\" disabled data-action=\\\"uploadDocument\\\"><i class=\\\"fa fa-upload\\\"></i> Submit <span class=\\\"uploadSpinner\\\" style=\\\"display:none\\\"><i class=\\\"fa fa-spinner fa-lg\\\"></i></span></button>\\n                </div>\\n                <input type=\\\"text\\\" style=\\\"visibility: hidden;\\\" name=\\\"appName\\\" value=\\\"<%= name %>\\\"/>\\n                <input type=\\\"text\\\" style=\\\"visibility: hidden;\\\" name=\\\"userLogin\\\" value=\\\"<%= userLogin %>\\\"/>\\n            </form>\\n        </div>\\n    </div>\\n</div>\\n\"","const _ = require('underscore');\nvar Marionette = require('backbone.marionette');\n\nvar templateCache = {\n    'replication_planning': require('raw-loader!./user-guides/ReplicationPlanning.html'),\n    'replication_timeline': require('raw-loader!./user-guides/ReplicationTimeline.html'),\n    'volume_capacity_subset': require('raw-loader!./user-guides/VolumeCapacitySubset.html'),\n    'volume_performance_subset': require('raw-loader!./user-guides/VolumePerformanceSubset.html'),\n    'volume_capacity_birdseye': require('raw-loader!./user-guides/CapacityConsumersTimeline.html'),\n    'perf_regularity_heatmap': require('raw-loader!./user-guides/PerformanceHeatMap.html'),\n    'volume_performance_birdseye': require('raw-loader!./user-guides/InterVolumePerformanceContention.html'),\n    'performance_recommendations_storage': require('raw-loader!./user-guides/PerformanceRecommendationsStorage.html'),\n    'ncv_sizing': require('raw-loader!./user-guides/HpeCloudVolumesSizingTool.html'),\n    'capacity_forecast': require('raw-loader!./user-guides/CapacityConsumersForecast.html'),\n    'controller_planning': require('raw-loader!./user-guides/WhatIfPlanningTool.html'),\n    'cross_stack_recommendation': require('raw-loader!./user-guides/CrossStackRecommendationEngine.html'),\n};\n\nmodule.exports = Marionette.ItemView.extend({\n\n    className: 'lab-app-user-guide',\n\n    ui: {\n        // uploadButton: '[data-action=\"uploadDocument\"]',\n        // starduo: '.starduo'\n    },\n\n    events: {\n        // 'click @ui.uploadButton': 'onClickUpload',\n        // 'mousedown @ui.starduo' : 'updateRatings'\n    },\n\n    initialize: function () {\n        var reportId = this.model.get('id');\n        this.template = _.template(templateCache[reportId]);\n    },\n\n});\n","module.exports = \"<div class=\\\"modal-dialog\\\">\\n    <div class=\\\"modal-content lab-app-user-guide\\\">\\n        <div class=\\\"modal-header\\\">\\n            <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">\\n                <span aria-hidden=\\\"true\\\">&times;</span>\\n            </button>\\n            <h4 class=\\\"modal-title\\\">Labs User Guide</h4>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n\\n            <h3>Replication Planning Tool</h3>\\n\\n            <p>Purpose: Estimate the bandwidth needed to replicate data.  This tool provides more flexibility than the current replication planning tool by leveraging data from the entire installed base to allow exploration of replication &ldquo;what-if&rdquo; scenarios, so inputs can that differ from current snapshot schedules. </p>\\n\\n            <p>Inputs:</p>\\n            <ul>\\n                <li>Select a Pool: Allows the user to select a specific pool. After selecting a specific pool, a subset of volumes within that pool can be selected for analysis.</li>\\n\\n                <li>Aggregate By: This menu together with the subsequent field defines the set of volumes to be analyzed. A list of volumes can be hand-picked by selecting the &ldquo;Volumes&rdquo; option, or larger groups of volumes can be selected at once selecting &ldquo;Applications&rdquo;, &ldquo;Performance Policies&rdquo;, &ldquo;Volume Collections&rdquo;, or &ldquo;Folders&rdquo; (if configured).</li>\\n\\n                <li>Select {Applications/Performance Policies/Volume Collections/Folders/Volumes}: The name of this field changes based on the choice made in the &ldquo;Aggregate By&rdquo; field. It allows for the selection filed of multiple such objects by name. The set of volumes to be analyzed is determined by the contents of this list.</li>\\n\\n                <li>Select Minimum Replication Interval: Input the smallest time interval (value and unit) at which you want to replicate.</li>\\n\\n                <li>Select Recovery Point Objective: Input the amount of time (value and unit) before replication is complete on the downstream array (must be smaller than the replication interval)</li>\\n            </ul>\\n\\n            <p>Output: A categorical scatter plot showing you the best estimate of bandwidth needed, as well as a range bar showing the confidence of the bandwidth estimate.  Radio buttons allow you to toggle between a graph showing the total estimated bandwidth needed for all selected aggregates and a view that breaks down bandwidth needed by aggregate (note: if you have selected only one aggregate, both plots will be the same).</p>\\n\\n        </div>\\n    </div>\\n</div>\\n\"","module.exports = \"<div class=\\\"modal-dialog\\\">\\n    <div class=\\\"modal-content lab-app-user-guide\\\">\\n        <div class=\\\"modal-header\\\">\\n            <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">\\n                <span aria-hidden=\\\"true\\\">&times;</span>\\n            </button>\\n            <h4 class=\\\"modal-title\\\">Labs User Guide</h4>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n\\n            <h3>Replication Timeline</h3>\\n\\n            <p>Purpose: Allow for flexible investigation of historical bandwidth usage.  Note: if none of the pools associated with this account are currently configured for replication, a message will appear stating as such. </p>\\n\\n            <p>Inputs:</p>\\n            <ul>\\n                <li>Date Range: Allows the user to configure the range of dates for which the information is desired. </li>\\n                <li>Upstream Pool: Select one of the pools from your account that is configured to transmit data using Nimble replication.</li>\\n                <li>Downstream Pool: Choose one of the downstream pools that is configured to receive data from the selected upstream pool. </li>\\n                <li>Aggregate Usage By: Select the method in which to aggregate volumes.  To see each individually, select the &ldquo;Volumes&rdquo; option, or select larger groups of volumes by choosing </li>&ldquo;Applications&rdquo;, &ldquo;Performance Policies&rdquo;, &ldquo;Volume Collections&rdquo;, or &ldquo;Folders&rdquo; (if enabled).\\n                <li>Time Granularity: This field allows the user to determine whether data is displayed with one data point per minute, per hour, per day or per week.  Note that available options will change based on the inputs to the Date Range field.</li>\\n\\n            </ul>\\n\\n            <p>Output: A stacked area chart showing historical bandwidth usage by aggregation.  Individual consumers of bandwidth can be hidden by clicking on their legend name..</p>\\n\\n        </div>\\n    </div>\\n</div>\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\"","module.exports = \"<div class=\\\"modal-dialog\\\">\\n    <div class=\\\"modal-content lab-app-user-guide\\\">\\n        <div class=\\\"modal-header\\\">\\n            <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">\\n                <span aria-hidden=\\\"true\\\">&times;</span>\\n            </button>\\n            <h4 class=\\\"modal-title\\\">Labs User Guide</h4>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n\\n            <h3>Capacity Forecast Explorer</h3>\\n\\n            <p>Purpose: Allow for flexibility in capacity usage forecasting. Forecasting can be performed for any set of selected volumes, can be broken out by Snapshot vs. Volume consumption, and the basis of the forecast (i.e. how far back in time the forecasting algorithm looks when determining the forecast trajectory) can be changed to exclude known events that are not expected to recur. </p>\\n\\n            <p>Inputs:</p>\\n            <ul>\\n                <li>Date Range: Allows the user to configure the range of dates for which the information is desired. </li>\\n                <li>Basis for Forecast: The user can configure how far back in time the forecasting algorithm looks when determining the forecast trajectory and uncertainty.</li>\\n                <li>Group: Allows the user to select a specific group. </li>\\n                <li>Pool: Allows the user to select a specific pool. </li>\\n                <li> Aggregate By: This menu together with the subsequent field defines the set of volumes to be analyzed. A list of volumes can be hand-picked by selecting the &ldquo;Volumes&rdquo; option, or larger groups of volumes can be selected at once selecting &ldquo;Applications&rdquo;, &ldquo;Performance Policies&rdquo;, &ldquo;Volume Collections&rdquo;, or &ldquo;Folders&rdquo; (if configured).</li>\\n                <li>Select {Applications/Performance Policies/Volume Collections/Folders/Volumes}: The name of this field changes based on the choice made in the &ldquo;Aggregate By&rdquo; field. It allows for the selection filed of multiple such objects by name. The set of volumes to be analyzed is determined by the contents of this list.</li>\\n                <li>Metrics: This allows the user to select one or more charts to be rendered at once. </li>\\n            </ul>\\n\\n            <p>Outputs: For each item selected in the &ldquo;Metrics&rdquo; section, a plot is generated showing both the aggregate historical timeline for that selected metric and the forecasted values. The band around the forecast represents the 68% confidence interval (i.e. future capacity is expected to fall within that range with 68% probability).</p>\\n\\n            <p>Notes: On deduplication-enabled arrays, some aggregations relating to physical usage will not be available; this is because physical usage is shared across multiple volumes.\\n            </p>\\n\\n        </div>\\n    </div>\\n</div>\"","module.exports = \"<div class=\\\"modal-dialog\\\">\\n    <div class=\\\"modal-content lab-app-user-guide\\\">\\n        <div class=\\\"modal-header\\\">\\n            <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">\\n                <span aria-hidden=\\\"true\\\">&times;</span>\\n            </button>\\n            <h4 class=\\\"modal-title\\\">Labs User Guide</h4>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n\\n            <h3>Volume Performance</h3>\\n\\n            <p>Purpose: Allow for flexible investigation of performance metrics for any selected subset of volumes. </p>\\n\\n            <p>Inputs:</p>\\n            <ul>\\n                <li>Date Range: Allows the user to configure the range of dates for which the information is desired.</li> \\n                <li>Group: Allows the user to select a specific group. </li>\\n                <li>Pool: Allows the user to select a specific pool. After selecting a specific group and pool, a subset of volumes within that pool can be selected for analysis.</li>\\n                <li>Aggregate By: This menu together with the subsequent field defines the set of volumes to be analyzed. A list of volumes can be hand-picked by selecting the &ldquo;Volumes&rdquo; option, or larger groups of volumes can be selected at once selecting &ldquo;Applications&rdquo;, &ldquo;Performance Policies&rdquo;, &ldquo;Volume Collections&rdquo;, or &ldquo;Folders&rdquo; (if configured).</li>\\n                <li>Select {Applications/Performance Policies/Volume Collections/Folders/Volumes}: The name of this field changes based on the choice made in the &ldquo;Aggregate By&rdquo; field. It allows for the selection filed of multiple such objects by name. The set of volumes to be analyzed is determined by the contents of this list.</li>\\n                <li>Metrics: this field allows the user to select one or more charts to be rendered at once (e.g. IOPS, Latency, and Cache Hit Rate). </li>\\n                <li>Select Time Granularity: This field allows the user to determine whether data is displayed with one data point per minute, per hour, per day or per week.  Note that available options will change based on the inputs to the Date Range field.</li>\\n            </ul>\\n\\n            <p>Outputs: Several plots will be rendered that all share the same X-axis time scale. Individual metrics can be added, removed and reordered by rearranging them in the &ldquo;Metrics&rdquo; field. The individual metrics available are as follows:</p>\\n            \\n            <ul>\\n                <li>IOPS: Shows read and write average operations per second.</li>\\n                <li>IOPS (detailed): Same as &ldquo;IOPS&rdquo; except sequential and random operations are shown separately.</li>\\n                <li>MBPS: Shows read and write average mebibytes per second.</li>\\n                <li>MBPS (detailed): Same as &ldquo;MBPS&rdquo; except sequential and random operations are shown separately.</li>\\n                <li>Latency: Shows read and write average latency in milliseconds.</li>\\n                <li>Cache Hit: Shows both average SSD cache hit rates and average memory hit rates as percentage values.</li>\\n                <li>Operation Size Heatmap: Operation size is on the Y-axis and time is on the X-axis. The darker the region the larger the proportion of the total operations fell into that size range at that time. For each range of IO sizes, the square bracket denotes a closed interval endpoint and the curved parenthesis denotes an open interval endpoint (e.g. [4k-8k) is inclusive of 4k operations but does not include 8k operations). The symbol k indicates kibibytes.</li>\\n            </ul>\\n            \\n        </div>\\n    </div>\\n</div>\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\"","module.exports = \"<div class=\\\"modal-dialog\\\">\\n    <div class=\\\"modal-content lab-app-user-guide\\\">\\n        <div class=\\\"modal-header\\\">\\n            <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">\\n                <span aria-hidden=\\\"true\\\">&times;</span>\\n            </button>\\n            <h4 class=\\\"modal-title\\\">Labs User Guide</h4>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n\\n            <h3>Capacity Consumers Timeline</h3>\\n\\n            <p>Purpose: Allow for flexible investigation of capacity usage and the primary of sources capacity growth. </p>\\n\\n            <p>Inputs:</p>\\n            <ul>\\n                <li>Date Range: Allows the user to configure the range of dates for which the information is desired. </li>\\n                <li>Pool: After selecting a specific pool, the contents of that pool can be examined and the major consumers of capacity can be identified relative to the total space available in the system.</li>\\n                <li>Aggregate Usage By: Select the method in which to aggregate volumes.  To see each individually, select the &ldquo;Volumes&rdquo; option, or select larger groups of volumes by choosing &ldquo;Applications&rdquo;, &ldquo;Performance Policies&rdquo;, &ldquo;Volume Collections&rdquo;, or &ldquo;Folders&rdquo; (if enabled).</li>\\n                <li>Show Usage For: This field allows the user to select whether Volume and Snapshot data will be shown separately as distinct capacity consumers, whether they will be treated as one consumer, or whether only one will be shown and the other hidden.</li>\\n                <li>Max Objects Shown (Top N): This field allows the user to limit the number of objects (a.k.a. capacity consumers, e.g. a Volume or a Performance Policy) that will be drawn on the chart at once. This improves readability and render-time. For example: when the input value is 5, the 5 largest consumers of capacity as will be shown and the rest will be aggregated into a 6th &ldquo;[Other]&rdquo; category.</li>\\n            </ul>\\n\\n            <p>Outputs: One stacked-area chart is rendered with all of the consumers of capacity shown relative to the available capacity of the pool. Individual consumers of capacity can be hidden by clicking on their legend name. The &ldquo;Capacity Available&rdquo; for the pool can be hidden in the same way – allowing the plot to rescale if the total amount of data consumed is much less than the total capacity available.</p>\\n\\n            <p>Notes: On deduplication-enabled arrays, some aggregations relating to physical usage will not be available; this is because physical usage is shared across multiple volumes.\\n            </p>\\n\\n        </div>\\n    </div>\\n</div>\\n\\n\\n\\n\\n\\n\\n\\n\\n\"","module.exports = \"<div class=\\\"modal-dialog\\\">\\n    <div class=\\\"modal-content lab-app-user-guide\\\">\\n        <div class=\\\"modal-header\\\">\\n            <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">\\n                <span aria-hidden=\\\"true\\\">&times;</span>\\n            </button>\\n            <h4 class=\\\"modal-title\\\">Labs User Guide</h4>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n\\n            <h3>Recurring Performance Patterns</h3>\\n\\n            <p>Purpose: Allow for flexible investigation of recurring patterns in workload and performance metrics on a daily, weekly, or monthly basis for any selected subset of volumes.</p>\\n\\n            <p>Inputs:</p>\\n            <ul>\\n                <li>Select a Pool: Allows the user to select a specific pool. After selecting a specific group and pool, a subset of volumes within that pool can be selected for analysis.</li>\\n\\n                <li>Filter By: This menu together with the subsequent field defines the set of volumes to be analyzed. A list of volumes can be hand-picked by selecting the &ldquo;Volumes&rdquo; option, or larger groups of volumes can be selected at once selecting &ldquo;Applications&rdquo;, &ldquo;Performance Policies&rdquo;, &ldquo;Volume Collections&rdquo;, or &ldquo;Folders&rdquo; (if configured).</li>\\n\\n                <li>Select {Applications/Performance Policies/Volume Collections/Folders/Volumes}: The name of this field changes based on the choice made in the &ldquo;Filter By&rdquo; field. It allows for the selection filed of multiple such objects by name. The set of volumes to be analyzed is determined by the contents of this list.</li>\\n\\n                <li>Select Performance Metric: this field allows the user to select one or more charts to be rendered at once (e.g. IOPS, Latency, and Cache Hit Rate).</li>\\n\\n                <li>Time Granularity: This field allows the user to look at repetitive patterns on a daily, weekly, or monthly basis.  The daily heat map shows up to 28 days of data at a 5 minute cadence, the weekly heat map shows up to 24 weeks of data at a 1 hour cadence, and the monthly heat map shows up to a years worth of data at a 6 hour cadence.</li>\\n\\n                <li>Select most recent date: Pick the most recent date to be associated with the look back intervals based on selected time granularity.  Note that this option is unavailable for the monthly selection, as all available data will be displayed.</li>\\n            </ul>\\n\\n            <p>Outputs: A heat map showing repeating interval on the x-axis (e.g. time of day, day of week, day of month) and individual days/weeks/months on the y-axis.  Colors on the heat map correspond to metric values retrieved – blue for low values and red for high (note that there is an additional checkbox field to convert the heat map to gray scale for colorblind users).  Based on the performance metric selected from the inputs, you will have a choice of various metrics to display on the heat map:</p>\\n\\n            <ul>\\n                <li>IOPS: Shows average operations per second.  Option to toggle between read, write, and total IOPS.</li>\\n\\n                <li>Throughput: Shows average mebibytes per second. Option to toggle between read, write, and total MBPS.</li>\\n\\n                <li>Latency: Shows average latency in milliseconds. Option to toggle between read, write, and total latency.</li>\\n\\n                <li>Cache Hit: Shows average cache hit rates as percentage values.  Option to toggle between SSD and memory hit rates.</li>\\n\\n                <li>IOPS (detailed): Same as &ldquo;IOPS&rdquo; except sequential and random operations are shown separately.</li>\\n\\n                <li>Throughput (detailed): Same as &ldquo;Throughput&rdquo; except sequential and random operations are shown separately.</li>\\n            </ul>\\n\\n        </div>\\n    </div>\\n</div>\\n\"","module.exports = \"<div class=\\\"modal-dialog\\\">\\n    <div class=\\\"modal-content lab-app-user-guide\\\">\\n        <div class=\\\"modal-header\\\">\\n            <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">\\n                <span aria-hidden=\\\"true\\\">&times;</span>\\n            </button>\\n            <h4 class=\\\"modal-title\\\">Labs User Guide</h4>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n\\n            <h3>Inter-Volume Performance &amp; Contention</h3>\\n\\n            <p>Purpose: To enable users to find out which volumes are consuming resources and/or experiencing high latency at specific times. This is particularly helpful for identifying &ldquo;Noisy Neighbor&rdquo; volumes and candidates for QoS IOPS or MBPS throttling.</p>\\n\\n            <p>Inputs:</p>\\n            <ul>\\n\\n                <li>Date Range: Allows the user to configure the range of dates for which the information is desired.</li>\\n\\n                <li>Pool: Allows the user to select a specific pool. After selecting a specific group and pool, a subset of volumes within that pool can be selected for analysis.</li>\\n\\n                <li>Display Activity by: These three drop-down menus determine the metric used to display volume activity (e.g. IOPS or MBPS) as well as the subset of the activity shown (e.g. Reads Only vs. Writes Only vs. Both &amp; Sequential IO vs. Random IO vs. Both). These selections can be combined to enable the user to display, for example: Total Sequential MBPS or, Random Read IOPS.</li>\\n\\n                <li>Display Latency by: This menu determines the metric used to display volume latency. Latency can be shown as a raw average or using the &ldquo;Potential Impact Score&rdquo; (see details below). As with activity (above), latency can be filtered by the subset of the activity (e.g. Reads Only vs. Writes Only vs. Both).</li>\\n\\n                <li>Aggregate by: These two drop-down menus allow users to group sets of volumes together under common labels to ease visualization, particularly in environments with many volumes. Volumes can be aggregated by any one of a number of volume properties including the Application Category, Performance Policy, Volume Collection or Folder. Alternatively volumes can be viewed individually by selecting &ldquo;Volumes&rdquo;.</li>\\n\\n                <li>Max. Distinct Objects Shown: To ensure readability, if an environment contains more than a set number of distinct volumes (or sets of volumes) then the top N (default 10) will be displayed individually while the others will be aggregated together into a single &ldquo;[Other]&rdquo; category. This default number of objects can be overridden here.</li>\\n\\n                <li>Distinct Objects Rank Highest for: The top N volumes (or set of volumes) is determined by sorting the volumes (or sets of volumes) either by their selected Activity metric or their selected Latency metric.</li>\\n\\n            </ul>\\n\\n            <p>Outputs: Two heatmap plots will be rendered that share the same X-axis time scale; the top plot shows the selected activity metric of each volume (or set of volumes) over time while the bottom plot shows the selected latency metric. This comparison is useful – because it enables the user to identify when latency events are either global (i.e. spanning all volumes) or localized to specific volumes. When latency events do span volumes and there is a corresponding activity spike in one or more volumes at the same time: that is good evidence of a Noisy neighbor scenario. The volume(s) with transient high activity are likely contending for resources with the other volumes that are active during that time. The Y-axis of each plot is broken down by the selected object names (e.g. volume names) but if the count of those object exceeds the configured threshold (see above) then the performance statistics for the remaining objects are aggregated into one time series (labeled 'other').</p>\\n\\n            <ul>\\n                <li>Potential Impact Score: Using InfoSight intelligence, this score identified those periods where the impact of latency on application behavior is expected to be strongest. Larger-block operations, for example, tend to be more latent; at the same time the workloads driving them tend to be less latency sensitive. InfoSight’s Potential Impact Score corrects for this bias and highlights those latency events expected to cause the most impact to end users when accessing applications. We have shown by analyzing customer support cases that this score is significantly more accurate at determining periods of customer performance concern than a simple latency average.</li>\\n            </ul>\\n\\n       </div>\\n   </div>\\n</div>\\n\"","module.exports = \"<div class=\\\"modal-dialog modal-lg\\\">\\n    <div class=\\\"modal-content lab-app-user-guide\\\">\\n        <div class=\\\"modal-header\\\">\\n            <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">\\n                <span aria-hidden=\\\"true\\\">&times;</span>\\n            </button>\\n            <h4 class=\\\"modal-title\\\">Labs User Guide</h4>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n\\n            <h3>AI Storage Performance Recommendations</h3>\\n\\n            <p>Purpose: To provide actionable recommendations to improve storage performance. These recommendations are generated by InfoSight’s\\n            AI Recommendation System which leverages Machine Learning to identify and diagnose a wide variety of performance issues.</p>\\n\\n            <p>Inputs:</p>\\n            <ul>\\n                <li>Pool: Allows the user to select a specific pool for which performance recommendations will be generated.</li>\\n                <li>Date Range: Allows the user to configure the range of dates for which performance telemetry will be analyzed. Additional time\\n                filtering can be performed using the “Scheduled Time Filter” and the “Targeted Time Filter” to generate actionable recommendations\\n                based on even more specific time periods. This first data range field sets the scope for the performance information that will be\\n                displayed in the performance timeline charts.</li>\\n                <li>Get Recommendations: Once the desired pool and date range has been selected, press this button to generate recommendations for\\n                improving performance on the selected system.</li>\\n                <li>Scheduled Time Filter: This panel enables the recommendation system to ignore specific days of the week or times of day when\\n                identifying problems and proposing interventions. This is useful when the user wants to selectively prioritize certain times of day as\\n                being \\\"high priority\\\" while ignoring off-hour jobs where performance is less of a concern. To use this feature: first uncheck the days\\n                of the week to be ignored and second move the time slider so that only the hours of the day when latency-sensitive jobs are running\\n                are highlighted; lastly, press the “Apply Filter” button to rerun the performance analysis and generate new recommendations.</li>\\n                <li>Targeted Time Filter: This panel enables the recommendation system to filter its attention to only one specific time period when\\n                proposing recommendations. This is useful, for example, when the user wants to investigate a performance anomaly that occurred at a\\n                particular time. To use this feature: first use the cursor to click and drag over one of the performance timelines to zoom in on a\\n                particular interval of time. The visible range can be zoomed in multiple times and double clicking will return the user to the fully\\n                zoomed-out view. Once the view is zoomed in to the particular time range of interest, click the “Filter to Current Zoom” button to\\n                rerun the performance recommendations for the selected time period. The chart will zoom out automatically at this point to provide\\n                context – but the specific region of interest will remain highlighted on the timeline, and new recommendations will be generated based\\n                only on the telemetry highlighted in the selected region.</li>\\n                <li>Latency Sensitivity: This panel enables the sensitivity of the recommendation system to be tuned, either to allow recommendations\\n                to be shown earlier (for particularly latency sensitive workloads) or to suppress recommendations (for particularly latency\\n                insensitive workloads). Ultimately this sensitivity feature will be used to determine when recommendations will be surfaced elsewhere\\n                in the portal and via InfoSight’s alerting system.</li>\\n            </ul>\\n\\n            <p>Outputs:</p>\\n            <p>On the left, three timelines are provided highlighting in red the periods of time where different classes of IO are experiencing\\n            high latency. This coloration is determined based on InfoSight’s Potential Impact Score (see below). On this timeline – the\\n            specific time periods for which recommendations are generated are highlighted. Note that, by default, the entire timeline\\n            is highlighted (See the “Scheduled Time Filter” and the “Targeted Time Filter” above).</p>\\n\\n            <p>On the right, the results of the performance analysis are provided.</p>\\n            First, the overall system status is described which indicates the time interval(s) examine and which workloads (if any)\\n            were experiencing elevated latencies. Only when latency problems are detected will the following additional panels appear.\\n            <ul>\\n                <li>Second, a set of tabs – one for each separate diagnosis – are shown; these issues are prioritized in order of the severity\\n                of the latency they are causing and the tab for the highest priority issue is shown first. A description of the diagnosis\\n                is provided at the top of the tab.</li>\\n\\n                <li>Third, InfoSight’s recommendations for how to remedy the described performance issue are\\n                provided in the order in which they should be considered. It is possible that performing one of the several recommended interventions\\n                may be sufficient to remedy the described issue – so not all recommendations need to be enacted at once, the effects of performing\\n                one intervention can be observed before enacting additional interventions. InfoSight prioritizes its recommendations based\\n                on the relative effort and cost required to perform the interventions – in most cases, array software updates are listed\\n                first, configuration changes are proposed second, workload changes are proposed third and hardware upgrades are proposed\\n                last.</li>\\n\\n                <li>Lastly, for many recommendations InfoSight provides volume level breakdown of resource consumption to help the user\\n                decide whether the workloads consuming the most of or an oversubscribed resource actually merits their current levels of\\n                consumption. In some circumstances the top consumer workloads will be lower priority, in which case QoS limits, workload\\n                staggering and/or workload attenuation are all reasonable solutions. In other circumstances, the top consumer workloads will\\n                be higher priority solutions, in which case a hardware upgrade may be the appropriate choice.</li>\\n            </ul>\\n\\n            <p>Additional Details:</p>\\n            <ul>\\n                <li>Potential Impact Score: Using InfoSight intelligence, this score identified those periods where the impact of latency on\\n                application behavior is expected to be strongest. Larger-block operations, for example, tend to be more latent; at the same\\n                time the workloads driving them tend to be less latency sensitive. InfoSight’s Potential Impact Score corrects for this bias\\n                and highlights those latency events expected to cause the most impact to end users when accessing applications. We have shown\\n                by analyzing customer support cases that this score is significantly more accurate at determining periods of customer performance\\n                concern than a simple latency average.</li>\\n            </ul>\\n\\n        </div>\\n    </div>\\n</div>\\n\"","module.exports = \"<div class=\\\"modal-dialog\\\">\\n    <div class=\\\"modal-content lab-app-user-guide\\\">\\n        <div class=\\\"modal-header\\\">\\n            <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">\\n                <span aria-hidden=\\\"true\\\">&times;</span>\\n            </button>\\n            <h4 class=\\\"modal-title\\\">Labs User Guide</h4>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n\\n            <h3>HPE Cloud Volumes Sizing Tool</h3>\\n\\n            <p>Purpose: Estimate the capacity needed and associated cost for replicating to HPE Cloud Volumes. </p>\\n\\n            <p>Inputs:</p>\\n            <ul>\\n                <li>Use the “Add Volume(s)” button to add a default volume and protection schedule to your table of inputs.</li>\\n\\n                <li>The “Edit” button brings up a window allowing you to configure the volumes and schedule as desired. Add as many rows to the table as you’d like.</li>\\n\\n                <li>Once satisfied with the set of volumes and schedules for replication, click “Calculate Required Replication Store Size” to estimate your capacity needs.</li>\\n\\n            </ul>\\n\\n            <p>Output: Results include an estimate of total capacity needed, a breakdown of capacity needs per configured schedule, and a description of associated costs.  </p>\\n\\n        </div>\\n    </div>\\n</div>\\n\"","module.exports = \"<div class=\\\"modal-dialog\\\">\\n    <div class=\\\"modal-content lab-app-user-guide\\\">\\n        <div class=\\\"modal-header\\\">\\n            <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">\\n                <span aria-hidden=\\\"true\\\">&times;</span>\\n            </button>\\n            <h4 class=\\\"modal-title\\\">Labs User Guide</h4>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n\\n            <h3>Capacity Consumers Forecast</h3>\\n\\n            <p>Purpose: Breakdown capacity forecasting to see the biggest players. This app will show how different volumes, applications or other groups use capacity in a given pool along with corresponsding forecasts.</p>\\n\\n            <p>Inputs:</p>\\n            <ul>\\n                <li>Start Date: Allows the user to configure how far in the past historical data is displayed.</li>\\n                <li>Basis for Forecast: Allows the user to configure what time slice of data the forecasting algorithm looks when determining the forecast trajectory and uncertainty.</li>\\n                <li>Pool: Allows the user to select a specific pool.</li>\\n                <li>Display: Allows the user to choose whether Logical, Allocated or Physical (when available) usage is used to plot historical data and forecasts.</li>\\n                <li>Aggregate By: This menu defines the set of volumes to be analyzed. \\\"Volumes\\\" options examines all volumes individually. Groups of volumes can be selected at once selecting “Applications”, “Performance Policies”, “Volume Collections”, or “Folders” (if configured).</li>\\n                <li>Show Usage For: This field allows the user to select whether Volume and Snapshot data will be shown separately as distinct capacity consumers, whether they will be treated as one consumer, or whether only one will be shown and the other hidden.</li>\\n                <li>Max Objects Shown (Top N): This field allows the user to limit the number of objects (a.k.a. capacity consumers, e.g. a Volume or a Performance Policy) that will be drawn on the chart at once. This improves readability and render-time. For example: when the input value is 5, the 5 largest consumers of capacity as will be shown and the rest will be aggregated into a 6th “[Other]” category.</li>\\n            </ul>\\n\\n            <p>Outputs: One stacked-area chart is rendered with all of the consumers of capacity shown relative to the available capacity of the pool. Individual consumers of capacity can be hidden by clicking on their legend name. The “Capacity Available” for the pool can be hidden in the same way – allowing the plot to rescale if the total amount of data consumed is much less than the total capacity available.</p>\\n            <p>Notes: On deduplication-enabled arrays, some aggregations relating to physical usage will not be available; this is because physical usage is shared across multiple volumes.</p>\\n        </div>\\n    </div>\\n</div>\\n\"","module.exports = \"<div class=\\\"modal-dialog modal-lg\\\">\\n    <div class=\\\"modal-content lab-app-user-guide\\\">\\n        <div class=\\\"modal-header\\\">\\n            <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">\\n                <span aria-hidden=\\\"true\\\">&times;</span>\\n            </button>\\n            <h4 class=\\\"modal-title\\\">Labs User Guide</h4>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n\\n            <h3>What If Planning Tool</h3>\\n\\n            <p>Purpose: Plan for future growth by expanding existing workloads or creating new workloads. See their resource needs on your arrays. </p>\\n\\n            <p>Inputs:</p>\\n\\n            <p>Add New Workload: Use this button to create a hypothetical workload. Clicking it produces a table below the button with a short \\n            summary a workload you can either modify or delete. Clicking modify brings up a popup menu. The corresponding inputs are:</p>\\n            <ul>\\n\\n                <li>Name: Distinguishes this workload from others.</li>\\n\\n                <li>Application Category: Indicates the type of application this workload will contain, such as SQL Server, Oracle, etc.</li>\\n\\n                <li>Dataset Size (TB): Estimated capacity needs.</li>\\n\\n                <li>Max IOPS: Estimated maximum performance needs.</li>\\n\\n                <li>Workload Description: Specify whether the max IOPS should be achieved intermittently (“bursty”), or will need to be \\n                sustained. Most workloads are described as “bursty”.</li>\\n\\n                <li>Deduplication Status: Indicates whether deduplication will be enabled. Changes to these inputs can be saved with the button \\n                in the bottom right corner of the popup or discarded with the button in the top right corner.</li>\\n\\n            </ul>\\n\\n            <p>Add Existing Workload: Use this button to combine and modify workloads already running on your pools. Clicking it produces a table \\n            below the button with a short summary a workload you can either modify or delete. Clicking modify brings up a popup menu. \\n            The corresponding inputs are:</p>\\n\\n            <ul>\\n\\n                <li>Name: Distinguishes this workload from others.</li>\\n\\n                <li>Pools: Select pools from which workloads will be aggregated.</li>\\n\\n                <li>Aggregate By: Select a category of aggregation such as Applications, Performance Polices, Volumes, etc.</li>\\n\\n                <li>Volume Objects: Select values of the Aggregate By category to include in this workload, e.g. SQL Server and File Server for \\n                Performance Policies category.</li>\\n\\n                <li>Start Date: Select the date you would like the workload analysis to begin. The start and end dates configure the time range \\n                over which you would like to capture workload characteristics.</li>\\n\\n                <li>End Date: Select the date you would like the workload analysis to end. The start and end dates configure the time range \\n                over which you would like to capture workload characteristics.</li>\\n\\n                <li>Workload Multiplier: Expected IOPS and throughput growth factor. E.g. multiplier of 1.2 means a 20% increase.</li>\\n\\n                <li>Capacity Multiplier: Expected capacity growth factor. E.g. multiplier of 1.2 means a 20% increase in capacity.</li>\\n\\n                <li>Deduplication Status: Indicates whether deduplication will be enabled.</li>\\n            \\n            </ul>\\n\\n            <p>Changes to these inputs can be saved with the button in the bottom right corner of the popup or discarded with the button in the \\n            top right corner.</p>\\n\\n            <p>Clear All Existing Workloads: Once an existing workload has been added, all added existing workloads can be dismissed with this button.</p>\\n\\n            <p>Select Destination Array: Once any workload has been added, select an array to see whether the created workloads will fit on it. \\n            Please note that the workloads currently present on this array will be taken into account when computing resource needs.</p>\\n\\n            <p>Analyze: Updates Capacity, Cache and CPU needs on the right side of the page. Please note that changes to the above \\n            inputs require re-running the analysis.</p>\\n\\n            <p>Outputs:</p>\\n\\n            <p>Array Information Table: This table appears in the middle of the window, to the right of input selection sidebar, \\n            once a workload is added. It describes current array resource availability.</p>\\n\\n            <p>Resource Needs Panels: These panels appear to the right of Array Information Table. They are updated once a workload is selected and \\n            Analyze button is clicked. These panels describe whether the selected workloads can fit on the Destination Array. System Status indicates \\n            overall fit: “Impacted” means that the workloads' needs exceed the Destination Array's resources; “Not Impacted” means the needs can be \\n            met with the available resources. This statement is expanded with numeric values of needs and available resources. A supplemental chart \\n            shows how new arrays of the same category would handle this workload.</p>\\n\\n            <p>Please note that the Cache Needs chart only appears for Adaptive Flash Arrays.</p>\\n\\n        </div>\\n    </div>\\n</div>\\n\"","module.exports = \"<div class=\\\"modal-dialog modal-lg\\\">\\n    <div class=\\\"modal-content lab-app-user-guide\\\">\\n        <div class=\\\"modal-header\\\">\\n            <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">\\n                <span aria-hidden=\\\"true\\\">&times;</span>\\n            </button>\\n            <h4 class=\\\"modal-title\\\">Labs User Guide</h4>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n\\n            <h3>Cross Stack Performance Recommendations</h3>\\n\\n            <p>Purpose: To provide actionable recommendations to improve virtual environment performance. These recommendations are generated \\n            by InfoSight’s AI Recommendation System which leverages Machine Learning to identify and diagnose a wide variety of performance issues</p>\\n\\n            <p>Inputs:</p>\\n\\n            <p>Date Range : Allows the user to configure how far in the past historical data is displayed.</p>\\n            \\n            <p>Outputs</p>\\n\\n            <p>On the left, the results of the performance analysis are provided.</p>\\n\\n            <ul>\\n                <li>First, the overall system status is described which indicates the time interval(s) examined. Only when problems are detected will \\n                the following additional panels appear.</li>\\n\\n                <li>Second, a set of tabs – one for each separate diagnosis – are shown; A description of the diagnosis is provided at the top of the tab.</li>\\n\\n                <li>Third, InfoSight’s recommendations for how to remedy the described performance issue are provided in the order in which they \\n                should be considered. It is possible that performing one of the several recommended interventions may be sufficient to remedy the \\n                described issue – so not all recommendations need to be enacted at once, the effects of performing one intervention can be observed \\n                before enacting additional interventions. InfoSight prioritizes its recommendations based on the relative effort and cost required \\n                to perform the interventions.</li>\\n            \\n            </ul>\\n            \\n            <p>On the right, There are sankey and Treemap that summarizes the entire environment pertaining to the problem.</p>\\n\\n            <ul>\\n                <li>The sankey chart shows the relationships between storage arrays (left), datastores (center), and hosts (right); \\n                the width of the lines connecting them represents the problem scope. The color of each array, datastore, and host \\n                denotes severity of the issue.</li>\\n            \\n                <li>The treemap provides an alternate view of the environment. The more widespread the issue, more of this treemap will be colored</li>\\n\\n            </ul>   \\n\\n            <p>Additional Details:</p>\\n\\n            <ul>\\n                <li>Potential Impact Score: Using InfoSight intelligence, this score identified those periods where the impact of latency on application \\n                behavior is expected to be strongest. Larger-block operations, for example, tend to be more latent; at the same time the workloads driving \\n                them tend to be less latency sensitive. InfoSight’s Potential Impact Score corrects for this bias and highlights those latency events \\n                expected to cause the most impact to end users when accessing applications. We have shown by analyzing customer support cases that this \\n                score is significantly more accurate at determining periods of customer performance concern than a simple latency average.</li>\\n            </ul>\\n\\n        </div>\\n    </div>\\n</div>\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"container__1e_GD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"arrayWarrantyExpiring\":\"arrayWarrantyExpiring__3p6cc\",\"warrantyCol\":\"warrantyCol__oromM\",\"icon\":\"icon__1vVz7\"};","const _ = require('underscore');\nvar URI = require('urijs');\nvar Marionette = require('backbone.marionette');\nvar esClient = require('app/modules/elasticsearch/ElasticsearchClient');\nvar SearchForm = require('./SearchForm');\nvar QueryModel = require('./QueryModel');\nvar HitCollection = require('./HitCollection');\nvar FacetCollection = require('./FacetCollection');\nvar ResultsView = require('./ResultsView');\nvar EmptyHitsView = require('./EmptyHitsView');\nvar HomeView = require('./HomeView');\nvar FacetPanel = require('./FacetPanel');\nvar LanguagePreferenceModel = require('./LanguagePreferenceModel');\nvar LanguagePreferenceView = require('./LanguagePreferenceView');\nvar tpl = require('raw-loader!./DocumentationView.html');\n\nvar MAX_RESULTS = 500;\n\nmodule.exports = Marionette.LayoutView.extend({\n\n    template: _.template(tpl),\n\n    className: 'documentation-view',\n\n    regions: {\n        languageRegion: '[data-region=\"language\"]',\n        searchRegion: '[data-region=\"search\"]',\n        mainRegion: '[data-region=\"main\"]',\n        facetsRegion: '[data-region=\"facets\"]',\n    },\n\n    ui: {\n        spinner: '.spinner',\n        results: '.search-results',\n    },\n\n    initialize: function () {\n        _.bindAll(this, 'processHits', 'processFacets');\n\n        this.query = new QueryModel();\n        this.facets = new FacetCollection();\n        this.languageFilter = new LanguagePreferenceModel();\n        this.languagePreferenceView = new LanguagePreferenceView();\n    },\n\n    onRender: function () {\n        this.languageRegion.show(this.languagePreferenceView);\n        this.searchRegion.show(new SearchForm({ model: this.query }));\n        this.facetsRegion.show(new FacetPanel({ collection: this.facets }));\n\n        this.listenTo(this.query, 'update', this.doQuery);\n        this.listenTo(this.facets, 'update', this.doQuery);\n        this.listenTo(this.facets, 'change', this.doQuery);\n        //this.listenTo(this.facets, 'reset', this.onFacetChange);\n        this.listenTo(this.languagePreferenceView.model, 'change', this.doQuery);\n\n        this.doQuery();\n    },\n\n    doQuery: function () {\n        var self = this;\n\n        var params = _.extend({},\n            this.query.toQueryParamMap(),\n            this.facets.toQueryParamMap(),\n        );\n\n        const history = this.getOption('history');\n        const match = this.getOption('match');\n        const uri = new URI(match.url).setQuery(params).valueOf();\n\n        if (!URI(uri.valueOf()).equals(URI(`${history.location.pathname}${history.location.search}`))) {\n            history.replace(uri);\n        }\n\n        this.ui.results.hide();\n        this.ui.spinner.show();\n        this.mainRegion.empty();\n\n        esClient.searchTemplate({\n            index: 'docs',\n            template: 'docs',\n            params: {\n                size: this.hasQueryOrFilter() ? MAX_RESULTS : 0,\n                term: this.query.get('term'),\n                languages: this.languagePreferenceView.model.get('languages'),\n                filters: this.facets.reduce(function (memo, facet) {\n                    var bucket = facet.getSelectedBucket();\n                    if (bucket) {\n                        var termFilter = {};\n                        termFilter[facet.get('field')] = bucket.get('value');\n                        memo.push({ term: termFilter });\n                    }\n                    return memo;\n                }, []),\n            },\n        })\n            .done(this.processFacets)\n            .done(this.processHits)\n            .always(function () {\n                self.ui.spinner.hide();\n                self.ui.results.show();\n            });\n    },\n\n    hasQueryOrFilter: function () {\n        return this.query.get('term') || this.facets.hasSelected();\n    },\n\n    processHits: function (response) {\n\n        // Create a new collection here instead of resetting since Backbone.Paginator doesn't handle reset properly\n        // See https://github.com/backbone-paginator/backbone.paginator/issues/265\n        var hits = new HitCollection(response.hits.hits, { parse: true });\n\n        var mainView;\n        if (!this.hasQueryOrFilter()) {\n            mainView = new HomeView();\n        } else {\n            mainView = new ResultsView({\n                query: this.query,\n                facets: this.facets,\n                hits: hits,\n            });\n        }\n        this.mainRegion.show(mainView);\n    },\n\n    processFacets: function (response) {\n        var self = this;\n        this.facets.reset(\n            _.chain(response.aggregations)\n                .map(function (aggregation, aggName) {\n                    var facet = self.facets.findWhere({ field: aggName });\n                    return {\n                        field: aggName,\n                        buckets: _.chain(aggregation.buckets)\n                            .map(function (bucket) {\n                                return {\n                                    value: bucket.key,\n                                    count: bucket.doc_count,\n                                    selected: facet && facet.isSelected(bucket.key),\n                                };\n                            })\n                            // Include selected buckets even if there are no documents within that bucket in the response.\n                            // This handles the IS-7559 case where a search/filter combination may yield no results,\n                            // but the filter selection must remain visible\n                            .union(!facet ? [] : facet.getSelectedBuckets().map(function (bucketModel) {\n                                return bucketModel.toJSON();\n                            }))\n                            // Need to dedupe buckets in the (normal) case where there are documents within the selected bucket\n                            .unique(false, 'value')\n                            .value(),\n                    };\n                })\n                .filter(function (facet) {\n                    return !_.isEmpty(facet.buckets);\n                })\n                .value(),\n            { parse: true });\n    },\n\n    setParams: function (params) {\n        this.query.set('term', params.term);\n        delete params.term;\n        this.facets.reset(_.map(params, function (bucket, facet) {\n            return {\n                field: facet,\n                buckets: [\n                    {\n                        value: bucket,\n                        selected: true,\n                    },\n                ],\n            };\n        }), { parse: true });\n        if (this.isRendered) {\n            this.doQuery();\n        }\n    },\n});\n","const _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar tpl = require('raw-loader!./SearchForm.html');\n\nmodule.exports = Marionette.ItemView.extend({\n\n    template: _.template(tpl),\n\n    ui: {\n        input: 'input',\n    },\n\n    events: {\n        'click button': 'onClick',\n    },\n\n    bindings: {\n        'input': 'term',\n    },\n\n    onRender: function () {\n        this.stickit();\n    },\n\n    onClick: function (event) {\n        event.preventDefault();\n        this.model.trigger('update');\n    },\n\n});\n","module.exports = \"<form class=\\\"flex-container flex-dir-row align-stretch\\\">\\n    <div class=\\\"form-group flex-child-grow\\\">\\n        <input type=\\\"text\\\" class=\\\"form-control search-box\\\" placeholder=\\\"Search for a document\\\" style=\\\"height: 100%;\\\">\\n    </div>\\n    <button class=\\\"button\\\" style=\\\"margin-left: 5px;\\\"><i class=\\\"fa fa-search\\\"></i> Search</button>\\n</form>\\n\"","var Backbone = require('backbone');\n\nmodule.exports = Backbone.Model.extend({\n\n    defaults: {\n        term: null,\n    },\n\n    hasTerm: function () {\n        return this.get('term');\n    },\n\n    toQueryParamMap: function () {\n        return this.hasTerm() ? this.toJSON() : {};\n    },\n\n});\n","const _ = require('underscore');\nvar Backbone = require('backbone');\nvar FacetCollection = require('./FacetCollection');\nvar FacetBucketCollection = require('./FacetBucketCollection');\n\nvar SORTBY_FACETS = ['Document Type'];\n\nfunction toSortableVersion(version) {\n    if (!version) {\n        return '';\n    }\n    var pad = '000000';\n    var parts = version.split(/\\.|\\-/);\n    return parts.map(function (part) {\n        return part.length >= pad.length ? part : (pad + part).slice(-pad.length);\n    }).join('.');\n}\n\nmodule.exports = Backbone.Model.extend({\n\n    /**\n     * Build a sort key (an array of {value, order} tuples) for this hit.\n     * We sort by:\n     *     Score (will be 1 for all docs if no search term was entered)\n     *     The Document Type field in the same order in which the facet buckets are ordered in the left panel\n     *     Title\n     *     Version (descending)\n     */\n    sortKey: function () {\n        var source = this.get('_source');\n        var score = this.get('_score');\n        var sortKey = [];\n        sortKey.push({\n            value: score,\n            order: 'desc',\n        }, {\n            value: 0,\n            order: 'asc',\n        }, {\n            value: source.title,\n            order: 'asc',\n        }, {\n            value: toSortableVersion(_.first(source.Version)),\n            order: 'desc',\n        });\n        var versionFamilies = source['Version Family'];\n        if (versionFamilies) {\n            if (!Array.isArray(versionFamilies)) {\n                versionFamilies = [versionFamilies];\n            }\n            versionFamilies.sort(function (a, b) {\n                return -a.localeCompare(b); // Descending\n            });\n            sortKey.push({\n                value: _.first(versionFamilies),\n                order: 'desc',\n            });\n        }\n        return sortKey;\n    },\n\n    parse: function (response) {\n        if (Array.isArray(response._source['Version Family'])) {\n            response._source['Version Family'] = _.without(response._source['Version Family'], null);\n        }\n        return response;\n    },\n\n});\n","const _ = require('underscore');\nvar Backbone = require('backbone');\nvar FacetBucketCollection = require('./FacetBucketCollection');\n\nvar TITLE_MAP = {\n    'Version Family': 'Software Version',\n};\n\nmodule.exports = Backbone.Model.extend({\n\n    defaults: {\n        field: null,\n    },\n\n    idAttribute: 'field',\n\n    parse: function (data) {\n        data.buckets = new FacetBucketCollection(data.buckets, {\n            parse: true,\n            facet: this,\n            facetField: data.field,\n        });\n        this.listenTo(data.buckets, 'change', this.onBucketChange);\n        return data;\n    },\n\n    onBucketChange: function () {\n        this.trigger('change', this, {});\n    },\n\n    getSelectedBucket: function () {\n        return this.get('buckets').findWhere({ selected: true });\n    },\n\n    getSelectedBuckets: function () {\n        return this.get('buckets').where({ selected: true });\n    },\n\n    selectBucket: function (bucketValue) {\n        var bucket = this.get('buckets').findWhere({ value: bucketValue });\n        if (bucket) {\n            bucket.set('selected', true);\n        }\n    },\n\n    clearSelection: function () {\n        this.get('buckets').where({ selected: true }).forEach(function (bucket) {\n            bucket.set('selected', false);\n        });\n    },\n\n    isSelected: function (bucketValue) {\n        var bucket = this.get('buckets').findWhere({ value: bucketValue });\n        return bucket && bucket.get('selected');\n    },\n\n    hasSelected: function () {\n        return _.some(this.get('buckets').pluck('selected'));\n    },\n\n    getTitle: function () {\n        var field = this.get('field');\n        return TITLE_MAP[field] || field;\n    },\n\n});\n","var Backbone = require('backbone');\n\nmodule.exports = Backbone.Model.extend({\n\n    defaults: {\n        value: null,\n        count: null,\n        selected: null,\n    },\n\n    idAttribute: 'value',\n\n    getFacet: function () {\n        return this.collection.facet;\n    },\n\n});\n","export const sortThis = (a, b, direction) => {\n    if (a < b) {\n        return direction === 'asc' ? -1 : 1;\n    } else if (a > b) {\n        return direction === 'asc' ? 1 : -1;\n    }\n    return 0;\n};\n\nexport const compareVersion = (a, b) => {\n    // strip out version number\n    const nameA = a.replace(/\\s*\\d(\\.\\d)*\\.x\\s*/, '');\n    const nameB = b.replace(/\\s*\\d(\\.\\d)*\\.x\\s*/, '');\n\n    // strip out all letters and just keep number\n    const numA = a.replace(/[^\\d]/g, '');\n    const numB = b.replace(/[^\\d]/g, '');\n\n    // NOS versions come first (newest to oldest)\n    // then other named versions alpabetically (newest to oldest)\n    // then numbered versions (newest to oldest)\n\n    if (nameA === 'nos' && nameB === 'nos') {\n        return sortThis(numA, numB, 'desc');\n    }\n    if (nameA === 'nos' && nameB !== 'nos') {\n        return -1;\n    }\n    if (nameA !== 'nos' && nameB === 'nos') {\n        return 1;\n    }\n    if (nameA !== '' && nameB !== '') {\n        if (nameA === nameB) {\n            return sortThis(numA, numB, 'desc');\n        }\n        return sortThis(nameA, nameB, 'asc');\n    }\n    if (nameA !== '' && nameB === '') {\n        return -1;\n    }\n    if (nameA === '' && nameB !== '') {\n        return 1;\n    }\n    return sortThis(numA, numB, 'desc');\n};\n","const _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar PaginationModel = require('./PaginationModel');\nvar BreadcrumbsView = require('./BreadcrumbsView');\nvar PaginationView = require('./PaginationView');\nvar HitsView = require('./HitsView');\nvar EmptyHitsView = require('./EmptyHitsView');\nvar tpl = require('raw-loader!./ResultsView.html');\n\nmodule.exports = Marionette.LayoutView.extend({\n\n    template: _.template(tpl),\n\n    regions: {\n        breadcrumbs: '[data-region=\"breadcrumbs\"]',\n        hits: '[data-region=\"hits\"]',\n        pagination: '[data-region=\"pagination\"]',\n    },\n\n    initialize: function (options) {\n        this.query = options.query;\n        this.facets = options.facets;\n        this.hits = options.hits;\n        this.hits.getFirstPage();\n        this.pagination = new PaginationModel({}, { collection: this.hits });\n    },\n\n    onRender: function () {\n        this.showChildView('breadcrumbs', new BreadcrumbsView({\n            query: this.query,\n            facets: this.facets,\n            pagination: this.pagination,\n        }));\n\n        if (this.hits.isEmpty()) {\n            this.showChildView('hits', new EmptyHitsView());\n        } else {\n            this.showChildView('hits', new HitsView({\n                collection: this.hits,\n            }));\n\n            if (this.hits.state.totalPages > 1) {\n                this.showChildView('pagination', new PaginationView({\n                    model: this.pagination,\n                }));\n                this.$('[data-region=\"pagination\"]').removeClass('hidden');\n            }\n        }\n    },\n\n});\n","var Backbone = require('backbone');\n\nmodule.exports = Backbone.Model.extend({\n\n    initialize: function (attributes, options) {\n        this.collection = options.collection;\n        this.set({\n            total: this.collection.fullCollection.length,\n        });\n        this.listenTo(this.collection, 'reset', this.refresh);\n        this.refresh();\n    },\n\n    refresh: function () {\n        this.set({\n            from: (this.collection.state.currentPage * this.collection.state.pageSize) + 1,\n            to: Math.min((this.collection.state.currentPage + 1) * this.collection.state.pageSize, this.collection.fullCollection.length),\n        });\n    },\n\n});\n","const _ = require('underscore');\nvar Backbone = require('backbone');\nvar Marionette = require('backbone.marionette');\nvar itemTpl = require('raw-loader!./BreadcrumbItem.html');\nvar tpl = require('raw-loader!./BreadcrumbsView.html');\n\nvar BreadcrumbItem = Marionette.ItemView.extend({\n\n    template: _.template(itemTpl),\n\n    templateHelpers: function () {\n        return {\n            facet: this.model.getFacet().toJSON(),\n        };\n    },\n\n    tagName: 'li',\n\n    events: {\n        'click [data-action=\"deselect-facet\"]': 'deselectFacet',\n    },\n\n    deselectFacet: function (event) {\n        event.preventDefault();\n        this.model.set('selected', false);\n    },\n\n});\n\nmodule.exports = Marionette.CompositeView.extend({\n\n    template: _.template(tpl),\n\n    childViewContainer: 'ul',\n\n    childView: BreadcrumbItem,\n\n    bindings: ['from', 'to', 'total'].reduce(function (memo, val) {\n        memo['[data-bind=\"' + val + '\"]'] = val;\n        return memo;\n    }, {}),\n\n    events: {\n        'click [data-action=\"deselect-query\"]': 'deselectQuery',\n        'click [data-action=\"clear-all\"]': 'clearAll',\n    },\n\n    initialize: function (options) {\n        this.pagination = options.pagination;\n        this.query = options.query;\n        this.facets = options.facets;\n        this.collection = new Backbone.Collection(this.facets.getSelectedBuckets());\n\n        this.model = new Backbone.Model({\n            query: options.query.toJSON(),\n        });\n        this.refreshPagination();\n\n        this.listenTo(this.pagination, 'change', this.refreshPagination);\n    },\n\n    onRender: function () {\n        this.stickit();\n    },\n\n    refreshPagination: function () {\n        this.model.set({\n            from: this.pagination.get('from'),\n            to: this.pagination.get('to'),\n            total: this.pagination.get('total'),\n        });\n    },\n\n    deselectQuery: function (event) {\n        event.preventDefault();\n        this.query.set('term', null);\n        this.query.trigger('update');\n    },\n\n    clearAll: function (event) {\n        event.preventDefault();\n        this.query.set('term', null);\n        this.collection.each(function (bucket) {\n            bucket.set('selected', false, { silent: true });\n        });\n        this.facets.trigger('update');\n    },\n\n});\n","module.exports = \"<span class=\\\"label\\\">\\n    <span title=\\\"<%= facet.field %>\\\"><%= value %></span>\\n    <i data-action=\\\"deselect-facet\\\" class=\\\"fa fa-lg fa-times-circle\\\"></i>\\n</span>\"","module.exports = \"<div class=\\\"pull-right\\\">\\n    <a href=\\\"#\\\" data-action=\\\"clear-all\\\">Clear All</a>\\n</div>\\n\\n<% if (total > 0) { %>\\n    <b data-bind=\\\"from\\\"></b> - <b data-bind=\\\"to\\\"></b> of\\n<% } %>\\n<b data-bind=\\\"total\\\"></b> <%= total === 1 ? 'result' : 'results' %> for:\\n\\n<ul class=\\\"list-unstyled\\\" style=\\\"margin-left: 0px;\\\">\\n<% if (query.term) { %>\\n    <li>\\n        <span class=\\\"label\\\">\\n            <span class=\\\"field\\\">Search:</span> <%= query.term %>\\n            <i data-action=\\\"deselect-query\\\" class=\\\"fa fa-lg fa-times-circle\\\"></i>\\n        </span>\\n    </li>\\n<% } %>\\n</ul>\\n\"","const $ = require('jquery');\nconst _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar tpl = require('raw-loader!./PaginationView.html');\n\nmodule.exports = Marionette.ItemView.extend({\n\n    template: _.template(tpl),\n\n    bindings: ['from', 'to', 'total'].reduce(function (memo, val) {\n        memo['[data-bind=\"' + val + '\"]'] = val;\n        return memo;\n    }, {}),\n\n    ui: {\n        previous: '[data-action=\"previous\"]',\n        next: '[data-action=\"next\"]',\n    },\n\n    events: {\n        'click @ui.previous': 'previousPage',\n        'click @ui.next': 'nextPage',\n    },\n\n    collectionEvents: {\n        'reset': 'adjustLinkState scrollToTop',\n    },\n\n    initialize: function () {\n        this.collection = this.model.collection;\n    },\n\n    onRender: function () {\n        this.stickit();\n        this.adjustLinkState();\n    },\n\n    nextPage: function (event) {\n        event.preventDefault();\n        this.collection.getNextPage();\n        this.adjustLinkState();\n    },\n\n    previousPage: function (event) {\n        event.preventDefault();\n        this.collection.getPreviousPage();\n        this.adjustLinkState();\n    },\n\n    adjustLinkState: function () {\n        this.ui.previous.toggleClass('disabled', !this.collection.hasPreviousPage());\n        this.ui.next.toggleClass('disabled', !this.collection.hasNextPage());\n    },\n\n    scrollToTop: function () {\n        $('html,body').animate({ scrollTop: 0 }, 500);\n    },\n\n});\n","module.exports = \"<div class=\\\"pull-right\\\">\\n    <ul class=\\\"flex-container flex-dir-row list-unstyled paging\\\">\\n        <li>\\n            <a href=\\\"#\\\" data-action=\\\"previous\\\" class=\\\"disabled\\\"><span>&larr;</span> Previous</a>\\n        </li>\\n        <li style=\\\"padding: 0 0.5em\\\">|</li>\\n        <li>\\n            <a href=\\\"#\\\" data-action=\\\"next\\\">Next <span>&rarr;</span></a>\\n        </li>\\n    </ul>\\n</div>\\n\\nShowing <b data-bind=\\\"from\\\"></b> to <b data-bind=\\\"to\\\"></b> of <b data-bind=\\\"total\\\"></b> <%= total === 1 ? 'result' : 'results' %>\\n\"","const _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar HitView = require('./HitView');\nvar tpl = require('raw-loader!./HitsView.html');\n\nmodule.exports = Marionette.CompositeView.extend({\n\n    template: _.template(tpl),\n\n    childView: HitView,\n\n    childViewContainer: 'ul.search-hits',\n\n});\n","const _ = require('underscore');\nconst { BASE_URL } = require('progeny/config');\nconst { buildUrl } = require('@infosight/elmer/dist/utils/url');\n\nvar Marionette = require('backbone.marionette');\nvar tpl = require('raw-loader!./InnerHitView.html');\n\nmodule.exports = Marionette.ItemView.extend({\n\n    template: _.template(tpl, { variable: 'hit' }),\n\n    tagName: 'li',\n    className: 'search-inner-hit',\n\n    templateHelpers: function () {\n        return {\n            mediaUrl(...path) {\n                return buildUrl(BASE_URL, 'media', ...path);\n            },\n        };\n    },\n\n});\n","module.exports = \"<a target=\\\"_blank\\\" href=\\\"<%= hit.mediaUrl(hit._source.media[0].url) %>\\\"><%= hit._source.title %></a>\\n<% if (hit.highlight) { %>\\n<p class=\\\"highlights\\\">\\n    <% _.each(hit.highlight['topics.body'], function(fragment) { %>\\n        <span class=\\\"fragment\\\">...<%= fragment %>...</span>\\n    <% }); %>\\n</p>\\n<% } %>\\n\"","module.exports = \"<a target=\\\"_blank\\\" href=\\\"<%= hit.mediaUrl(hit._source.media[0].url) %>\\\"><%= hit._source.title %></a>\\n\\n<% _.each(_.tail(hit._source.media), function(mediaItem) { %>\\n    <small class=\\\"alt-media\\\">\\n    <% if (mediaItem.format === 'pdf') { %>\\n        (<a target=\\\"_blank\\\" href=\\\"<%= hit.mediaUrl(mediaItem.url) %>\\\">PDF <i class=\\\"fa fa-file-pdf-o\\\"></i></a>)\\n    <% } else if (mediaItem.format === 'zip') { %>\\n        (<a target=\\\"_blank\\\" href=\\\"<%= hit.mediaUrl(mediaItem.url) %>\\\">ZIP <i class=\\\"fa fa-file-zip-o\\\"></i></a>)\\n    <% } %>\\n    </small>\\n<% }); %>\\n\\n<ul class=\\\"labels list-unstyled\\\">\\n<% if (hit._source.Version && (!Array.isArray(hit._source.Version) || hit._source.Version.length)) { %>\\n    <li>\\n        <span class=\\\"label\\\" data-field=\\\"version\\\">Version: <%= Array.isArray(hit._source.Version) ? hit._source.Version.join(', ') : hit._source.Version %></span>\\n    </li>\\n<% } else if (hit.versionFamilies.length) {%>\\n    <li>\\n        <span class=\\\"label\\\" data-field=\\\"version\\\">Version: <%= hit.versionFamilies.join(', ') %></span>\\n    </li>\\n<% } %>\\n\\n<% if (!_.contains(hit._source.Visibility, 'Customer')) { %>\\n    <li>\\n        <span class=\\\"label\\\" data-field=\\\"visibility\\\">\\n            <%= !_.contains(hit._source.Visibility, 'Partner') ? 'Internal' : 'Internal/Partner'%>\\n        </span>\\n    </li>\\n<% } %>\\n</ul>\\n\\n<%\\n// Don't show root-level highlights if inner hits are present\\nif (hit.highlight && !hit.inner_hits.topics.hits.hits.length) { %>\\n<p class=\\\"highlights\\\">\\n    <% _.each(hit.highlight['body'], function(fragment) { %>\\n        <span class=\\\"fragment\\\">...<%= fragment %>...</span>\\n    <% }); %>\\n</p>\\n<% } %>\\n<ul class=\\\"search-inner-hits\\\"></ul>\\n\"","module.exports = \"<ul class=\\\"search-hits list-unstyled\\\"></ul>\\n\"","module.exports = \"<h3>No results found.</h3>\\n\\n<p>Please revise your search and/or filter selections and try again.</p>\"","module.exports = \"<div class=\\\"panel panel-default\\\">\\n    <ul class=\\\"list-group\\\">\\n        <li class=\\\"list-group-item\\\" data-region=\\\"breadcrumbs\\\"></li>\\n        <li class=\\\"list-group-item\\\" data-region=\\\"hits\\\"></li>\\n        <li class=\\\"list-group-item hidden\\\" data-region=\\\"pagination\\\"></li>\\n    </ul>\\n</div>\\n\"","const _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar tpl = require('raw-loader!./HomeView.html');\nconst releaseNotes = require('./images/releaseNotes.svg');\nconst solutionGuides = require('./images/solutionGuides.svg');\nconst support = require('./images/support.svg');\nconst userGuides = require('./images/userGuides.svg');\n\nmodule.exports = Marionette.ItemView.extend({\n    templateHelpers() {\n        return { releaseNotes, solutionGuides, support, userGuides };\n    },\n\n    template: _.template(tpl),\n\n    className: 'home-view',\n\n});\n","module.exports = \"<h1>Nimble Storage Documentation</h1>\\n\\n<p>\\n    Nimble Storage provides a wide range of documentation covering the entire product family.\\n</p>\\n\\n<table class=\\\"table table-bordered\\\">\\n    <tbody>\\n        <tr>\\n            <td data-column=\\\"doc-icon\\\">\\n                <img src=\\\"<%= releaseNotes %>\\\">\\n            </td>\\n            <td data-column=\\\"doc-text\\\">\\n                <h3>Release Notes</h3>\\n                <p>\\n                    Summarize new features, important changes and enhancements for each Nimble Storage software release version.\\n                </p>\\n                <p>\\n                    Includes: <a href=\\\"?Document+Type=Release+Notes&Nimble+Software+and+Solutions=NimbleOS\\\" class=\\\"history-aware\\\">Release Notes for NimbleOS</a>,\\n                    as well as other Nimble Storage software solutions\\n                </p>\\n            </td>\\n        </tr>\\n        <tr>\\n            <td data-column=\\\"doc-icon\\\">\\n                <img src=\\\"<%= userGuides %>\\\">\\n            </td>\\n            <td data-column=\\\"doc-text\\\">\\n                <h3>Product User Guides</h3>\\n                <p>\\n                    Provide detailed step-by-step instructions on how to install, configure, operate, and maintain your Nimble Storage hardware and software.\\n                </p>\\n                <p>\\n                    Includes: <a href=\\\"?Document+Type=Installation+/+Administration+Guide\\\" class=\\\"history-aware\\\">Installation, administration (CLI and GUI), and reference guides</a>,\\n                    plus <a href=\\\"?Document+Type=Hardware+/+Quick+Start+Guide\\\" class=\\\"history-aware\\\">hardware quick start</a>, upgrade, and maintenance guides\\n                </p>\\n            </td>\\n        </tr>\\n        <tr>\\n            <td data-column=\\\"doc-icon\\\">\\n                <img src=\\\"<%= solutionGuides %>\\\">\\n            </td>\\n            <td data-column=\\\"doc-text\\\">\\n                <h3>Solution and Integration Guides</h3>\\n                <p>\\n                    Offer various setup and configuration solutions to help you obtain the best performance and efficiency for your Nimble Storage arrays.\\n                    These guides outline the process for integrating with other software products, and deployment considerations for different workloads and environments.\\n                </p>\\n            </td>\\n        </tr>\\n        <tr>\\n            <td data-column=\\\"doc-icon\\\">\\n                <img src=\\\"<%= support %>\\\">\\n            </td>\\n            <td data-column=\\\"doc-text\\\">\\n                <h3>Support and Knowledge Base Articles</h3>\\n                <p>\\n                    Created by Support professionals, these articles provide time-saving methods for troubleshooting and fixing common issues.\\n                    The Knowledge Base is updated regularly to provide you with the latest information directly from the Nimble Storage Support team.\\n                    Refer also to various support matrices for upgrades and compatibility.\\n                </p>\\n                <p>\\n                    Includes: <a href=\\\"?Document+Type=Knowledge+Base+Article\\\" class=\\\"history-aware\\\">Knowledge base articles</a>,\\n                    <a href=\\\"?Document+Type=Support+Policy\\\" class=\\\"history-aware\\\">support lifecycle notifications</a>,\\n                    plus <a href=\\\"?Document+Type=Compatibility+Matrix\\\" class=\\\"history-aware\\\">upgrade, configuration, interoperability, and compatibility matrices</a>\\n                </p>\\n            </td>\\n        </tr>\\n    </tbody>\\n</table>\\n\\n<p>\\n    To get started, use the search box above or browse/refine using the categories on the left.\\n</p>\\n\"","module.exports = __webpack_public_path__ + \"app/modules/documentation/images/releaseNotes.svg\";","module.exports = __webpack_public_path__ + \"app/modules/documentation/images/solutionGuides.svg\";","module.exports = __webpack_public_path__ + \"app/modules/documentation/images/support.svg\";","module.exports = __webpack_public_path__ + \"app/modules/documentation/images/userGuides.svg\";","const _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar FacetView = require('./FacetView');\nvar tpl = require('raw-loader!./FacetPanel.html');\n\nmodule.exports = Marionette.CompositeView.extend({\n\n    template: _.template(tpl),\n\n    childView: FacetView,\n\n    className: 'panel panel-default',\n\n    childViewContainer: 'ul',\n\n    collectionEvents: {\n        'reset': 'onCollectionReset',\n    },\n\n    onCollectionReset: function () {\n        this.$el.toggle(!this.collection.isEmpty());\n    },\n\n});\n","const _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar FacetBucketView = require('./FacetBucketView');\nvar tpl = require('raw-loader!./FacetView.html');\n\nmodule.exports = Marionette.CompositeView.extend({\n\n    template: _.template(tpl),\n\n    templateHelpers: function () {\n        return {\n            title: this.model.getTitle(),\n        };\n    },\n\n    childView: FacetBucketView,\n\n    tagName: 'li',\n\n    className: function () {\n        return 'facet ' + (this.model.hasSelected() ? ' has-selected' : '');\n    },\n\n    childViewContainer: 'ul',\n\n    initialize: function () {\n        this.collection = this.model.get('buckets');\n    },\n\n});\n","const _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar tpl = require('raw-loader!./FacetBucketView.html');\n\nmodule.exports = Marionette.ItemView.extend({\n\n    template: _.template(tpl),\n\n    tagName: 'li',\n\n    className: function () {\n        return 'facet-bucket flex-container' + (this.model.get('selected') ? ' selected' : '');\n    },\n\n    events: {\n        'click [data-action=\"select\"]': 'selectBucket',\n        'click [data-action=\"deselect\"]': 'deselectBucket',\n    },\n\n    selectBucket: function (event) {\n        event.preventDefault();\n        this.model.set('selected', true);\n    },\n\n    deselectBucket: function (event) {\n        event.preventDefault();\n        this.model.set('selected', false);\n    },\n\n});\n","module.exports = \"<% if (selected) { %>\\n    <span class=\\\"selected facet-name\\\" title=\\\"<%= value %>\\\"><%= value %></span> <i data-action=\\\"deselect\\\" class=\\\"fa fa-lg fa-times-circle\\\" style=\\\"align-self: center\\\"></i>\\n<% } else { %>\\n    <a data-action=\\\"select\\\" title=\\\"<%= value %>\\\" href=\\\"#\\\" class=\\\"facet-name\\\"><%= value %></a> <span class=\\\"small count\\\">(<%= count %>)</span>\\n<% } %>\\n\"","module.exports = \"<h4 class=\\\"facet-title no-margin\\\"><%= title %></h4>\\n<ul class=\\\"facet-buckets\\\"></ul>\\n\"","module.exports = \"<div class=\\\"panel-heading\\\">\\n    <h2 class=\\\"panel-title\\\">Refine by</h2>\\n</div>\\n<div class=\\\"panel-body\\\">\\n    <ul class=\\\"facets list-unstyled\\\"></ul>\\n</div>\\n\"","const _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar LanguagePreferenceModel = require('./LanguagePreferenceModel');\nvar LanguagePreferenceForm = require('./LanguagePreferenceForm');\nvar tpl = require('raw-loader!./LanguagePreferenceView.html');\n\nmodule.exports = Marionette.ItemView.extend({\n\n    template: _.template(tpl),\n\n    className: 'language-preferences',\n\n    ui: {\n        anchor: 'a',\n    },\n\n    events: {\n        'click @ui.anchor': 'showPopover',\n        'click .close': 'hidePopover',\n        'hidden.bs.popover @ui.anchor': 'onPopoverHidden',\n    },\n\n    initialize: function () {\n        this.model = new LanguagePreferenceModel();\n    },\n\n    showPopover: function (event) {\n        event.preventDefault();\n        this.ui.anchor.popover('show');\n    },\n\n    hidePopover: function () {\n        this.ui.anchor.popover('hide');\n    },\n\n    onPopoverHidden: function () {\n        this.form.destroy();\n    },\n\n    onRender: function () {\n        this.ui.anchor.popover({\n            html: true,\n            container: false,\n            content: this.renderForm.bind(this),\n            title: '<button type=\"button\" class=\"close\">&times;</button> Languages',\n            placement: 'bottom',\n            trigger: 'manual',\n        });\n    },\n\n    renderForm: function () {\n        this.form = new LanguagePreferenceForm({\n            model: this.model,\n        });\n        return this.form.render().$el;\n    },\n\n});\n","const $ = require('jquery');\nconst _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar tpl = require('raw-loader!./LanguagePreferenceForm.html');\n\nmodule.exports = Marionette.ItemView.extend({\n\n    template: _.template(tpl),\n\n    events: {\n        'change :checkbox': 'onChange',\n    },\n\n    onRender: function () {\n        var self = this;\n        this.model.get('languages').forEach(function (lang) {\n            self.$(':checkbox[value=\"' + lang + '\"]').prop('checked', true);\n        });\n    },\n\n    onChange: function () {\n        this.model.set('languages',\n            this.$(':checkbox:checked').map(function () {\n                return $(this).val();\n            }).get(),\n        );\n    },\n\n});\n","module.exports = \"<form>\\n    <div class=\\\"checkbox\\\">\\n        <label>\\n            <input name=\\\"languages\\\" type=\\\"checkbox\\\" value=\\\"en\\\">English</input>\\n        </label>\\n    </div>\\n    <div class=\\\"checkbox\\\">\\n        <label>\\n            <input name=\\\"languages\\\" type=\\\"checkbox\\\" value=\\\"ja\\\">Japanese</input>\\n        </label>\\n    </div>\\n</form>\"","module.exports = \"<small><a href=\\\"#\\\">Language Preferences</a></small>\"","module.exports = \"<div class=\\\"row expanded\\\">\\n    <div class=\\\"column small-12 small-offset-6\\\" data-region=\\\"search\\\"></div>\\n    <div class=\\\"column small-6 text-right\\\" data-region=\\\"language\\\"></div>\\n</div>\\n\\n<div class=\\\"row expanded spinner animated fadeIn\\\">\\n    <div class=\\\"sk-three-bounce\\\">\\n        <div class=\\\"sk-child sk-bounce1\\\"></div>\\n        <div class=\\\"sk-child sk-bounce2\\\"></div>\\n        <div class=\\\"sk-child sk-bounce3\\\"></div>\\n    </div>\\n</div>\\n\\n<div class=\\\"row expanded search-results animated fadeIn\\\">\\n    <div class=\\\"column small-6\\\">\\n        <div data-region=\\\"facets\\\"></div>\\n    </div>\\n    <div class=\\\"column small-18\\\">\\n        <div data-region=\\\"main\\\"></div>\\n    </div>\\n</div>\"","const App = require('app/Application');\nconst _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar CategoryCollection = require('./CategoryCollection');\nvar AsyncView = require('app/common/AsyncView');\nvar CategoriesView = require('./CategoriesView');\nvar WhitelistCategoryView = require('./WhitelistCategoryView');\nvar WhitelistCollection = require('./WhitelistCollection');\nvar ProductView = require('./ProductView');\nvar HomeView = require('./HomeView');\nvar tpl = require('raw-loader!./SoftwareView.html');\nconst Request = require('../../../progeny/services/Request').default;\nconst $ = require('jquery');\n\nvar View = Marionette.LayoutView.extend({\n\n    template: _.template(tpl),\n\n    className: 'software-view',\n\n    regions: {\n        sidePanel: '[data-region=\"sidePanel\"]',\n        whitelistCategoryPanel: '[data-region=\"whitelistCategoryPanel\"]',\n        mainPanel: '[data-region=\"mainPanel\"]',\n    },\n\n    ui: {},\n\n    initialize: function (attribute) {\n        this.collection = new CategoryCollection();\n    },\n\n    onDestroy: function () {\n        App._getChannel('software').reset();\n    },\n\n    onRender: function () {\n        var self = this;\n        this.whitelistCollection = new WhitelistCollection();\n        self.whitelistCategoryPanel = new WhitelistCategoryView({\n            collection: this.whitelistCollection,\n        });\n        this.whitelistCollection.bind('change reset add remove', function() {\n            if (self.whitelistCollection.length < 0) {\n                self.whitelistCategoryPanel.$el.hide();\n            } else {\n                self.whitelistCategoryPanel.$el.show();\n            }\n        });\n\n        this.showChildView('whitelistCategoryPanel', this.whitelistCategoryPanel);\n        self.whitelistCategoryPanel.$el.hide();\n\n        this.showChildView('sidePanel', new CategoriesView({\n            collection: this.collection,\n        }));\n    },\n\n    showProduct: function (category, productName) {\n        this.collection.unselectAllProducts();\n        var product = this.collection\n            .findWhere({ name: category })\n            .get('products')\n            .findWhere({ name: productName });\n\n        if (product) {\n            product.set('selected', true);\n\n            this.showChildView('mainPanel', new ProductView({\n                model: product,\n            }));\n        }\n    },\n\n    showHome: function () {\n        this.collection.unselectAllProducts();\n\n        this.showChildView('mainPanel', new HomeView({\n            collection: this.collection,\n        }));\n    },\n\n});\n\nmodule.exports = AsyncView.extend({\n    ViewConstructor: View,\n\n    // TODO put this in redux\n    loadCategories() {\n        const deferred = $.Deferred();\n        new Request().urlSegments('software', 'categories')\n            .get()\n            .then((categories) => {\n                this.view.collection.prioritizedCategories = categories.data;\n            })\n            .then(deferred.resolve)\n            .catch(deferred.reject);\n        return deferred;\n    },\n\n    load() {\n        return this.loadCategories()\n            .then(() => this.view.collection.fetch())\n            .then(() => this.view);\n    },\n\n    invokePostRender: function (fn) {\n        if (this.view.isRendered) {\n            fn();\n        } else {\n            this.listenToOnce(this.view, 'render', fn);\n        }\n    },\n\n    showProduct: function (category, product) {\n        this.invokePostRender(this.view.showProduct.bind(this.view, category, product));\n    },\n\n    showHome: function () {\n        this.invokePostRender(this.view.showHome.bind(this.view));\n    },\n});\n","const _ = require('underscore');\nvar Backbone = require('backbone');\nvar esClient = require('app/modules/elasticsearch/ElasticsearchClient');\nvar CategoryModel = require('./CategoryModel');\n\nmodule.exports = Backbone.Collection.extend({\n\n    model: CategoryModel,\n\n    fetch: function () {\n        return esClient.searchTemplate({\n            index: 'software',\n            template: 'software',\n        }).done(this.load.bind(this));\n    },\n\n    load: function (response) {\n        var categories = _.chain(response.hits.hits)\n            .pluck('_source')\n            .groupBy('category')\n            .reduce(function (memo, products, category) {\n                memo.push({\n                    name: category,\n                    products: products,\n                });\n                return memo;\n            }, [])\n            .value();\n        this.reset(categories, { parse: true, prioritizedCategories: this.prioritizedCategories });\n    },\n\n    unselectAllProducts: function () {\n        this.pluck('products').forEach(function (products) {\n            products.forEach(function (product) {\n                product.set('selected', false);\n            });\n        });\n    },\n\n    flattenToProductVersions: function () {\n        return this.pluck('products').reduce(function (result, products) {\n            return products.pluck('versions').reduce(function (result, productVersions) {\n                return result.concat(productVersions.map(function (productVersion) {\n                    var model = productVersion.clone();\n                    model.set('product', productVersion.collection.product);\n                    return model;\n                }));\n            }, result);\n        }, []);\n    },\n\n    comparator: function (model) {\n        const index = this.prioritizedCategories.findIndex(x => x.name === model.get('name'));\n        return index === -1 ? Number.POSITIVE_INFINITY : index;\n    },\n\n});\n","var Backbone = require('backbone');\nvar ProductCollection = require('./ProductCollection');\n\nmodule.exports = Backbone.Model.extend({\n\n    idAttribute: 'name',\n\n    parse: function (response, { prioritizedCategories }) {\n        response.products = new ProductCollection(response.products, {\n            prioritizedCategories,\n            category: this,\n            parse: true,\n        });\n        return response;\n    },\n\n});\n","var Backbone = require('backbone');\nvar ProductModel = require('./ProductModel');\n\nmodule.exports = Backbone.Collection.extend({\n\n    model: ProductModel,\n\n    initialize: function (models, options) {\n        console.assert(options.category);\n        this.category = options.category;\n        this.categoryName = options.category.name;\n\n        this.ORDERING = options.prioritizedCategories.reduce(function (memo, category) {\n            memo[category.name] = category.products;\n            return memo;\n        }, {});\n    },\n\n    comparator: function (model) {\n        var ordering = this.ORDERING[model.collection.categoryName];\n        if (!ordering) {\n            return Number.POSITIVE_INFINITY;\n        }\n        var index = ordering.indexOf(model.get('value'));\n        return index === -1 ? Number.POSITIVE_INFINITY : index;\n    },\n\n});\n","var Backbone = require('backbone');\nvar ProductVersionCollection = require('./ProductVersionCollection');\n\nmodule.exports = Backbone.Model.extend({\n\n    defaults: {\n        selected: false,\n    },\n\n    parse: function (response) {\n        response.versions = new ProductVersionCollection(response.versions, {\n            product: this,\n            parse: true,\n        });\n        return response;\n    },\n\n});\n","var Backbone = require('backbone');\n\nmodule.exports = Backbone.Model.extend({\n    defaults: {\n        notes: '',\n    },\n});\n","var Marionette = require('backbone.marionette');\nvar CategoryPanel = require('./CategoryPanel');\n\nmodule.exports = Marionette.CollectionView.extend({\n\n    childView: CategoryPanel,\n\n    tagName: 'ul',\n\n    className: 'list-unstyled CategoryPanel',\n\n});\n","const _ = require('underscore');\nconst { buildUrl } = require('@infosight/elmer/dist/utils/url');\n\nvar Marionette = require('backbone.marionette');\nvar productTpl = require('raw-loader!./CategoryPanelProduct.html');\nvar tpl = require('raw-loader!./CategoryPanel.html');\n\nvar ProductView = Marionette.ItemView.extend({\n\n    tagName: 'li',\n\n    template: _.template(productTpl),\n\n    templateHelpers: function () {\n        return {\n            href: buildUrl(\n                'resources/nimble/software',\n                window.encodeURI(this.model.collection.category.get('name')),\n                window.encodeURI(this.model.get('name')),\n            ),\n        };\n    },\n\n    modelEvents: {\n        'change': 'render',\n    },\n\n});\n\nmodule.exports = Marionette.CompositeView.extend({\n\n    template: _.template(tpl),\n\n    tagName: 'li',\n\n    className: 'software-category panel panel-default',\n\n    childView: ProductView,\n\n    childViewContainer: 'ul',\n\n    initialize: function () {\n        this.collection = this.model.get('products');\n    },\n\n});\n","module.exports = \"<% if (selected) { %>\\n    <strong><%= name %></strong>\\n<% } else { %>\\n    <a href=\\\"<%= href %>\\\" class=\\\"history-aware\\\"><%= name %></a>\\n<% } %>\\n\"","module.exports = \"<div class=\\\"panel-heading\\\">\\n    <h2 class=\\\"panel-title\\\"><%= name %></h2>\\n</div>\\n<div class=\\\"panel-body\\\">\\n    <ul class=\\\"list-unstyled\\\"></ul>\\n</div>\\n\"","const _ = require('underscore');\nconst { buildUrl } = require('@infosight/elmer/dist/utils/url');\n\nvar Marionette = require('backbone.marionette');\nvar Backbone = require('backbone');\nvar moment = require('moment');\nvar itemTpl = require('raw-loader!./WhitelistItemView.html');\nvar tpl = require('raw-loader!./WhitelistCategoryView.html');\nvar WhitelistModel = require('./WhitelistModel');\n\nvar ItemView = Marionette.ItemView.extend({\n    tagName: \"li\",\n    template: _.template(itemTpl),\n});\n\nmodule.exports = Marionette.CompositeView.extend({\n    template: _.template(tpl),\n    childView: ItemView,\n\n    childViewContainer: 'ul.whitelist',\n\n    initialize: function (options) {\n        this.collection.fetch();\n    },\n});\n","module.exports = \"<div><a target=\\\"_blank\\\" href=\\\"/InfoSight/media/software/active/<%= url %>\\\"><%= name %></a></div>\\n\"","module.exports = \"<div class=\\\"panel panel-default\\\">\\n    <div class=\\\"panel-heading\\\">\\n        <h2 class=\\\"panel-title\\\">Support Downloads</h2>\\n    </div>\\n    <div class=\\\"panel-body\\\">\\n        <ul class=\\\"whitelist list-unstyled\\\"></ul>\\n    </div>\\n</div>\"","const _ = require('underscore');\nvar Backbone = require('backbone');\nvar WhitelistModel = require('./WhitelistModel');\nvar Request = require('../../../progeny/services/Request').default;\n\nmodule.exports = Backbone.Collection.extend({\n\n    model: WhitelistModel,\n\n    fetch: function() {\n        return new Request().urlSegments('software', 'access')\n            .get()\n            .then((access) => {\n                this.set(access.data);\n            });\n    },\n\n});\n","const App = require('app/Application');\nconst _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar ProductVersionTable = require('./ProductVersionTable');\nvar ProductVersionCollection = require('./ProductVersionCollection');\nvar EulaView = require('./EulaView');\nvar ProductDocumentationView = require('./ProductDocumentationView');\nvar ProductDocumentCollection = require('./ProductDocumentCollection');\nvar tpl = require('raw-loader!./ProductView.html');\nvar UserPreferencesController = require('app/modules/preferences/UserPreferencesController');\n\nmodule.exports = Marionette.LayoutView.extend({\n\n    template: _.template(tpl),\n\n    className: 'product-view animated fadeIn',\n\n    ui: {\n        otherVersionsToggle: 'a[href=\"#otherVersionsContainer\"]',\n        otherVersionsToggleContainer: '.other-versions-link-container',\n    },\n\n    events: {\n        'show.bs.collapse #otherVersionsContainer': 'onShowOtherVersions',\n        'hide.bs.collapse #otherVersionsContainer': 'onHideOtherVersions',\n    },\n\n    regions: {\n        documentation: '[data-region=\"documentation\"]',\n        currentVersion: '[data-region=\"currentVersion\"]',\n        otherVersions: '[data-region=\"otherVersions\"]',\n    },\n\n    initialize: function () {\n        this.documents = new ProductDocumentCollection([], {\n            productName: this.model.get('name'),\n        });\n    },\n\n    onRender: function () {\n        var session = App.request('global', 'get:current:session');\n        if (this.model.get('hasEula') &&\n            session.isExternal() &&\n            !UserPreferencesController.isEulaAccepted(this.model.get('name'))) {\n\n            this.showEulaView();\n        } else {\n            this.showProductView();\n        }\n    },\n\n    showProductView: function () {\n        var self = this;\n        this.$el.show();\n        // TODO enforce same column widths for both tables ?\n\n        var versions = this.model.get('versions');\n        var defaultVersions = new ProductVersionCollection(versions.where({ 'default': true }), { product: this.model });\n        var otherVersions = new ProductVersionCollection(versions.where({ 'default': false }), { product: this.model });\n\n        this.showChildView('currentVersion', new ProductVersionTable({\n            collection: defaultVersions,\n        }));\n        this.showChildView('otherVersions', new ProductVersionTable({\n            collection: otherVersions,\n        }));\n        this.ui.otherVersionsToggleContainer.toggle(!otherVersions.isEmpty());\n\n        this.documents.fetch().done(function () {\n            if (!self.documents.isEmpty()) {\n                self.showChildView('documentation', new ProductDocumentationView({\n                    collection: self.documents,\n                }));\n            }\n        });\n    },\n\n    showEulaView: function () {\n        this.$el.hide();\n        var view = new EulaView({\n            product: this.model,\n        });\n        this.listenTo(view, 'accept', this.showProductView);\n        App.modalRegion.show(view);\n    },\n\n    onShowOtherVersions: function () {\n        this.ui.otherVersionsToggle.text('Hide other versions');\n    },\n\n    onHideOtherVersions: function () {\n        this.ui.otherVersionsToggle.text('Show other versions');\n    },\n\n});\n","const _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar ProductVersionRow = require('./ProductVersionRow');\nvar tpl = require('raw-loader!./ProductVersionTable.html');\n\nmodule.exports = Marionette.CompositeView.extend({\n\n    template: _.template(tpl),\n\n    childViewContainer: 'tbody',\n\n    childView: ProductVersionRow,\n\n});\n","const _ = require('underscore');\nconst { BASE_URL } = require('progeny/config');\nconst { buildUrl } = require('@infosight/elmer/dist/utils/url');\n\nvar Marionette = require('backbone.marionette');\nvar tpl = require('raw-loader!./ProductVersionRow.html');\n\nmodule.exports = Marionette.ItemView.extend({\n\n    template: _.template(tpl),\n\n    tagName: 'tr',\n\n    templateHelpers: {\n        mediaUrl(...path) {\n            return buildUrl(BASE_URL, 'media', ...path);\n        },\n    },\n\n});\n","module.exports = \"<td data-column=\\\"version\\\">\\n    <%= version %>\\n<% if (status) { %>\\n    <small>(<%= status %>)</small>\\n<% } %>\\n</td>\\n<td data-column=\\\"release-date\\\"><%= releaseDate %></td>\\n<td data-column=\\\"downloads\\\">\\n    <ul class=\\\"list-unstyled\\\" style=\\\"margin: 0;\\\">\\n    <% artifacts.forEach(function(artifact) { %>\\n        <li><a target=\\\"_blank\\\" href=\\\"<%= mediaUrl(artifact.url) %>\\\"><%= artifact.name %></a></li>\\n    <% }); %>\\n    </ul>\\n</td>\\n<td data-column=\\\"notes\\\"><%= notes %></td>\\n\"","module.exports = \"<table class=\\\"table table-bordered\\\">\\n    <thead>\\n        <th data-column-header=\\\"version\\\">Version</th>\\n        <th data-column-header=\\\"release-date\\\">Release Date</th>\\n        <th data-column-header=\\\"downloads\\\">Downloads</th>\\n        <th data-column-header=\\\"notes\\\">Notes</th>\\n    </thead>\\n    <tbody></tbody>\\n</table>\"","const _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar EulaModel = require('./EulaModel');\nvar Spinner = require('app/views/components/Spinner');\nvar tpl = require('raw-loader!./EulaView.html');\nvar UserPreferencesController = require('app/modules/preferences/UserPreferencesController');\n\nmodule.exports = Marionette.LayoutView.extend({\n\n    template: _.template(tpl),\n\n    regions: {\n        spinner: '[data-region=\"spinner\"]',\n    },\n\n    ui: {\n        eulaWrapper: '.eula-wrapper',\n    },\n\n    events: {\n        'click [name=\"submit\"]': 'accept',\n        'click [name=\"cancel\"]': 'cancel',\n    },\n\n    modelEvents: {\n        'sync': 'onFetch',\n    },\n\n    initialize: function (options) {\n        this.product = options.product;\n        this.acceptanceModel =\n            this.model = new EulaModel({}, {\n                product: this.product,\n            });\n    },\n\n    onRender: function () {\n        this.showChildView('spinner', new Spinner({\n            message: 'Loading license agreement...',\n        }));\n        this.ui.eulaWrapper.hide();\n        this.model.fetch();\n    },\n\n    onFetch: function () {\n        this.getRegion('spinner').empty();\n\n        var iframe = this.$('iframe')[0];\n        iframe.contentWindow.document.open();\n        iframe.contentWindow.document.write(this.model.get('eula'));\n        iframe.contentWindow.document.close();\n\n        this.ui.eulaWrapper.show();\n    },\n\n    accept: function () {\n        UserPreferencesController.acceptEula(this.product.get('name'));\n        this.trigger('accept');\n    },\n\n    cancel: _ => _,\n\n});\n","var Backbone = require('backbone');\nvar URI = require('urijs');\nconst { BASE_URL } = require('progeny/config');\nconst { buildUrl } = require('@infosight/elmer/dist/utils/url');\n\nmodule.exports = Backbone.Model.extend({\n\n    initialize: function (attrs, options) {\n        this.product = options.product;\n    },\n\n    url: function () {\n        return buildUrl(BASE_URL, URI('es/software/product')\n            .segment(this.product.id.toString())\n            .segment('_source')\n            .query({\n                '_source': 'eula',\n            }));\n    },\n\n});\n","module.exports = \"<div class=\\\"modal-dialog modal-lg\\\">\\n    <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n            <h4 class=\\\"modal-title\\\">End User License Agreement</h4>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n            <p class=\\\"lead\\\">You are required to accept the following License Agreement before proceeding.</p>\\n            <div data-region=\\\"spinner\\\"></div>\\n            <div class=\\\"animated fadeIn eula-wrapper\\\">\\n                <div class=\\\"well embed-responsive eula-body-container\\\">\\n                    <iframe></iframe>\\n                </div>\\n                <p>By clicking the \\\"Accept\\\" button below you are accepting these terms and conditions.</p>\\n            </div>\\n        </div>\\n        <div class=\\\"modal-footer\\\">\\n            <button type=\\\"button\\\" class=\\\"button\\\" name=\\\"submit\\\" data-dismiss=\\\"modal\\\">Accept</button>\\n            <button type=\\\"button\\\" class=\\\"button secondary\\\" name=\\\"cancel\\\" data-dismiss=\\\"modal\\\">Cancel</button>\\n        </div>\\n    </div>\\n</div>\"","const _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar HitView = require('../documentation/HitView');\nvar tpl = require('raw-loader!./ProductDocumentationView.html');\n\nmodule.exports = Marionette.CompositeView.extend({\n\n    template: _.template(tpl),\n\n    childViewContainer: 'ul',\n\n    childView: HitView,\n});\n\n","module.exports = \"<h3>Documentation</h3>\\n\\n<ul class=\\\"search-hits\\\"></ul>\"","var Backbone = require('backbone');\nvar esClient = require('app/modules/elasticsearch/ElasticsearchClient');\nvar HitCollection = require('../documentation/HitCollection');\n\nmodule.exports = HitCollection.extend({\n\n    initialize: function (models, options) {\n        this.productName = options.productName;\n    },\n\n    fetch: function () {\n        return esClient.searchTemplate({\n            index: 'docs',\n            template: 'docs',\n            params: {\n                size: 50,\n                filters: [\n                    {\n                        term: {\n                            'Nimble Software and Solutions': this.productName,\n                        },\n                    }, {\n                        terms: {\n                            'Document Type': ['Release Notes', 'Installation / Administration Guide', 'Integration / Solution Guide'],\n                        },\n                    },\n                ],\n            },\n        }).done(this.load.bind(this));\n    },\n\n    load: function (response) {\n        this.reset(response.hits.hits, { parse: true });\n    },\n\n});\n","module.exports = \"<h2><%= name %></h2>\\n<p><%= description %></p>\\n\\n<h3>\\n    Current Version\\n    <span class=\\\"other-versions-link-container\\\">(<a href=\\\"#otherVersionsContainer\\\" data-toggle=\\\"collapse\\\">Show other versions</a>)</span>\\n</h3>\\n<div data-region=\\\"currentVersion\\\"></div>\\n\\n<div id=\\\"otherVersionsContainer\\\" class=\\\"collapse\\\">\\n    <h3>Other Versions</h3>\\n    <div data-region=\\\"otherVersions\\\"></div>\\n</div>\\n\\n<div data-region=\\\"documentation\\\"></div>\\n\"","const _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar WhatsNewView = require('./WhatsNewView');\nvar NimbleOsReleasesView = require('./NimbleOsReleasesView');\nvar tpl = require('raw-loader!./HomeView.html');\n\nmodule.exports = Marionette.LayoutView.extend({\n\n    template: _.template(tpl),\n\n    regions: {\n        whatsNew: '[data-region=\"whatsNew\"]',\n        nimbleOsReleases: '[data-region=\"nimbleOsReleases\"]',\n    },\n\n    onRender: function () {\n        this.showChildView('whatsNew', new WhatsNewView({\n            categories: this.collection,\n        }));\n        this.showChildView('nimbleOsReleases', new NimbleOsReleasesView({\n            categories: this.collection,\n        }));\n    },\n\n});\n","const _ = require('underscore');\nconst { buildUrl } = require('@infosight/elmer/dist/utils/url');\n\nvar Marionette = require('backbone.marionette');\nvar Backbone = require('backbone');\nvar moment = require('moment');\nvar itemTpl = require('raw-loader!./WhatsNewItem.html');\nvar tpl = require('raw-loader!./WhatsNewView.html');\nvar URI = require('urijs');\n\nvar NEW_CUTOFF_IN_DAYS = 90;\n\nvar ItemView = Marionette.ItemView.extend({\n\n    tagName: 'li',\n\n    template: _.template(itemTpl),\n\n    templateHelpers: function () {\n        var category = this.model.get('product').collection.category.toJSON();\n        var product = this.model.get('product').toJSON();\n        return {\n            href: buildUrl('resources/nimble/software', window.encodeURI(category.name), window.encodeURI(product.name)),\n            product: product,\n            category: category,\n            moment: moment,\n        };\n    },\n});\n\nmodule.exports = Marionette.CompositeView.extend({\n\n    template: _.template(tpl),\n\n    childView: ItemView,\n\n    childViewContainer: 'ul',\n\n    initialize: function (options) {\n        var seen = {};\n        this.collection = new Backbone.Collection(\n            _.chain(options.categories.flattenToProductVersions())\n                .filter(function (productVersion) {\n                    return moment().diff(productVersion.get('releaseDate'), 'days') < NEW_CUTOFF_IN_DAYS;\n                })\n                .sortBy(function (productVersion) {\n                    return productVersion.get('releaseDate');\n                })\n                .reverse()\n                .filter(function (productVersion) {\n                    var productId = productVersion.get('product').id;\n                    try {\n                        return !seen[productId];\n                    } finally {\n                        seen[productId] = true;\n                    }\n                })\n                .value(),\n        );\n    },\n\n    onRender: function () {\n        this.$el.toggle(!this.collection.isEmpty());\n    },\n\n});\n","module.exports = \"<a href=\\\"<%= href %>\\\" class=\\\"history-aware\\\"><%= product.name %></a>\\n<strong><%= version %></strong>\\n<small>(released <%= moment(releaseDate).format('L') %>)</small>\\n\"","module.exports = \"<h2>What's New?</h2>\\n<ul></ul>\\n\"","const $ = require('jquery');\nconst App = require('app/Application');\nconst _ = require('underscore');\nconst { BASE_URL } = require('progeny/config');\nconst { buildUrl } = require('@infosight/elmer/dist/utils/url');\n\nvar Marionette = require('backbone.marionette');\nvar AsyncView = require('app/common/AsyncView');\nvar NimbleOsReleaseNotesCollection = require('./NimbleOsReleaseNotesCollection');\nvar tpl = require('raw-loader!./NimbleOsReleasesView.html');\nvar childTpl = require('raw-loader!./NimbleOsRelease.html');\nvar VirtualCollection = require('backbone-virtual-collection');\nvar moment = require('moment');\n\nvar ChildView = Marionette.ItemView.extend({\n    template: _.template(childTpl),\n\n    tagName: 'tr',\n\n    templateHelpers: function () {\n        return {\n            _,\n            moment,\n            mediaUrl(...path) {\n                return buildUrl(BASE_URL, 'media', ...path);\n            },\n            releaseNotes: this.model.get('releaseNotes') ? this.model.get('releaseNotes').toJSON() : null,\n        };\n    },\n});\n\nvar View = Marionette.CompositeView.extend({\n\n    template: _.template(tpl),\n\n    childView: ChildView,\n\n    childViewContainer: 'tbody',\n\n    initialize: function () {\n        this.releaseNotesCollection = new NimbleOsReleaseNotesCollection();\n    },\n\n    mergeCollections: function (releases) {\n        var self = this;\n        this.collection = new VirtualCollection(releases, {\n            filter: function (release) {\n                var status = release.attributes.displayStatus;\n                var code = release.attributes.status.code;\n\n                // https://nimblejira.nimblestorage.com/browse/IS-9978\n                // All GA releases in a stream should appear (e.g., 2.3.16.0 and 2.3.9.2 since 2.3.9.2 is used as an update\n                // hop from some older releases that cannot update to 2.3.16.0 directly).\n                // An EOSS release that is still marked GA should appear.\n                // For the same reason as above, these releases can be used as an update hop from previous releases.\n                // If EOSS is not marked GA, it should not appear.\n                if (code === 'GA' || code === 'LTSR') {\n                    return true;\n                }\n\n                // If there is no GA release in the stream, then only an EA release with 'Status' populated with\n                // \"Initial Production Release\" or \"GA Candidate\" should appear. For versions we want customers to see, there should always\n                // be at least a GA version or an EA version with IPR/GAC status in a release stream.\n                if (code === 'EA' && _(['Initial Production Release', 'GA Candidate']).contains(status)) {\n                    return true;\n                }\n\n                // Deprecated and staging releases should not appear in this table.\n                if (code === 'DEP' || code === 'STG') {\n                    return false;\n                }\n\n                return false;\n            },\n        });\n\n        this.collection.each(function (release) {\n            // the old behavior didn't account for an optional 'NOS' prefix\n            // so our findWhere becomes a filter...\n\n            // var releaseNotes = self.releaseNotesCollection.findWhere({ version: release.get('shortVersion') });\n\n            var shortVersion = release.get('shortVersion');\n            var releaseNotes = self.releaseNotesCollection.filter(function (item) {\n                var notesVersion = item.get('version');\n                if (notesVersion == shortVersion || notesVersion == 'NOS ' + shortVersion) {\n                    return item;\n                }\n            });\n\n            if (releaseNotes) {\n                release.set('releaseNotes', releaseNotes[0]); // only return the first result\n            }\n        });\n    },\n\n});\n\nmodule.exports = AsyncView.extend({\n    ViewConstructor: View,\n\n    load: function () {\n        return $.when(\n            App.request('global', 'get:nimbleosreleases:async', 'jQuery.Deferred'),\n            this.view.releaseNotesCollection.fetch(),\n        )\n            .then((releases) => {\n                this.view.mergeCollections(releases);\n                return this.view;\n            });\n    },\n});\n","const _ = require('underscore');\nvar Backbone = require('backbone');\nvar esClient = require('app/modules/elasticsearch/ElasticsearchClient');\n\nvar Model = Backbone.Model.extend({\n    parse: function (data) {\n        data.version = _.first(data.Version);\n        return data;\n    },\n});\n\nmodule.exports = Backbone.Collection.extend({\n\n    model: Model,\n\n    fetch: function () {\n        return esClient.searchTemplate({\n            index: 'docs',\n            template: 'docs',\n            params: {\n                size: 50,\n                filters: [\n                    {\n                        term: {\n                            'Nimble Software and Solutions': 'NimbleOS',\n                        },\n                    }, {\n                        term: {\n                            'Document Type': 'Release Notes',\n                        },\n                    },\n                ],\n            },\n        }).done(this.load.bind(this));\n    },\n\n    load: function (response) {\n        this.reset(_.pluck(response.hits.hits, '_source'), { parse: true });\n    },\n\n});\n","module.exports = \"<p>\\n    This table provides a reference for currently available NimbleOS releases.\\n    <strong>NimbleOS software can be downloaded directly via the System Management User Interface.</strong>\\n</p>\\n\\n<table class=\\\"table table-striped table-bordered responsive\\\">\\n    <thead>\\n        <th data-column-header=\\\"version\\\">Version</th>\\n        <th data-column-header=\\\"release-date\\\">Release Date</th>\\n        <th data-column-header=\\\"eoss-date\\\">End of Support Date</th>\\n        <th data-column-header=\\\"status\\\">Status</th>\\n        <th data-column-header=\\\"release-notes\\\">Release Notes</th>\\n        <th data-column-header=\\\"release-stream\\\">Release Stream</th>\\n    </thead>\\n    <tbody></tbody>\\n</table>\"","module.exports = \"<td><%= shortVersion %></td>\\n<td><%= releaseDate ? moment(releaseDate).format('ll') : '' %></td>\\n<td><%= eossDate ? moment(eossDate).format('ll') : 'TBD' %></td>\\n<td><%= displayStatus %></td>\\n<td>\\n<% if (releaseNotes) { %>\\n    <a target=\\\"_blank\\\" href=\\\"<%= mediaUrl(releaseNotes.media[0].url) %>\\\">Release Notes</a>\\n\\n    <% _.each(_.tail(releaseNotes.media), function(mediaItem) {\\n        // TODO We assume alternate media formats are all PDFs\\n    %>\\n        <small class=\\\"alt-media\\\">(<a target=\\\"_blank\\\" href=\\\"<%= mediaUrl(mediaItem.url) %>\\\">PDF <i class=\\\"fa fa-file-pdf-o\\\"></i></a>)</small>\\n    <% }); %>\\n<% } %>\\n</td>\\n<td><%= releaseStream %></td>\\n\"","module.exports = \"<p>\\n    Download additional software to complement your Nimble Storage Array.\\n    To get started, please click one of the products on the left.\\n</p>\\n\\n<div>\\n    <div data-region=\\\"whatsNew\\\"></div>\\n</div>\\n\\n<div>\\n    <h2>Integration Kits</h2>\\n    <p>Software providing integration between your Nimble Storage Array and products from other technology vendors.\\n    Includes plugins and adapters for popular third party frameworks and orchestration tools, and connectivity kits for major operating systems.</p>\\n</div>\\n\\n<div>\\n    <h2>Solution Kits</h2>\\n    <p>Curated tools, utilities and scripts that have been developed by Nimble Storage and the Nimble community.</p>\\n    <p>Provide feedback and connect with us on <a href=\\\"https://connect.nimblestorage.com/\\\" target=\\\"_blank\\\">Nimble Connect.</a></p>\\n</div>\\n\\n<div>\\n    <h2>NimbleOS Releases</h2>\\n    <div data-region=\\\"nimbleOsReleases\\\"></div>\\n</div>\\n\\n\\n\\n\"","module.exports = \"<div class=\\\"row expanded\\\">\\n    <div class=\\\"column small-6\\\">\\n        <div data-region=\\\"whitelistCategoryPanel\\\"></div>\\n        <div data-region=\\\"sidePanel\\\"></div>\\n    </div>\\n    <div class=\\\"column small-18\\\">\\n        <div class=\\\"panel panel-default\\\">\\n            <div class=\\\"panel-body\\\" data-region=\\\"mainPanel\\\"></div>\\n        </div>\\n    </div>\\n</div>\"","const $ = require('jquery');\nconst _ = require('underscore');\nconst Backbone = require('backbone');\nvar Marionette = require('backbone.marionette'),\n    AsyncView = require('app/common/AsyncView'),\n    GridView = require('app/views/components/grid/GridView'),\n    GridFilterModel = require('app/views/components/grid/GridFilterModel'),\n    CollectionGridModel = require('app/models/grid/CollectionGridModel'),\n    SupportCategoryCollection = require('./SupportCategoryCollection'),\n    tpl = require('raw-loader!./SupportMatrixView.html'),\n    logo = require('base64-image-loader!./base64/hpe_logo_print_small.png');\n\nvar jsPDF = require('jspdf');\nrequire('jspdf-autotable');\n\nfunction generatePdf(matrix, columnDef) {\n    var grid = matrix.grid;\n    var data = [];\n\n    var rawData = grid.rawRows();\n\n    rawData.every(function () {\n        var row = this.data();\n        var item = [];\n\n        for (var i = 0, len = columnDef.length; i < len; i++) {\n            item.push(row[columnDef[i].data]);\n        }\n\n        data.push(item);\n    });\n\n    var columns = [];\n    for (var i = 0, len = columnDef.length; i < len; i++) {\n        columns.push(columnDef[i].data);\n    }\n\n    var doc = new jsPDF();\n    doc.setFontSize(10);\n    var y = 10;\n\n    // Logo\n    var scale = 0.05;\n    var logoW = Math.round(600 * scale); // native 600\n    var logoH = Math.round(253 * scale); // native 253\n    doc.addImage(logo, 'png', 10, y, logoW, logoH);\n\n    y += logoH + 10;\n\n    doc.setFontSize(18);\n    doc.text('HPE Nimble Storage Validated Configuration Matrix', 20 + logoW, 15);\n    doc.setFontSize(10);\n\n    var titleNotes = (matrix.getTitlenotes(matrix.type) || '').replace('<br>', '\\n');\n    var splitTitle = '';\n    if (titleNotes) {\n        splitTitle = doc.splitTextToSize(titleNotes, 160);\n    }\n\n    if (splitTitle !== '') {\n        doc.setFontSize(12);\n        doc.text(10, y, splitTitle);\n        doc.setFontSize(10);\n        y += splitTitle.length * 5 + 5;\n    }\n\n    var pageContent = function (data) {\n        console.log('pageContent', data);\n        var left = data.settings.margin.left + 15;\n\n        var startY = data.table.pageStartY - 15;\n\n        // Header\n        doc.setFillColor(120, 198, 57);\n        doc.rect(left / 2 - .5, startY, 181.75, 15, 'F');\n        doc.text(matrix.type, left / 2 + 2, 9.5 + startY);\n\n        // Footer\n        doc.setFontSize(7);\n        doc.text('© Copyright 2018 Hewlett-Packard Development Company, L.P.', left / 2, doc.internal.pageSize.height - 10);\n        var generationDateText = 'PDF Generated: ' + (new Date()).toString() + '.';\n        doc.text(generationDateText, doc.internal.pageSize.width - left / 2, doc.internal.pageSize.height - 10, 'right');\n        var referenceUrlText = 'See https://infosight.hpe.com/resources/nimble/validated-configuration-matrix for the latest updates.';\n        doc.text(referenceUrlText, left / 2, doc.internal.pageSize.height - 6);\n        doc.setFontSize(10);\n    };\n\n    doc.autoTable(columns, data, {\n        startY: y + 10, // + 10 + (splitTitle.length + 1) * 5.5,\n        margin: { top: 25, bottom: 20 },\n        addPageContent: pageContent,\n        theme: 'striped',\n        headerStyles: {\n            textColor: 0,\n            fillColor: [120, 198, 57],\n        },\n        bodyStyles: { valign: 'top' },\n        styles: {\n            fontSize: 8,\n            overflow: 'linebreak',\n            columnWidth: 'auto',\n        },\n    });\n\n    doc.addPage();\n\n    y = 20; // Math.ceil(doc.autoTable.previous.finalY) + 10\n\n    var footnotes = matrix.getFootnotes(matrix.type);\n\n    doc.setFontSize(10);\n\n    if (footnotes && footnotes.length) {\n        for (var j = 0, footnotesLen = footnotes.length; j < footnotesLen; j++) {\n            var footnote = footnotes[j];\n\n            var splitFootnote = doc.splitTextToSize(footnote, 180);\n\n            doc.text(splitFootnote, 10, y);\n            y += (4 * splitFootnote.length) + 5;\n        }\n    }\n\n    doc.output('save', 'HPE Nimble Storage Validated Configuration Matrix: ' + matrix.type + '.pdf');\n}\n\nvar View = Marionette.LayoutView.extend({\n    template: _.template(tpl),\n\n    defaultCategory: 'iSCSI Initiator Support',\n    defaultSupportType: 'iSCSI Software Initiators',\n\n    /*\n    Per VCM design-discussions, the default sort-order for the VCM was to sort each column in Z->A order,\n    prioritized by column from left to right.\n    The only exceptions to the default (left to right rule) would be\n    2 x Cisco UCS and UCS Mini Support sections,\n    where we will want to still sort each column in Z->A order, but in the following column priority:\n    System Type -> Firmware -> Host OS -> Adapter Type -> NimbleOS\n    */\n\n    sortColumnConfig: {\n        'Replication Support': [\n            {\n                column: 'Upstream OS',\n                order: 'desc',\n            },\n            {\n                column: 'Downstream OS',\n                order: 'desc',\n            },\n        ],\n        'iSCSI Software Initiators': [\n            {\n                column: 'Host OS',\n                order: 'desc',\n            },\n            {\n                column: 'NimbleOS',\n                order: 'desc',\n            },\n        ],\n\n        'iSCSI Hardware Initiators': [\n            {\n                column: 'Initiator',\n                order: 'desc',\n            },\n            {\n                column: 'Host OS',\n                order: 'desc',\n            },\n            {\n                column: 'NimbleOS',\n                order: 'desc',\n            },\n        ],\n\n        'Cisco UCSM Managed Servers Support (iSCSI)': [\n            {\n                column: 'UCS Type',\n                order: 'desc',\n            },\n            {\n                column: 'Firmware',\n                order: 'desc',\n            },\n            {\n                column: 'Host OS',\n                order: 'desc',\n            },\n            {\n                column: 'Adapter',\n                order: 'desc',\n            },\n            {\n                column: 'NimbleOS',\n                order: 'desc',\n            },\n        ],\n\n        'Fibre Channel Hardware Initiators': [\n            {\n                column: 'Host OS',\n                order: 'desc',\n            },\n            {\n                column: 'Initiator',\n                order: 'desc',\n            },\n            {\n                column: 'Driver version',\n                order: 'desc',\n            },\n            {\n                column: 'Firmware',\n                order: 'desc',\n            },\n            {\n                column: 'NimbleOS',\n                order: 'desc',\n            },\n        ],\n\n        'Fibre Channel (SAN) Switches': [\n            {\n                column: 'Switch Model',\n                order: 'desc',\n            },\n            {\n                column: 'Firmware',\n                order: 'desc',\n            },\n            {\n                column: 'NimbleOS',\n                order: 'desc',\n            },\n        ],\n\n        'Cisco UCSM Managed Servers Support (FC)': [\n            {\n                column: 'UCS Type',\n                order: 'desc',\n            },\n            {\n                column: 'Firmware',\n                order: 'desc',\n            },\n            {\n                column: 'Host OS',\n                order: 'desc',\n            },\n            {\n                column: 'Adapter',\n                order: 'desc',\n            },\n            {\n                column: 'NimbleOS',\n                order: 'desc',\n            },\n        ],\n\n        'Veritas Storage Foundation Support': [\n            {\n                column: 'Application',\n                order: 'desc',\n            },\n            {\n                column: 'Host OS',\n                order: 'desc',\n            },\n        ],\n\n        'Storage Virtualization Appliances': [\n            {\n                column: 'Storage Virtualization Appliance',\n                order: 'desc',\n            },\n        ],\n\n        'Nimble OS Support': [\n            {\n                column: 'Nimble Windows Toolkit Version',\n                order: 'desc',\n            },\n            {\n                column: 'NimbleOS',\n                order: 'desc',\n            },\n        ],\n\n        'Nimble Setup Manager (NSM)': [\n            {\n                column: 'Host OS',\n                order: 'desc',\n            },\n            {\n                column: 'NimbleOS',\n                order: 'desc',\n            },\n        ],\n\n        'Nimble Connection Manager (NCM) for Windows': [\n            {\n                column: 'Host OS',\n                order: 'desc',\n            },\n            {\n                column: 'Nimble Windows Toolkit Version',\n                order: 'desc',\n            },\n        ],\n\n        'Nimble VSS Services': [\n            {\n                column: 'Application',\n                order: 'desc',\n            },\n            {\n                column: 'Host OS',\n                order: 'desc',\n            },\n            {\n                column: 'Nimble Windows Toolkit Version',\n                order: 'desc',\n            },\n        ],\n\n        'NCM for VMware Compatibility with Nimble OS': [\n            {\n                column: 'NCM',\n                order: 'desc',\n            },\n            {\n                column: 'NimbleOS',\n                order: 'desc',\n            },\n        ],\n\n        'Nimble Connection Manager for VM': [\n            {\n                column: 'NCM',\n                order: 'desc',\n            },\n            {\n                column: 'vSphere Version',\n                order: 'desc',\n            },\n        ],\n\n        'SRA for SRM': [\n            {\n                column: 'SRA',\n                order: 'desc',\n            },\n            {\n                column: 'SRM',\n                order: 'desc',\n            },\n            {\n                column: 'NimbleOS',\n                order: 'desc',\n            },\n        ],\n\n        'VMware Synchronized Snapshots': [\n            {\n                column: 'vSphere Version',\n                order: 'desc',\n            },\n            {\n                column: 'NimbleOS',\n                order: 'desc',\n            },\n        ],\n\n        'Management Plugin for vCenter': [\n            {\n                column: 'vCenter Version',\n                order: 'desc',\n            },\n            {\n                column: 'NimbleOS',\n                order: 'desc',\n            },\n        ],\n\n        'Nimble Connection Manager for Linux': [\n            {\n                column: 'NCM',\n                order: 'desc',\n            },\n            {\n                column: 'Host OS',\n                order: 'desc',\n            },\n            {\n                column: 'NimbleOS',\n                order: 'desc',\n            },\n        ],\n\n        'NimbleOS Support for Cisco UCS Director Integration': [\n            {\n                column: 'UCS Director Open Automation Module Version',\n                order: 'desc',\n            },\n            {\n                column: 'NimbleOS',\n                order: 'desc',\n            },\n        ],\n\n        'Nimble Storage UCS Director Open Automation Module': [\n            {\n                column: 'Open Automation Module Version',\n                order: 'desc',\n            },\n            {\n                column: 'UCS Director Version',\n                order: 'desc',\n            },\n        ],\n\n        'NimbleOS Support for Adaptive Flash Cinder Driver Integration': [\n            {\n                column: 'Adaptive Flash Cinder Driver Version',\n                order: 'desc',\n            },\n            {\n                column: 'NimbleOS',\n                order: 'desc',\n            },\n        ],\n\n        'Nimble Storage Adaptive Flash Cinder Driver': [\n            {\n                column: 'Cinder Driver Version',\n                order: 'desc',\n            },\n            {\n                column: 'Openstack Version',\n                order: 'desc',\n            },\n        ],\n\n        'Backup Software Support': [\n            {\n                column: 'Backup Software',\n                order: 'desc',\n            },\n            {\n                column: 'NimbleOS',\n                order: 'desc',\n            },\n        ],\n\n        'Browser Support': [\n            {\n                column: 'Browser',\n                order: 'desc',\n            },\n            {\n                column: 'NimbleOS',\n                order: 'desc',\n            },\n        ],\n    },\n\n    className: 'support-matrix-view card card-no-margin card-section',\n\n    regions: {\n        gridRegion: '.grid-region',\n    },\n\n    ui: {\n        titlenotesContainer: '.title-notes-container',\n        titlenotes: '.title-notes',\n        gridContent: '.grid-content',\n        supportTypeLabel: '.support-type-label',\n        dropdownMenu: '.support-type-list',\n        selectedSupportType: '.support-type',\n        footNotes: '.category-footnotes',\n    },\n\n    events: {\n        'click a.support-type': 'onSupportTypeClicked',\n    },\n\n    showFilters: true,\n\n    initialize: function () {\n        this.collection = new SupportCategoryCollection();\n    },\n\n    onRender: function () {\n        this.loadSupportTypes();\n        this.renderTable(this.allConfigsBySupportType(this.defaultSupportType));\n        this.category = this.defaultCategory;\n        this.type = this.defaultSupportType;\n        this.displayTitlenotes(this.type);\n        this.displayFootnotes(this.type);\n    },\n\n    loadSupportTypes: function () {\n        var optgroupHtml = '';\n        var endIdx = this.collection.models.length - 1;\n        this.collection.each(function (category, i) {\n            var optionsHtml = '';\n            _.each(category.get('supportTypes'), function (supportType) {\n                optionsHtml +=\n                    _.template('<li><a href=\"#\" class=\"support-type\"><%= type%></a></li>')\n                    ({ type: supportType.type });\n            });\n            optgroupHtml +=\n                _.template('<li class=\"dropdown-header\"><h4 class=\"no-margin\"><%= categoryName%></h4></li>')\n                ({ categoryName: category.get('category') }) + optionsHtml;\n            if (i != endIdx) {\n                optgroupHtml += '<li role=\"separator\" class=\"divider\"></li>';\n            }\n        });\n        this.ui.supportTypeLabel.text(this.defaultSupportType).append('<span class=\"caret\"></span>');\n        this.ui.dropdownMenu.append(optgroupHtml);\n    },\n\n    renderTable: function (supportType) {\n\n        var splitValuesInColumns = ['NimbleOS', 'Nimble Windows Toolkit Version', 'Downstream OS', 'SRM'];\n\n        if (supportType && supportType.supportedConfigs) {\n\n            var columnDef = supportType.metadata.map(function (metadata) {\n                var filter = {\n                    multipleSelect: true,\n                };\n\n                if (splitValuesInColumns.indexOf(metadata) != -1) {\n                    filter.splitValueOn = ',';\n                }\n                return { data: metadata, filter: filter, name: metadata, title: metadata };\n            });\n\n            this.grid = new GridView({\n                id: 'support-matrix-grid',\n                tableTemplate: this.ui.gridContent.html(),\n                sort: this.sortColumnConfig[supportType.type],\n                model: new CollectionGridModel({\n                    collection: new Backbone.Collection(supportType.supportedConfigs),\n                    columns: columnDef,\n                    emptyLabel: 'Loading...',\n                    showFilters: this.getOption('showFilters'),\n                }),\n            });\n\n            this.gridRegion.show(this.grid);\n\n            var self = this;\n\n            this.$('#generatePdf').off().on('click', function () {\n                generatePdf(self, columnDef);\n            });\n        }\n    },\n\n    onSupportTypeClicked: function (event) {\n        event.preventDefault();\n        this.type = $(event.target).text();\n        this.category = $(event.target).parent().prevAll('.dropdown-header').eq(0).text();\n        this.ui.supportTypeLabel.text(this.type).append('<span class=\"caret\"></span>');\n        this.renderTable(this.allConfigsBySupportType(this.type));\n        this.displayTitlenotes(this.type);\n        this.displayFootnotes(this.type);\n    },\n\n    displayFootnotes: function (supportType) {\n        this.ui.footNotes.empty();\n\n        var footnotes = this.getFootnotes(supportType);\n        if (!footnotes || !footnotes.length) {\n            return;\n        }\n        this.ui.footNotes.append('<p>Notes:</p>' + footnotes.join('<br>'));\n    },\n\n    getFootnotes: function (supportType) {\n        var type = _.findWhere(\n            this.collection.pluck('supportTypes').reduce(function (a, b) {\n                return a.concat(b);\n            }),\n            { type: supportType });\n        if (!type) {\n            return;\n        }\n\n        return type.footnotes;\n    },\n\n    displayTitlenotes: function (supportType) {\n        this.ui.titlenotesContainer.hide();\n\n        this.ui.titlenotes.empty();\n\n        var titlenotes = this.getTitlenotes(supportType);\n        if (!titlenotes) {\n            return;\n        }\n        this.ui.titlenotesContainer.show();\n        this.ui.titlenotes.append(titlenotes.replace(/\\n/g, '<br>'));\n    },\n\n    getTitlenotes: function (supportType) {\n        var type = _.findWhere(\n            this.collection.pluck('supportTypes').reduce(function (a, b) {\n                return a.concat(b);\n            }),\n            { type: supportType });\n        if (!type) {\n            return;\n        }\n\n        return type.titlenotes;\n    },\n\n    allConfigsBySupportType: function (supportType) {\n        return _.findWhere(\n            this.collection.pluck('supportTypes').reduce(function (a, b) {\n                return a.concat(b);\n            }),\n            { type: supportType },\n        );\n    },\n\n});\n\nmodule.exports = AsyncView.extend({\n    ViewConstructor: View,\n});\n","var Backbone = require('backbone'),\n    SupportCategoryModel = require('./SupportCategoryModel');\n\nmodule.exports = Backbone.Collection.extend({\n\n    model: SupportCategoryModel,\n\n    url: function () {\n        return this.api().central() + '/validatedConfigurations';\n    },\n});\n","var Backbone = require('backbone');\n\nmodule.exports = Backbone.Model.extend({});\n","module.exports = \"<div class=\\\"support-matrix flex-container align-justify\\\">\\n\\n    <div class=\\\"\\\">\\n        <h4 class=\\\"no-margin\\\">Support For:\\n            <div class=\\\"dropdown\\\">\\n                <a class=\\\"dropdown-toggle support-type-label\\\" data-toggle=\\\"dropdown\\\" href=\\\"#\\\"></a>\\n                <ul class=\\\"dropdown-menu support-type-list\\\"></ul>\\n            </div>\\n        </h4>\\n    </div>\\n\\n    <button id=\\\"generatePdf\\\" class=\\\"button\\\"><i class=\\\"fa fa-file-pdf-o\\\" aria-hidden=\\\"true\\\"></i> Download PDF</button>\\n</div>\\n\\n<div class=\\\"panel panel-default title-notes-container\\\">\\n  <div class=\\\"panel-body title-notes\\\"></div>\\n</div>\\n\\n<div class=\\\"grid-region\\\"></div>\\n\\n<p class=\\\"category-footnotes\\\"></p>\\n\\n<script class=\\\"grid-content\\\" type=\\\"text/html\\\">\\n    <table id=\\\"support-matrix-grid\\\" class=\\\"display table table-striped table-bordered\\\" style=\\\"width: 100%;\\\">\\n        <thead></thead>\\n        <tbody></tbody>\\n    </table>\\n</script>\\n\\n\"","module.exports = \"data:image/png;base64,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\"","const $ = require('jquery');\nconst _ = require('underscore');\nconst Marionette = require('backbone.marionette');\nconst Backbone = require('backbone');\nconst GridView = require('app/views/components/grid/GridView');\nconst CollectionGridModel = require('app/models/grid/CollectionGridModel');\nconst Spinner = require('app/views/components/Spinner');\nconst moment = require('moment');\nconst tpl = require('raw-loader!./templates/AuditLogView.html');\n\nconst template = _.template(tpl);\n\nmodule.exports = Marionette.View.extend(\n    /** @lends views/toolsCentral/auditlog/AuditLogCollectionView.prototype */ {\n\n        /**\n         * @classdesc <span style=\"color: red;\">Developer description to be added.</span>\n         * @name views/toolsCentral/auditlog/AuditLogCollectionView\n         * @constructor\n         * @augments Backbone.View\n         */\n        className: 'audit-log-detailed-grid',\n\n        mode: 'local',\n\n        events: {},\n\n        columns: [\n            { data: 'username', filter: false },\n            {\n                data: 'timestamp',\n                render: {\n                    display: function (data) {\n                        return moment(data).format('L LT');\n                    },\n                },\n            },\n            { data: 'category', filter: true },\n            { data: 'description' },\n            { data: 'status', filter: true },\n            { data: 'details' },\n        ],\n\n        createModel: function () {\n            return new CollectionGridModel({\n                collection: new Backbone.Collection(this.getOption('collection')),\n                columns: this.columns,\n                emptyLabel: 'No audit entries found',\n                showFilters: true,\n            });\n        },\n\n        render: function () {\n            this.$el.html(template());\n\n            var table = this.$('TABLE'),\n                $table = $(table),\n                gridModel = this.createModel();\n\n            this.spinner = new Spinner();\n            this.$('.spinner').append(this.spinner.render().el);\n\n            this.grid = new GridView({\n                model: gridModel,\n                id: 'audit-log-detail-grid',\n                tableTemplate: table,\n                sort: [\n                    {\n                        column: 'Timestamp',\n                        order: 'desc',\n                    },\n                ],\n            });\n            this.listenTo(this.grid, 'error', this.onGridError);\n            this.$('#audit-log-detailed-grid-container').append(this.grid.render().el);\n            return this;\n        },\n\n        onGridError: function (resp, error, message) {\n            this.$('#audit-log-detailed-grid-container').hide();\n            this.$('#audit-log-unavailable').show();\n        },\n    });\n","module.exports = \"<div id=\\\"audit-log-detailed-grid-container\\\">\\n    <table cellpadding=\\\"0\\\" cellspacing=\\\"0\\\" border=\\\"0\\\" class=\\\"display table table-striped table-bordered responsive\\\" style=\\\"width: 100%;\\\">\\n        <thead>\\n            <tr>\\n                <th class=\\\"nowrap\\\">Username</th>\\n                <th class=\\\"nowrap\\\">Timestamp</th>\\n                <th class=\\\"nowrap\\\">Categories</th>\\n                <th class=\\\"nowrap\\\">Description</th>\\n                <th class=\\\"nowrap\\\">Status</th>\\n                <th class=\\\"nowrap\\\">Details</th>\\n            </tr>\\n        </thead>\\n        <tbody>\\n        </tbody>\\n    </table>\\n</div>\\n<div id=\\\"audit-log-unavailable\\\" style=\\\"display: none;\\\">\\n    <i class=\\\"fa fa-warning\\\"/>\\n    <span style=\\\"margin-left: 5px;\\\">\\n        Audit log is currently unavailable.\\n    </span>\\n</div>\\n\\n\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"container__32p8_\"};","/* eslint-disable */\nvar Backbone = require('backbone');\n\nvar SFCaseModel = require('./SFCaseModel').default;\n\nmodule.exports = Backbone.Collection.extend({\n\n    model: SFCaseModel,\n\n    url: function () {\n        return this.api().account().segment('cases');\n    },\n\n    parse: function (data) {\n        // to parse sf collection data\n        return data;\n    },\n\n});\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"support-tab\":\"support-tab__3o4NN\",\"support-content\":\"support-content__1EOtX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search-nav\":\"search-nav__3eCuz\",\"actions-options\":\"actions-options__1HUn1\",\"case-owner\":\"case-owner__2Ml4-\",\"filter-label\":\"filter-label__3ylUj\",\"search-stuff\":\"search-stuff__3SGE5\",\"search-bar\":\"search-bar__UmLK4\",\"cancel-search\":\"cancel-search__aVWp4\",\"hide-auto-cases\":\"hide-auto-cases__1lifS\",\"is-internal\":\"is-internal__bJy_b\",\"local-stuff\":\"local-stuff__3I96n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nmbl-date-picker\":\"nmbl-date-picker__aTebu\",\"close\":\"close__1RD_V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"support-list-cases\":\"support-list-cases__1ropj\",\"status-banner\":\"status-banner__22O5x\",\"actions-options\":\"actions-options__2bJhR\",\"grid-inset\":\"grid-inset__1fddo\",\"filter-form\":\"filter-form__3a6wo\",\"top-buttons\":\"top-buttons__2rueR\",\"holdit\":\"holdit__36kS8\",\"biggie\":\"biggie__3gWYl\",\"selected\":\"selected__1gg-W\",\"create-case\":\"create-case__1XQTD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"kcs-document\":\"kcs-document__2nR55\",\"kcs-body-text\":\"kcs-body-text__1P5Eq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"type-ahead-input\":\"type-ahead-input__zsOEy\",\"type-ahead-results\":\"type-ahead-results__2H0iw\",\"selected\":\"selected__3OzLz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"support-create-case\":\"support-create-case__357KO\",\"create-banner\":\"create-banner__3aJcc\",\"content-inset\":\"content-inset__2yxJh\",\"measured\":\"measured__cBrD-\",\"severity-buttons\":\"severity-buttons__1jbwV\",\"assets\":\"assets__ct2Yx\",\"kcs-suggestions\":\"kcs-suggestions__18xWS\",\"suggestion-card\":\"suggestion-card__3FMOR\",\"read-suggestion-card\":\"read-suggestion-card__Jaqau\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"comment-item\":\"comment-item__-uFb2\",\"attribution\":\"attribution__2CaEp\",\"user-icon\":\"user-icon__3U_JE\",\"caret\":\"caret__2Vh4r\",\"comment-text\":\"comment-text__36stS\",\"from-nimble\":\"from-nimble__3HaFv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"case-comments\":\"case-comments__2PVsw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"attachments\":\"attachments__24cIO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rma-labels\":\"rma-labels__dJdof\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"case-section\":\"case-section__17RRy\",\"sub-text\":\"sub-text__37FBV\",\"extend-line\":\"extend-line__3ifOG\",\"child-content\":\"child-content__-ZxPt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"add-comment\":\"add-comment__37ZHQ\",\"textbox-wrapper\":\"textbox-wrapper__34cdn\",\"sending\":\"sending__2tP03\",\"busy-sending\":\"busy-sending__3Msk0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"attach-doc\":\"attach-doc__19bXF\",\"big-file\":\"big-file__2ZDPV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"case-resolver\":\"case-resolver__1C3Xg\",\"textbox-wrapper\":\"textbox-wrapper__1S1Lg\",\"sending\":\"sending__WIUxB\",\"busy-sending\":\"busy-sending__-pvjn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"case-information\":\"case-information__3-m-G\",\"case-banner\":\"case-banner__2_z8t\",\"support-logo\":\"support-logo__CcOTm\",\"closed\":\"closed__QFVUh\",\"page-inset\":\"page-inset__KQHw7\",\"action-set\":\"action-set__1ZPdu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"container__3gBdb\"};","var _ = require('underscore'),\n    Backbone = require('backbone'),\n    Marionette = require('backbone.marionette'),\n    jqueryui = require('jqueryui'),\n    VirtualArraysLicenseKeysGridView = require('./VirtualArraysLicenseKeysGridView'),\n    VirtualArrayCollection = require('./VirtualArrayCollection'),\n    tpl = require('raw-loader!./VirtualArraysLicenseKeysView.html');\nconst App = require('app/Application');\n\nmodule.exports = Marionette.LayoutView.extend({\n\n    template: _.template(tpl),\n\n    templateHelpers: function () {\n        var session = App.request('global', 'get:current:session');\n        return {\n            vmImageLicenseLimit: session.get('vmImageLicenseLimit'),\n            login: session.get('username'),\n        };\n    },\n\n    regions: {\n        licenseKeysGridRegion: '#license-keys-grid',\n    },\n\n    initialize: function () {\n        this.collection = new VirtualArrayCollection();\n    },\n\n    onRender: function () {\n        this.licenseKeysGridRegion.show(new VirtualArraysLicenseKeysGridView({\n            collection: this.collection,\n        }));\n    },\n});\n","/**\n * TODO\n * This view previously did \"double-duty\" by allowing internal users (with VirtualArray.Admin authority) to\n * manage *other users* license keys.  That functionality is currently broken in the Lasik context.\n *\n * Since license keys are tied to an individual user account (and not a Nimble Tenant), this view only\n * suppports managing ones own license keys (for internal and external users alike).  Managing others'\n * license keys could be done by user impersonation or some other mechanism TBD.\n */\n\nconst App = require('app/Application');\nvar $ = require('jquery'),\n    _ = require('underscore'),\n    jQueryUI = require('jqueryui'),\n    moment = require('moment'),\n    Backbone = require('backbone'),\n    Marionette = require('backbone.marionette'),\n    GridView = require('app/views/components/grid/GridView'),\n    ConfirmationRequestView = require('app/views/components/confirmation/ConfirmationRequestView'),\n    CollectionGridModel = require('app/models/grid/CollectionGridModel'),\n    VirtualArrayModel = require('app/modules/virtualArrays/VirtualArrayModel'),\n    VirtualArrayCollection = require('app/modules/virtualArrays/VirtualArrayCollection'),\n    ExpirationDateModal = require('app/modules/virtualArrays/VirtualArraysExpirationDateModal'),\n    errorTpl = require('raw-loader!app/templates/components/error.html'),\n    tpl = require('raw-loader!app/modules/virtualArrays/LicenseKeysGridView.html');\n\nconst { AuthorizationEvaluator, AUTHORITIES } = require('../../../progeny/modules/user');\n\nvar FlashNotification = require('@infosight/elmer/dist/components/FlashNotification').default;\n\nvar errorTemplate = _.template(errorTpl);\nvar ErrorModel = Backbone.Model.extend({\n    message: null,\n    errorThrown: null,\n});\n\nvar dateColumnOptions = {\n    sortable: true,\n    searchable: false,\n    render: function (date) {\n        return date ? moment(date).format('L LTS') : '';\n    },\n};\n\nmodule.exports = Marionette.LayoutView.extend({\n\n    template: _.template(tpl),\n\n    templateHelpers: function () {\n        return {\n            userCanViewAllAccounts: this.userCanViewAllAccounts,\n            userCanExtendLicense: this.userCanExtendLicense,\n            userCanDeleteLicense: this.userCanDeleteLicense,\n            login: this.session.get('username'),\n        };\n    },\n\n    events: {\n        'click @ui.generateLicenseButton': 'generateLicense',\n        'click @ui.extendExpirationButton': 'extendExpirationDate',\n        'click @ui.expireLicenseButton': 'expireLicenseKey',\n    },\n\n    columns: [\n        { data: 'owner' },\n        { data: 'arraySn' },\n        { data: 'licenseKey' },\n        { data: 'macAddress' },\n        { data: 'ipAddress' },\n        { data: 'uuid' },\n        _.defaults({ data: 'registrationDate' }, dateColumnOptions),\n        _.defaults({ data: 'activationDate' }, dateColumnOptions),\n        _.defaults({ data: 'expirationDate' }, dateColumnOptions),\n        { data: 'status' },\n    ],\n\n    ui: {\n        table: 'table',\n        toolbarContent: '.toolbar-content',\n        generateLicenseButton: 'button[name=\"generate-license\"]',\n        extendExpirationButton: 'button[name=\"extend-expiration-date\"]',\n        expireLicenseButton: 'button[name=\"expire-license-key\"]',\n    },\n\n    regions: {\n        gridRegion: '#license-keys-grid-container',\n        messageRegion: '.message-region',\n    },\n\n    initialize: function () {\n        this.listenTo(this.collection, 'sync', this.renderGrid);\n        this.listenTo(this.collection, 'error', this.onErroneuousCollectionLoad);\n\n        this.session = App.request('global', 'get:current:session');\n        this.currentAccount = App.request('global', 'get:account:selection').getAccount();\n        this.getAuthorization();\n\n        this.collection.fetch();\n    },\n\n    getAuthorization: function () {\n        var userIsReseller = AuthorizationEvaluator.evaluate({ access: { authorities: [[AUTHORITIES.ATTRIBUTE_NIMBLE_RESELLER]] } });\n        var userIsSuperInternal = AuthorizationEvaluator.evaluate({\n            access: {\n                authorities: [\n                    [AUTHORITIES.REALM_INTERNAL],\n                    [AUTHORITIES.VIRTUAL_ARRAY_ADMIN],\n                ],\n            },\n        });\n        var isSiteAdmin = AuthorizationEvaluator.evaluate({ access: { authorities: [[AUTHORITIES.SITE_ADMIN]] } });\n        var userIsSe = userIsSuperInternal && !isSiteAdmin;\n\n        this.userCanViewAllAccounts = (userIsSuperInternal && !userIsSe);\n        this.userCanExtendLicense = userIsSuperInternal;\n        this.userCanDeleteLicense = (userIsSuperInternal || userIsReseller);\n    },\n\n    renderGrid: function () {\n        this.columns[0].visible = this.userCanViewAllAccounts;\n        var self = this;\n        _.each(this.collection.models, function (vmArray) {\n            if (vmArray.get('accountId') === self.currentAccount.get('id')) {\n                vmArray.set('owner', self.currentAccount.get('name'));\n            }\n            else {\n                vmArray.set('owner', self.session.get('username'));\n            }\n        });\n\n        var gridModel = new CollectionGridModel({\n            collection: this.collection,\n            columns: this.columns,\n            emptyLabel: 'No license keys found',\n            showFilters: false,\n            pageLength: 10,\n        });\n\n        this.grid = new GridView({\n            id: 'license-keys-grid',\n            tableTemplate: this.ui.table,\n            toolbar: this.ui.toolbarContent.html(),\n            model: gridModel,\n            rowSelectionMode: GridView.RowSelectionMode.SINGLE,\n            sort: [\n                {\n                    column: 'Registration Date',\n                    order: 'desc',\n                },\n            ],\n        });\n\n        this.listenTo(this.grid, 'error', this.onErroneuousGridLoad);\n        this.gridRegion.show(this.grid);\n        // Unprocessed table is initially hidden. Show it now.\n        this.ui.table.show();\n\n        this.listenTo(this.grid, 'row-selection:changed', this.onRowSelectionChange);\n    },\n\n    /**\n     * Captures grid load failure and writes error to console.log\n     * @param  xhr        The request\n     * @param  textStatus The request status\n     * @param  errorThrown The request error\n     */\n    onErroneuousCollectionLoad: function (collection, response) {\n        var errorModel = new ErrorModel({\n            message: 'Error while fetching license keys: ' +\n                response.statusText +\n                '. Contact Nimble Storage support.',\n        });\n        this.gridRegion.show(\n            new Marionette.ItemView({\n                model: errorModel,\n                template: errorTemplate,\n            }),\n        );\n    },\n\n    /**\n     * Captures grid load failure and writes error to console.log\n     * @param  xhr        The request\n     * @param  textStatus The request status\n     * @param  errorThrown The request error\n     */\n    onErroneuousGridLoad: function (xhr, textStatus, errorThrown) {\n        var errorModel = new ErrorModel({\n            message: 'Error while loading the grid: ' +\n                errorThrown +\n                '. Contact Nimble Storage support.',\n        });\n        this.gridRegion.show(\n            new Marionette.ItemView({\n                model: errorModel,\n                template: errorTemplate,\n            }),\n        );\n    },\n\n    onRowSelectionChange: function () {\n        this.bindUIElements();\n        var row = this.grid.getSelectedRowData();\n        this.ui.extendExpirationButton.prop('disabled', !row);\n        this.ui.expireLicenseButton.prop('disabled', !row);\n    },\n\n    generateLicense: function () {\n        var self = this,\n            virtualArray = new VirtualArrayModel({}, { collection: this.collection });\n\n        var hasExceededLimit = this.session.get('vmImageLicenseLimit') !== null && this.collection.length >= this.session.get('vmImageLicenseLimit');\n        if (hasExceededLimit) {\n            FlashNotification.error(\n                'There was a problem while generating a new license: You have reached your license key limit.',\n            );\n            return;\n        }\n\n        virtualArray.save()\n            .done(function () {\n                virtualArray.set('owner', self.session.get('username'));\n                self.collection.add(virtualArray);\n                FlashNotification.success(\n                    `Generated new License: ${virtualArray.get('licenseKey')}`,\n                );\n            })\n            .fail(function (jqxhr) {\n                FlashNotification.error(\n                    `There was a problem while generating a new license. Please contact Nimble Support: ${jqxhr.responseJSON.message}`,\n                );\n            });\n    },\n\n    extendExpirationDate: function () {\n        var self = this,\n            row = this.grid.getSelectedRowData();\n        var modal = new ExpirationDateModal({\n            model: new Backbone.Model({\n                licenseKey: row.licenseKey,\n            }),\n        });\n        this.listenTo(modal, 'expiration-date:updated', function () {\n            self.collection.fetch();\n        });\n        modal.showDialog();\n    },\n\n    expireLicenseKey: function () {\n        var self = this,\n            row = this.grid.getSelectedRowData();\n\n        var confirmationView = new ConfirmationRequestView({\n            title: 'Expire License Key',\n            action: 'Yes',\n            content: '<p>Are you sure you would like to expire license key ' + row.licenseKey + '?</p>',\n        });\n\n        this.listenTo(confirmationView, 'submit',\n            // wrap callback in an anonymous function to pass in parameter licenseKey\n            function () {\n                self.expireLicenseKeyCallback(row.licenseKey);\n            });\n        App.modalRegion.show(confirmationView);\n    },\n\n    expireLicenseKeyCallback: function (licenseKey) {\n        $.ajax({\n            url: this.api().central().segment('vmarrays').segment(licenseKey),\n            type: 'PUT',\n            contentType: 'application/json',\n            dataType: 'json',\n            data: JSON.stringify({ expirationDate: Date.now() }),\n        })\n            .done(() => {\n                FlashNotification.success(\n                    `License key is now expired: ${licenseKey}`,\n                );\n                this.collection.fetch();\n            })\n            .fail(function (jqxhr) {\n                FlashNotification.error(\n                    `Could not expire license key ${licenseKey}: ${jqxhr.responseJSON.message}`,\n                );\n            });\n    },\n\n});\n","const $ = require('jquery');\nconst App = require('app/Application');\nconst _ = require('underscore');\nvar Marionette = require('backbone.marionette'),\n    moment = require('moment');\nrequire('backbone.stickit');\nvar tpl = require('raw-loader!app/modules/virtualArrays/VirtualArraysExpirationDateModal.html');\n\nvar FlashNotification = require('@infosight/elmer/dist/components/FlashNotification').default;\n\nmodule.exports = Marionette.LayoutView.extend({\n\n    className: 'virtual-arrays-dialog',\n\n    template: _.template(tpl),\n\n    templateHelpers: function () {\n        return {\n            licenseKey: this.model.get('licenseKey'),\n        };\n    },\n\n    bindings: {\n        '#extension-in-days': {\n            observe: 'expirationDate',\n            onSet: function (value, options) {\n                var expirationDate = moment().add((value || 0), 'day').unix();\n                // Convert to millis.\n                return expirationDate * 1000;\n            },\n            updateView: false,\n        },\n    },\n\n    ui: {\n        extensionInDays: '#extension-in-days',\n        submit: 'button[name=\"submit\"]',\n    },\n\n    events: {\n        'click @ui.submit': 'submit',\n    },\n\n    initialize: function () {\n        _.bindAll(this, 'showDialog');\n    },\n\n    showDialog: function () {\n        App.modalRegion.show(this);\n    },\n\n    submit: function () {\n        var self = this,\n            licenseKey = self.model.get('licenseKey');\n\n        if (!self.model.get('expirationDate')) {\n            var expirationDate = moment().add((this.ui.extensionInDays.val() || 0), 'day').unix();\n            this.model.set('expirationDate', expirationDate * 1000);\n        }\n        $.ajax({\n            url: this.api().central().segment('vmarrays').segment(licenseKey),\n            type: 'PUT',\n            contentType: 'application/json',\n            dataType: 'json',\n            data: JSON.stringify(this.model.pick('expirationDate')),\n        })\n            .done(function () {\n                FlashNotification.success(\n                    `Expiration date of license key ${licenseKey} was updated`,\n                );\n            })\n            .fail(function (jqxhr) {\n                FlashNotification.error(\n                    `Could not update expiration date of license key ${licenseKey}: ${jqxhr.responseJSON.message}`,\n                );\n            })\n            .always(function () {\n                self.trigger('expiration-date:updated');\n            });\n    },\n\n    onRender: function () {\n        this.stickit();\n    },\n});\n","module.exports = \"<div class=\\\"modal-dialog\\\">\\n    <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n            <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">\\n                <span aria-hidden=\\\"true\\\">&times;</span>\\n            </button>\\n            <h4 class=\\\"modal-title\\\">Extend Expiration Date</h4>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n\\n            <form id=\\\"virtual-arrays-expiration-date-form\\\" class=\\\"form-inline\\\">\\n                <div class=\\\"form-group\\\">\\n                    <p>Set expiration of license key <%= licenseKey %> to <div class=\\\"form-group\\\"><input id=\\\"extension-in-days\\\" class=\\\"form-control\\\" value=90 type=\\\"number\\\" style=\\\"width: 70px;\\\" /></div> days from today.</p>\\n                </div>\\n                <p id=\\\"message\\\"></p>\\n            </form>\\n\\n        </div>\\n        <div class=\\\"modal-footer\\\">\\n            <button type=\\\"button\\\" class=\\\"button\\\" name=\\\"submit\\\" data-dismiss=\\\"modal\\\">Extend</button>\\n            <button type=\\\"button\\\" class=\\\"button secondary\\\" name=\\\"cancel\\\" data-dismiss=\\\"modal\\\">Cancel</button>\\n        </div>\\n    </div>\\n</div>\\n\"","module.exports = \"<div id=\\\"license-keys-grid-container\\\">\\n    <table style=\\\"display: none;\\\" cellpadding=\\\"0\\\" cellspacing=\\\"0\\\" border=\\\"0\\\" class=\\\"display table table-striped table-bordered responsive\\\" style=\\\"width: 100%;\\\" width=\\\"100%\\\">\\n        <thead>\\n            <tr>\\n                <th>Owner</th>\\n                <th>Array S/N</th>\\n                <th>License</th>\\n                <th>MAC</th>\\n                <th>IP</th>\\n                <th>VM UUID</th>\\n                <th>Registration Date</th>\\n                <th>Activation Date</th>\\n                <th>Expiration Date</th>\\n                <th>Status</th>\\n            </tr>\\n        </thead>\\n        <tbody></tbody>\\n    </table>\\n    <div class=\\\"message-region\\\">\\n        <p><i class=\\\"fa fa-spin fa-spinner\\\"/> Loading license keys. Please wait...</p>\\n    </div>\\n</div>\\n\\n<script type=\\\"text/html\\\" class=\\\"toolbar-content\\\">\\n    <% if (userCanViewAllAccounts) { %>\\n        <p>License keys shown are associated with your individual InfoSight login (<%= login %>) and with the current account.</p>\\n        <button class=\\\"button secondary\\\" name=\\\"generate-license\\\">Generate New License for <%= login %></button>\\n    <% } else { %>\\n        <p>A license key is required to activate a Virtual Array. License keys are associated with your individual InfoSight login (<%= login %>).</p>\\n        <button class=\\\"button secondary\\\" name=\\\"generate-license\\\">Generate New License</button>\\n    <% } %>\\n\\n    <% if (userCanExtendLicense) { %>\\n        <button class=\\\"button\\\" name=\\\"extend-expiration-date\\\" disabled>Extend</button>\\n    <% } %>\\n    <% if (userCanDeleteLicense) {%>\\n        <button class=\\\"button alert\\\" name=\\\"expire-license-key\\\" disabled>Delete</button>\\n    <% } %>\\n</script>\\n\\n\"","module.exports = \"<% if (vmImageLicenseLimit) { %>\\n<p><i class=\\\"fa fa-info-circle\\\"/> You have a maximum limit of <%= vmImageLicenseLimit %> license key(s).</p>\\n<% } %>\\n\\n<div id=\\\"license-keys-grid\\\"></div>\\n\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"container__1TUYD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"container__2v1mJ\"};","const _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar AsyncView = require('app/common/AsyncView');\nvar PermissionCollection = require('./PermissionCollection');\nvar OutboundGrantsView = require('./OutboundGrantsView');\nvar InboundGrantsView = require('./InboundGrantsView');\nvar RequestedGrantsView = require('./RequestedGrantsView');\nvar tpl = require('raw-loader!./PermissionsView.html');\n\nvar View = Marionette.LayoutView.extend({\n\n    template: _.template(tpl),\n\n    className: 'permissions-view',\n\n    regions: {\n        inbound: '[data-region=\"inbound\"]',\n        outbound: '[data-region=\"outbound\"]',\n        requested: '[data-region=\"requested\"]',\n    },\n\n    initialize: function () {\n        this.collection = new PermissionCollection();\n    },\n\n    onRender: function () {\n        this.$el.popover({\n            selector: '[data-toggle=\"popover\"]',\n            trigger: 'hover',\n        });\n\n        var account = this.getOption('account');\n\n        if (account.resellerEquivalent) {\n            this.showChildView('inbound', new InboundGrantsView({ collection: this.collection, account }));\n        }\n\n        this.showChildView('requested', new RequestedGrantsView({ collection: this.collection, account }));\n        this.showChildView('outbound', new OutboundGrantsView({ collection: this.collection, account }));\n    },\n\n});\n\nmodule.exports = AsyncView.extend({\n    ViewConstructor: View,\n});\n","var Backbone = require('backbone');\nvar PermissionModel = require('./PermissionModel');\n\nmodule.exports = Backbone.Collection.extend({\n\n    model: PermissionModel,\n\n    url: function () {\n        return this.api().central().account().segment('admin/permissions');\n    },\n\n});\n","const _ = require('underscore');\nvar Backbone = require('backbone');\nvar Marionette = require('backbone.marionette');\nvar moment = require('moment');\nvar VirtualCollection = require('backbone-virtual-collection');\nvar GridView = require('app/views/components/grid/GridView');\nvar CollectionGridModel = require('app/models/grid/CollectionGridModel');\nvar PermissionGroupCollection = require('./PermissionGroupCollection');\nvar OutboundPermissionsCellView = require('./OutboundPermissionsCellView');\nvar tpl = require('raw-loader!./OutboundGrantsView.html');\n\nmodule.exports = Marionette.LayoutView.extend({\n\n    template: _.template(tpl),\n\n    regions: {\n        grid: '[data-region=\"grid\"]',\n    },\n\n    columns: [\n        {\n            data: 'grantee.account.name',\n        }, {\n            data: 'grantee.userLogin',\n        }, {\n            data: 'permissions',\n            orderable: false,\n            render: function () {\n                return '';\n            },\n            createdCell: function (el, permissions, permissionGroup) {\n                var initOptions = this.api().init();\n                var view = new OutboundPermissionsCellView({\n                    collection: new Backbone.Collection(permissions),\n                    permissionCollection: initOptions.permissionGroupCollection.collection,\n                    permissionGroup: initOptions.permissionGroupCollection.get(permissionGroup.id),\n                });\n                view.render();\n                el.appendChild(view.el);\n            },\n        },\n    ],\n\n    collectionEvents: {\n        update: 'updateVisibility',\n    },\n\n    templateHelpers: function () {\n        return {\n            account: this.getOption('account'),\n        };\n    },\n\n    initialize: function (options) {\n        var account = this.getOption('account');\n        this.collection = new PermissionGroupCollection(\n            new VirtualCollection(options.collection, {\n                filter: function (permission) {\n                    return permission.get('target').account && permission.get('target').account.id === account.id &&\n                        permission.get('status') === 'Granted';\n                },\n            }),\n        );\n\n        this.isResellerEquivalent = account.resellerEquivalent;\n    },\n\n    onRender: function () {\n        this.showChildView('grid', new GridView({\n            tableTemplate: this.$('script').html(),\n            model: new CollectionGridModel({\n                collection: this.collection,\n                columns: this.columns,\n                emptyLabel: 'No permissions granted',\n                pageLength: 10,\n            }),\n            dataTableOptions: {\n                dom: 'ftip',\n                permissionGroupCollection: this.collection,\n            },\n            sort: ['Organization'],\n        }));\n\n        this.updateVisibility();\n    },\n\n    updateVisibility: function () {\n        if (this.isResellerEquivalent) {\n            this.$el.toggle(!this.collection.isEmpty());\n        }\n    },\n\n});\n","const $ = require('jquery');\nconst App = require('app/Application');\nconst _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar ConfirmationRequestView = require('app/views/components/confirmation/ConfirmationRequestView');\nvar AddPermissionForm = require('./AddPermissionForm');\nvar PermissionModel = require('./PermissionModel');\nvar tpl = require('raw-loader!./OutboundPermissionsCellView.html');\nvar itemTpl = require('raw-loader!./OutboundPermissionItemView.html');\nvar FlashNotification = require('@infosight/elmer/dist/components/FlashNotification').default;\n\nvar ItemView = Marionette.ItemView.extend({\n\n    tagName: 'li',\n\n    template: _.template(itemTpl),\n\n    templateHelpers: function () {\n        var privilege = this.model.get('privilege');\n        return {\n            privilegeName: PermissionModel.privilegeNameMap[privilege],\n            revocable: privilege != 'Feature.Core.Access',\n        };\n    },\n\n    events: {\n        'click [data-action=\"revoke\"]': 'onClickRevoke',\n    },\n\n    initialize: function (options) {\n        console.assert(options.permissionCollection);\n        this.permissionCollection = options.permissionCollection;\n    },\n\n    onClickRevoke: function (event) {\n        event.preventDefault();\n        var view = new ConfirmationRequestView({\n            title: 'Revoke Permission',\n            action: 'Revoke',\n            content: `<p>Are you sure you want to revoke <strong>${PermissionModel.privilegeNameMap[this.model.get('privilege')]}</strong> permission granted to user <strong>${this.model.get('grantee').userLogin}</strong> within organization <strong>${this.model.get('grantee').account.name}</strong>?`,\n        });\n\n        this.listenTo(view, 'submit', this.revokePermission);\n\n        App.modalRegion.show(view);\n    },\n\n    revokePermission: function () {\n        var permission = this.permissionCollection.get(this.model.id); // The unnormalized permission\n        permission.destroy({ wait: true })\n            .done(function () {\n                FlashNotification.success(\n                    `Successfully revoked permission ${PermissionModel.privilegeNameMap[permission.get('privilege')]} from ${permission.get('grantee').userLogin}`,\n                );\n            })\n            .fail(function (jqxhr) {\n                FlashNotification.error(\n                    `Error revoking permission ${PermissionModel.privilegeNameMap[permission.get('privilege')]} from ${permission.get('grantee').userLogin}: ${jqxhr.responseJSON.message}`,\n                );\n            });\n    },\n\n});\n\nmodule.exports = Marionette.CompositeView.extend({\n\n    template: _.template(tpl),\n\n    childView: ItemView,\n\n    childViewOptions: function () {\n        return {\n            permissionCollection: this.permissionCollection,\n        };\n    },\n\n    childViewContainer: 'ul',\n\n    ui: {\n        addLink: '[data-action=\"add\"]',\n    },\n\n    events: {\n        'click @ui.addLink': 'onClickAdd',\n        'click [name=\"revoke-all\"]': 'onClickRevokeAll',\n    },\n\n    initialize: function (options) {\n        console.assert(options.permissionCollection);\n        this.permissionGroup = options.permissionGroup;\n        this.permissionCollection = options.permissionCollection;\n        this.grantee = this.collection.first().get('grantee');\n    },\n\n    onRender: function () {\n        this.ui.addLink.toggle(this.collection.length < _.size(PermissionModel.privilegeNameMap));\n    },\n\n    onClickAdd: function (event) {\n        event.preventDefault();\n        App.modalRegion.show(new AddPermissionForm({\n            collection: this.permissionCollection,\n            permissionGroup: this.permissionGroup,\n        }));\n    },\n\n    onClickRevokeAll: function () {\n        var grantee = this.collection.first().get('grantee');\n        var view = new ConfirmationRequestView({\n            title: 'Revoke All Permissions',\n            action: 'Revoke',\n            content: `<p>Are you sure you want to revoke all permissions granted to user <strong>${grantee.userLogin}</strong> within organization <strong>${grantee.account.name}</strong>?`,\n        });\n\n        this.listenTo(view, 'submit', this.revokeAll);\n\n        App.modalRegion.show(view);\n    },\n\n    revokeAll: function () {\n        var permissionCollection = this.permissionCollection;\n        var grantee = this.grantee;\n        var ids = this.collection.pluck('id');\n        $.ajax({\n            type: 'DELETE',\n            url: this.permissionCollection.url().addQuery({ id: ids }),\n        })\n            .done(function () {\n                permissionCollection.remove(ids);\n                FlashNotification.success(\n                    `Successfully revoked all permissions from ${grantee.userLogin}`,\n                );\n            })\n            .fail(function (jqxhr) {\n                FlashNotification.error(\n                    `Error revoking all permissions from ${grantee.userLogin}: ${jqxhr.responseJSON.message}`,\n                );\n            });\n    },\n\n});\n","const _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar Api = require('app/modules/api/Api');\nvar FormBehavior = require('app/common/FormBehavior');\nvar PermissionModel = require('./PermissionModel');\nvar tpl = require('raw-loader!./AddPermissionForm.html');\nvar FlashNotification = require('@infosight/elmer/dist/components/FlashNotification').default;\n\nmodule.exports = Marionette.ItemView.extend({\n\n    template: _.template(tpl),\n\n    behaviors: {\n        FormBehavior: {\n            behaviorClass: FormBehavior,\n        },\n    },\n\n    ui: {\n        submitButton: 'button[name=\"submit\"]',\n    },\n\n    events: {\n        'click @ui.submitButton': 'submit',\n    },\n\n    initialize: function (options) {\n        this.permissionGroup = options.permissionGroup;\n        this.model = new PermissionModel({\n            grantee: this.permissionGroup.get('grantee'),\n        }, {\n            collection: this.permissionGroup.collection.collection, // Need raw permission collection\n        });\n        this.listenTo(this.model, 'validated', this.onValidated);\n    },\n\n    bindings: {\n        '[name=\"privilege\"]': {\n            observe: 'privilege',\n            setOptions: { validate: true },\n            selectOptions: {\n                defaultOption: {\n                    label: 'Choose one...',\n                    value: null,\n                    disabled: false,\n                },\n                collection: function () {\n                    var currentPrivileges = _.pluck(this.permissionGroup.get('permissions'), 'privilege');\n                    return _.pairs(PermissionModel.privilegeNameMap).map(function (pair) {\n                        return {\n                            label: pair[1],\n                            value: pair[0],\n                            disabled: _(currentPrivileges).contains(pair[0]),\n                        };\n                    });\n                },\n            },\n        },\n    },\n\n    onValidated: function (isValid) {\n        this.ui.submitButton.prop('disabled', !isValid);\n    },\n\n    submit: function () {\n        var permission = this.model;\n        permission.save()\n            .done(function () {\n                permission.collection.add(permission);\n                FlashNotification.success(\n                    `Successfully granted permission ${PermissionModel.privilegeNameMap[permission.get('privilege')]} to ${permission.get('grantee').userLogin}`,\n                );\n            })\n            .fail(function (jqxhr) {\n                FlashNotification.error(\n                    `Error granting permission: ${jqxhr.responseJSON.message}`,\n                );\n            });\n    },\n\n});\n","module.exports = \"<div class=\\\"modal-dialog\\\">\\n    <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n            <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">\\n                <span aria-hidden=\\\"true\\\">&times;</span>\\n            </button>\\n            <h4 class=\\\"modal-title\\\">Grant New Permission</h4>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n            <form class=\\\"form-horizontal\\\">\\n                <div class=\\\"form-group\\\">\\n                    <label class=\\\"control-label column small-8\\\">Organization</label>\\n                    <div class=\\\"column small-16\\\">\\n                        <p class=\\\"form-control-static\\\"><%= grantee.account.name %></p>\\n                    </div>\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <label class=\\\"control-label column small-8\\\">User</label>\\n                    <div class=\\\"column small-16\\\">\\n                        <p class=\\\"form-control-static\\\"><%= grantee.userLogin %></p>\\n                    </div>\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <label class=\\\"control-label column small-8\\\">Privilege</label>\\n                    <div class=\\\"column small-16\\\">\\n                        <div class=\\\"row expanded\\\">\\n                            <div class=\\\"column small-24\\\">\\n                                <select name=\\\"privilege\\\" class=\\\"form-control\\\"></select>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </form>\\n        </div>\\n        <div class=\\\"modal-footer\\\">\\n            <button type=\\\"button\\\" class=\\\"button\\\" name=\\\"submit\\\" data-dismiss=\\\"modal\\\" disabled>Grant</button>\\n            <button type=\\\"button\\\" class=\\\"button secondary\\\" name=\\\"cancel\\\" data-dismiss=\\\"modal\\\">Cancel</button>\\n        </div>\\n    </div>\\n</div>\"","module.exports = \"<div class=\\\"pull-right\\\">\\n    <button class=\\\"button alert\\\" name=\\\"revoke-all\\\">Revoke All</button>\\n</div>\\n\\n<ul class=\\\"list-unstyled\\\"></ul>\\n\\n<a href=\\\"#\\\" data-action=\\\"add\\\"><i class=\\\"fa fa-plus\\\"></i> Add Permission</button>\"","module.exports = \"<span class=\\\"label label-info\\\"><i class=\\\"fa fa-key\\\"></i></span> <strong><%= privilegeName %></strong>\\n<% if (revocable) { %>\\n    <small>(<a href=\\\"#\\\" data-action=\\\"revoke\\\"><i class=\\\"fa fa-ban\\\"></i> Revoke</a>)</small>\\n<% } %>\"","module.exports = \"<p>\\n    The following <strong>users in other organizations</strong> have been granted read-only InfoSight access for <strong><%= account.name %></strong>.\\n</p>\\n\\n<div data-region=\\\"grid\\\"></div>\\n\\n<script type=\\\"text/html\\\">\\n    <table class=\\\"table table-striped table-bordered responsive\\\" style=\\\"width: 100%;\\\">\\n        <thead>\\n            <tr>\\n                <th>Organization</th>\\n                <th>User</th>\\n                <th>Permissions</th>\\n            </tr>\\n        </thead>\\n    </table>\\n</script>\"","const $ = require('jquery');\nconst App = require('app/Application');\nconst _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar moment = require('moment');\nvar sprintf = require('sprintf-js').sprintf;\nvar ConfirmationRequestView = require('app/views/components/confirmation/ConfirmationRequestView');\nvar VirtualCollection = require('backbone-virtual-collection');\nvar GridView = require('app/views/components/grid/GridView');\nvar CollectionGridModel = require('app/models/grid/CollectionGridModel');\nvar PermissionModel = require('./PermissionModel');\nvar PermissionRequestForm = require('./PermissionRequestForm');\nvar PermissionGroupCollection = require('./PermissionGroupCollection');\nvar tpl = require('raw-loader!./InboundGrantsView.html');\nvar permissionsTpl = require('raw-loader!./InboundPermissionsCell.html');\nvar statusTpl = require('raw-loader!./InboundGrantStatus.html');\nvar FlashNotification = require('@infosight/elmer/dist/components/FlashNotification').default;\nvar { AUTHORITIES, AuthorizationEvaluator } = require('../../../progeny/modules/user');\nvar statusTemplate = _.template(statusTpl);\nvar permissionsTemplate = _.template(permissionsTpl);\n\nmodule.exports = Marionette.LayoutView.extend({\n\n    template: _.template(tpl),\n\n    regions: {\n        grid: '[data-region=\"grid\"]',\n    },\n\n    columns: [\n        {\n            data: 'status',\n            render: function (status, type, permissionGroup) {\n                var lastUpdated = _.chain(permissionGroup.permissions).sortBy('updatedAt').last().value();\n                return statusTemplate({\n                    status: status,\n                    moment: moment,\n                    updatedBy: lastUpdated.updatedBy,\n                    updatedAt: lastUpdated.updatedAt,\n                });\n            },\n        }, {\n            data: 'target',\n            render: function (target) {\n                return target.account ? target.account.name : ('<i>' + target.opaqueName + '</i>');\n            },\n        }, {\n            data: 'grantee.userLogin',\n        }, {\n            data: 'permissions',\n            orderable: false,\n            render: function (permissions) {\n                return permissionsTemplate({\n                    permissions: permissions,\n                    privilegeNameMap: PermissionModel.privilegeNameMap,\n                });\n            },\n        }, {\n            data: null,\n            orderable: false,\n            render: function (data, type, row) {\n                return '<button class=\"button hollow\" name=\"delete\"><i class=\"fa fa-trash-o\"></i> Delete</button>';\n            },\n        },\n    ],\n\n    events: {\n        'click button[name=\"request\"]': 'onClickRequest',\n        'click button[name=\"delete\"]': 'onClickDelete',\n    },\n\n    templateHelpers: function () {\n        return {\n            account: this.getOption('account'),\n            session: App.request('global', 'get:current:session').toJSON(),\n        };\n    },\n\n    initialize: function (options) {\n        var account = this.getOption('account');\n        this.collection = new PermissionGroupCollection(\n            new VirtualCollection(options.collection, {\n                filter: function (permission) {\n                    return permission.get('grantee').account.id === account.id;\n                },\n            }),\n        );\n    },\n\n    onRender: function () {\n        if (AuthorizationEvaluator.evaluate({ access: { authorities: AUTHORITIES.REALM_INTERNAL } })) {\n            this.$('button[name=\"request\"]').prop('disabled', true);\n        }\n\n        this.showChildView('grid', new GridView({\n            tableTemplate: this.$('script').html(),\n            model: new CollectionGridModel({\n                collection: this.collection,\n                columns: this.columns,\n                emptyLabel: 'No permissions granted',\n                pageLength: 10,\n            }),\n            dataTableOptions: {\n                dom: 'ftip',\n            },\n            sort: ['Target Organization'],\n        }));\n    },\n\n    onClickRequest: function () {\n        App.modalRegion.show(new PermissionRequestForm({ collection: this.collection.collection }));\n    },\n\n    onClickDelete: function (event) {\n        var permissionGroupId = $(event.currentTarget).closest('tr').attr('data-model-id');\n        var permissionGroup = this.collection.get(permissionGroupId);\n        var target = permissionGroup.get('target');\n        var view = new ConfirmationRequestView({\n            title: 'Delete Permission',\n            action: 'Delete',\n            content: sprintf('<p>Are you sure you want to delete the permission granted to user <strong>%s</strong> upon target account <strong>%s</strong>?',\n                permissionGroup.get('grantee').userLogin, target.account ? target.account.name : target.opaqueName),\n        });\n\n        this.listenTo(view, 'submit', _.partial(this.deletePermissionGroup, permissionGroup));\n\n        App.modalRegion.show(view);\n    },\n\n    deletePermissionGroup: function (permissionGroup) {\n        var permissionCollection = this.collection.collection;\n        var grantee = permissionGroup.get('grantee');\n        var ids = _(permissionGroup.get('permissions')).pluck('id');\n        $.ajax({\n            type: 'DELETE',\n            url: permissionCollection.url().addQuery({ id: ids }),\n        })\n            .done(function () {\n                permissionCollection.remove(ids);\n                FlashNotification.success(\n                    `Successfully deleted permission granted to ${grantee.userLogin}`,\n                );\n            })\n            .fail(function (jqxhr) {\n                FlashNotification.error(\n                    `Error deleting permission granted to ${grantee.userLogin}`,\n                );\n            });\n    },\n\n});\n","const _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar Api = require('app/modules/api/Api');\nvar FormBehavior = require('app/common/FormBehavior');\nvar PermissionRequestModel = require('./PermissionRequestModel');\nvar PermissionModel = require('./PermissionModel');\nvar tpl = require('raw-loader!./PermissionRequestForm.html');\nvar FlashNotification = require('@infosight/elmer/dist/components/FlashNotification').default;\n\nmodule.exports = Marionette.ItemView.extend({\n\n    template: _.template(tpl),\n\n    behaviors: {\n        FormBehavior: {\n            behaviorClass: FormBehavior,\n        },\n    },\n\n    ui: {\n        submitButton: 'button[name=\"submit\"]',\n    },\n\n    events: {\n        'click @ui.submitButton': 'submit',\n    },\n\n    bindings: {\n        'input[name=\"arraySn\"]': {\n            observe: 'arraySn',\n            setOptions: {\n                validate: true,\n            },\n            onSet: function (val) {\n                return val.toUpperCase();\n            },\n        },\n    },\n\n    initialize: function () {\n        this.model = new PermissionRequestModel();\n        this.listenTo(this.model, 'validated', this.onValidated);\n    },\n\n    onValidated: function (isValid) {\n        this.ui.submitButton.prop('disabled', !isValid);\n    },\n\n    submit: function () {\n        var self = this;\n        this.model.save()\n            .done(function (response) {\n                if (response.grantee.affiliation) {\n                    FlashNotification.success(\n                        `Successfully requested permission for ${response.target.opaqueName}`,\n                    );\n                } else {\n                    FlashNotification.warning(\n                        'Customer affiliation not found within purchase records. ' +\n                        `Permission request will still be sent to ${response.target.opaqueName} however it will be annotated as coming from an unaffiliated third party.`,\n                    );\n                }\n            })\n            .done(function (response) {\n                self.collection.add(new PermissionModel(response));\n            })\n            .fail(function (jqxhr) {\n                FlashNotification.error(\n                    `Failed to request permission: ${jqxhr.responseJSON.message}`,\n                );\n            });\n    },\n\n});\n","var Backbone = require('backbone');\n\nmodule.exports = Backbone.Model.extend({\n\n    url: function () {\n        return this.api().central().account().segment('admin/permissions/request');\n    },\n\n    validation: {\n        arraySn: {\n            pattern: /^[A-Z]{2}-[0-9]{6}$/,\n            msg: 'The provided input is not a properly formatted Array SN',\n        },\n    },\n\n});\n","module.exports = \"<div class=\\\"modal-dialog\\\">\\n    <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n            <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">\\n                <span aria-hidden=\\\"true\\\">&times;</span>\\n            </button>\\n            <h4 class=\\\"modal-title\\\">Request New Permission</h4>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n            <form class=\\\"form-horizontal\\\">\\n                <div class=\\\"form-group has-feedback\\\" id=\\\"arraySn-field\\\">\\n                    <label class=\\\"column small-4 control-label\\\" for=\\\"arraySn\\\">Array SN</label>\\n                    <div class=\\\"column small-20\\\">\\n                        <div class=\\\"row expanded\\\">\\n                            <div class=\\\"column small-10\\\">\\n                                <input class=\\\"form-control\\\" name=\\\"arraySn\\\" type=\\\"text\\\" required/>\\n                                <i class=\\\"glyphicon form-control-feedback\\\"></i>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"row expanded\\\">\\n                            <p class=\\\"column small-24 help-block text-info\\\">\\n                                <i class=\\\"fa fa-info-circle\\\"></i>\\n                                Please provide the Serial Number of an Array owned by the organization to which access is desired.\\n                            </p>\\n                        </div>\\n                    </div>\\n                </div>\\n            </form>\\n        </div>\\n        <div class=\\\"modal-footer\\\">\\n            <button type=\\\"button\\\" class=\\\"button\\\" name=\\\"submit\\\" data-dismiss=\\\"modal\\\" disabled>Request</button>\\n            <button type=\\\"button\\\" class=\\\"button secondary\\\" name=\\\"cancel\\\" data-dismiss=\\\"modal\\\">Cancel</button>\\n        </div>\\n    </div>\\n</div>\"","module.exports = \"<div class=\\\"clearfix\\\">\\n    <p class=\\\"pull-right\\\">\\n        <button class=\\\"button large\\\" name=\\\"request\\\">Request New Permission <i class=\\\"fa fa-key\\\"></i></button>\\n    </p>\\n    <p>\\n        The following permissions have been granted <strong>by other organizations</strong> to\\n\\n    <% if (session.internal || session.role === 'SuperUser') { %>\\n        users within <strong><%= account.name %></strong>.\\n    <% } else { %>\\n        <strong><%= session.userLogin %></strong>.\\n    <% } %>\\n    </p>\\n</div>\\n\\n\\n<div data-region=\\\"grid\\\"></div>\\n\\n<script type=\\\"text/html\\\">\\n    <table class=\\\"table table-striped table-bordered responsive\\\" style=\\\"width: 100%;\\\">\\n        <thead>\\n            <tr>\\n                <th>Status</th>\\n                <th>Target Organization</th>\\n                <th>Grantee</th>\\n                <th>Permissions</th>\\n                <th></th>\\n            </tr>\\n        </thead>\\n    </table>\\n</script>\\n\"","module.exports = \"<ul class=\\\"list-unstyled\\\">\\n<% permissions.forEach(function(permission) { %>\\n    <li><span class=\\\"label label-info\\\"><i class=\\\"fa fa-key\\\"></i></span> <strong><%= privilegeNameMap[permission.privilege] %></strong></li>\\n<% }) %>\\n</ul>\"","module.exports = \"<% if (status === 'Granted') { %>\\n    <h4>\\n        <span class=\\\"label success\\\" data-toggle=\\\"popover\\\" data-content=\\\"<%= updatedBy %> at <%= moment(updatedAt).format('L LT') %>\\\">Granted</span>\\n    </h4>\\n<% } else if (status === 'Requested') { %>\\n    <h4>\\n        <span class=\\\"label secondary\\\">Requested</span>\\n    </h4>\\n<% } else if (status === 'Denied') { %>\\n    <h4>\\n        <span class=\\\"label alert\\\" data-toggle=\\\"popover\\\" data-content=\\\"<%= updatedBy %> at <%= moment(updatedAt).format('L LT') %>\\\">Denied</span>\\n    </h4>\\n<% } %>\\n\\n\"","const _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar moment = require('moment');\nvar VirtualCollection = require('backbone-virtual-collection');\nvar tpl = require('raw-loader!./RequestedGrantsView.html');\nvar itemTpl = require('raw-loader!./RequestedGrantsItemView.html');\n\nvar FlashNotification = require('@infosight/elmer/dist/components/FlashNotification').default;\n\nvar ItemView = Marionette.ItemView.extend({\n\n    template: _.template(itemTpl),\n\n    tagName: 'div',\n\n    className: 'callout',\n\n    events: {\n        'click button[name=\"approve\"]': 'approve',\n        'click button[name=\"deny\"]': 'deny',\n    },\n\n    approve: function () {\n        this.model.save({ status: 'Granted' }, { patch: true, emulateHTTP: true, wait: true })\n            .done(function () {\n                FlashNotification.success('Permission request approved');\n            })\n            .fail(function (jqxhr) {\n                FlashNotification.error(`Failed to approve request: ${jqxhr.responseJSON.message}`);\n            });\n    },\n\n    deny: function () {\n        this.model.save({ status: 'Denied' }, { patch: true, emulateHTTP: true, wait: true })\n            .done(function () {\n                FlashNotification.success('Permission request denied');\n            })\n            .fail(function (jqxhr) {\n                FlashNotification.error(`Failed to deny request: ${jqxhr.responseJSON.message}`);\n            });\n    },\n\n});\n\nmodule.exports = Marionette.CompositeView.extend({\n\n    template: _.template(tpl),\n\n    childView: ItemView,\n\n    childViewContainer: '.child-container',\n\n    className: 'requested-grants',\n\n    collectionEvents: {\n        remove: 'updateVisibility',\n    },\n\n    initialize: function (options) {\n        var account = this.getOption('account');\n\n        this.collection = new VirtualCollection(options.collection, {\n            filter: function (permission) {\n                return permission.get('target').account && permission.get('target').account.id === account.id &&\n                    permission.get('status') === 'Requested';\n            },\n        });\n\n        this.onRender();\n    },\n\n    onRender: function () {\n        this.updateVisibility();\n    },\n\n    updateVisibility: function () {\n        this.$el.toggle(!this.collection.isEmpty());\n    },\n\n});\n","module.exports = \"<div class=\\\"callout secondary\\\">\\n    <div class=\\\"row expanded\\\">\\n        <div class=\\\"column medium-10\\\">\\n            <h3>Action Required</h3>\\n            <p>Please approve or deny these outstanding permissions requests.</p>\\n            <p>Approving the request provides the grantee user read-only access to your organization's InfoSight data.</p>\\n        </div>\\n        <div class=\\\"column medium-14\\\">\\n            <div class=\\\"child-container\\\"></div>\\n        </div>\\n    </div>\\n</div>\\n\"","module.exports = \"<div class=\\\"pull-right\\\">\\n    <button class=\\\"button\\\" name=\\\"approve\\\">Approve</button>\\n    <button class=\\\"button alert\\\" name=\\\"deny\\\">Deny</button>\\n</div>\\n\\n<dl>\\n    <dt>User</dt>\\n    <dd><%= grantee.userLogin %></dd>\\n\\n    <dt>Organization</dt>\\n    <dd><%= grantee.account.name %></dd>\\n\\n    <dt>Affiliation</dt>\\n    <dd>\\n        <% if (grantee.affiliation) { %>\\n            <%= grantee.affiliation %><br/>\\n            <i class=\\\"fa fa-check-circle text-success\\\"></i>\\n            <small>Purchase records confirm a <%= grantee.affiliation %> affiliation between <%= grantee.account.name %> and <%= target.account.name %></small>\\n        <% } else { %>\\n            Unconfirmed<br/>\\n            <i class=\\\"fa fa-warning text-danger\\\"></i>\\n            <small>Purchase records <b>do not</b> confirm any affiliation between <%= grantee.account.name %> and <%= target.account.name %></small>\\n        <% } %>\\n    </dd>\\n</dl>\\n\"","module.exports = \"<p>\\n    An organization can grant <strong>read-only</strong> access to its InfoSight data to another \\\"third party\\\" organization such as an authorized Nimble Reseller.\\n    Such permission grants can be managed using this page.\\n</p>\\n<p>\\n    Users within <strong>your own organization</strong> can be managed in the <a class=\\\"history-aware\\\" href=\\\"/settings/iam/users\\\">User Profiles</a> page.\\n</p>\\n\\n<hr/>\\n\\n<div data-region=\\\"requested\\\"></div>\\n<div data-region=\\\"inbound\\\"></div>\\n<div data-region=\\\"outbound\\\"></div>\\n\\n\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"container__1zWZ4\"};","const $ = require('jquery');\nconst App = require('app/Application');\nconst _ = require('underscore');\nvar Backbone = require('backbone'),\n    Validate = require('jquery-validation'),\n    moment = require('moment'),\n    GridView = require('app/views/components/grid/GridView'),\n    GridFilterModel = require('app/views/components/grid/GridFilterModel'),\n    BulkLoadGridModel = require('app/models/grid/BulkLoadGridModel'),\n    LocalGridModel = require('app/models/grid/LocalGridModel'),\n    BannerModel = require('./BannerModel'),\n    BannerCollection = require('./BannerCollection'),\n    BannerDialogView = require('./BannerDialogView'),\n    BannerPreviewView = require('./BannerPreviewView'),\n    BannerNotifyView = require('./BannerNotifyView'),\n    tpl = require('raw-loader!./BannersView.html'),\n    React = require('react'),\n    ReactDOM = require('react-dom'),\n    BulletinsModal = require('../../../../../../progeny/modules/bulletins/components/BulletinsModal').default;\n\nconst { ThemeProvider } = require('@infosight/elmer/dist/components/ThemeProvider');\nconst { Provider } = require('react-redux');\nconst { getStore } = require('../../../../../../progeny/util/storeProvider');\n\n\nvar template = _.template(tpl);\n\nvar splitCamelCase = function (string) {\n    return string.replace(/([a-z])([A-Z])/g, '$1 $2');\n};\n\nmodule.exports = Backbone.View.extend({\n\n    bannerCollection: null,\n\n    rowButtons: ['#edit', '#delete', '#preview', '#notify'],\n\n    columns: [\n        {\n            data: 'id',\n            visible: false,\n        }, {\n            data: 'title',\n        }, {\n            data: 'type',\n            filter: true,\n            render: {\n                display: splitCamelCase,\n            },\n        }, {\n            data: 'status',\n            filter: true,\n            render: {\n                display: splitCamelCase,\n            },\n        }, {\n            data: 'visibility',\n            filter: true,\n            render: {\n                display: splitCamelCase,\n            },\n        }, {\n            data: 'accountId',\n        }, {\n            data: 'feature',\n        }, {\n            data: 'creationTimestamp',\n            render: {\n                display: function (data) {\n                    return moment(data).format('L LT');\n                },\n            },\n        }, {\n            data: 'notificationTimestamp',\n            render: {\n                display: function (data) {\n                    return !data ? '' : moment(data).format('L LT');\n                },\n            },\n        }, {\n            data: 'expirationDate',\n            visible: false,\n        },\n    ],\n\n    /**\n     * Overridden Backbone initialize function.\n     * @override\n     */\n    initialize: function () {\n        _.bindAll(this,\n            'enableToolbarActions', 'disableToolbarActions',\n            'reloadGrid', 'onPreview', 'onNotify', 'onOpenDialog');\n    },\n\n    /**\n     * Overridden Backbone render function.\n     * @return {BannerView} Returns this view.\n     */\n    render: function () {\n        var self = this;\n        this.$el.html(template());\n\n        this.$('#banners-grid-container').hide();\n\n        this.setupAndLoadCollection();\n\n        $(document).click(function () {\n            var menu = $('.ui-menu');\n            if (menu.is(':visible')) {\n                menu.hide();\n            }\n        });\n\n        // create the jquery ui buttons and set up the appropriate handlers\n        this.$el.find('.toolbar BUTTON').click(function () {\n            var button = $(this);\n            switch (button.attr('id')) {\n            case 'create':\n                self.onOpenDialog(new BannerModel());\n                break;\n            case 'edit':\n                self.onOpenDialog(self.getSelectedModel());\n                break;\n            case 'delete':\n                self.getSelectedModel().destroy({ wait: true });\n                break;\n            case 'preview':\n                self.onPreview(self.getSelectedModel());\n                break;\n            case 'notify':\n                self.onNotify(self.getSelectedModel());\n                break;\n            default:\n                throw new Error('Unexpected button with id: ' + button.attr('id'));\n            }\n        });\n\n        return this;\n    },\n\n    setupAndLoadCollection: function () {\n        var self = this;\n        this.bannerCollection = new BannerCollection();\n        this.bannerCollection.fetch()\n            .done(function () {\n                // this could be improved by having the grid model take in a backbone collection\n                // then listen for sync events.\n                var gridModel = new LocalGridModel({\n                    data: self.bannerCollection.toJSON(),\n                    columns: self.columns,\n                    emptyLabel: 'No banners found',\n                    showFilters: true,\n                    pageLength: 25,\n                });\n\n                self.grid = new GridView({\n                    model: gridModel,\n                    id: 'banners-grid',\n                    tableTemplate: self.$el.find('TABLE'),\n                    rowSelectionMode: GridView.RowSelectionMode.SINGLE,\n                    filterModel: new GridFilterModel({\n                        'Status': 'Active',\n                    }),\n                    sort: [\n                        {\n                            column: 'Created',\n                            order: 'desc',\n                        },\n                    ],\n                });\n                self.listenTo(self.grid, 'row-selection:changed', function ($selectedRows) {\n                    if ($selectedRows.length === 0) {\n                        self.disableToolbarActions();\n                    } else {\n                        self.enableToolbarActions();\n                    }\n                });\n\n                self.$el.find('#banners-grid-container').append(self.grid.render().el);\n\n                self.listenTo(self.bannerCollection, 'remove', self.reloadGrid);\n                self.listenTo(self.bannerCollection, 'sync', self.reloadGrid);\n\n                self.$('#banners-grid-container').show();\n            });\n    },\n\n    reloadGrid: function () {\n        // we should just be able to call .data() to set the new data,\n        // but that appears to be broken in this version of datatables.\n        // resorting to clearing and adding.\n        this.grid.getDataTableApi()\n            .clear()\n            .rows\n            .add(this.bannerCollection.toJSON())\n            .draw();\n        this.disableToolbarActions();\n    },\n\n    enableToolbarActions: function () {\n        this.$el.find(this.rowButtons.join(',')).prop('disabled', false);\n    },\n\n    disableToolbarActions: function () {\n        this.$el.find(this.rowButtons.join(',')).prop('disabled', true);\n    },\n\n    /**\n     * Handler for opening the report create/edit dialog.\n     * @param  {BannerModel} model The BannerModel.\n     *                                      Can be a new (empty) model\n     *                                      or an existing model to edit.\n     */\n    onOpenDialog: function (model) {\n        var self = this,\n            dialog = null,\n            $el = this.$el;\n\n        var dialogView = new BannerDialogView({\n            model: model,\n        });\n\n        App.modalRegion.show(dialogView);\n\n        this.listenTo(dialogView, 'submit', function (args) {\n            var updatedModel = args.model;\n            self.bannerCollection.add(updatedModel);\n            updatedModel.save()\n                .done(function () {\n                    App.command('notification', 'show:success', {\n                        title: 'Banner \"' + updatedModel.get('title') + '\" successfully saved',\n                    });\n\n                    self.grid.filterView.clearFilters();\n                    self.bannerCollection.fetch();\n                    self.grid.getDataTableApi().one('draw', function () {\n                        self.grid.eachRow(function (row) {\n                            if (row.data().id == model.get('id')) {\n                                $(row.node()).effect('highlight', { color: '#78c639' }, 3000);\n                            }\n                        });\n                    });\n                })\n                .fail(function (jqxhr) {\n                    App.command('notification', 'show:error', {\n                        title: 'Failed to save banner \"' + updatedModel.get('title') + '\":',\n                        message: jqxhr.responseJSON.message,\n                    });\n                });\n        });\n    },\n\n    onPreview: function (model) {\n        ReactDOM.render(<ThemeProvider><Provider store={getStore()}><BulletinsModal closeModal={this.onPreviewClose} bulletins={[model.attributes]} hidePrimaryButton /></Provider></ThemeProvider>,\n            document.getElementById('modal-region'));\n    },\n\n    onPreviewClose: function() {\n        ReactDOM.unmountComponentAtNode(document.getElementById('modal-region'))\n    },\n\n    onNotify: function (model) {\n        var self = this;\n        var notifyView = new BannerNotifyView({\n            model: model,\n        });\n        $('body').append(notifyView.render().el);\n        notifyView.showDialog();\n        this.listenTo(notifyView, 'close', function () {\n            notifyView.remove();\n            self.bannerCollection.fetch();\n        });\n    },\n\n    getSelectedModel: function () {\n        var rowData = this.grid.getSelectedRowData();\n        return this.bannerCollection.findWhere({ id: rowData.id });\n    },\n\n});\n","const { API_BASE_URL } = require('progeny/config');\nconst { buildUrl } = require('@infosight/elmer/dist/utils/url');\n\nvar Backbone = require('backbone'),\n    BannerModel = require('./BannerModel');\n\nmodule.exports = Backbone.Collection.extend({\n    model: BannerModel,\n    url: buildUrl(API_BASE_URL, 'admin/banners'),\n});\n","const _ = require('underscore');\nconst Request = require('../../../../../../progeny/services/Request').default;\nconst Marionette = require('backbone.marionette');\nconst FormBehavior = require('app/common/FormBehavior');\nconst tpl = require('raw-loader!./BannerDialogView.html');\nrequire('backbone.stickit');\n\nconst SPECIFIC_ACCOUNT = 'SpecificAccount';\nconst FEATURE = 'Feature';\n\nmodule.exports = Marionette.ItemView.extend({\n\n    template: _.template(tpl),\n\n    behaviors: {\n        FormBehavior: {\n            behaviorClass: FormBehavior,\n        },\n    },\n\n    ui: {\n        submitButton: 'button[name=\"submit\"]',\n        accountIdContainer: '#accountId-container',\n        featureContainer: '#feature-container',\n    },\n\n    triggers: {\n        'click @ui.submitButton': {\n            event: 'submit',\n            stopPropagation: false,\n        },\n    },\n\n    bindings: {\n        '#title': {\n            observe: 'title',\n            setOptions: { validate: true },\n        },\n        '#type': {\n            observe: 'type',\n            setOptions: { validate: true },\n        },\n        '#status': {\n            observe: 'status',\n            setOptions: { validate: true },\n        },\n        '#visibility': {\n            observe: 'visibility',\n            setOptions: { validate: true },\n        },\n        '#accountId': {\n            observe: 'accountId',\n            setOptions: { validate: true },\n        },\n        '#contents': {\n            observe: 'contents',\n            setOptions: { validate: true },\n        },\n        '#feature': {\n            observe: 'feature',\n            setOptions: { validate: true },\n        },\n    },\n\n    modelEvents: {\n        'change:visibility': 'onChangeVisibility',\n        'validated': 'onValidated',\n    },\n\n    onValidated: function (isValid) {\n        this.ui.submitButton.prop('disabled', !isValid);\n    },\n\n    onRender: function () {\n        var self = this;\n\n        this.$('#accountName').autocomplete({\n            appendTo: '#accountId-container',\n            source: function (request, response) {\n                return new Request().central().slash('accounts').query({ term: request.term })\n                    .get()\n                    .then(function (accounts) {\n                        response(accounts.data.map(account => ({ label: account.name, value: account.id })));\n                    })\n                    .catch(() => response(['An error has occurred.']));\n\n            },\n            select: function (event, ui) {\n                self.$('#accountName').val(ui.item.label);\n                self.model.set('accountId', ui.item.value, { validate: true });\n\n                return false;\n            },\n        });\n\n        if (this.model.get('visibility') !== SPECIFIC_ACCOUNT) {\n            this.ui.accountIdContainer.hide();\n        }\n\n        if (this.model.get('visibility') !== FEATURE) {\n            this.ui.featureContainer.hide();\n        }\n    },\n\n    onChangeVisibility: function (model, visibility) {\n        if (visibility === SPECIFIC_ACCOUNT) {\n            this.ui.accountIdContainer.slideDown('fast');\n        } else {\n            this.ui.accountIdContainer.slideUp('fast');\n            this.model.set('accountId', null, { validate: true });\n            this.$('#accountName').val(null);\n        }\n\n        if (visibility === FEATURE) {\n            this.ui.featureContainer.slideDown('fast');\n        } else {\n            this.ui.featureContainer.slideUp('fast');\n            this.model.set('feature', null, { validate: true });\n            this.$('#feature').val(null);\n        }\n    },\n\n});\n","module.exports = \"<div class=\\\"modal-dialog\\\" id=\\\"edit-banner-form-modal\\\">\\n    <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n            <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">\\n                <span aria-hidden=\\\"true\\\">&times;</span>\\n            </button>\\n            <h4 class=\\\"modal-title\\\"><%= creationTimestamp ? ('Edit: ' + title) : 'Create New Banner' %></h4>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n            <form id=\\\"edit-banner-form\\\" class=\\\"form-horizontal\\\">\\n                <div class=\\\"form-group form-group-sm row expanded\\\">\\n                    <label class=\\\"control-label column small-4\\\" for=\\\"title\\\">Title</label>\\n                    <div class=\\\"column small-20\\\">\\n                        <div class=\\\"row expanded\\\">\\n                            <div class=\\\"column small-24\\\">\\n                                <input type=\\\"text\\\" name=\\\"title\\\" id=\\\"title\\\" class=\\\"\\\" placeholder=\\\"New Banner\\\" required/>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n\\n                <div class=\\\"form-group form-group-sm row expanded\\\">\\n                    <label class=\\\"control-label column small-4\\\" for=\\\"type\\\">Type</label>\\n                    <div class=\\\"column small-20\\\">\\n                        <select name=\\\"type\\\" id=\\\"type\\\" class=\\\"\\\">\\n                            <option value=\\\"ReleaseNotes\\\">Release Notes</option>\\n                            <option value=\\\"Notice\\\">Notice</option>\\n                            <option value=\\\"Tip\\\">Tip</option>\\n                            <option value=\\\"Maintenance\\\">Maintenance</option>\\n                            <option value=\\\"FieldAlert\\\">Field Alert</option>\\n                        </select>\\n                    </div>\\n                </div>\\n\\n                <div class=\\\"form-group form-group-sm row expanded\\\">\\n                    <label class=\\\"control-label column small-4\\\" for=\\\"status\\\">Status</label>\\n                    <div class=\\\"column small-20\\\">\\n                        <select name=\\\"status\\\" id=\\\"status\\\" class=\\\"\\\">\\n                            <option value=\\\"Active\\\">Active</option>\\n                            <option value=\\\"Inactive\\\">Inactive</option>\\n                        </select>\\n                    </div>\\n                </div>\\n\\n                <div class=\\\"form-group form-group-sm row expanded\\\">\\n                    <label class=\\\"control-label column small-4\\\" for=\\\"visibility\\\">Visibility</label>\\n                    <div class=\\\"column small-20\\\">\\n                        <select name=\\\"visibility\\\" id=\\\"visibility\\\" class=\\\"\\\">\\n                            <option value=\\\"AllUsers\\\">All Users</option>\\n                            <option value=\\\"Internal\\\">Internal</option>\\n                            <option value=\\\"External\\\">External</option>\\n                            <option value=\\\"Reseller\\\">Reseller</option>\\n                            <option value=\\\"SpecificAccount\\\">Specific Tenant</option>\\n                        </select>\\n                    </div>\\n                </div>\\n\\n                <div id=\\\"accountId-container\\\">\\n                    <div class=\\\"form-group form-group-sm row expanded\\\">\\n                        <label class=\\\"control-label column small-4\\\" for=\\\"accountName\\\">Tenant</label>\\n                        <div class=\\\"column small-20\\\">\\n                            <input name=\\\"accountName\\\" id=\\\"accountName\\\" class=\\\"\\\"/>\\n                            <input name=\\\"accountId\\\" id=\\\"accountId\\\" class=\\\"\\\" disabled/>\\n                        </div>\\n                    </div>\\n                </div>\\n\\n                <div class=\\\"form-group form-group-sm row expanded\\\">\\n                    <label class=\\\"control-label column small-4\\\" for=\\\"contents\\\">Contents</label>\\n                    <div class=\\\"column small-20\\\">\\n                        <div class=\\\"row expanded\\\">\\n                            <div class=\\\"column small-24\\\">\\n                                <textarea name=\\\"contents\\\" id=\\\"contents\\\" class=\\\"\\\" rows=17 cols=70\\n                                placeholder=\\\"Banner contents (as HTML)...\\\"></textarea>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </form>\\n        </div>\\n        <div class=\\\"modal-footer\\\">\\n            <button type=\\\"button\\\" class=\\\"button\\\" name=\\\"submit\\\" data-dismiss=\\\"modal\\\" disabled>Save</button>\\n            <button type=\\\"button\\\" class=\\\"button secondary\\\" name=\\\"cancel\\\" data-dismiss=\\\"modal\\\">Cancel</button>\\n        </div>\\n    </div>\\n</div>\\n\"","const _ = require('underscore');\nvar Marionette = require('backbone.marionette');\nvar BannerView = require('app/modules/banners/BannerView');\nvar tpl = require('raw-loader!./BannerPreviewView.html');\n\nmodule.exports = Marionette.CompositeView.extend({\n\n    template: _.template(tpl),\n\n    childView: BannerView,\n\n    childViewContainer: '#banner-list',\n\n});\n","var Marionette = require('backbone.marionette');\nvar htmlEncode = require('app/util/html').htmlEncode;\n\nmodule.exports = Marionette.ItemView.extend({\n\n    template: false,\n\n    tagName: 'tr',\n\n    className: 'list-group-item banner',\n\n    render: function () {\n        var value = this.model.get('contents');\n        this.attachElContent(value);\n    },\n\n});\n","const $ = require('jquery');\n\nvar htmlEncode = function (value) {\n    if (value === null || value === undefined) {\n        return value;\n    }\n    return $('<div />').text(value).html();\n};\nvar htmlDecode = function (value) {\n    return $('<div />').html(value).text();\n};\n\nvar getUrlParameter = function (name) {\n    var match = RegExp('[?&]' + name + '=([^&]*)').exec(window.location.search);\n    var value = match && decodeURIComponent(match[1].replace(/\\+/g, ' '));\n    var escaped = htmlEncode(value);\n    console.log('val', value, typeof value, escaped, typeof escaped);\n    return escaped;\n};\n\nmodule.exports = {\n    getUrlParameter: getUrlParameter,\n    htmlEncode: htmlEncode,\n    htmlDecode: htmlDecode,\n};\n","module.exports = \"<div class=\\\"modal-dialog modal-lg\\\">\\n    <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n            <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">\\n                <i class=\\\"glyphicon glyphicon-remove\\\"></i>\\n            </button>\\n            <h3 class=\\\"modal-title\\\">Banner Preview</h4>\\n        </div>\\n        <div class=\\\"modal-body banner-container\\\">\\n            <ul id=\\\"banner-list\\\" class=\\\"list-group\\\">\\n            </ul>\\n        </div>\\n        <div class=\\\"modal-footer\\\">\\n            <button type=\\\"button\\\" class=\\\"button secondary\\\" name=\\\"close\\\" data-dismiss=\\\"modal\\\">Close</button>\\n        </div>\\n    </div>\\n</div>\"","const $ = require('jquery');\nconst _ = require('underscore');\nconst { API_BASE_URL } = require('progeny/config');\nconst { buildUrl } = require('@infosight/elmer/dist/utils/url');\n\nvar Backbone = require('backbone'),\n    moment = require('moment'),\n    tpl = require('raw-loader!./BannerNotifyView.html');\n\nvar template = _.template(tpl);\n\nvar waitingClasses = 'fa-spinner fa-spin';\nvar successClasses = 'fa-check';\nvar errorClasses = 'error fa-times';\n\nmodule.exports = Backbone.View.extend({\n\n    initialize: function () {\n        _.bindAll(this, 'showDialog', 'notify');\n    },\n\n    showDialog: function () {\n        var self = this;\n\n        this.dialog = this.$('#banner-notify').dialog({\n            appendTo: this.el,\n            autoOpen: true,\n            height: 'auto',\n            width: 600,\n            modal: true,\n            title: 'Email Notification: ' + this.model.get('title'),\n            close: function () {\n                self.trigger('close');\n            },\n            dialogClass: 'banner-notify-dialog',\n        });\n    },\n\n    render: function () {\n        var self = this;\n\n        this.$el.html(template(_.extend(this.model.toJSON(), {\n            moment: moment,\n        })));\n\n        this.$status = this.$('#status');\n        this.$notify = this.$('#notify');\n        this.$confirmation = this.$('#confirmation');\n\n        this.$('#cancel').button().click(function () {\n            self.dialog.dialog('close');\n        });\n\n        this.$('#confirm').button().click(function () {\n            self.$confirmation.fadeOut({\n                done: self.notify,\n            });\n        });\n\n        this.$notify.hide();\n        this.$confirmation.show();\n\n        return this;\n    },\n\n    notify: function () {\n        var self = this;\n\n        this.$notify.fadeIn();\n        this.$status.addClass(waitingClasses);\n\n        $.post(buildUrl(API_BASE_URL, 'admin/banners', self.model.get('id'), '/notify'))\n            .done(function () {\n                self.$status.removeClass(waitingClasses).addClass(successClasses);\n                self.$('#success').show();\n            })\n            .fail(function (jqXHR, textStatus, errorThrown) {\n                self.$status.removeClass(waitingClasses).addClass(errorClasses);\n                self.$('#banner-notify-error').text(errorThrown);\n                self.$('#error').show();\n            });\n    },\n\n});\n","module.exports = \"<div id=\\\"banner-notify\\\" class=\\\"card-section\\\">\\n\\n    <div id=\\\"confirmation\\\">\\n        <% if (notificationTimestamp) { %>\\n            <p><b>Notification emails were already sent for this banner (at <%= moment(notificationTimestamp).format(\\\"L LT\\\") %>).</b></p>\\n        <% } %>\\n\\n        <p>Please confirm that you wish to send notification emails for this bulletin.</p>\\n        <div id=\\\"button-list\\\" class=\\\"flex-container flex-dir-row align-right\\\">\\n            <button id=\\\"confirm\\\" class=\\\"button\\\">Confirm</button>\\n            <button id=\\\"cancel\\\" class=\\\"button cancel\\\">Cancel</button>\\n        </div>\\n    </div>\\n\\n    <div id=\\\"notify\\\">\\n        <p><i id=\\\"status\\\" class=\\\"fa\\\"></i>Sending notification emails for banner: <span id=\\\"banner-title\\\"><%= title %></span></p>\\n\\n        <p id=\\\"success\\\" style=\\\"display: none;\\\">Spawned asynchronous notification job - monitor server logs for status</p>\\n        <p id=\\\"error\\\" style=\\\"display: none;\\\">Error sending email notifications: <span id=\\\"banner-notify-error\\\"></span></p>\\n    </div>\\n\\n</div>\\n\\n\"","module.exports = \"<div class=\\\"banners-container\\\">\\n    <div class=\\\"toolbar\\\">\\n        <button id=\\\"create\\\" class=\\\"button\\\">\\n            <i class=\\\"fa fa-plus\\\"></i><span style=\\\"margin-left: 5px;\\\">Add</span>\\n        </button>\\n        <button id=\\\"edit\\\" disabled=\\\"disabled\\\" class=\\\"button\\\">\\n            <i class=\\\"fa fa-pencil\\\"></i><span style=\\\"margin-left: 5px;\\\">Edit</span>\\n        </button>\\n        <button id=\\\"delete\\\" disabled=\\\"disabled\\\" class=\\\"button\\\">\\n            <i class=\\\"fa fa-times\\\"></i><span style=\\\"margin-left: 5px;\\\">Remove</span>\\n        </button>\\n        <div style=\\\"width: 1em; display: inline-block\\\"></div>\\n        <button id=\\\"preview\\\" disabled=\\\"disabled\\\" class=\\\"button\\\">\\n            <i class=\\\"fa fa-file-image-o\\\"></i><span style=\\\"margin-left: 5px;\\\">Preview</span>\\n        </button>\\n        <button id=\\\"notify\\\" disabled=\\\"disabled\\\" class=\\\"button\\\">\\n            <i class=\\\"fa fa-envelope\\\"></i><span style=\\\"margin-left: 5px;\\\">Notify</span>\\n        </button>\\n    </div>\\n    <div id=\\\"banners-grid-container\\\">\\n        <table id=\\\"banners-table\\\" class=\\\"elmer-grid-view\\\" style=\\\"width: 100%;\\\">\\n            <thead>\\n                <tr>\\n                    <!-- hidden column, but allows us to default sort by creation date -->\\n                    <th>Internal ID</th>\\n                    <th>Title</th>\\n                    <th>Type</th>\\n                    <th>Status</th>\\n                    <th>Visibility</th>\\n                    <th>Account ID</th>\\n                    <th>Feature</th>\\n                    <th>Created</th>\\n                    <th>Notified</th>\\n                    <th>Expires</th>\\n                </tr>\\n            </thead>\\n        </table>\\n    </div>\\n\\n</div>\\n\"","module.exports = function() {\n  return require(\"!!/Users/rsunkara/code/portal-nimble-frontend/node_modules/worker-loader/dist/workers/InlineWorker.js\")(\"!function(n){var t={};function e(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){\\\"undefined\\\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:\\\"Module\\\"}),Object.defineProperty(n,\\\"__esModule\\\",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&\\\"object\\\"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,\\\"default\\\",{enumerable:!0,value:n}),2&t&&\\\"string\\\"!=typeof n)for(var i in n)e.d(r,i,function(t){return n[t]}.bind(null,i));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,\\\"a\\\",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p=\\\"\\\",e(e.s=3)}([function(n,t){var e;e=function(){return this}();try{e=e||Function(\\\"return this\\\")()||(0,eval)(\\\"this\\\")}catch(n){\\\"object\\\"==typeof window&&(e=window)}n.exports=e},function(n,t){var e,r,i=n.exports={};function o(){throw new Error(\\\"setTimeout has not been defined\\\")}function u(){throw new Error(\\\"clearTimeout has not been defined\\\")}function a(n){if(e===setTimeout)return setTimeout(n,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(n,0);try{return e(n,0)}catch(t){try{return e.call(null,n,0)}catch(t){return e.call(this,n,0)}}}!function(){try{e=\\\"function\\\"==typeof setTimeout?setTimeout:o}catch(n){e=o}try{r=\\\"function\\\"==typeof clearTimeout?clearTimeout:u}catch(n){r=u}}();var s,c=[],f=!1,l=-1;function h(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&d())}function d(){if(!f){var n=a(h);f=!0;for(var t=c.length;t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,f=!1,function(n){if(r===clearTimeout)return clearTimeout(n);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(n);try{r(n)}catch(t){try{return r.call(null,n)}catch(t){return r.call(this,n)}}}(n)}}function v(n,t){this.fun=n,this.array=t}function p(){}i.nextTick=function(n){var t=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)t[e-1]=arguments[e];c.push(new v(n,t)),1!==c.length||f||a(d)},v.prototype.run=function(){this.fun.apply(null,this.array)},i.title=\\\"browser\\\",i.browser=!0,i.env={},i.argv=[],i.version=\\\"\\\",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(n){return[]},i.binding=function(n){throw new Error(\\\"process.binding is not supported\\\")},i.cwd=function(){return\\\"/\\\"},i.chdir=function(n){throw new Error(\\\"process.chdir is not supported\\\")},i.umask=function(){return 0}},function(n,t,e){\\\"use strict\\\";(function(n,e){var r=Object.keys,i=Array.isArray,o=\\\"undefined\\\"!=typeof self?self:\\\"undefined\\\"!=typeof window?window:n;function u(n,t){return\\\"object\\\"!=typeof t?n:(r(t).forEach(function(e){n[e]=t[e]}),n)}var a=Object.getPrototypeOf,s={}.hasOwnProperty;function c(n,t){return s.call(n,t)}function f(n,t){\\\"function\\\"==typeof t&&(t=t(a(n))),r(t).forEach(function(e){h(n,e,t[e])})}var l=Object.defineProperty;function h(n,t,e,r){l(n,t,u(e&&c(e,\\\"get\\\")&&\\\"function\\\"==typeof e.get?{get:e.get,set:e.set,configurable:!0}:{value:e,configurable:!0,writable:!0},r))}function d(n){return{from:function(t){return n.prototype=Object.create(t.prototype),h(n.prototype,\\\"constructor\\\",n),{extend:f.bind(null,n.prototype)}}}}var v=Object.getOwnPropertyDescriptor;var p=[].slice;function y(n,t,e){return p.call(n,t,e)}function m(n,t){return t(n)}function g(n){if(!n)throw new Error(\\\"Assertion Failed\\\")}function b(n){o.setImmediate?e(n):setTimeout(n,0)}function w(n,t){return n.reduce(function(n,e,r){var i=t(e,r);return i&&(n[i[0]]=i[1]),n},{})}function _(n,t){return function(){try{n.apply(this,arguments)}catch(n){t(n)}}}function k(n,t,e){try{n.apply(null,e)}catch(n){t&&t(n)}}function x(n,t){if(c(n,t))return n[t];if(!t)return n;if(\\\"string\\\"!=typeof t){for(var e=[],r=0,i=t.length;r<i;++r){var o=x(n,t[r]);e.push(o)}return e}var u=t.indexOf(\\\".\\\");if(-1!==u){var a=n[t.substr(0,u)];return void 0===a?void 0:x(a,t.substr(u+1))}}function j(n,t,e){if(n&&void 0!==t&&!(\\\"isFrozen\\\"in Object&&Object.isFrozen(n)))if(\\\"string\\\"!=typeof t&&\\\"length\\\"in t){g(\\\"string\\\"!=typeof e&&\\\"length\\\"in e);for(var r=0,i=t.length;r<i;++r)j(n,t[r],e[r])}else{var o=t.indexOf(\\\".\\\");if(-1!==o){var u=t.substr(0,o),a=t.substr(o+1);if(\\\"\\\"===a)void 0===e?delete n[u]:n[u]=e;else{var s=n[u];s||(s=n[u]={}),j(s,a,e)}}else void 0===e?delete n[t]:n[t]=e}}function A(n){var t={};for(var e in n)c(n,e)&&(t[e]=n[e]);return t}var E=[].concat;function O(n){return E.apply([],n)}var P=\\\"Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set\\\".split(\\\",\\\").concat(O([8,16,32,64].map(function(n){return[\\\"Int\\\",\\\"Uint\\\",\\\"Float\\\"].map(function(t){return t+n+\\\"Array\\\"})}))).filter(function(n){return o[n]}).map(function(n){return o[n]});function T(n){if(!n||\\\"object\\\"!=typeof n)return n;var t;if(i(n)){t=[];for(var e=0,r=n.length;e<r;++e)t.push(T(n[e]))}else if(P.indexOf(n.constructor)>=0)t=n;else for(var o in t=n.constructor?Object.create(n.constructor.prototype):{},n)c(n,o)&&(t[o]=T(n[o]));return t}function S(n,t,e,i){return e=e||{},i=i||\\\"\\\",r(n).forEach(function(r){if(c(t,r)){var o=n[r],u=t[r];\\\"object\\\"==typeof o&&\\\"object\\\"==typeof u&&o&&u&&\\\"\\\"+o.constructor==\\\"\\\"+u.constructor?S(o,u,e,i+r+\\\".\\\"):o!==u&&(e[i+r]=t[r])}else e[i+r]=void 0}),r(t).forEach(function(r){c(n,r)||(e[i+r]=t[r])}),e}var I=\\\"undefined\\\"!=typeof Symbol&&Symbol.iterator,C=I?function(n){var t;return null!=n&&(t=n[I])&&t.apply(n)}:function(){return null},D={};function K(n){var t,e,r,o;if(1===arguments.length){if(i(n))return n.slice();if(this===D&&\\\"string\\\"==typeof n)return[n];if(o=C(n)){for(e=[];!(r=o.next()).done;)e.push(r.value);return e}if(null==n)return[n];if(\\\"number\\\"==typeof(t=n.length)){for(e=new Array(t);t--;)e[t]=n[t];return e}return[n]}for(t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return e}var F=\\\"undefined\\\"!=typeof location&&/^(http|https):\\\\/\\\\/(localhost|127\\\\.0\\\\.0\\\\.1)/.test(location.href);function M(n,t){F=n,B=t}var B=function(){return!0},N=!new Error(\\\"\\\").stack;function q(){if(N)try{throw q.arguments,new Error}catch(n){return n}return new Error}function R(n,t){var e=n.stack;return e?(t=t||0,0===e.indexOf(n.name)&&(t+=(n.name+n.message).split(\\\"\\\\n\\\").length),e.split(\\\"\\\\n\\\").slice(t).filter(B).map(function(n){return\\\"\\\\n\\\"+n}).join(\\\"\\\")):\\\"\\\"}var U=[\\\"Unknown\\\",\\\"Constraint\\\",\\\"Data\\\",\\\"TransactionInactive\\\",\\\"ReadOnly\\\",\\\"Version\\\",\\\"NotFound\\\",\\\"InvalidState\\\",\\\"InvalidAccess\\\",\\\"Abort\\\",\\\"Timeout\\\",\\\"QuotaExceeded\\\",\\\"Syntax\\\",\\\"DataClone\\\"],L=[\\\"Modify\\\",\\\"Bulk\\\",\\\"OpenFailed\\\",\\\"VersionChange\\\",\\\"Schema\\\",\\\"Upgrade\\\",\\\"InvalidTable\\\",\\\"MissingAPI\\\",\\\"NoSuchDatabase\\\",\\\"InvalidArgument\\\",\\\"SubTransaction\\\",\\\"Unsupported\\\",\\\"Internal\\\",\\\"DatabaseClosed\\\",\\\"PrematureCommit\\\",\\\"ForeignAwait\\\"].concat(U),V={VersionChanged:\\\"Database version changed by other database connection\\\",DatabaseClosed:\\\"Database has been closed\\\",Abort:\\\"Transaction aborted\\\",TransactionInactive:\\\"Transaction has already completed or failed\\\"};function z(n,t){this._e=q(),this.name=n,this.message=t}function W(n,t,e,r){this._e=q(),this.failures=t,this.failedKeys=r,this.successCount=e}function Q(n,t){this._e=q(),this.name=\\\"BulkError\\\",this.failures=t,this.message=function(n,t){return n+\\\". Errors: \\\"+t.map(function(n){return n.toString()}).filter(function(n,t,e){return e.indexOf(n)===t}).join(\\\"\\\\n\\\")}(n,t)}d(z).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+\\\": \\\"+this.message+R(this._e,2))}},toString:function(){return this.name+\\\": \\\"+this.message}}),d(W).from(z),d(Q).from(z);var H=L.reduce(function(n,t){return n[t]=t+\\\"Error\\\",n},{}),J=z,G=L.reduce(function(n,t){var e=t+\\\"Error\\\";function r(n,r){this._e=q(),this.name=e,n?\\\"string\\\"==typeof n?(this.message=n,this.inner=r||null):\\\"object\\\"==typeof n&&(this.message=n.name+\\\" \\\"+n.message,this.inner=n):(this.message=V[t]||e,this.inner=null)}return d(r).from(J),n[t]=r,n},{});G.Syntax=SyntaxError,G.Type=TypeError,G.Range=RangeError;var Y=U.reduce(function(n,t){return n[t+\\\"Error\\\"]=G[t],n},{});var $=L.reduce(function(n,t){return-1===[\\\"Syntax\\\",\\\"Type\\\",\\\"Range\\\"].indexOf(t)&&(n[t+\\\"Error\\\"]=G[t]),n},{});function X(){}function Z(n){return n}function nn(n,t){return null==n||n===Z?t:function(e){return t(n(e))}}function tn(n,t){return function(){n.apply(this,arguments),t.apply(this,arguments)}}function en(n,t){return n===X?t:function(){var e=n.apply(this,arguments);void 0!==e&&(arguments[0]=e);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?tn(r,this.onsuccess):r),i&&(this.onerror=this.onerror?tn(i,this.onerror):i),void 0!==o?o:e}}function rn(n,t){return n===X?t:function(){n.apply(this,arguments);var e=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),e&&(this.onsuccess=this.onsuccess?tn(e,this.onsuccess):e),r&&(this.onerror=this.onerror?tn(r,this.onerror):r)}}function on(n,t){return n===X?t:function(e){var r=n.apply(this,arguments);u(e,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?tn(i,this.onsuccess):i),o&&(this.onerror=this.onerror?tn(o,this.onerror):o),void 0===r?void 0===a?void 0:a:u(r,a)}}function un(n,t){return n===X?t:function(){return!1!==t.apply(this,arguments)&&n.apply(this,arguments)}}function an(n,t){return n===X?t:function(){var e=n.apply(this,arguments);if(e&&\\\"function\\\"==typeof e.then){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return e.then(function(){return t.apply(r,o)})}return t.apply(this,arguments)}}$.ModifyError=W,$.DexieError=z,$.BulkError=Q;var sn={},cn=100,fn=7,ln=function(){try{return new Function(\\\"let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];\\\")()}catch(t){var n=o.Promise;return n?[n.resolve(),n.prototype,n.resolve()]:[]}}(),hn=ln[0],dn=ln[1],vn=ln[2],pn=dn&&dn.then,yn=hn&&hn.constructor,mn=ln[3],gn=!!vn,bn=!1,wn=vn?function(){vn.then(Un)}:o.setImmediate?e.bind(null,Un):o.MutationObserver?function(){var n=document.createElement(\\\"div\\\");new MutationObserver(function(){Un(),n=null}).observe(n,{attributes:!0}),n.setAttribute(\\\"i\\\",\\\"1\\\")}:function(){setTimeout(Un,0)},_n=function(n,t){Sn.push([n,t]),xn&&(wn(),xn=!1)},kn=!0,xn=!0,jn=[],An=[],En=null,On=Z,Pn={id:\\\"global\\\",global:!0,ref:0,unhandleds:[],onunhandled:ft,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(n){try{ft(n[0],n[1])}catch(n){}})}},Tn=Pn,Sn=[],In=0,Cn=[];function Dn(n){if(\\\"object\\\"!=typeof this)throw new TypeError(\\\"Promises must be constructed via new\\\");this._listeners=[],this.onuncatched=X,this._lib=!1;var t=this._PSD=Tn;if(F&&(this._stackHolder=q(),this._prev=null,this._numPrev=0),\\\"function\\\"!=typeof n){if(n!==sn)throw new TypeError(\\\"Not a function\\\");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Mn(this,this._value))}this._state=null,this._value=null,++t.ref,function n(t,e){try{e(function(e){if(null===t._state){if(e===t)throw new TypeError(\\\"A promise cannot be resolved with itself.\\\");var r=t._lib&&Ln();e&&\\\"function\\\"==typeof e.then?n(t,function(n,t){e instanceof Dn?e._then(n,t):e.then(n,t)}):(t._state=!0,t._value=e,Bn(t)),r&&Vn()}},Mn.bind(null,t))}catch(n){Mn(t,n)}}(this,n)}var Kn={get:function(){var n=Tn,t=$n;function e(e,r){var i=this,o=!n.global&&(n!==Tn||t!==$n);o&&tt();var u=new Dn(function(t,u){Nn(i,new Fn(at(e,n,o),at(r,n,o),t,u,n))});return F&&Rn(u,this),u}return e.prototype=sn,e},set:function(n){h(this,\\\"then\\\",n&&n.prototype===sn?Kn:{get:function(){return n},set:Kn.set})}};function Fn(n,t,e,r,i){this.onFulfilled=\\\"function\\\"==typeof n?n:null,this.onRejected=\\\"function\\\"==typeof t?t:null,this.resolve=e,this.reject=r,this.psd=i}function Mn(n,t){if(An.push(t),null===n._state){var e=n._lib&&Ln();t=On(t),n._state=!1,n._value=t,F&&null!==t&&\\\"object\\\"==typeof t&&!t._promise&&k(function(){var e=function n(t,e){var r;return v(t,e)||(r=a(t))&&n(r,e)}(t,\\\"stack\\\");t._promise=n,h(t,\\\"stack\\\",{get:function(){return bn?e&&(e.get?e.get.apply(t):e.value):n.stack}})}),function(n){jn.some(function(t){return t._value===n._value})||jn.push(n)}(n),Bn(n),e&&Vn()}}function Bn(n){var t=n._listeners;n._listeners=[];for(var e=0,r=t.length;e<r;++e)Nn(n,t[e]);var i=n._PSD;--i.ref||i.finalize(),0===In&&(++In,_n(function(){0==--In&&zn()},[]))}function Nn(n,t){if(null!==n._state){var e=n._state?t.onFulfilled:t.onRejected;if(null===e)return(n._state?t.resolve:t.reject)(n._value);++t.psd.ref,++In,_n(qn,[e,n,t])}else n._listeners.push(t)}function qn(n,t,e){try{En=t;var r,i=t._value;t._state?r=n(i):(An.length&&(An=[]),r=n(i),-1===An.indexOf(i)&&function(n){var t=jn.length;for(;t;)if(jn[--t]._value===n._value)return void jn.splice(t,1)}(t)),e.resolve(r)}catch(n){e.reject(n)}finally{En=null,0==--In&&zn(),--e.psd.ref||e.psd.finalize()}}function Rn(n,t){var e=t?t._numPrev+1:0;e<cn&&(n._prev=t,n._numPrev=e)}function Un(){Ln()&&Vn()}function Ln(){var n=kn;return kn=!1,xn=!1,n}function Vn(){var n,t,e;do{for(;Sn.length>0;)for(n=Sn,Sn=[],e=n.length,t=0;t<e;++t){var r=n[t];r[0].apply(null,r[1])}}while(Sn.length>0);kn=!0,xn=!0}function zn(){var n=jn;jn=[],n.forEach(function(n){n._PSD.onunhandled.call(null,n._value,n)});for(var t=Cn.slice(0),e=t.length;e;)t[--e]()}function Wn(n){return new Dn(sn,!1,n)}function Qn(n,t){var e=Tn;return function(){var r=Ln(),i=Tn;try{return it(e,!0),n.apply(this,arguments)}catch(n){t&&t(n)}finally{it(i,!1),r&&Vn()}}}f(Dn.prototype,{then:Kn,_then:function(n,t){Nn(this,new Fn(null,null,n,t,Tn))},catch:function(n){if(1===arguments.length)return this.then(null,n);var t=arguments[0],e=arguments[1];return\\\"function\\\"==typeof t?this.then(null,function(n){return n instanceof t?e(n):Wn(n)}):this.then(null,function(n){return n&&n.name===t?e(n):Wn(n)})},finally:function(n){return this.then(function(t){return n(),t},function(t){return n(),Wn(t)})},stack:{get:function(){if(this._stack)return this._stack;try{bn=!0;var n=function n(t,e,r){if(e.length===r)return e;var i=\\\"\\\";if(!1===t._state){var o,u,a=t._value;null!=a?(o=a.name||\\\"Error\\\",u=a.message||a,i=R(a,0)):(o=a,u=\\\"\\\"),e.push(o+(u?\\\": \\\"+u:\\\"\\\")+i)}F&&((i=R(t._stackHolder,2))&&-1===e.indexOf(i)&&e.push(i),t._prev&&n(t._prev,e,r));return e}(this,[],20).join(\\\"\\\\nFrom previous: \\\");return null!==this._state&&(this._stack=n),n}finally{bn=!1}}},timeout:function(n,t){var e=this;return n<1/0?new Dn(function(r,i){var o=setTimeout(function(){return i(new G.Timeout(t))},n);e.then(r,i).finally(clearTimeout.bind(null,o))}):this}}),\\\"undefined\\\"!=typeof Symbol&&Symbol.toStringTag&&h(Dn.prototype,Symbol.toStringTag,\\\"Promise\\\"),Pn.env=ot(),f(Dn,{all:function(){var n=K.apply(null,arguments).map(et);return new Dn(function(t,e){0===n.length&&t([]);var r=n.length;n.forEach(function(i,o){return Dn.resolve(i).then(function(e){n[o]=e,--r||t(n)},e)})})},resolve:function(n){if(n instanceof Dn)return n;if(n&&\\\"function\\\"==typeof n.then)return new Dn(function(t,e){n.then(t,e)});var t=new Dn(sn,!0,n);return Rn(t,En),t},reject:Wn,race:function(){var n=K.apply(null,arguments).map(et);return new Dn(function(t,e){n.map(function(n){return Dn.resolve(n).then(t,e)})})},PSD:{get:function(){return Tn},set:function(n){return Tn=n}},newPSD:Zn,usePSD:ut,scheduler:{get:function(){return _n},set:function(n){_n=n}},rejectionMapper:{get:function(){return On},set:function(n){On=n}},follow:function(n,t){return new Dn(function(e,r){return Zn(function(t,e){var r=Tn;r.unhandleds=[],r.onunhandled=e,r.finalize=tn(function(){var n=this;!function(n){Cn.push(function t(){n();Cn.splice(Cn.indexOf(t),1)}),++In,_n(function(){0==--In&&zn()},[])}(function(){0===n.unhandleds.length?t():e(n.unhandleds[0])})},r.finalize),n()},t,e,r)})}});var Hn={awaits:0,echoes:0,id:0},Jn=0,Gn=[],Yn=0,$n=0,Xn=0;function Zn(n,t,e,r){var i=Tn,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++Xn;var a=Pn.env;o.env=gn?{Promise:Dn,PromiseProp:{value:Dn,configurable:!0,writable:!0},all:Dn.all,race:Dn.race,resolve:Dn.resolve,reject:Dn.reject,nthen:st(a.nthen,o),gthen:st(a.gthen,o)}:{},t&&u(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=ut(o,n,e,r);return 0===o.ref&&o.finalize(),s}function nt(){return Hn.id||(Hn.id=++Jn),++Hn.awaits,Hn.echoes+=fn,Hn.id}function tt(n){!Hn.awaits||n&&n!==Hn.id||(0==--Hn.awaits&&(Hn.id=0),Hn.echoes=Hn.awaits*fn)}function et(n){return Hn.echoes&&n&&n.constructor===yn?(nt(),n.then(function(n){return tt(),n},function(n){return tt(),lt(n)})):n}function rt(){var n=Gn[Gn.length-1];Gn.pop(),it(n,!1)}function it(n,t){var e=Tn;if((t?!Hn.echoes||Yn++&&n===Tn:!Yn||--Yn&&n===Tn)||function(n){pn.call(hn,n)}(t?function(n){++$n,Hn.echoes&&0!=--Hn.echoes||(Hn.echoes=Hn.id=0),Gn.push(Tn),it(n,!0)}.bind(null,n):rt),n!==Tn&&(Tn=n,e===Pn&&(Pn.env=ot()),gn)){var r=Pn.env.Promise,i=n.env;dn.then=i.nthen,r.prototype.then=i.gthen,(e.global||n.global)&&(Object.defineProperty(o,\\\"Promise\\\",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject)}}function ot(){var n=o.Promise;return gn?{Promise:n,PromiseProp:Object.getOwnPropertyDescriptor(o,\\\"Promise\\\"),all:n.all,race:n.race,resolve:n.resolve,reject:n.reject,nthen:dn.then,gthen:n.prototype.then}:{}}function ut(n,t,e,r,i){var o=Tn;try{return it(n,!0),t(e,r,i)}finally{it(o,!1)}}function at(n,t,e){return\\\"function\\\"!=typeof n?n:function(){var r=Tn;e&&nt(),it(t,!0);try{return n.apply(this,arguments)}finally{it(r,!1)}}}function st(n,t){return function(e,r){return n.call(this,at(e,t,!1),at(r,t,!1))}}var ct=\\\"unhandledrejection\\\";function ft(n,t){var e;try{e=t.onuncatched(n)}catch(n){}if(!1!==e)try{var r,i={promise:t,reason:n};if(o.document&&document.createEvent?((r=document.createEvent(\\\"Event\\\")).initEvent(ct,!0,!0),u(r,i)):o.CustomEvent&&u(r=new CustomEvent(ct,{detail:i}),i),r&&o.dispatchEvent&&(dispatchEvent(r),!o.PromiseRejectionEvent&&o.onunhandledrejection))try{o.onunhandledrejection(r)}catch(n){}r.defaultPrevented||console.warn(\\\"Unhandled rejection: \\\"+(n.stack||n))}catch(n){}}var lt=Dn.reject;function ht(n){var t={},e=function(e,r){if(r){for(var i=arguments.length,o=new Array(i-1);--i;)o[i-1]=arguments[i];return t[e].subscribe.apply(null,o),n}if(\\\"string\\\"==typeof e)return t[e]};e.addEventType=a;for(var o=1,u=arguments.length;o<u;++o)a(arguments[o]);return e;function a(n,o,u){if(\\\"object\\\"==typeof n)return function(n){r(n).forEach(function(t){var e=n[t];if(i(e))a(t,n[t][0],n[t][1]);else{if(\\\"asap\\\"!==e)throw new G.InvalidArgument(\\\"Invalid event config\\\");var r=a(t,Z,function(){for(var n=arguments.length,t=new Array(n);n--;)t[n]=arguments[n];r.subscribers.forEach(function(n){b(function(){n.apply(null,t)})})})}})}(n);o||(o=un),u||(u=X);var s={subscribers:[],fire:u,subscribe:function(n){-1===s.subscribers.indexOf(n)&&(s.subscribers.push(n),s.fire=o(s.fire,n))},unsubscribe:function(n){s.subscribers=s.subscribers.filter(function(t){return t!==n}),s.fire=s.subscribers.reduce(o,u)}};return t[n]=e[n]=s,s}}var dt,vt=String.fromCharCode(65535),pt=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(n){return vt}}(),yt=-1/0,mt=\\\"Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.\\\",gt=\\\"String expected.\\\",bt=[],wt=\\\"undefined\\\"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),_t=wt,kt=wt,xt=function(n){return!/(dexie\\\\.js|dexie\\\\.min\\\\.js)/.test(n)};function jt(n,t){var e,a,s,l=jt.dependencies,d=u({addons:jt.addons,autoOpen:!0,indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange},t),v=d.addons,p=d.autoOpen,b=d.indexedDB,E=d.IDBKeyRange,P=this._dbSchema={},I=[],C=[],M={},B=null,N=null,U=!1,L=null,V=!1,z=\\\"readwrite\\\",H=this,J=new Dn(function(n){e=n}),Y=new Dn(function(n,t){a=t}),$=!0,tn=!!Ft(b);function un(n){this._cfg={version:n,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function sn(n,t,e){var i=H._createTransaction(z,C,P);i.create(t),i._completion.catch(e);var o=i._reject.bind(i);Zn(function(){Tn.trans=i,0===n?(r(P).forEach(function(n){cn(t,n,P[n].primKey,P[n].indexes)}),Dn.follow(function(){return H.on.populate.fire(i)}).catch(o)):function(n,t,e){var i=[],o=I.filter(function(t){return t._cfg.version===n})[0];if(!o)throw new G.Upgrade(\\\"Dexie specification of currently installed DB version is missing\\\");P=H._dbSchema=o._cfg.dbschema;var u=!1;return I.filter(function(t){return t._cfg.version>n}).forEach(function(n){i.push(function(){var r=P,i=n._cfg.dbschema;Cn(r,e),Cn(i,e),P=H._dbSchema=i;var o=function(n,t){var e={del:[],add:[],change:[]};for(var r in n)t[r]||e.del.push(r);for(r in t){var i=n[r],o=t[r];if(i){var u={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(i.primKey.src!==o.primKey.src)u.recreate=!0,e.change.push(u);else{var a=i.idxByName,s=o.idxByName;for(var c in a)s[c]||u.del.push(c);for(c in s){var f=a[c],l=s[c];f?f.src!==l.src&&u.change.push(l):u.add.push(l)}(u.del.length>0||u.add.length>0||u.change.length>0)&&e.change.push(u)}}else e.add.push([r,o])}return e}(r,i);if(o.add.forEach(function(n){cn(e,n[0],n[1].primKey,n[1].indexes)}),o.change.forEach(function(n){if(n.recreate)throw new G.Upgrade(\\\"Not yet support for changing primary key\\\");var t=e.objectStore(n.name);n.add.forEach(function(n){fn(t,n)}),n.change.forEach(function(n){t.deleteIndex(n.name),fn(t,n)}),n.del.forEach(function(n){t.deleteIndex(n)})}),n._cfg.contentUpgrade)return u=!0,Dn.follow(function(){n._cfg.contentUpgrade(t)})}),i.push(function(t){u&&_t||function(n,t){for(var e=0;e<t.db.objectStoreNames.length;++e){var r=t.db.objectStoreNames[e];null==n[r]&&t.db.deleteObjectStore(r)}}(n._cfg.dbschema,t)})}),function n(){return i.length?Dn.resolve(i.shift()(t.idbtrans)).then(n):Dn.resolve()}().then(function(){!function(n,t){r(n).forEach(function(e){t.db.objectStoreNames.contains(e)||cn(t,e,n[e].primKey,n[e].indexes)})}(P,e)})}(n,i,t).catch(o)})}function cn(n,t,e,r){var i=n.db.createObjectStore(t,e.keyPath?{keyPath:e.keyPath,autoIncrement:e.auto}:{autoIncrement:e.auto});return r.forEach(function(n){fn(i,n)}),i}function fn(n,t){n.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function ln(n,t,e){this.name=n,this.schema=t,this._tx=e,this.hook=M[n]?M[n].hook:ht(null,{creating:[en,X],reading:[nn,Z],updating:[on,X],deleting:[rn,X]})}function hn(n,t,e){return(e?Tt:Ot)(function(e){n.push(e),t&&t()})}function dn(n,t,e,r,i){return new Dn(function(o,u){var a=e.length,s=a-1;if(0===a)return o();if(r){var c,f=Tt(u),l=Et(null);k(function(){for(var r=0;r<a;++r){c={onsuccess:null,onerror:null};var u=e[r];i.call(c,u[0],u[1],t);var h=n.delete(u[0]);h._hookCtx=c,h.onerror=f,h.onsuccess=r===s?Et(o):l}},function(n){throw c.onerror&&c.onerror(n),n})}else for(var h=0;h<a;++h){var d=n.delete(e[h]);d.onerror=Ot(u),h===s&&(d.onsuccess=Qn(function(){return o()}))}})}function vn(n,t,e,r){var i=this;this.db=H,this.mode=n,this.storeNames=t,this.idbtrans=null,this.on=ht(this,\\\"complete\\\",\\\"error\\\",\\\"abort\\\"),this.parent=r||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Dn(function(n,t){i._resolve=n,i._reject=t}),this._completion.then(function(){i.active=!1,i.on.complete.fire()},function(n){var t=i.active;return i.active=!1,i.on.error.fire(n),i.parent?i.parent._reject(n):t&&i.idbtrans&&i.idbtrans.abort(),lt(n)})}function pn(n,t,e){this._ctx={table:n,index:\\\":id\\\"===t?null:t,or:e}}function gn(n,t){var e=null,r=null;if(t)try{e=t()}catch(n){r=n}var i=n._ctx,o=i.table;this._ctx={table:o,index:i.index,isPrimKey:!i.index||o.schema.primKey.keyPath&&i.index===o.schema.primKey.name,range:e,keysOnly:!1,dir:\\\"next\\\",unique:\\\"\\\",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:o.hook.reading.fire}}function bn(n,t){return!(n.filter||n.algorithm||n.or)&&(t?n.justLimit:!n.replayFilter)}function wn(n,t){return n._cfg.version-t._cfg.version}function _n(n,t,e){t.forEach(function(t){var r=e[t];n.forEach(function(n){t in n||(n===vn.prototype||n instanceof vn?h(n,t,{get:function(){return this.table(t)}}):n[t]=new ln(t,r))})})}function kn(n,t,e,r,i,o){var u=Qn(o?function(n,t,r){return e(o(n),t,r)}:e,i);n.onerror||(n.onerror=Ot(i)),n.onsuccess=_(t?function(){var e=n.result;if(e){var o=function(){e.continue()};t(e,function(n){o=n},r,i)&&u(e.value,e,function(n){o=n}),o()}else r()}:function(){var t=n.result;if(t){var e=function(){t.continue()};u(t.value,t,function(n){e=n}),e()}else r()},i)}function xn(n,t){return b.cmp(n,t)}function jn(n,t){return xn(n,t)<0?n:t}function An(n,t){return xn(n,t)>0?n:t}function En(n,t){return b.cmp(n,t)}function On(n,t){return b.cmp(t,n)}function Pn(n,t){return n<t?-1:n===t?0:1}function Sn(n,t){return n>t?-1:n===t?0:1}function In(n,t){return n?t?function(){return n.apply(this,arguments)&&t.apply(this,arguments)}:n:t}function Cn(n,t){for(var e=t.db.objectStoreNames,r=0;r<e.length;++r){var i=e[r],u=t.objectStore(i);s=\\\"getAll\\\"in u;for(var a=0;a<u.indexNames.length;++a){var c=u.indexNames[a],f=u.index(c).keyPath,l=\\\"string\\\"==typeof f?f:\\\"[\\\"+y(f).join(\\\"+\\\")+\\\"]\\\";if(n[i]){var h=n[i].idxByName[l];h&&(h.name=c)}}}/Safari/.test(navigator.userAgent)&&!/(Chrome\\\\/|Edge\\\\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\\\\/(\\\\d*)/))[1]<604&&(s=!1)}function Kn(n){H.on(\\\"blocked\\\").fire(n),bt.filter(function(n){return n.name===H.name&&n!==H&&!n._vcFired}).map(function(t){return t.on(\\\"versionchange\\\").fire(n)})}this.version=function(n){if(B||U)throw new G.Schema(\\\"Cannot add version when database is open\\\");this.verno=Math.max(this.verno,n);var t=I.filter(function(t){return t._cfg.version===n})[0];return t||(t=new un(n),I.push(t),I.sort(wn),$=!1,t)},u(un.prototype,{stores:function(n){this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,n):n;var t={};I.forEach(function(n){u(t,n._cfg.storesSource)});var e=this._cfg.dbschema={};return this._parseStoresSpec(t,e),P=H._dbSchema=e,function(n){n.forEach(function(n){for(var t in n)n[t]instanceof ln&&delete n[t]})}([M,H,vn.prototype]),_n([M,H,vn.prototype,this._cfg.tables],r(e),e),C=r(e),this},upgrade:function(n){return this._cfg.contentUpgrade=n,this},_parseStoresSpec:function(n,t){r(n).forEach(function(e){if(null!==n[e]){var r={},o=function(n){var t=[];return n.split(\\\",\\\").forEach(function(n){var e=(n=n.trim()).replace(/([&*]|\\\\+\\\\+)/g,\\\"\\\"),r=/^\\\\[/.test(e)?e.match(/^\\\\[(.*)\\\\]$/)[1].split(\\\"+\\\"):e;t.push(new Ct(e,r||null,/\\\\&/.test(n),/\\\\*/.test(n),/\\\\+\\\\+/.test(n),i(r),/\\\\./.test(n)))}),t}(n[e]),u=o.shift();if(u.multi)throw new G.Schema(\\\"Primary key cannot be multi-valued\\\");u.keyPath&&j(r,u.keyPath,u.auto?0:u.keyPath),o.forEach(function(n){if(n.auto)throw new G.Schema(\\\"Only primary key can be marked as autoIncrement (++)\\\");if(!n.keyPath)throw new G.Schema(\\\"Index must have a name and cannot be an empty string\\\");j(r,n.keyPath,n.compound?n.keyPath.map(function(){return\\\"\\\"}):\\\"\\\")}),t[e]=new Dt(e,u,o,r)}})}}),this._allTables=M,this._createTransaction=function(n,t,e,r){return new vn(n,t,e,r)},this._whenReady=function(n){return V||Tn.letThrough?n():new Dn(function(n,t){if(!U){if(!p)return void t(new G.DatabaseClosed);H.open().catch(X)}J.then(n,t)}).then(n)},this.verno=0,this.open=function(){if(U||B)return J.then(function(){return N?lt(N):H});F&&(Y._stackHolder=q()),U=!0,N=null,V=!1;var t=e,i=null;return Dn.race([Y,new Dn(function(t,e){if(!b)throw new G.MissingAPI(\\\"indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.\\\");var o=$?b.open(n):b.open(n,Math.round(10*H.verno));if(!o)throw new G.MissingAPI(\\\"IndexedDB API not available\\\");o.onerror=Ot(e),o.onblocked=Qn(Kn),o.onupgradeneeded=Qn(function(t){if(i=o.transaction,$&&!H._allowEmptyDB){o.onerror=St,i.abort(),o.result.close();var r=b.deleteDatabase(n);r.onsuccess=r.onerror=Qn(function(){e(new G.NoSuchDatabase(\\\"Database \\\"+n+\\\" doesnt exist\\\"))})}else{i.onerror=Ot(e),sn((t.oldVersion>Math.pow(2,62)?0:t.oldVersion)/10,i,e)}},e),o.onsuccess=Qn(function(){if(i=null,B=o.result,bt.push(H),$)!function(){if(H.verno=B.version/10,H._dbSchema=P={},0===(C=y(B.objectStoreNames,0)).length)return;var n=B.transaction(Kt(C),\\\"readonly\\\");C.forEach(function(t){for(var e=n.objectStore(t),r=e.keyPath,i=r&&\\\"string\\\"==typeof r&&-1!==r.indexOf(\\\".\\\"),o=new Ct(r,r||\\\"\\\",!1,!1,!!e.autoIncrement,r&&\\\"string\\\"!=typeof r,i),u=[],a=0;a<e.indexNames.length;++a){var s=e.index(e.indexNames[a]);r=s.keyPath,i=r&&\\\"string\\\"==typeof r&&-1!==r.indexOf(\\\".\\\");var c=new Ct(s.name,r,!!s.unique,!!s.multiEntry,!1,r&&\\\"string\\\"!=typeof r,i);u.push(c)}P[t]=new Dt(t,o,u,{})}),_n([M],r(P),P)}();else if(B.objectStoreNames.length>0)try{Cn(P,B.transaction(Kt(B.objectStoreNames),\\\"readonly\\\"))}catch(n){}B.onversionchange=Qn(function(n){H._vcFired=!0,H.on(\\\"versionchange\\\").fire(n)}),tn||\\\"__dbnames\\\"===n||dt.dbnames.put({name:n}).catch(X),t()},e)})]).then(function(){return L=[],Dn.resolve(jt.vip(H.on.ready.fire)).then(function n(){if(L.length>0){var t=L.reduce(an,X);return L=[],Dn.resolve(jt.vip(t)).then(n)}})}).finally(function(){L=null}).then(function(){return U=!1,H}).catch(function(n){try{i&&i.abort()}catch(n){}return U=!1,H.close(),lt(N=n)}).finally(function(){V=!0,t()})},this.close=function(){var n=bt.indexOf(H);if(n>=0&&bt.splice(n,1),B){try{B.close()}catch(n){}B=null}p=!1,N=new G.DatabaseClosed,U&&a(N),J=new Dn(function(n){e=n}),Y=new Dn(function(n,t){a=t})},this.delete=function(){var t=arguments.length>0;return new Dn(function(e,r){if(t)throw new G.InvalidArgument(\\\"Arguments not allowed in db.delete()\\\");function i(){H.close();var t=b.deleteDatabase(n);t.onsuccess=Qn(function(){tn||dt.dbnames.delete(n).catch(X),e()}),t.onerror=Ot(r),t.onblocked=Kn}U?J.then(i):i()})},this.backendDB=function(){return B},this.isOpen=function(){return null!==B},this.hasBeenClosed=function(){return N&&N instanceof G.DatabaseClosed},this.hasFailed=function(){return null!==N},this.dynamicallyOpened=function(){return $},this.name=n,f(this,{tables:{get:function(){return r(M).map(function(n){return M[n]})}}}),this.on=ht(this,\\\"populate\\\",\\\"blocked\\\",\\\"versionchange\\\",{ready:[an,X]}),this.on.ready.subscribe=m(this.on.ready.subscribe,function(n){return function(t,e){jt.vip(function(){V?(N||Dn.resolve().then(t),e&&n(t)):L?(L.push(t),e&&n(t)):(n(t),e||n(function n(){H.on.ready.unsubscribe(t),H.on.ready.unsubscribe(n)}))})}}),this.transaction=function(){var n=function(n,t,e){var r=arguments.length;if(r<2)throw new G.InvalidArgument(\\\"Too few arguments\\\");var i=new Array(r-1);for(;--r;)i[r-1]=arguments[r];e=i.pop();var o=O(i);return[n,o,e]}.apply(this,arguments);return this._transaction.apply(this,n)},this._transaction=function(n,t,e){var r=Tn.trans;r&&r.db===H&&-1===n.indexOf(\\\"!\\\")||(r=null);var i=-1!==n.indexOf(\\\"?\\\");n=n.replace(\\\"!\\\",\\\"\\\").replace(\\\"?\\\",\\\"\\\");try{var o=t.map(function(n){var t=n instanceof ln?n.name:n;if(\\\"string\\\"!=typeof t)throw new TypeError(\\\"Invalid table argument to Dexie.transaction(). Only Table or String are allowed\\\");return t});if(\\\"r\\\"==n||\\\"readonly\\\"==n)n=\\\"readonly\\\";else{if(\\\"rw\\\"!=n&&n!=z)throw new G.InvalidArgument(\\\"Invalid transaction mode: \\\"+n);n=z}if(r){if(\\\"readonly\\\"===r.mode&&n===z){if(!i)throw new G.SubTransaction(\\\"Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY\\\");r=null}r&&o.forEach(function(n){if(r&&-1===r.storeNames.indexOf(n)){if(!i)throw new G.SubTransaction(\\\"Table \\\"+n+\\\" not included in parent transaction.\\\");r=null}}),i&&r&&!r.active&&(r=null)}}catch(n){return r?r._promise(null,function(t,e){e(n)}):lt(n)}return r?r._promise(n,u,\\\"lock\\\"):Tn.trans?ut(Tn.transless,function(){return H._whenReady(u)}):H._whenReady(u);function u(){return Dn.resolve().then(function(){var t,i=Tn.transless||Tn,u=H._createTransaction(n,o,P,r),a={trans:u,transless:i};r?u.idbtrans=r.idbtrans:u.create(),e.constructor===mn&&nt();var s=Dn.follow(function(){if(t=e.call(u,u))if(t.constructor===yn){var n=tt.bind(null,null);t.then(n,n)}else\\\"function\\\"==typeof t.next&&\\\"function\\\"==typeof t.throw&&(t=It(t))},a);return(t&&\\\"function\\\"==typeof t.then?Dn.resolve(t).then(function(n){return u.active?n:lt(new G.PrematureCommit(\\\"Transaction committed too early. See http://bit.ly/2kdckMn\\\"))}):s.then(function(){return t})).then(function(n){return r&&u._resolve(),u._completion.then(function(){return n})}).catch(function(n){return u._reject(n),lt(n)})})}},this.table=function(n){if(!c(M,n))throw new G.InvalidTable(\\\"Table \\\"+n+\\\" does not exist\\\");return M[n]},f(ln.prototype,{_trans:function(n,t,e){var r=this._tx||Tn.trans;return r&&r.db===H?r===Tn.trans?r._promise(n,t,e):Zn(function(){return r._promise(n,t,e)},{trans:r,transless:Tn.transless||Tn}):function n(t,e,r){if(V||Tn.letThrough){var i=H._createTransaction(t,e,P);try{i.create()}catch(n){return lt(n)}return i._promise(t,function(n,t){return Zn(function(){return Tn.trans=i,r(n,t,i)})}).then(function(n){return i._completion.then(function(){return n})})}if(!U){if(!p)return lt(new G.DatabaseClosed);H.open().catch(X)}return J.then(function(){return n(t,e,r)})}(n,[this.name],t)},_idbstore:function(n,t,e){var r=this.name;return this._trans(n,function(n,e,i){if(-1===i.storeNames.indexOf(r))throw new G.NotFound(\\\"Table\\\"+r+\\\" not part of transaction\\\");return t(n,e,i.idbtrans.objectStore(r),i)},e)},get:function(n,t){if(n&&n.constructor===Object)return this.where(n).first(t);var e=this;return this._idbstore(\\\"readonly\\\",function(t,r,i){var o=i.get(n);o.onerror=Ot(r),o.onsuccess=Qn(function(){t(e.hook.reading.fire(o.result))},r)}).then(t)},where:function(n){if(\\\"string\\\"==typeof n)return new pn(this,n);if(i(n))return new pn(this,\\\"[\\\"+n.join(\\\"+\\\")+\\\"]\\\");var t=r(n);if(1===t.length)return this.where(t[0]).equals(n[t[0]]);var e=this.schema.indexes.concat(this.schema.primKey).filter(function(n){return n.compound&&t.every(function(t){return n.keyPath.indexOf(t)>=0})&&n.keyPath.every(function(n){return t.indexOf(n)>=0})})[0];if(e&&pt!==vt)return this.where(e.name).equals(e.keyPath.map(function(t){return n[t]}));e||console.warn(\\\"The query \\\"+JSON.stringify(n)+\\\" on \\\"+this.name+\\\" would benefit of a compound index [\\\"+t.join(\\\"+\\\")+\\\"]\\\");var o=this.schema.idxByName,u=t.reduce(function(t,e){return[t[0]||o[e],t[0]||!o[e]?In(t[1],function(t){return\\\"\\\"+x(t,e)==\\\"\\\"+n[e]}):t[1]]},[null,null]),a=u[0];return a?this.where(a.name).equals(n[a.keyPath]).filter(u[1]):e?this.filter(u[1]):this.where(t).equals(\\\"\\\")},count:function(n){return this.toCollection().count(n)},offset:function(n){return this.toCollection().offset(n)},limit:function(n){return this.toCollection().limit(n)},reverse:function(){return this.toCollection().reverse()},filter:function(n){return this.toCollection().and(n)},each:function(n){return this.toCollection().each(n)},toArray:function(n){return this.toCollection().toArray(n)},orderBy:function(n){return new gn(new pn(this,i(n)?\\\"[\\\"+n.join(\\\"+\\\")+\\\"]\\\":n))},toCollection:function(){return new gn(new pn(this))},mapToClass:function(n,t){this.schema.mappedClass=n;var e=Object.create(n.prototype);t&&At(e,t),this.schema.instanceTemplate=e;var r=function(t){if(!t)return t;var e=Object.create(n.prototype);for(var r in t)if(c(t,r))try{e[r]=t[r]}catch(n){}return e};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook(\\\"reading\\\",r),n},defineClass:function(n){return this.mapToClass(jt.defineClass(n),n)},bulkDelete:function(n){return this.hook.deleting.fire===X?this._idbstore(z,function(t,e,r,i){t(dn(r,i,n,!1,X))}):this.where(\\\":id\\\").anyOf(n).delete().then(function(){})},bulkPut:function(n,t){var e=this;return this._idbstore(z,function(r,i,o){if(!o.keyPath&&!e.schema.primKey.auto&&!t)throw new G.InvalidArgument(\\\"bulkPut() with non-inbound keys requires keys array in second argument\\\");if(o.keyPath&&t)throw new G.InvalidArgument(\\\"bulkPut(): keys argument invalid on tables with inbound keys\\\");if(t&&t.length!==n.length)throw new G.InvalidArgument(\\\"Arguments objects and keys must have the same length\\\");if(0===n.length)return r();var u,a,s=function(n){0===c.length?r(n):i(new Q(e.name+\\\".bulkPut(): \\\"+c.length+\\\" of \\\"+f+\\\" operations failed\\\",c))},c=[],f=n.length,l=e;if(e.hook.creating.fire===X&&e.hook.updating.fire===X){a=hn(c);for(var h=0,d=n.length;h<d;++h)(u=t?o.put(n[h],t[h]):o.put(n[h])).onerror=a;u.onerror=hn(c,s),u.onsuccess=Pt(s)}else{var v=t||o.keyPath&&n.map(function(n){return x(n,o.keyPath)}),p=v&&w(v,function(t,e){return null!=t&&[t,n[e]]});(v?l.where(\\\":id\\\").anyOf(v.filter(function(n){return null!=n})).modify(function(){this.value=p[this.primKey],p[this.primKey]=null}).catch(W,function(n){c=n.failures}).then(function(){for(var e=[],r=t&&[],i=v.length-1;i>=0;--i){var o=v[i];(null==o||p[o])&&(e.push(n[i]),t&&r.push(o),null!=o&&(p[o]=null))}return e.reverse(),t&&r.reverse(),l.bulkAdd(e,r)}).then(function(n){var t=v[v.length-1];return null!=t?t:n}):l.bulkAdd(n)).then(s).catch(Q,function(n){c=c.concat(n.failures),s()}).catch(i)}},\\\"locked\\\")},bulkAdd:function(n,t){var e=this,r=this.hook.creating.fire;return this._idbstore(z,function(i,o,u,a){if(!u.keyPath&&!e.schema.primKey.auto&&!t)throw new G.InvalidArgument(\\\"bulkAdd() with non-inbound keys requires keys array in second argument\\\");if(u.keyPath&&t)throw new G.InvalidArgument(\\\"bulkAdd(): keys argument invalid on tables with inbound keys\\\");if(t&&t.length!==n.length)throw new G.InvalidArgument(\\\"Arguments objects and keys must have the same length\\\");if(0===n.length)return i();function s(n){0===h.length?i(n):o(new Q(e.name+\\\".bulkAdd(): \\\"+h.length+\\\" of \\\"+d+\\\" operations failed\\\",h))}var c,f,l,h=[],d=n.length;if(r!==X){var v,p=u.keyPath;f=hn(h,null,!0),l=Et(null),k(function(){for(var e=0,i=n.length;e<i;++e){v={onerror:null,onsuccess:null};var o=t&&t[e],s=n[e],h=t?o:p?x(s,p):void 0,d=r.call(v,h,s,a);null==h&&null!=d&&(p?j(s=T(s),p,d):o=d),(c=null!=o?u.add(s,o):u.add(s))._hookCtx=v,e<i-1&&(c.onerror=f,v.onsuccess&&(c.onsuccess=l))}},function(n){throw v.onerror&&v.onerror(n),n}),c.onerror=hn(h,s,!0),c.onsuccess=Et(s)}else{f=hn(h);for(var y=0,m=n.length;y<m;++y)(c=t?u.add(n[y],t[y]):u.add(n[y])).onerror=f;c.onerror=hn(h,s),c.onsuccess=Pt(s)}})},add:function(n,t){var e=this.hook.creating.fire;return this._idbstore(z,function(r,i,o,u){var a={onsuccess:null,onerror:null};if(e!==X){var s=null!=t?t:o.keyPath?x(n,o.keyPath):void 0,c=e.call(a,s,n,u);null==s&&null!=c&&(o.keyPath?j(n,o.keyPath,c):t=c)}try{var f=null!=t?o.add(n,t):o.add(n);f._hookCtx=a,f.onerror=Tt(i),f.onsuccess=Et(function(t){var e=o.keyPath;e&&j(n,e,t),r(t)})}catch(n){throw a.onerror&&a.onerror(n),n}})},put:function(n,t){var e=this,r=this.hook.creating.fire,i=this.hook.updating.fire;if(r!==X||i!==X){var o=this.schema.primKey.keyPath,u=void 0!==t?t:o&&x(n,o);return null==u?this.add(n):(n=T(n),this._trans(z,function(){return e.where(\\\":id\\\").equals(u).modify(function(){this.value=n}).then(function(r){return 0===r?e.add(n,t):u})},\\\"locked\\\"))}return this._idbstore(z,function(e,r,i){var o=void 0!==t?i.put(n,t):i.put(n);o.onerror=Ot(r),o.onsuccess=Qn(function(t){var r=i.keyPath;r&&j(n,r,t.target.result),e(o.result)})})},delete:function(n){return this.hook.deleting.subscribers.length?this.where(\\\":id\\\").equals(n).delete():this._idbstore(z,function(t,e,r){var i=r.delete(n);i.onerror=Ot(e),i.onsuccess=Qn(function(){t(i.result)})})},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(z,function(n,t,e){var r=e.clear();r.onerror=Ot(t),r.onsuccess=Qn(function(){n(r.result)})})},update:function(n,t){if(\\\"object\\\"!=typeof t||i(t))throw new G.InvalidArgument(\\\"Modifications must be an object.\\\");if(\\\"object\\\"!=typeof n||i(n))return this.where(\\\":id\\\").equals(n).modify(t);r(t).forEach(function(e){j(n,e,t[e])});var e=x(n,this.schema.primKey.keyPath);return void 0===e?lt(new G.InvalidArgument(\\\"Given object does not contain its primary key\\\")):this.where(\\\":id\\\").equals(e).modify(t)}}),f(vn.prototype,{_lock:function(){return g(!Tn.global),++this._reculock,1!==this._reculock||Tn.global||(Tn.lockOwnerFor=this),this},_unlock:function(){if(g(!Tn.global),0==--this._reculock)for(Tn.global||(Tn.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var n=this._blockedFuncs.shift();try{ut(n[1],n[0])}catch(n){}}return this},_locked:function(){return this._reculock&&Tn.lockOwnerFor!==this},create:function(n){var t=this;if(!this.mode)return this;if(g(!this.idbtrans),!n&&!B)switch(N&&N.name){case\\\"DatabaseClosedError\\\":throw new G.DatabaseClosed(N);case\\\"MissingAPIError\\\":throw new G.MissingAPI(N.message,N);default:throw new G.OpenFailed(N)}if(!this.active)throw new G.TransactionInactive;return g(null===this._completion._state),(n=this.idbtrans=n||B.transaction(Kt(this.storeNames),this.mode)).onerror=Qn(function(e){St(e),t._reject(n.error)}),n.onabort=Qn(function(e){St(e),t.active&&t._reject(new G.Abort(n.error)),t.active=!1,t.on(\\\"abort\\\").fire(e)}),n.oncomplete=Qn(function(){t.active=!1,t._resolve()}),this},_promise:function(n,t,e){var r=this;if(n===z&&this.mode!==z)return lt(new G.ReadOnly(\\\"Transaction is readonly\\\"));if(!this.active)return lt(new G.TransactionInactive);if(this._locked())return new Dn(function(i,o){r._blockedFuncs.push([function(){r._promise(n,t,e).then(i,o)},Tn])});if(e)return Zn(function(){var n=new Dn(function(n,e){r._lock();var i=t(n,e,r);i&&i.then&&i.then(n,e)});return n.finally(function(){return r._unlock()}),n._lib=!0,n});var i=new Dn(function(n,e){var i=t(n,e,r);i&&i.then&&i.then(n,e)});return i._lib=!0,i},_root:function(){return this.parent?this.parent._root():this},waitFor:function(n){var t=this._root();if(n=Dn.resolve(n),t._waitingFor)t._waitingFor=t._waitingFor.then(function(){return n});else{t._waitingFor=n,t._waitingQueue=[];var e=t.idbtrans.objectStore(t.storeNames[0]);!function n(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(e.get(-1/0).onsuccess=n)}()}var r=t._waitingFor;return new Dn(function(e,i){n.then(function(n){return t._waitingQueue.push(Qn(e.bind(null,n)))},function(n){return t._waitingQueue.push(Qn(i.bind(null,n)))}).finally(function(){t._waitingFor===r&&(t._waitingFor=null)})})},abort:function(){this.active&&this._reject(new G.Abort),this.active=!1},tables:{get:function(n,t){return function(){return console.warn(n+\\\" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. \\\"+R(q(),1)),t.apply(this,arguments)}}(\\\"Transaction.tables\\\",function(){return M})},table:function(n){return new ln(n,H.table(n).schema,this)}}),f(pn.prototype,function(){function n(n,t,e){var r=n instanceof pn?new gn(n):n;return r._ctx.error=e?new e(t):new TypeError(t),r}function t(n){return new gn(n,function(){return E.only(\\\"\\\")}).limit(0)}function e(n,t,e,r,i,o){for(var u=Math.min(n.length,r.length),a=-1,s=0;s<u;++s){var c=t[s];if(c!==r[s])return i(n[s],e[s])<0?n.substr(0,s)+e[s]+e.substr(s+1):i(n[s],r[s])<0?n.substr(0,s)+r[s]+e.substr(s+1):a>=0?n.substr(0,a)+t[a]+e.substr(a+1):null;i(n[s],c)<0&&(a=s)}return u<r.length&&\\\"next\\\"===o?n+e.substr(n.length):u<n.length&&\\\"prev\\\"===o?n.substr(0,e.length):a<0?null:n.substr(0,a)+r[a]+e.substr(a+1)}function r(t,r,i,o){var u,a,s,c,f,l,h,d=i.length;if(!i.every(function(n){return\\\"string\\\"==typeof n}))return n(t,gt);function v(n){u=function(n){return\\\"next\\\"===n?function(n){return n.toUpperCase()}:function(n){return n.toLowerCase()}}(n),a=function(n){return\\\"next\\\"===n?function(n){return n.toLowerCase()}:function(n){return n.toUpperCase()}}(n),s=\\\"next\\\"===n?Pn:Sn;var t=i.map(function(n){return{lower:a(n),upper:u(n)}}).sort(function(n,t){return s(n.lower,t.lower)});c=t.map(function(n){return n.upper}),f=t.map(function(n){return n.lower}),l=n,h=\\\"next\\\"===n?\\\"\\\":o}v(\\\"next\\\");var p=new gn(t,function(){return E.bound(c[0],f[d-1]+o)});p._ondirectionchange=function(n){v(n)};var y=0;return p._addAlgorithm(function(n,t,i){var o=n.key;if(\\\"string\\\"!=typeof o)return!1;var u=a(o);if(r(u,f,y))return!0;for(var v=null,p=y;p<d;++p){var m=e(o,u,c[p],f[p],s,l);null===m&&null===v?y=p+1:(null===v||s(v,m)>0)&&(v=m)}return t(null!==v?function(){n.continue(v+h)}:i),!1}),p}return{between:function(e,r,i,o){i=!1!==i,o=!0===o;try{return xn(e,r)>0||0===xn(e,r)&&(i||o)&&(!i||!o)?t(this):new gn(this,function(){return E.bound(e,r,!i,!o)})}catch(t){return n(this,mt)}},equals:function(n){return new gn(this,function(){return E.only(n)})},above:function(n){return new gn(this,function(){return E.lowerBound(n,!0)})},aboveOrEqual:function(n){return new gn(this,function(){return E.lowerBound(n)})},below:function(n){return new gn(this,function(){return E.upperBound(n,!0)})},belowOrEqual:function(n){return new gn(this,function(){return E.upperBound(n)})},startsWith:function(t){return\\\"string\\\"!=typeof t?n(this,gt):this.between(t,t+vt,!0,!0)},startsWithIgnoreCase:function(n){return\\\"\\\"===n?this.startsWith(n):r(this,function(n,t){return 0===n.indexOf(t[0])},[n],vt)},equalsIgnoreCase:function(n){return r(this,function(n,t){return n===t[0]},[n],\\\"\\\")},anyOfIgnoreCase:function(){var n=K.apply(D,arguments);return 0===n.length?t(this):r(this,function(n,t){return-1!==t.indexOf(n)},n,\\\"\\\")},startsWithAnyOfIgnoreCase:function(){var n=K.apply(D,arguments);return 0===n.length?t(this):r(this,function(n,t){return t.some(function(t){return 0===n.indexOf(t)})},n,vt)},anyOf:function(){var e=K.apply(D,arguments),r=En;try{e.sort(r)}catch(t){return n(this,mt)}if(0===e.length)return t(this);var i=new gn(this,function(){return E.bound(e[0],e[e.length-1])});i._ondirectionchange=function(n){r=\\\"next\\\"===n?En:On,e.sort(r)};var o=0;return i._addAlgorithm(function(n,t,i){for(var u=n.key;r(u,e[o])>0;)if(++o===e.length)return t(i),!1;return 0===r(u,e[o])||(t(function(){n.continue(e[o])}),!1)}),i},notEqual:function(n){return this.inAnyRange([[yt,n],[n,pt]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var t=K.apply(D,arguments);if(0===t.length)return new gn(this);try{t.sort(En)}catch(t){return n(this,mt)}var e=t.reduce(function(n,t){return n?n.concat([[n[n.length-1][1],t]]):[[yt,t]]},null);return e.push([t[t.length-1],pt]),this.inAnyRange(e,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(e,r){if(0===e.length)return t(this);if(!e.every(function(n){return void 0!==n[0]&&void 0!==n[1]&&En(n[0],n[1])<=0}))return n(this,\\\"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower\\\",G.InvalidArgument);var i=!r||!1!==r.includeLowers,o=r&&!0===r.includeUppers;var u,a=En;function s(n,t){return a(n[0],t[0])}try{(u=e.reduce(function(n,t){for(var e=0,r=n.length;e<r;++e){var i=n[e];if(xn(t[0],i[1])<0&&xn(t[1],i[0])>0){i[0]=jn(i[0],t[0]),i[1]=An(i[1],t[1]);break}}return e===r&&n.push(t),n},[])).sort(s)}catch(t){return n(this,mt)}var c=0,f=o?function(n){return En(n,u[c][1])>0}:function(n){return En(n,u[c][1])>=0},l=i?function(n){return On(n,u[c][0])>0}:function(n){return On(n,u[c][0])>=0};var h=f,d=new gn(this,function(){return E.bound(u[0][0],u[u.length-1][1],!i,!o)});return d._ondirectionchange=function(n){\\\"next\\\"===n?(h=f,a=En):(h=l,a=On),u.sort(s)},d._addAlgorithm(function(n,t,e){for(var r=n.key;h(r);)if(++c===u.length)return t(e),!1;return!!function(n){return!f(n)&&!l(n)}(r)||0!==xn(r,u[c][1])&&0!==xn(r,u[c][0])&&(t(function(){a===En?n.continue(u[c][0]):n.continue(u[c][1])}),!1)}),d},startsWithAnyOf:function(){var e=K.apply(D,arguments);return e.every(function(n){return\\\"string\\\"==typeof n})?0===e.length?t(this):this.inAnyRange(e.map(function(n){return[n,n+vt]})):n(this,\\\"startsWithAnyOf() only works with strings\\\")}}}),f(gn.prototype,function(){function n(n,t){n.filter=In(n.filter,t)}function t(n,t,e){var r=n.replayFilter;n.replayFilter=r?function(){return In(r(),t())}:t,n.justLimit=e&&!r}function e(n,t){if(n.isPrimKey)return t;var e=n.table.schema.idxByName[n.index];if(!e)throw new G.Schema(\\\"KeyPath \\\"+n.index+\\\" on object store \\\"+t.name+\\\" is not indexed\\\");return t.index(e.name)}function i(n,t){var r=e(n,t);return n.keysOnly&&\\\"openKeyCursor\\\"in r?r.openKeyCursor(n.range||null,n.dir+n.unique):r.openCursor(n.range||null,n.dir+n.unique)}function o(n,t,e,r,o){var u=n.replayFilter?In(n.filter,n.replayFilter()):n.filter;n.or?function(){var a={},s=0;function f(){2==++s&&e()}function l(n,e,i){if(!u||u(e,i,f,r)){var o=e.primaryKey,s=\\\"\\\"+o;\\\"[object ArrayBuffer]\\\"===s&&(s=\\\"\\\"+new Uint8Array(o)),c(a,s)||(a[s]=!0,t(n,e,i))}}n.or._iterate(l,f,r,o),kn(i(n,o),n.algorithm,l,f,r,!n.keysOnly&&n.valueMapper)}():kn(i(n,o),In(n.algorithm,u),t,e,r,!n.keysOnly&&n.valueMapper)}return{_read:function(n,t){var e=this._ctx;return e.error?e.table._trans(null,lt.bind(null,e.error)):e.table._idbstore(\\\"readonly\\\",n).then(t)},_write:function(n){var t=this._ctx;return t.error?t.table._trans(null,lt.bind(null,t.error)):t.table._idbstore(z,n,\\\"locked\\\")},_addAlgorithm:function(n){var t=this._ctx;t.algorithm=In(t.algorithm,n)},_iterate:function(n,t,e,r){return o(this._ctx,n,t,e,r)},clone:function(n){var t=Object.create(this.constructor.prototype),e=Object.create(this._ctx);return n&&u(e,n),t._ctx=e,t},raw:function(){return this._ctx.valueMapper=null,this},each:function(n){var t=this._ctx;return this._read(function(e,r,i){o(t,n,e,r,i)})},count:function(n){var t=this._ctx;if(bn(t,!0))return this._read(function(n,r,i){var o=e(t,i),u=t.range?o.count(t.range):o.count();u.onerror=Ot(r),u.onsuccess=function(e){n(Math.min(e.target.result,t.limit))}},n);var r=0;return this._read(function(n,e,i){o(t,function(){return++r,!1},function(){n(r)},e,i)},n)},sortBy:function(n,t){var e=n.split(\\\".\\\").reverse(),r=e[0],i=e.length-1;function o(n,t){return t?o(n[e[t]],t-1):n[r]}var u=\\\"next\\\"===this._ctx.dir?1:-1;function a(n,t){var e=o(n,i),r=o(t,i);return e<r?-u:e>r?u:0}return this.toArray(function(n){return n.sort(a)}).then(t)},toArray:function(n){var t=this._ctx;return this._read(function(n,r,i){if(s&&\\\"next\\\"===t.dir&&bn(t,!0)&&t.limit>0){var u=t.table.hook.reading.fire,a=e(t,i),c=t.limit<1/0?a.getAll(t.range,t.limit):a.getAll(t.range);c.onerror=Ot(r),c.onsuccess=Pt(u===Z?n:function(t){try{n(t.map(u))}catch(n){r(n)}})}else{var f=[];o(t,function(n){f.push(n)},function(){n(f)},r,i)}},n)},offset:function(n){var e=this._ctx;return n<=0?this:(e.offset+=n,bn(e)?t(e,function(){var t=n;return function(n,e){return 0===t||(1===t?(--t,!1):(e(function(){n.advance(t),t=0}),!1))}}):t(e,function(){var t=n;return function(){return--t<0}}),this)},limit:function(n){return this._ctx.limit=Math.min(this._ctx.limit,n),t(this._ctx,function(){var t=n;return function(n,e,r){return--t<=0&&e(r),t>=0}},!0),this},until:function(t,e){return n(this._ctx,function(n,r,i){return!t(n.value)||(r(i),e)}),this},first:function(n){return this.limit(1).toArray(function(n){return n[0]}).then(n)},last:function(n){return this.reverse().first(n)},filter:function(t){return n(this._ctx,function(n){return t(n.value)}),function(n,t){n.isMatch=In(n.isMatch,t)}(this._ctx,t),this},and:function(n){return this.filter(n)},or:function(n){return new pn(this._ctx.table,n,this)},reverse:function(){return this._ctx.dir=\\\"prev\\\"===this._ctx.dir?\\\"next\\\":\\\"prev\\\",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(n){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,e){n(e.key,e)})},eachUniqueKey:function(n){return this._ctx.unique=\\\"unique\\\",this.eachKey(n)},eachPrimaryKey:function(n){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,e){n(e.primaryKey,e)})},keys:function(n){var t=this._ctx;t.keysOnly=!t.isMatch;var e=[];return this.each(function(n,t){e.push(t.key)}).then(function(){return e}).then(n)},primaryKeys:function(n){var t=this._ctx;if(s&&\\\"next\\\"===t.dir&&bn(t,!0)&&t.limit>0)return this._read(function(n,r,i){var o=e(t,i),u=t.limit<1/0?o.getAllKeys(t.range,t.limit):o.getAllKeys(t.range);u.onerror=Ot(r),u.onsuccess=Pt(n)}).then(n);t.keysOnly=!t.isMatch;var r=[];return this.each(function(n,t){r.push(t.primaryKey)}).then(function(){return r}).then(n)},uniqueKeys:function(n){return this._ctx.unique=\\\"unique\\\",this.keys(n)},firstKey:function(n){return this.limit(1).keys(function(n){return n[0]}).then(n)},lastKey:function(n){return this.reverse().firstKey(n)},distinct:function(){var t=this._ctx,e=t.index&&t.table.schema.idxByName[t.index];if(!e||!e.multi)return this;var r={};return n(this._ctx,function(n){var t=n.primaryKey.toString(),e=c(r,t);return r[t]=!0,!e}),this},modify:function(n){var t=this,e=this._ctx.table.hook,i=e.updating.fire,o=e.deleting.fire;return this._write(function(e,a,s,f){var l;if(\\\"function\\\"==typeof n)l=i===X&&o===X?n:function(t){var e=T(t);if(!1===n.call(this,t,this))return!1;if(c(this,\\\"value\\\")){var u=S(e,this.value),a=i.call(this,u,this.primKey,e,f);a&&(t=this.value,r(a).forEach(function(n){j(t,n,a[n])}))}else o.call(this,this.primKey,t,f)};else if(i===X){var h=r(n),d=h.length;l=function(t){for(var e=!1,r=0;r<d;++r){var i=h[r],o=n[i];x(t,i)!==o&&(j(t,i,o),e=!0)}return e}}else{var v=n;n=A(v),l=function(t){var e=!1,o=i.call(this,n,this.primKey,T(t),f);return o&&u(n,o),r(n).forEach(function(r){var i=n[r];x(t,r)!==i&&(j(t,r,i),e=!0)}),o&&(n=A(v)),e}}var p=0,y=0,m=!1,g=[],b=[],w=null;function _(n){return n&&(g.push(n),b.push(w)),a(new W(\\\"Error modifying one or more objects\\\",g,y,b))}function E(){m&&y+g.length===p&&(g.length>0?_():e(y))}t.clone().raw()._iterate(function(n,t){w=t.primaryKey;var e={primKey:t.primaryKey,value:n,onsuccess:null,onerror:null};function r(n){return g.push(n),b.push(e.primKey),E(),!0}if(!1!==l.call(e,n,e)){var i=!c(e,\\\"value\\\");++p,k(function(){var n=i?t.delete():t.update(e.value);n._hookCtx=e,n.onerror=Tt(r),n.onsuccess=Et(function(){++y,E()})},r)}else e.onsuccess&&e.onsuccess(e.value)},function(){m=!0,E()},_,s)})},delete:function(){var n=this,t=this._ctx,e=t.range,r=t.table.hook.deleting.fire,i=r!==X;if(!i&&bn(t)&&(t.isPrimKey&&!kt||!e))return this._write(function(n,t,r){var i=Ot(t),o=e?r.count(e):r.count();o.onerror=i,o.onsuccess=function(){var u=o.result;k(function(){var t=e?r.delete(e):r.clear();t.onerror=i,t.onsuccess=function(){return n(u)}},function(n){return t(n)})}});var o=i?2e3:1e4;return this._write(function(e,u,a,s){var c=0,f=n.clone({keysOnly:!t.isMatch&&!i}).distinct().limit(o).raw(),l=[],h=function(){return f.each(i?function(n,t){l.push([t.primaryKey,t.value])}:function(n,t){l.push(t.primaryKey)}).then(function(){return i?l.sort(function(n,t){return En(n[0],t[0])}):l.sort(En),dn(a,s,l,i,r)}).then(function(){var n=l.length;return l=[],n<o?c+=n:h()})};e(h())})}}}),u(this,{Collection:gn,Table:ln,Transaction:vn,Version:un,WhereClause:pn}),H.on(\\\"versionchange\\\",function(n){n.newVersion>0?console.warn(\\\"Another connection wants to upgrade database '\\\"+H.name+\\\"'. Closing db now to resume the upgrade.\\\"):console.warn(\\\"Another connection wants to delete database '\\\"+H.name+\\\"'. Closing db now to resume the delete request.\\\"),H.close()}),H.on(\\\"blocked\\\",function(n){!n.newVersion||n.newVersion<n.oldVersion?console.warn(\\\"Dexie.delete('\\\"+H.name+\\\"') was blocked\\\"):console.warn(\\\"Upgrade '\\\"+H.name+\\\"' blocked by other connection holding version \\\"+n.oldVersion/10)}),v.forEach(function(n){n(H)})}function At(n,t){return r(t).forEach(function(e){var r=function n(t){if(\\\"function\\\"==typeof t)return new t;if(i(t))return[n(t[0])];if(t&&\\\"object\\\"==typeof t){var e={};return At(e,t),e}return t}(t[e]);n[e]=r}),n}function Et(n){return Qn(function(t){var e=t.target,r=e._hookCtx,i=r.value||e.result,o=r&&r.onsuccess;o&&o(i),n&&n(i)},n)}function Ot(n){return Qn(function(t){return St(t),n(t.target.error),!1})}function Pt(n){return Qn(function(t){n(t.target.result)})}function Tt(n){return Qn(function(t){var e=t.target,r=e.error,i=e._hookCtx,o=i&&i.onerror;return o&&o(r),St(t),n(r),!1})}function St(n){n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault()}function It(n){var t=function(t){return n.next(t)},e=o(t),r=o(function(t){return n.throw(t)});function o(n){return function(t){var o=n(t),u=o.value;return o.done?u:u&&\\\"function\\\"==typeof u.then?u.then(e,r):i(u)?Dn.all(u).then(e,r):e(u)}}return o(t)()}function Ct(n,t,e,r,i,o,u){this.name=n,this.keyPath=t,this.unique=e,this.multi=r,this.auto=i,this.compound=o,this.dotted=u;var a=\\\"string\\\"==typeof t?t:t&&\\\"[\\\"+[].join.call(t,\\\"+\\\")+\\\"]\\\";this.src=(e?\\\"&\\\":\\\"\\\")+(r?\\\"*\\\":\\\"\\\")+(i?\\\"++\\\":\\\"\\\")+a}function Dt(n,t,e,r){this.name=n,this.primKey=t||new Ct,this.indexes=e||[new Ct],this.instanceTemplate=r,this.mappedClass=null,this.idxByName=w(e,function(n){return[n.name,n]})}function Kt(n){return 1===n.length?n[0]:n}function Ft(n){var t=n&&(n.getDatabaseNames||n.webkitGetDatabaseNames);return t&&t.bind(n)}M(F,xt),f(jt,$),f(jt,{delete:function(n){var t=new jt(n),e=t.delete();return e.onblocked=function(n){return t.on(\\\"blocked\\\",n),this},e},exists:function(n){return new jt(n).open().then(function(n){return n.close(),!0}).catch(jt.NoSuchDatabaseError,function(){return!1})},getDatabaseNames:function(n){var t=Ft(jt.dependencies.indexedDB);return t?new Dn(function(n,e){var r=t();r.onsuccess=function(t){n(y(t.target.result,0))},r.onerror=Ot(e)}).then(n):dt.dbnames.toCollection().primaryKeys(n)},defineClass:function(){return function(n){n&&u(this,n)}},applyStructure:At,ignoreTransaction:function(n){return Tn.trans?ut(Tn.transless,n):n()},vip:function(n){return Zn(function(){return Tn.letThrough=!0,n()})},async:function(n){return function(){try{var t=It(n.apply(this,arguments));return t&&\\\"function\\\"==typeof t.then?t:Dn.resolve(t)}catch(n){return lt(n)}}},spawn:function(n,t,e){try{var r=It(n.apply(e,t||[]));return r&&\\\"function\\\"==typeof r.then?r:Dn.resolve(r)}catch(n){return lt(n)}},currentTransaction:{get:function(){return Tn.trans||null}},waitFor:function(n,t){var e=Dn.resolve(\\\"function\\\"==typeof n?jt.ignoreTransaction(n):n).timeout(t||6e4);return Tn.trans?Tn.trans.waitFor(e):e},Promise:Dn,debug:{get:function(){return F},set:function(n){M(n,\\\"dexie\\\"===n?function(){return!0}:xt)}},derive:d,extend:u,props:f,override:m,Events:ht,getByKeyPath:x,setByKeyPath:j,delByKeyPath:function(n,t){\\\"string\\\"==typeof t?j(n,t,void 0):\\\"length\\\"in t&&[].map.call(t,function(t){j(n,t,void 0)})},shallowClone:A,deepClone:T,getObjectDiff:S,asap:b,maxKey:pt,minKey:yt,addons:[],connections:bt,MultiModifyError:G.Modify,errnames:H,IndexSpec:Ct,TableSchema:Dt,dependencies:function(){try{return{indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch(n){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:\\\"{version}\\\",version:\\\"{version}\\\".split(\\\".\\\").map(function(n){return parseInt(n)}).reduce(function(n,t,e){return n+t/Math.pow(10,2*e)}),default:jt,Dexie:jt}),Dn.rejectionMapper=function(n,t){if(!n||n instanceof z||n instanceof TypeError||n instanceof SyntaxError||!n.name||!Y[n.name])return n;var e=new Y[n.name](t||n.message,n);return\\\"stack\\\"in n&&h(e,\\\"stack\\\",{get:function(){return this.inner.stack}}),e},(dt=new jt(\\\"__dbnames\\\")).version(1).stores({dbnames:\\\"name\\\"}),function(){try{void 0!==typeof localStorage&&void 0!==o.document&&(JSON.parse(localStorage.getItem(\\\"Dexie.DatabaseNames\\\")||\\\"[]\\\").forEach(function(n){return dt.dbnames.put({name:n}).catch(X)}),localStorage.removeItem(\\\"Dexie.DatabaseNames\\\"))}catch(n){}}(),t.a=jt}).call(this,e(0),e(5).setImmediate)},function(n,t,e){var r=e(4).default;e(7),self.onmessage=function(n){var t=n.data,e=t.turn,i=t.query,o=t.productFamily,u=void 0;try{u=r().infrastructureInventory}catch(n){return console.error(o+\\\" object search requires IndexedDB support.\\\",n),void self.postMessage(JSON.stringify({turn:e,error:n,id:o}))}u.where(\\\"productFamily\\\").equals(o).toArray().then(function(n){return n.reduce(function(n,t){return t.objects.forEach(function(e){var r=e.id,o=e.name;o&&o.toString().toLowerCase().includes(i.toLowerCase())&&(n[t.type]=n[t.type]||[],n[t.type].push(r))}),n},{})}).then(function(n){return self.postMessage(JSON.stringify({turn:e,results:n,id:o}))}).catch(function(n){return self.postMessage(JSON.stringify({turn:e,error:n,id:o}))})}},function(n,t,e){\\\"use strict\\\";e.r(t);var r=e(2),i=void 0;t.default=function(){return i||((i=new r.a(\\\"infosight\\\")).version(1).stores({infrastructureInventory:\\\"type,productFamily\\\"}),i)}},function(n,t,e){(function(n){var r=void 0!==n&&n||\\\"undefined\\\"!=typeof self&&self||window,i=Function.prototype.apply;function o(n,t){this._id=n,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(n){n&&n.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(n,t){clearTimeout(n._idleTimeoutId),n._idleTimeout=t},t.unenroll=function(n){clearTimeout(n._idleTimeoutId),n._idleTimeout=-1},t._unrefActive=t.active=function(n){clearTimeout(n._idleTimeoutId);var t=n._idleTimeout;t>=0&&(n._idleTimeoutId=setTimeout(function(){n._onTimeout&&n._onTimeout()},t))},e(6),t.setImmediate=\\\"undefined\\\"!=typeof self&&self.setImmediate||void 0!==n&&n.setImmediate||this&&this.setImmediate,t.clearImmediate=\\\"undefined\\\"!=typeof self&&self.clearImmediate||void 0!==n&&n.clearImmediate||this&&this.clearImmediate}).call(this,e(0))},function(n,t,e){(function(n,t){!function(n,e){\\\"use strict\\\";if(!n.setImmediate){var r,i=1,o={},u=!1,a=n.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(n);s=s&&s.setTimeout?s:n,\\\"[object process]\\\"==={}.toString.call(n.process)?r=function(n){t.nextTick(function(){f(n)})}:function(){if(n.postMessage&&!n.importScripts){var t=!0,e=n.onmessage;return n.onmessage=function(){t=!1},n.postMessage(\\\"\\\",\\\"*\\\"),n.onmessage=e,t}}()?function(){var t=\\\"setImmediate$\\\"+Math.random()+\\\"$\\\",e=function(e){e.source===n&&\\\"string\\\"==typeof e.data&&0===e.data.indexOf(t)&&f(+e.data.slice(t.length))};n.addEventListener?n.addEventListener(\\\"message\\\",e,!1):n.attachEvent(\\\"onmessage\\\",e),r=function(e){n.postMessage(t+e,\\\"*\\\")}}():n.MessageChannel?function(){var n=new MessageChannel;n.port1.onmessage=function(n){f(n.data)},r=function(t){n.port2.postMessage(t)}}():a&&\\\"onreadystatechange\\\"in a.createElement(\\\"script\\\")?function(){var n=a.documentElement;r=function(t){var e=a.createElement(\\\"script\\\");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,n.removeChild(e),e=null},n.appendChild(e)}}():r=function(n){setTimeout(f,0,n)},s.setImmediate=function(n){\\\"function\\\"!=typeof n&&(n=new Function(\\\"\\\"+n));for(var t=new Array(arguments.length-1),e=0;e<t.length;e++)t[e]=arguments[e+1];var u={callback:n,args:t};return o[i]=u,r(i),i++},s.clearImmediate=c}function c(n){delete o[n]}function f(n){if(u)setTimeout(f,0,n);else{var t=o[n];if(t){u=!0;try{!function(n){var t=n.callback,r=n.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(e,r)}}(t)}finally{c(n),u=!1}}}}}(\\\"undefined\\\"==typeof self?void 0===n?this:n:self)}).call(this,e(0),e(1))},function(n,t,e){\\\"use strict\\\";n.exports=e(8).polyfill()},function(n,t,e){(function(t,e){\\n/*!\\n * @overview es6-promise - a tiny implementation of Promises/A+.\\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\\n * @license   Licensed under MIT license\\n *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\\n * @version   v4.2.6+9869a4bc\\n */\\n!function(t,e){n.exports=e()}(0,function(){\\\"use strict\\\";function n(n){return\\\"function\\\"==typeof n}var r=Array.isArray?Array.isArray:function(n){return\\\"[object Array]\\\"===Object.prototype.toString.call(n)},i=0,o=void 0,u=void 0,a=function(n,t){v[i]=n,v[i+1]=t,2===(i+=2)&&(u?u(p):y())};var s=\\\"undefined\\\"!=typeof window?window:void 0,c=s||{},f=c.MutationObserver||c.WebKitMutationObserver,l=\\\"undefined\\\"==typeof self&&void 0!==t&&\\\"[object process]\\\"==={}.toString.call(t),h=\\\"undefined\\\"!=typeof Uint8ClampedArray&&\\\"undefined\\\"!=typeof importScripts&&\\\"undefined\\\"!=typeof MessageChannel;function d(){var n=setTimeout;return function(){return n(p,1)}}var v=new Array(1e3);function p(){for(var n=0;n<i;n+=2){(0,v[n])(v[n+1]),v[n]=void 0,v[n+1]=void 0}i=0}var y=void 0;function m(n,t){var e=this,r=new this.constructor(w);void 0===r[b]&&F(r);var i=e._state;if(i){var o=arguments[i-1];a(function(){return D(i,r,o,e._result)})}else I(e,r,n,t);return r}function g(n){if(n&&\\\"object\\\"==typeof n&&n.constructor===this)return n;var t=new this(w);return O(t,n),t}y=l?function(){return t.nextTick(p)}:f?function(){var n=0,t=new f(p),e=document.createTextNode(\\\"\\\");return t.observe(e,{characterData:!0}),function(){e.data=n=++n%2}}():h?function(){var n=new MessageChannel;return n.port1.onmessage=p,function(){return n.port2.postMessage(0)}}():void 0===s?function(){try{var n=Function(\\\"return this\\\")().require(\\\"vertx\\\");return void 0!==(o=n.runOnLoop||n.runOnContext)?function(){o(p)}:d()}catch(n){return d()}}():d();var b=Math.random().toString(36).substring(2);function w(){}var _=void 0,k=1,x=2,j={error:null};function A(n){try{return n.then}catch(n){return j.error=n,j}}function E(t,e,r){e.constructor===t.constructor&&r===m&&e.constructor.resolve===g?function(n,t){t._state===k?T(n,t._result):t._state===x?S(n,t._result):I(t,void 0,function(t){return O(n,t)},function(t){return S(n,t)})}(t,e):r===j?(S(t,j.error),j.error=null):void 0===r?T(t,e):n(r)?function(n,t,e){a(function(n){var r=!1,i=function(n,t,e,r){try{n.call(t,e,r)}catch(n){return n}}(e,t,function(e){r||(r=!0,t!==e?O(n,e):T(n,e))},function(t){r||(r=!0,S(n,t))},n._label);!r&&i&&(r=!0,S(n,i))},n)}(t,e,r):T(t,e)}function O(n,t){n===t?S(n,new TypeError(\\\"You cannot resolve a promise with itself\\\")):!function(n){var t=typeof n;return null!==n&&(\\\"object\\\"===t||\\\"function\\\"===t)}(t)?T(n,t):E(n,t,A(t))}function P(n){n._onerror&&n._onerror(n._result),C(n)}function T(n,t){n._state===_&&(n._result=t,n._state=k,0!==n._subscribers.length&&a(C,n))}function S(n,t){n._state===_&&(n._state=x,n._result=t,a(P,n))}function I(n,t,e,r){var i=n._subscribers,o=i.length;n._onerror=null,i[o]=t,i[o+k]=e,i[o+x]=r,0===o&&n._state&&a(C,n)}function C(n){var t=n._subscribers,e=n._state;if(0!==t.length){for(var r=void 0,i=void 0,o=n._result,u=0;u<t.length;u+=3)r=t[u],i=t[u+e],r?D(e,r,i,o):i(o);n._subscribers.length=0}}function D(t,e,r,i){var o=n(r),u=void 0,a=void 0,s=void 0,c=void 0;if(o){if((u=function(n,t){try{return n(t)}catch(n){return j.error=n,j}}(r,i))===j?(c=!0,a=u.error,u.error=null):s=!0,e===u)return void S(e,new TypeError(\\\"A promises callback cannot return that same promise.\\\"))}else u=i,s=!0;e._state!==_||(o&&s?O(e,u):c?S(e,a):t===k?T(e,u):t===x&&S(e,u))}var K=0;function F(n){n[b]=K++,n._state=void 0,n._result=void 0,n._subscribers=[]}var M=function(){function n(n,t){this._instanceConstructor=n,this.promise=new n(w),this.promise[b]||F(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?T(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&T(this.promise,this._result))):S(this.promise,new Error(\\\"Array Methods must be provided an Array\\\"))}return n.prototype._enumerate=function(n){for(var t=0;this._state===_&&t<n.length;t++)this._eachEntry(n[t],t)},n.prototype._eachEntry=function(n,t){var e=this._instanceConstructor,r=e.resolve;if(r===g){var i=A(n);if(i===m&&n._state!==_)this._settledAt(n._state,t,n._result);else if(\\\"function\\\"!=typeof i)this._remaining--,this._result[t]=n;else if(e===B){var o=new e(w);E(o,n,i),this._willSettleAt(o,t)}else this._willSettleAt(new e(function(t){return t(n)}),t)}else this._willSettleAt(r(n),t)},n.prototype._settledAt=function(n,t,e){var r=this.promise;r._state===_&&(this._remaining--,n===x?S(r,e):this._result[t]=e),0===this._remaining&&T(r,this._result)},n.prototype._willSettleAt=function(n,t){var e=this;I(n,void 0,function(n){return e._settledAt(k,t,n)},function(n){return e._settledAt(x,t,n)})},n}();var B=function(){function t(n){this[b]=K++,this._result=this._state=void 0,this._subscribers=[],w!==n&&(\\\"function\\\"!=typeof n&&function(){throw new TypeError(\\\"You must pass a resolver function as the first argument to the promise constructor\\\")}(),this instanceof t?function(n,t){try{t(function(t){O(n,t)},function(t){S(n,t)})}catch(t){S(n,t)}}(this,n):function(){throw new TypeError(\\\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\\\")}())}return t.prototype.catch=function(n){return this.then(null,n)},t.prototype.finally=function(t){var e=this.constructor;return n(t)?this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){throw n})}):this.then(t,t)},t}();return B.prototype.then=m,B.all=function(n){return new M(this,n).promise},B.race=function(n){var t=this;return r(n)?new t(function(e,r){for(var i=n.length,o=0;o<i;o++)t.resolve(n[o]).then(e,r)}):new t(function(n,t){return t(new TypeError(\\\"You must pass an array to race.\\\"))})},B.resolve=g,B.reject=function(n){var t=new this(w);return S(t,n),t},B._setScheduler=function(n){u=n},B._setAsap=function(n){a=n},B._asap=a,B.polyfill=function(){var n=void 0;if(void 0!==e)n=e;else if(\\\"undefined\\\"!=typeof self)n=self;else try{n=Function(\\\"return this\\\")()}catch(n){throw new Error(\\\"polyfill failed because global object is unavailable in this environment\\\")}var t=n.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(n){}if(\\\"[object Promise]\\\"===r&&!t.cast)return}n.Promise=B},B.Promise=B,B})}).call(this,e(1),e(0))}]);\\n//# sourceMappingURL=5c965e7217e5100fe3ab.worker.js.map\", null);\n};","export const ID = 'nimble'; // eslint-disable-line import/prefer-default-export\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport autobind from 'react-autobind';\nimport { withRouter } from 'react-router-dom';\nimport { addMenu, removeMenu } from '@infosight/shell-api/lib/PrimaryNav';\nimport { onUserContextChange } from '@infosight/shell-api/lib/UserProfile';\nimport { buildUrl } from '@infosight/elmer/dist/utils/url';\nimport { AuthorizationEvaluator, AUTHORITIES, nimbleTenantAdminAccess, nimbleThirdPartyPermissionRequestAccess } from '../../user';\nimport { nimbleResellerAuthorizationEvaluator, NimbleUserTenantHelpers } from '../tenantSelection';\nimport { productInterface as nimble } from '../config';\nimport { BASE_URL } from '../../../config';\nimport { ID } from './constants';\n\nclass PrimaryNavExtension extends Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n    }\n\n    componentDidMount() {\n        this.handleUpdate();\n        this.unsubscribe = onUserContextChange(this.handleUpdate);\n    }\n\n    componentWillUnmount() {\n        if (this.unsubscribe) {\n            this.unsubscribe();\n        }\n    }\n\n    getDashboard({ match }) { // eslint-disable-line class-methods-use-this\n        // TODO the global user should be injected via some API or via commands\n        const options = AuthorizationEvaluator.filter([\n            {\n                id: 'nimble', // Don't change the id properties without updating the nav sorting\n                title: 'Nimble Storage',\n                options: AuthorizationEvaluator.filter([\n                    {\n                        id: 'operational',\n                        title: 'Operational',\n                        url: buildUrl(match.url, '/dashboards/nimble/operational'),\n                    },\n                    {\n                        id: 'executive',\n                        title: 'Executive',\n                        url: buildUrl(match.url, '/dashboards/nimble/executive'),\n                    },\n                    {\n                        id: 'wellness',\n                        title: 'Wellness',\n                        url: buildUrl(match.url, '/dashboards/nimble/wellness'),\n                    },\n                    {\n                        id: 'capacity',\n                        title: 'Capacity',\n                        url: buildUrl(match.url, '/dashboards/nimble/capacity'),\n                    },\n                    {\n                        id: 'labs',\n                        title: 'Labs',\n                        url: buildUrl(match.url, '/dashboards/nimble/labs'),\n                    },\n                ]),\n                access: {\n                    custom() {\n                        const resellerCase = nimbleResellerAuthorizationEvaluator();\n                        if (resellerCase !== undefined) {\n                            return resellerCase;\n                        }\n\n                        return NimbleUserTenantHelpers.currentTenantIsNimbleTenant() && AuthorizationEvaluator.evaluate({\n                            access: {\n                                authorities: AUTHORITIES.PRODUCT_FAMILY_NIMBLE,\n                            },\n                        });\n                    },\n                },\n            },\n        ]);\n\n        /* When we switch tenant we call loadAuthorizationEvaluator to get authorization for new tenant, till the time\n         * this API call is not completed AuthorizationEvaluator filters all the options that are passed.\n         * As default value of NimbleUserTenantHelpers.isReseller() is false, so during this switch who is not authorized as reseller\n         * will not see this option.\n         */\n        if (NimbleUserTenantHelpers.isReseller()) {\n            options[0].options.unshift({\n                id: 'resellerdashboard',\n                title: 'Reseller',\n                url: buildUrl(match.url, '/dashboards/nimble/resellerdashboard'),\n            });\n        }\n\n        return options.length ? options : null;\n    }\n\n    getInfrastructure({ match }) { // eslint-disable-line class-methods-use-this\n        const config = nimble;\n        const options = AuthorizationEvaluator.filter([\n            {\n                id: 'storage/nimble', // Don't change the id properties without updating the nav sorting\n                title: config.attributes.name,\n\n                options: config.getNavRoutes().map(({ type, route }) => ({\n                    id: route,\n                    url: buildUrl(match.url, 'infrastructure', 'storage', 'nimble', route),\n                    title: config.getPluralTitle(type),\n                    preserveQueries: config.attributes.preserveQueries,\n                })),\n                access: {\n                    custom() {\n                        const resellerCase = nimbleResellerAuthorizationEvaluator();\n                        if (resellerCase !== undefined) {\n                            return resellerCase;\n                        }\n\n                        return NimbleUserTenantHelpers.currentTenantIsNimbleTenant() && AuthorizationEvaluator.evaluate({\n                            access: {\n                                authorities: AUTHORITIES.PRODUCT_FAMILY_NIMBLE,\n                            },\n                        });\n                    },\n                },\n            },\n        ]);\n\n        if (!options.length) {\n            return null;\n        }\n\n        return options.map(x => ({ tier: 'Storage', options: x }));\n    }\n\n    getResources({ match }) { // eslint-disable-line class-methods-use-this\n        const options = AuthorizationEvaluator.filter([\n            {\n                id: 'nimble', // Don't change the id properties without updating the nav sorting\n                title: 'Nimble Storage',\n                depth: 1,\n                options: AuthorizationEvaluator.filter([\n                    {\n                        id: 'support',\n                        title: 'Support',\n                        url: buildUrl(match.url, '/resources/nimble/support'),\n                        access: {\n                            custom() {\n                                return NimbleUserTenantHelpers.currentTenantIsNimbleTenant() && AuthorizationEvaluator.evaluate({\n                                    access: {\n                                        $or: [\n                                            {\n                                                authorities: AUTHORITIES.PRODUCT_FAMILY_NIMBLE,\n                                            },\n                                            {\n                                                authorities: [AUTHORITIES.SUPPORT_CASE],\n                                            },\n                                        ],\n                                    },\n                                });\n                            },\n                        },\n                    },\n                    {\n                        id: 'docs',\n                        title: 'Documentation',\n                        url: buildUrl(match.url, '/resources/nimble/docs'),\n                        access: {\n                            authorities: [AUTHORITIES.PRODUCT_FAMILY_NIMBLE, AUTHORITIES.PRODUCT_FAMILY_STOREONCE, AUTHORITIES.PRODUCT_FAMILY_STORESERV],\n                        },\n                    },\n                    {\n                        id: 'software',\n                        title: 'Software Downloads',\n                        url: buildUrl(match.url, '/resources/nimble/software'),\n                        access: {\n                            custom() {\n                                return NimbleUserTenantHelpers.currentTenantIsNimbleTenant() && AuthorizationEvaluator.evaluate({\n                                    access: {\n                                        authorities: AUTHORITIES.PRODUCT_FAMILY_NIMBLE,\n                                    },\n                                });\n                            },\n                        },\n                    },\n                    {\n                        id: 'vmarray',\n                        title: 'Virtual Array Licenses',\n                        url: buildUrl(match.url, '/resources/nimble/vmarray'),\n                        access: {\n                            custom() {\n                                return NimbleUserTenantHelpers.currentTenantIsNimbleTenant() && AuthorizationEvaluator.evaluate({\n                                    access: {\n                                        authorities: [AUTHORITIES.VIRTUAL_ARRAY_ACCESS],\n                                    },\n                                });\n                            },\n                        },\n                    },\n                    {\n                        id: 'validated-configuration-matrix',\n                        title: 'Validated Configuration Matrix',\n                        url: '/resources/nimble/validated-configuration-matrix',\n                        access: {\n                            authorities: [AUTHORITIES.PRODUCT_FAMILY_NIMBLE, AUTHORITIES.REALM_INTERNAL],\n                        },\n                    },\n                    {\n                        id: 'sizing-primary',\n                        title: 'Primary Storage Sizing Tool',\n                        url: `${buildUrl(BASE_URL, 'labs/apps/sizing_tools/primary_storage')}/`,\n                        nodeType: 'external',\n                        access: {\n                            authorities: [AUTHORITIES.REALM_INTERNAL, AUTHORITIES.ATTRIBUTE_NIMBLE_RESELLER],\n                        },\n                    },\n                    {\n                        id: 'sizing-sfa',\n                        title: 'Backup Storage Sizing Tool',\n                        url: `${buildUrl(BASE_URL, 'labs/apps/sizing_tools/secondary_storage')}/`,\n                        nodeType: 'external',\n                        access: {\n                            authorities: [AUTHORITIES.REALM_INTERNAL, AUTHORITIES.ATTRIBUTE_NIMBLE_RESELLER],\n                        },\n                    },\n                    {\n                        id: 'connect',\n                        title: 'Nimble Connect',\n                        url: 'https://community.hpe.com/t5/HPE-Nimble-Storage/ct-p/nimble-storage',\n                        nodeType: 'external',\n                    },\n                    {\n                        id: 'audit-report',\n                        title: 'Audit Report',\n                        url: buildUrl(match.url, '/resources/nimble/audit-report'),\n                        access: {\n                            custom() {\n                                return NimbleUserTenantHelpers.currentTenantIsNimbleTenant() &&\n                                    AuthorizationEvaluator.evaluate({ access: nimbleThirdPartyPermissionRequestAccess })\n                                    && !AuthorizationEvaluator.evaluate({ access: { authorities: AUTHORITIES.ATTRIBUTE_NIMBLE_SUPPORT_PROVIDER } });\n                            },\n                        },\n                        nodeType: 'internal',\n                        divider: true,\n                    },\n                ]),\n                collapseHeader: false,\n            },\n        ]);\n\n        return options.length ? options : null;\n    }\n\n    getSettings({ match }) { // eslint-disable-line class-methods-use-this\n        const options = AuthorizationEvaluator.filter([\n            {\n                id: 'nsis', // Don't change the id properties without updating the nav sorting\n                title: 'Nimble Storage',\n                options: AuthorizationEvaluator.filter([\n                    {\n                        id: 'selfRegistration',\n                        title: 'Customer Registration',\n                        url: buildUrl(match.url, '/settings/nimble/registration'),\n                        access: {\n                            authorities: {\n                                $not: [AUTHORITIES.PRODUCT_FAMILY_NIMBLE],\n                            },\n                        },\n                        nodeType: 'internal',\n                    },\n                    {\n                        id: 'permissions',\n                        title: 'Permissions',\n                        url: buildUrl(match.url, '/settings/nimble/permissions'),\n                        access: {\n                            custom() {\n                                return NimbleUserTenantHelpers.currentTenantIsNimbleTenant() &&\n                                    AuthorizationEvaluator.evaluate({ access: nimbleThirdPartyPermissionRequestAccess })\n                                    && !AuthorizationEvaluator.evaluate({ access: { authorities: AUTHORITIES.ATTRIBUTE_NIMBLE_SUPPORT_PROVIDER } });\n                            },\n                        },\n                        nodeType: 'internal',\n                    },\n                    {\n                        id: 'telemetry',\n                        title: 'Telemetry Settings',\n                        url: buildUrl(match.url, '/settings/nimble/telemetry'),\n                        access: {\n                            custom() {\n                                return NimbleUserTenantHelpers.currentTenantIsNimbleTenant() && AuthorizationEvaluator.evaluate(nimbleTenantAdminAccess);\n                            },\n                        },\n                        nodeType: 'internal',\n                    },\n                    {\n                        id: 'registry',\n                        title: 'Asset Registry',\n                        url: buildUrl(match.url, '/settings/nimble/assetRegistry'),\n                        access: {\n                            custom() {\n                                return NimbleUserTenantHelpers.currentTenantIsNimbleTenant() && AuthorizationEvaluator.evaluate({\n                                    access: {\n                                        $or: [\n                                            nimbleTenantAdminAccess,\n                                            { authorities: AUTHORITIES.ADDRESS_ADMIN },\n                                        ],\n                                    },\n                                });\n                            },\n                        },\n                        nodeType: 'internal',\n                    },\n                ]),\n                collapseHeader: false,\n            },\n        ]).filter(({ options: innerOptions }) => !innerOptions || innerOptions.length);\n\n        return options.length ? options : null;\n    }\n\n    handleUpdate() { // eslint-disable-line class-methods-use-this\n        // TODO this stuff needs to be passed in from something whether its via an extension or passed down via props.\n        // Consider wrapping up all extensions into a component that is a sibling of ExtensionPoints\n        const externals = { match: this.props.match };\n\n        // Everything is always here so we can react to changes\n        [\n            { menuId: 'dashboards', id: ID, content: this.getDashboard(externals) },\n            { menuId: 'infrastructure', id: ID, content: this.getInfrastructure(externals) },\n            { menuId: 'resources', id: ID, content: this.getResources(externals) },\n            { menuId: 'settings', id: ID, content: this.getSettings(externals) },\n        ].forEach((extension) => {\n            if (extension.content) {\n                addMenu(extension);\n            } else {\n                removeMenu(extension);\n            }\n        });\n    }\n\n    render() {\n        return null;\n    }\n}\n\nPrimaryNavExtension.propTypes = {\n    match: PropTypes.object.isRequired,\n};\n\nexport default withRouter(PrimaryNavExtension);\n","import { actionNamespacer } from '@infosight/elmer/dist/utils/redux';\n\nconst ns = actionNamespacer('BOOTSTRAP');\nexport const FETCH_BOOTSTRAP = ns('FETCH_BOOTSTRAP');\nexport const FETCH_BOOTSTRAP_SUCCEEDED = ns('FETCH_BOOTSTRAP_SUCCEEDED');\nexport const START_LEGACY_APP = ns('START_LEGACY_APP');\n","/*** IMPORTS FROM imports-loader ***/\nvar jQuery = window.nimbleShims.jQuery_1_11_1;\n\nimport { createReducersForAction, createSelector, getInitialState } from '@infosight/elmer/dist/utils/redux';\nimport { FETCH_BOOTSTRAP, START_LEGACY_APP } from './store/constants';\n\nconst initialState = {\n    ...getInitialState('bootstrap'),\n    ...getInitialState('legacy'),\n};\n\nconst ACTION_HANDLERS = {\n    ...createReducersForAction({ type: FETCH_BOOTSTRAP, stateKey: 'bootstrap' }),\n    ...createReducersForAction({ type: START_LEGACY_APP, stateKey: 'legacy' }),\n};\n\nexport function reducer(state = initialState, action) {\n    const handler = ACTION_HANDLERS[action.type];\n    return handler ? handler(state, action) : state;\n}\n\n// Selectors\nconst baseSelector = state => state.bootstrap;\n\nexport const bootstrapSelector = createSelector(baseSelector, 'bootstrap');\nexport const bootstrapLegacySelector = createSelector(baseSelector, 'legacy');\n\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport Async from '@infosight/elmer/dist/components/Async';\nimport NoData from '@infosight/elmer/dist/components/NoData';\nimport { InfrastructurePages } from '@infosight/elmer/dist/infrastructure';\nimport { fetchInventory, reset, inventorySelector } from './inventory';\nimport { productInterface as config } from './config'; // eslint-disable-line import/no-named-as-default\nimport { bootstrapSelector } from '../../bootstrapReducer';\n\nclass NimbleInfrastructureRouter extends Component {\n    componentDidMount() {\n        const { loadedObjects, loadingObjects, loadedBootstrap } = this.props;\n        if (!loadedObjects && !loadingObjects && loadedBootstrap) {\n            this.props.fetchInventory();\n        }\n    }\n\n    render() {\n        const { loadedObjects, loadingObjects } = this.props;\n        return (\n            <Async loading={loadingObjects}>\n                <NoData hasData={loadedObjects}>\n                    {() => <InfrastructurePages productInterface={config} />}\n                </NoData>\n            </Async>\n        );\n    }\n}\n\nNimbleInfrastructureRouter.propTypes = {\n    fetchInventory: PropTypes.func.isRequired,\n    loadingObjects: PropTypes.bool,\n    loadedObjects: PropTypes.bool,\n    loadedBootstrap: PropTypes.bool,\n};\n\nconst mapStateToProps = state => ({\n    ...inventorySelector(state),\n    ...bootstrapSelector(state),\n});\nconst mapDispatchToProps = { fetchInventory, resetInventory: reset };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NimbleInfrastructureRouter);\n","import React from 'react';\nimport classnames from 'classnames/bind';\n\nimport NimbleLegacyContainer from '../../../../containers/NimbleLegacyContainer';\nimport OperationalDashboardView from '../../../../../app/modules/dashboard/OperationalDashboardView';\n\nimport style from './style.scss';\n\nconst cx = classnames.bind(style);\n\nconst OperationalDashboard = () => (\n    <div className={cx('container')}>\n        <h2 className={cx('title')}>Operational Dashboard</h2>\n        <NimbleLegacyContainer\n            className=\"ops-dashboard-view\"\n            createLegacyView={el => new OperationalDashboardView({ el })}\n        />\n    </div>\n);\n\nexport default OperationalDashboard;\n","import React from 'react';\nimport classnames from 'classnames/bind';\nimport NimbleLegacyContainer from '../../../../containers/NimbleLegacyContainer';\nimport ExecutiveDashboardView from '../../../../../app/modules/reports/executiveDashboard/ExecutiveDashboardReportView';\nimport style from './style.scss';\n\nconst cx = classnames.bind(style);\n\nconst ExecutiveDashboard = () => (\n    <NimbleLegacyContainer\n        className={classnames('dashboard-view', cx('legacyPage'))}\n        createLegacyView={el => new ExecutiveDashboardView({ el })}\n    />\n);\n\nexport default ExecutiveDashboard;\n\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Route, withRouter } from 'react-router-dom';\nimport autobind from 'react-autobind';\nimport deparam from 'jquery-deparam';\nimport Card from '@infosight/elmer/dist/components/Card';\nimport NimbleLegacyContainer, { awaitLegacyApp } from '../../../../containers/NimbleLegacyContainer';\nimport WellnessView from '../../../../../app/modules/wellness/WellnessView';\n\n/* eslint-disable react/no-multi-comp */\nclass DetailsRouteHandler extends Component {\n    componentDidMount() {\n        this.showDetails();\n    }\n\n    componentDidUpdate() {\n        this.showDetails();\n    }\n\n    showDetails() {\n        let filters;\n        if (this.props.location.search) {\n            filters = deparam(this.props.location.search.slice(1));\n        }\n        this.props.view.showDetails(filters);\n    }\n\n    render() {\n        return null;\n    }\n}\n\nDetailsRouteHandler.propTypes = {\n    view: PropTypes.object.isRequired,\n    location: PropTypes.shape({\n        search: PropTypes.string.isRequired,\n    }).isRequired,\n};\n\nconst DetailsHandler = withRouter(DetailsRouteHandler);\n\nclass WellnessDashboard extends Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n        // Passing history down the component, this is not the right way, but only till better solution\n        this.view = new WellnessView({ history: this.props.history });\n    }\n\n    attachView(el) {\n        this.view.setElement(el);\n        return this.view;\n    }\n\n    render() {\n        const { match } = this.props;\n        return (\n            <Card>\n                <NimbleLegacyContainer createLegacyView={this.attachView} />\n                <Route path={`${match.path}/details`} render={() => <DetailsHandler view={this.view} />} />\n            </Card>\n        );\n    }\n}\n\nWellnessDashboard.propTypes = {\n    // Injected by withRouter\n    match: PropTypes.object.isRequired,\n    history: PropTypes.object.isRequired,\n};\n\nexport default awaitLegacyApp(withRouter(WellnessDashboard));\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Link, withRouter } from 'react-router-dom';\nimport autobind from 'react-autobind';\nimport classnames from 'classnames/bind';\n\nimport Card from '@infosight/elmer/dist/components/Card';\nimport Spinner from '@infosight/elmer/dist/components/Spinner';\n\nimport { tenantSelector } from '../../../user';\nimport style from './style.scss';\n\nconst cx = classnames.bind(style);\n\nconst Header = () => (\n    <div className={classnames('h1', cx('header'))}>\n        <Link to=\"/dashboards/nimble/wellness\">Wellness</Link>\n        <span>Rule Configuration</span>\n    </div>\n);\n\nclass WellnessRulesPage extends Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n        this.state = {\n            loaded: false,\n        };\n    }\n\n    componentDidMount() {\n        this.setContainerHeight();\n    }\n\n    componentDidUpdate() {\n        this.setContainerHeight();\n    }\n\n    onIframeLoad() {\n        this.setState({\n            loaded: true,\n        });\n    }\n\n    setContainerHeight() {\n        const bottomPadding = 30; // 20px card padding + 10px padding to bottom of viewport\n        const viewportOffsetTop = Math.round(this.containerEl.getBoundingClientRect().top);\n        this.containerEl.style.height = `calc(100vh - ${viewportOffsetTop + bottomPadding}px)`;\n    }\n\n    render() {\n        const { tenantSelection, location: { search } } = this.props;\n        const { loaded } = this.state;\n        const queryParams = search ? `&${search.substr(1)}` : '';\n\n        return (\n            <div className={cx('rules-page')}>\n                <Header />\n                <Card className={cx('frame-container')} >\n                    <div ref={((el) => { this.containerEl = el; })}>\n                        {!loaded && <Spinner />}\n                        <iframe\n                            title=\"wellnessOptions\"\n                            className={classnames({ hide: !loaded })}\n                            onLoad={this.onIframeLoad}\n                            src={`/InfoSight/cgi/wellnessOptions?accountId=${tenantSelection.tenant.id}${queryParams}`}\n                        />\n                    </div>\n                </Card>\n            </div>\n        );\n    }\n}\n\nWellnessRulesPage.propTypes = {\n    tenantSelection: PropTypes.object,\n\n    location: PropTypes.shape({\n        search: PropTypes.string.isRequired,\n    }).isRequired,\n};\n\nconst mapStateToProps = state => ({\n    tenantSelection: tenantSelector(state),\n});\n\nexport default connect(mapStateToProps)(withRouter(WellnessRulesPage));\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport classnames from 'classnames/bind';\n\nimport Card from '@infosight/elmer/dist/components/Card';\nimport NimbleLegacyContainer from '../../../../containers/NimbleLegacyContainer';\nimport MaintenanceWindowView from '../../../../../app/modules/wellness/maintenanceWindow/MaintenanceWindowView';\n\nimport style from './style.scss';\n\nconst cx = classnames.bind(style);\n\nexport default () => (\n    <React.Fragment>\n        <div className={classnames('h1', cx('header'))}>\n            <Link to=\"/dashboards/nimble/wellness\">Wellness</Link>\n            <span>Maintenance Windows</span>\n        </div>\n        <Card>\n            <NimbleLegacyContainer createLegacyView={el => new MaintenanceWindowView({ el })} />\n        </Card>\n    </React.Fragment>\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Route, Switch, withRouter } from 'react-router-dom';\n\nimport WellnessDashboard from './WellnessDashboard';\nimport WellnessRulesPage from './WellnessRulesPage';\nimport MaintenanceWindowPage from './MaintenanceWindowPage';\n\nconst WellnessRouter = ({ match }) => (\n    <div>\n        <Switch>\n            <Route path={`${match.path}/rules`} component={WellnessRulesPage} />\n            <Route path={`${match.path}/maintenance-windows`} component={MaintenanceWindowPage} />\n            <Route path={match.path} component={WellnessDashboard} />\n        </Switch>\n    </div>\n);\n\nWellnessRouter.propTypes = {\n    // Injected by withRouter\n    match: PropTypes.object.isRequired,\n};\n\nexport default withRouter(WellnessRouter);\n","/* eslint-disable react/prop-types, react/no-multi-comp */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport autobind from 'react-autobind';\nimport classnames from 'classnames/bind';\nimport { connect } from 'react-redux';\nimport Route from 'react-router-dom/Route';\nimport Switch from 'react-router-dom/Switch';\nimport Async from '@infosight/elmer/dist/components/Async';\nimport { buildUrl } from '@infosight/elmer/dist/utils/url';\nimport LabsView from '../../../../../app/modules/labs/LabsView';\nimport LabAppView from '../../../../../app/modules/labs/LabAppView';\nimport LabAppCollection from '../../../../../app/modules/labs/LabAppCollection';\nimport breadcrumbStyle from '../../legacyStyles/breadcrumbs.scss';\nimport style from './style.scss';\nimport Request from '../../../../services/Request';\nimport { awaitLegacyApp } from '../../../../containers/NimbleLegacyContainer';\nimport { tenantSelector } from '../../../user';\n\nconst cx = classnames.bind({ ...style, ...breadcrumbStyle });\n\nclass LandingPage extends Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n    }\n\n    componentWillUnmount() {\n        if (this.view) {\n            this.view.destroy();\n        }\n    }\n\n    renderView(el) {\n        if (!this.view) {\n            const { match, collection } = this.props;\n            this.view = new LabsView({ collection, path: match.url });\n            this.view.setElement(el).render();\n        }\n    }\n\n    render() {\n        return (\n            <div className={cx('container')}>\n                <div className=\"labs-view\" ref={this.renderView} />\n            </div>\n        );\n    }\n}\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n    }\n\n    componentWillUnmount() {\n        if (this.view) {\n            this.view.destroy();\n        }\n    }\n\n    renderView(el) {\n        if (!this.view) {\n            const { match, pod, collection } = this.props;\n            this.view = new LabAppView({ pod, appid: match.params.appid, path: match.url, collection });\n            this.view.setElement(el).render();\n        }\n    }\n\n    render() {\n        return (\n            <div className={cx('container', 'legacy-breadcrumbs')}>\n                <div className=\"lab-app\" ref={this.renderView} />\n            </div>\n        );\n    }\n}\n\nclass LabsContainer extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = { pod: null, collection: LabAppCollection.INSTANCE };\n    }\n\n    componentDidMount() {\n        const { tenant } = this.props;\n        if (!this.state.pod) {\n            new Request()\n                .central()\n                .slash('labs/pod')\n                .query({ accountId: tenant.id })\n                .get()\n                .then(({ data }) => this.setState({ pod: data }));\n        }\n\n        if (!LabAppCollection.INSTANCE) {\n            LabAppCollection.INSTANCE = new LabAppCollection();\n            LabAppCollection.INSTANCE.fetch()\n                .done(() => this.setState({ collection: LabAppCollection.INSTANCE }));\n        }\n    }\n\n    render() {\n        const { match } = this.props;\n        const { collection, pod } = this.state;\n        return (\n            <Async loading={!(collection && pod)}>\n                {() => (\n                    <Switch>\n                        <Route exact path={buildUrl(match.path, ':appid')} render={props => <App {...props} {...this.state} />} />\n                        <Route render={props => <LandingPage {...props} {...this.state} />} />\n                    </Switch>\n                )}\n            </Async>\n        );\n    }\n}\n\nLabsContainer.propTypes = {\n    tenant: PropTypes.shape({\n        id: PropTypes.string.isRequired,\n        name: PropTypes.string.isRequired,\n    }).isRequired,\n};\n\nexport default awaitLegacyApp(connect(state => tenantSelector(state))(LabsContainer));\n","import { actionsFor } from '@infosight/elmer/dist/utils/redux';\nimport moment from 'moment-timezone';\nimport { ArrayHardwareStatus } from '../arrays/collection/components/list/ArrayHealth';\nimport { FETCH_ALL_ARRAYS, RESET } from './constants';\n\nconst Request = require('../../../services/Request').default;\n\nfunction fetchArrays() {\n    return new Request().central().slash('reseller/tenant/arrays').get();\n}\n\nfunction fetchHeartbeats() {\n    return new Request().central().slash('reseller/tenant/heartbeats').get();\n}\n\nexport const getArraysFromAllAccounts = () => (dispatch) => {\n    const { dispatchStart, dispatchSuccess, dispatchError } = actionsFor(FETCH_ALL_ARRAYS, dispatch);\n    dispatchStart();\n    return new Request().all([\n        fetchArrays(),\n        fetchHeartbeats(),\n    ])\n        .then(([arrays, heartbeats]) => {\n            const arraysData = (arrays && arrays.data) || [];\n            const heartbeatsData = (heartbeats && heartbeats.data) || {};\n            const arraysWithHeartbeats = arraysData.map((array) => {\n                const latestHeartbeat = heartbeatsData[array.arraySN];\n                return ({\n                    ...array,\n                    arrayHostName: `${array.arraySN}${array.hostName ? array.hostName : ''}`,\n                    hardwareStatusComparator: ArrayHardwareStatus.comparator(latestHeartbeat),\n                    supportEndDate: moment(array.supportEndDate).isAfter(moment().add(10, 'years')) ? null : array.supportEndDate,\n                    latestHeartbeat,\n                });\n            });\n            return arraysWithHeartbeats;\n        })\n        .then(dispatchSuccess)\n        .catch(dispatchError);\n};\n\nexport const reset = () => ({ type: RESET });\n","import numeral from 'numeral';\nimport { formatValue } from '../../../util/formatter/index';\nimport { FORMAT_BYTE_PRECISION } from '../../../util/formatter/constants';\n\nexport const arrayStatus = {\n    EXPIRED: {\n        textClass: 'arrayWarrantyExpiring',\n        icon: 'warning',\n        text: 'EXPIRED',\n    },\n};\nexport const iconSize = 17;\n\n/**\n * will take array's freespace and capacity\n * find out the spaced used and convert it into percentage\n * @param freeSpace\n * @param capacity\n * @example\n * // Output: 30%\n * arrayUsedSpaceInPercentage(30, 100);\n * @returns {String} Returns string of numeric value and percentage sign\n */\nexport const arrayUsedSpaceInPercentage = (freeSpace, capacity) => (numeral((capacity - freeSpace) / capacity).format('0%'));\n\nexport const transformDataForCSV = rawData => rawData.map(row => ({\n    'Customer Name': row.customerName,\n    'Account ID': row.accountId,\n    'Array Capacity': formatValue(row.arrayCapacityBytes, FORMAT_BYTE_PRECISION) || '',\n    'Array Free Space': formatValue(row.arrayFreeBytes, FORMAT_BYTE_PRECISION) || '',\n    'Array Free Space in %': arrayUsedSpaceInPercentage(row.arrayFreeBytes, row.arrayCapacityBytes) || '',\n    'Array Serial Number': row.arraySN,\n    'Array Model': row.model || '',\n    'Software Version': row.softwareVersion || '',\n    'Is All Flash': row.isAllFlash || '',\n    'Support Agreement': row.supportAgrmt || '',\n    'Support End Date': row.supportEndDate || '',\n    'Hardware Upgrade Recommended': row.hasHardwareRecommendations ? 'YES' : 'NO',\n    'Software Upgrade Recommended': row.hasSoftwareRecommendations ? 'YES' : 'NO',\n}));\n\n/**\n * will convert object to string in comma separated values format\n * keys will be taken as header and values as row values\n * @param objArray\n * @example\n * // Name,Age\n * // Adarsh,32\n * // Ram, 32\n * convertObjectToCSV([{name: 'Adarsh', age: 32},{name: 'Ram', age: 32},]);\n * @returns {String} Returns string with comma separated values\n */\nexport const convertObjectToCSV = (objArray) => {\n    const array = typeof objArray !== 'object' ? JSON.parse(objArray) : objArray;\n    return array.reduce((str, next) => {\n        str += `${Object.values(next).map(value => `\"${value}\"`).join(',')} \\r\\n`;\n        return str;\n    }, `${Object.keys(array[0]).map(value => `\"${value}\"`).join(',')} \\r\\n`);\n};\n","import React, { Component } from 'react';\nimport classnames from 'classnames/bind';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { ClientControlledTable } from '@infosight/elmer/dist/components/Table';\nimport { StatusIndicator } from '@infosight/elmer/dist/components/StatusIndicator';\nimport { ProgressWithValue, Progress } from '@infosight/elmer/dist/components/Progress';\nimport { Link } from 'react-router-dom';\nimport { saveAs } from 'file-saver';\nimport moment from 'moment-timezone';\nimport { buildNimbleTenantUrl } from '../../tenantSelection';\nimport style from './style.scss';\nimport { ArrayHardwareStatus } from '../../arrays/collection/components/list/ArrayHealth';\nimport { getArraysFromAllAccounts, reset } from '../actionCreators';\nimport { accountsCollectionSelector } from '../reducer';\nimport { userSelector } from '../../../user/reducer';\nimport { formatValue, formatDateTime } from '../../../../util/formatter';\nimport { FORMAT_BYTE_PRECISION, FORMAT_MOMENT_CALENDAR_DAY } from '../../../../util/formatter/constants';\nimport { arrayStatus, iconSize, transformDataForCSV, arrayUsedSpaceInPercentage, convertObjectToCSV } from '../helper';\nimport { config } from '../../config';\n\nconst cx = classnames.bind(style);\nconst hasArrayWarrantyExpired = arrayWarrantyStatus => (arrayWarrantyStatus === arrayStatus.EXPIRED.text);\n\nexport class ResellerDashboard extends Component {\n    componentDidMount() {\n        this.props.getArraysFromAllAccounts();\n    }\n    componentWillUnmount() {\n        this.props.resetResellerDashboard();\n    }\n    render() {\n        const { accountsArrays, userName } = this.props;\n        const columns = [\n            {\n                Header: 'Customer',\n                accessor: 'customerName',\n                filterable: true,\n                Cell: ({ original: { customerName, accountId } }) => (\n                    <Link to={buildNimbleTenantUrl(accountId, 'nimble')} title={customerName}>{customerName}</Link>\n                ),\n            },\n            {\n                Header: 'Array',\n                headerClassName: 'text-center',\n                columns: [\n                    {\n                        Header: 'Name',\n                        accessor: 'arraySN',\n                        filterable: true,\n                        Cell: ({ original: { arraySN, accountId, arrayHostName } }) => (\n                            <Link\n                                to={buildNimbleTenantUrl(accountId, `${config.attributes.rootPath}/arrays/${arraySN}`)}\n                                title={arrayHostName}\n                            >\n                                {arrayHostName}\n                            </Link>\n                        ),\n                    },\n                    {\n                        Header: 'Model',\n                        accessor: 'model',\n                        filterable: true,\n                    },\n                ],\n            },\n            {\n                Header: 'Usable Space',\n                headerClassName: 'text-center',\n                columns: [\n                    {\n                        Header: 'Total',\n                        accessor: 'arrayCapacityBytes', // Array total capacity in bytes\n                        filterable: true,\n                        headerClassName: 'text-right',\n                        className: 'text-right',\n                        Cell: ({ original: { arrayCapacityBytes } }) => formatValue(arrayCapacityBytes, FORMAT_BYTE_PRECISION),\n                    },\n                    {\n                        Header: '% used',\n                        accessor: 'arrayFreeBytes',\n                        filterable: true,\n                        headerClassName: 'text-right',\n                        className: 'text-right',\n                        Cell: ({ original: { arrayCapacityBytes, arrayFreeBytes } }) => (\n                            /*\n                             * arrayCapacityBytes is array's total capacity in bytes and arrayFreeBytes is array's available space in bytes\n                             * arrayUsedSpaceInPercentage is used to show array used space in percentage\n                             */\n                            <ProgressWithValue\n                                leftLabel={arrayUsedSpaceInPercentage(arrayFreeBytes, arrayCapacityBytes)}\n                            >\n                                <Progress max={100} min={0} value={((arrayCapacityBytes - arrayFreeBytes) / arrayCapacityBytes) * 100} />\n                            </ProgressWithValue>\n                        ),\n                    },\n                ],\n            },\n            {\n                Header: 'Hardware Status',\n                accessor: 'hardware',\n                headerClassName: 'text-right',\n                className: 'text-right',\n                Cell: ({ original: { latestHeartbeat, isAllFlash } }) =>\n                    <ArrayHardwareStatus latestHeartbeat={latestHeartbeat} isAllFlash={isAllFlash} />,\n            },\n            {\n                Header: 'S/W Version',\n                accessor: 'softwareVersion',\n                filterable: true,\n                headerClassName: 'text-right',\n                className: 'text-right',\n                Cell: ({ original: { softwareVersion } }) => softwareVersion && softwareVersion.split('-')[0],\n            },\n            {\n                Header: 'Support end date',\n                accessor: 'supportEndDate',\n                filterable: true,\n                Cell: ({ original: { supportEndDate, supportStatus } }) => (\n                    <div>\n                        <div className={cx('warrantyCol')}>{ formatDateTime(supportEndDate, FORMAT_MOMENT_CALENDAR_DAY, true) }</div>\n                        {\n                            /*\n                             * Cannot reuse ArraySupportStatus from arrays list page as requirement was to show icon as well\n                             * along with support end date\n                             */\n                            hasArrayWarrantyExpired(supportStatus) ?\n                                <div className={cx('warrantyCol', 'icon')}>\n                                    <StatusIndicator size={iconSize} status={arrayStatus.EXPIRED.icon} tooltip=\"Warranty Expired\" />\n                                </div> : null\n                        }\n                    </div>\n                ),\n            },\n            {\n                Header: 'Upgrade Recommendations',\n                headerClassName: 'text-center',\n                columns: [\n                    {\n                        Header: 'Hardware',\n                        accessor: 'upgrade',\n                        filterable: true,\n                        Cell: ({ original: { hasHardwareRecommendations, accountId, arraySN } }) => (\n                            <div>\n                                {hasHardwareRecommendations ?\n                                    <Link to={buildNimbleTenantUrl(accountId, `${config.attributes.rootPath}/arrays/${arraySN}`)}>YES</Link> :\n                                    'NO'}\n                            </div>\n                        ),\n                    },\n                    {\n                        Header: 'Software',\n                        accessor: 'upgrade',\n                        filterable: true,\n                        Cell: ({ original: { hasSoftwareRecommendations, accountId, arraySN } }) => (\n                            <div>\n                                {hasSoftwareRecommendations ?\n                                    <Link to={buildNimbleTenantUrl(accountId, `${config.attributes.rootPath}/arrays/${arraySN}`)}>YES</Link> :\n                                    'NO'}\n                            </div>\n                        ),\n                    },\n                ],\n            },\n        ];\n        return (\n            <ClientControlledTable\n                tableId={`${userName}_NIMBLE_RESELLER_ARRAYS`}\n                data={accountsArrays || []}\n                loading={!accountsArrays}\n                columns={columns}\n                defaultSorted={[{ id: 'groupName', desc: false }]}\n                getTrProps={(state, rowInfo) => (\n                    {\n                        className: hasArrayWarrantyExpired(rowInfo.original.supportStatus) ?\n                            cx(arrayStatus[rowInfo.original.supportStatus].textClass) : '',\n                    }\n                )}\n                downloadCsv={() =>\n                    saveAs(new Blob([convertObjectToCSV(transformDataForCSV(accountsArrays))], { type: 'application/json' }),\n                        `HPE InfoSight Arrays ${moment().format('L').replace(/\\\\|\\//g, '-')}.csv`)\n                }\n            />);\n    }\n}\n\nResellerDashboard.propTypes = {\n    resetResellerDashboard: PropTypes.func.isRequired, // reset Redux state for reseller\n    getArraysFromAllAccounts: PropTypes.func.isRequired, // API that gets details of all arrays\n    accountsArrays: PropTypes.array, // coming from accountsCollectionSelector, it is used for displaying data in table\n    userName: PropTypes.string,\n};\n\nfunction mapStateToProps(state) {\n    return {\n        ...accountsCollectionSelector(state),\n        userName: userSelector(state).username,\n    };\n}\n\nconst mapDispatchToProps = dispatch => bindActionCreators({ getArraysFromAllAccounts, resetResellerDashboard: reset }, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ResellerDashboard);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Route, Switch, NavLink } from 'react-router-dom';\nimport ScrollContainer from '@infosight/elmer/dist/components/ScrollContainer';\nimport { StaticBold } from '@infosight/elmer/dist/components/StaticBold';\nimport { SecondaryNavBar, NavItem, Title } from '@infosight/elmer/dist/components/SecondaryNavBar';\nimport { pageBoundaryRouteRenderer } from '@infosight/elmer/dist/page';\nimport { buildUrl } from '@infosight/elmer/dist/utils/url';\nimport OperationalDashboard from './operationalDashboard/components';\nimport ExecutiveDashboard from './executiveDashboard/components';\nimport WellnessDashboard from './wellnessDashboard/components';\nimport Labs from './labs/components';\nimport ResellerDashboard from './resellerDashboard/components';\nimport CapacityContainer from '../capacityReport/components/containers/CapacityContainer';\nimport NimbleUserTenantHelpers from './tenantSelection/NimbleUserTenantHelpers';\n\nconst NimbleDashboardsRouter = ({ match }) => {\n    const objects = [\n        { label: 'Reseller', url: 'resellerdashboard', component: ResellerDashboard, visible: NimbleUserTenantHelpers.isReseller() },\n        { label: 'Operational', url: 'operational', component: OperationalDashboard, visible: true },\n        { label: 'Executive', url: 'executive', component: ExecutiveDashboard, visible: true },\n        { label: 'Wellness', url: 'wellness', component: WellnessDashboard, visible: true },\n        { label: 'Capacity', url: 'capacity', component: CapacityContainer, visible: true },\n        { label: 'Labs', url: 'labs', component: Labs, visible: true },\n    ];\n\n    return (\n        <ScrollContainer>\n            <ScrollContainer.Fixed>\n                <SecondaryNavBar>\n                    <Title name=\"Nimble Storage\" className=\"align-center\" />\n                    {objects.filter(x => x.visible).map(({ label, url }) => (\n                        <NavItem key={url}>\n                            <NavLink className=\"flex-container align-center flex-dir-column\" to={buildUrl(match.url, url)}>\n                                <StaticBold parent={React.Fragment}>{label}</StaticBold>\n                            </NavLink>\n                        </NavItem>\n                    ))}\n                </SecondaryNavBar>\n            </ScrollContainer.Fixed>\n\n            <ScrollContainer.Scrollable>\n                <Switch>\n                    {objects.map(({ url, component, label }) => {\n                        const title = component === Labs ? 'Labs' : `${label} Dashboard`;\n                        return <Route key={url} path={buildUrl(match.path, url)} render={pageBoundaryRouteRenderer(component, title)} />;\n                    })}\n                    <Route render={pageBoundaryRouteRenderer(objects[0].component, objects[0].title)} />\n                </Switch>\n            </ScrollContainer.Scrollable>\n        </ScrollContainer>\n    );\n};\n\nNimbleDashboardsRouter.propTypes = {\n    match: PropTypes.object.isRequired,\n};\n\nexport default NimbleDashboardsRouter;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport autobind from 'react-autobind';\nimport classnames from 'classnames/bind';\nimport isShallowEqual from 'is-equal-shallow';\nimport { withQueryParams } from '@infosight/elmer/dist/components/Router';\nimport DocumentationView from '../../../../app/modules/documentation/DocumentationView';\nimport labelsStyle from '../legacyStyles/labels.scss';\nimport { awaitLegacyApp } from '../../../containers/NimbleLegacyContainer';\n\nconst cx = classnames.bind(labelsStyle);\n\nclass DocumentationWrapper extends Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n    }\n\n    componentDidUpdate(oldProps) {\n        if (this.view && !isShallowEqual(oldProps.match.params, this.props.match.params)) {\n            // Copy props because setParams mutates it input\n            this.view.setParams({ ...this.props.match.params });\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.view) {\n            const { view } = this;\n            // For some reason, some deeper view errored on destroy when switching to another marionette page\n            // Push it onto the stack so errors don't trigger componentDidCatch\n            window.setTimeout(() => view.destroy());\n        }\n    }\n\n    renderView(el) {\n        if (!this.view) {\n            // specific parameter map for 5.x Installation / Administration Guide\n            // https://nimblejira.nimblestorage.com/browse/IS-17087\n\n            const query = this.props.match.params;\n\n            if (query['Document Type'] === 'Installation / Administration Guide') {\n                query['Document Type'] = 'Online Help';\n            }\n\n            if (query['Version Family'] === '5.0.x' ||\n                query['Version Family'] === '5.x') {\n                query['Version Family'] = 'NOS 5.0.x';\n            }\n\n            if (query['Version Family'] === '4.x') {\n                query['Version Family'] = 'NOS 4.x';\n            }\n\n            this.view = new DocumentationView(this.props);\n            this.view.setParams(query);\n            this.view.setElement(el).render();\n        }\n    }\n\n    render() {\n        return <div className={classnames('documentation-view', cx('legacy-labels'))} ref={this.renderView} />;\n    }\n}\n\nDocumentationWrapper.propTypes = {\n    match: PropTypes.shape({\n        params: PropTypes.object,\n    }).isRequired,\n};\n\nexport default awaitLegacyApp(withQueryParams(DocumentationWrapper, { includePathParams: false }));\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport autobind from 'react-autobind';\nimport classnames from 'classnames/bind';\nimport { Route, Link } from 'react-router-dom';\nimport { buildUrl } from '@infosight/elmer/dist/utils/url';\nimport SoftwareView from '../../../../app/modules/software/SoftwareView';\nimport labelsStyle from '../legacyStyles/labels.scss';\nimport breadcrumbsStyle from '../legacyStyles/breadcrumbs.scss';\nimport { awaitLegacyApp } from '../../../containers/NimbleLegacyContainer';\n\nconst cx = classnames.bind({ ...labelsStyle, ...breadcrumbsStyle });\n\nclass SoftwareDownloadsMarionetteWrapper extends Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n    }\n\n    componentDidMount() {\n        const { params: { category, product } } = this.props.match;\n        if (category && product) {\n            this.view.showProduct(category, product);\n        } else {\n            this.view.showHome();\n        }\n    }\n\n    componentDidUpdate({ match: { params: { category: oldCategory, product: oldProduct } } }) {\n        const { params: { category, product } } = this.props.match;\n        if (oldCategory === category && oldProduct === product) {\n            return;\n        }\n\n        if (category && product) {\n            this.view.showProduct(category, product);\n        } else {\n            this.view.showHome();\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.view) {\n            this.view.destroy();\n        }\n    }\n\n    renderView(el) {\n        if (!this.view) {\n            this.view = new SoftwareView(this.props);\n            this.view.setElement(el).render();\n        }\n    }\n\n    render() {\n        const { params: { category, product } } = this.props.match;\n        return (\n            <div className={cx('legacy-labels', 'legacy-breadcrumbs')}>\n                <div className=\"breadcrumbs-region\">\n                    <ul className=\"breadcrumb\">\n                        <li><Link to=\"/resources/nimble/software\">Software Downloads</Link></li>\n                        {category && <li className=\"active\">{category}</li>}\n                        {product && <li className=\"active\">{product}</li>}\n                    </ul>\n                </div>\n                <div className=\"software-view\" ref={this.renderView} />\n            </div>\n        );\n    }\n}\n\nSoftwareDownloadsMarionetteWrapper.propTypes = {\n    match: PropTypes.shape({\n        url: PropTypes.string.isRequired,\n        params: PropTypes.shape({\n            category: PropTypes.string,\n            product: PropTypes.string,\n        }).isRequired,\n    }).isRequired,\n};\n\nexport default awaitLegacyApp(({ match }) => ( // eslint-disable-line react/prop-types\n    <Route exact={false} path={buildUrl(match.url, '/:category?/:product?')} component={SoftwareDownloadsMarionetteWrapper} />\n));\n","import React, { Component } from 'react';\nimport autobind from 'react-autobind';\nimport SupportMatrixView from '../../../../app/modules/supportmatrix/SupportMatrixView';\nimport { awaitLegacyApp } from '../../../containers/NimbleLegacyContainer';\n\nclass ValidatedConfigMatrixMarionetteWrapper extends Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n    }\n\n    componentWillUnmount() {\n        if (this.view) {\n            const { view } = this;\n            window.setTimeout(() => view.destroy());\n        }\n    }\n\n    renderView(el) {\n        if (!this.view) {\n            this.view = new SupportMatrixView(this.props);\n            this.view.setElement(el).render();\n        }\n    }\n\n    render() {\n        return <div ref={this.renderView} />;\n    }\n}\n\nexport default awaitLegacyApp(ValidatedConfigMatrixMarionetteWrapper);\n","import React, { Component } from 'react';\nimport autobind from 'react-autobind';\nimport Card from '@infosight/elmer/dist/components/Card';\nimport Async from '@infosight/elmer/dist/components/Async';\nimport AuditLogView from '../../../../app/modules/admin/auditlog/AuditLogView';\nimport Request from '../../../services/Request';\nimport style from './AuditLogView.scss';\nimport { awaitLegacyApp } from '../../../containers/NimbleLegacyContainer';\n\nclass AuditReportMarionetteWrapper extends Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n\n        // eslint-disable-next-line react/no-unused-state\n        this.state = { data: null, error: null };\n    }\n\n    /* eslint-disable react/no-did-mount-set-state */\n    async componentDidMount() {\n        try {\n            const { data } = await new Request().slash('auth').tenant().slash('audits')\n                .get();\n            // eslint-disable-next-line react/no-unused-state\n            this.setState({ data, error: null });\n        } catch (error) {\n            // eslint-disable-next-line react/no-unused-state\n            this.setState({ error });\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.view) {\n            const { view } = this;\n            window.setTimeout(() => view.destroy());\n        }\n    }\n\n    renderView(el) {\n        if (!this.view) {\n            this.view = new AuditLogView({ collection: this.state.data });\n            this.view.setElement(el).render();\n        }\n    }\n\n    render() {\n        return (\n            <Async loading={!this.state.data}>\n                {() => (\n                    <Card title=\"Audit Report\">\n                        <div className={style.container} ref={this.renderView} />\n                    </Card>\n                )}\n            </Async>\n        );\n    }\n}\n\nexport default awaitLegacyApp(AuditReportMarionetteWrapper);\n","import * as types from './constants';\n\nexport function fetchCaseHeadersOk(response) {\n    const cases = response.reduce((memo, caseHeaders) => {\n        if (caseHeaders) {\n            memo[caseHeaders.id] = caseHeaders;\n        }\n        return memo;\n    }, {});\n\n    return { type: types.FETCH_CASE_HEADERS_OK, payload: cases };\n}\n\nexport function fetchCaseHeadersFail(error) {\n    return {\n        type: types.FETCH_CASE_HEADERS_FAIL,\n        error,\n    };\n}\n\nexport function fetchCaseDetailOk(caseData, commentsData, attachmentsData, rmaLabelsData) {\n    return { type: types.FETCH_CASE_DETAIL_OK, payload: { caseData, commentsData, attachmentsData, rmaLabelsData } };\n}\n\nexport function fetchCaseDetailFail(error) {\n    return {\n        type: types.FETCH_CASE_DETAIL_FAIL,\n        error,\n    };\n}\n\nexport function postCaseDetailOk(caseData) {\n    return {\n        type: types.FETCH_CASE_DETAIL_OK,\n        payload: { caseData },\n    };\n}\n\nexport function postCaseCommentOk(commentData) {\n    return { type: types.POST_CASE_COMMENT_OK, payload: commentData };\n}\n\nexport function postCaseCommentFail(error) {\n    return {\n        type: types.POST_CASE_COMMENT_FAIL,\n        error,\n    };\n}\n\nexport function postCaseAttachmentOk(attachmentData) {\n    return {\n        type: types.POST_CASE_ATTACHMENT_OK,\n        payload: attachmentData,\n    };\n}\n\nexport function postCaseAttachmentFail(error) {\n    return {\n        type: types.POST_CASE_ATTACHMENT_FAIL,\n        error,\n    };\n}\n\nexport function postCaseResolveOk(caseData, commentsData, attachmentsData, rmaLabelsData) {\n    return {\n        type: types.POST_CASE_RESOLUTION_OK,\n        payload: { caseData, commentsData, attachmentsData, rmaLabelsData },\n    };\n}\n\nexport function postCaseResolveFail(error) {\n    return {\n        type: types.POST_CASE_RESOLUTION_FAIL,\n        error,\n    };\n}\n\nexport function fetchCaseCommentsOk(gotsData, moreData) {\n    return {\n        type: types.FETCH_CASE_COMMENTS_OK,\n        gotsData,\n        moreData,\n    };\n}\n\nexport function fetchCaseCommentsFail(error) {\n    return {\n        type: types.FETCH_CASE_COMMENTS_FAIL,\n        error,\n    };\n}\n\nexport function fetchCaseAttachmentsOk(gotsData, moreData) {\n    return {\n        type: types.FETCH_CASE_ATTACHMENTS_OK,\n        gotsData,\n        moreData,\n    };\n}\n\nexport function fetchCaseAttachmentsFail(error) {\n    return {\n        type: types.FETCH_CASE_ATTACHMENTS_FAIL,\n        error,\n    };\n}\n\nexport function fetchCaseRmaLabelOk(gotsData, moreData) {\n    return {\n        type: types.FETCH_CASE_RMALABELS_OK,\n        gotsData,\n        moreData,\n    };\n}\n\nexport function fetchCaseRmaLabelFail(error) {\n    return {\n        type: types.FETCH_CASE_RMALABELS_FAIL,\n        error,\n    };\n}\n","// support-api.js\n\nimport $ from 'jquery';\nimport { actionsFor } from '@infosight/elmer/dist/utils/redux';\nimport { buildUrl } from '@infosight/elmer/dist/utils/url';\nimport { BASE_URL } from '../../../config';\nimport SFCaseModel from './SFCaseModel';\nimport SFCaseCollection from './SFCaseCollection';\nimport Request from '../../../services/Request';\nimport { FETCH_SFDC_CONTACT } from '../actions/constants';\nimport {\n    fetchCaseDetailOk,\n    fetchCaseDetailFail,\n    fetchCaseHeadersOk,\n    fetchCaseHeadersFail,\n} from '../actions/fetch-support-cases';\n\nimport {\n    fetchSuggestedTermsOk,\n    fetchSuggestedTermsFail,\n    searchKcsSolutionsOk,\n    searchKcsSolutionsFail,\n    fetchKcsSolutionOk,\n    fetchKcsSolutionFail,\n    findRelatedKcsSolutionsOk,\n    findRelatedKcsSolutionsFail,\n} from '../actions/fetch-kcs';\nimport { NimbleUserTenantHelpers } from '../../nimble/tenantSelection';\n\nconst URL_REGEX = /(\\bhttps?:\\/\\/[-A-Z0-9+&@#/%?=~_|!:,.;]*[-A-Z0-9+&@#/%=~_|])/ig;\nconst ACCOUNT_REGEX = /\\[account:([^\\]]+)\\]/;\nconst USER_REGEX = /\\[user:([^\\]]+)\\]\\n?/;\nconst USERIDNAME_REGEX = /^([^(]+)\\(([^)]+)\\)/;\n\nconst nimbleSupportContactId = '00580000003xTOlAAM';\n\nconst BASE_KCS_URL = buildUrl(BASE_URL, 'kcs');\n\n\nfunction htmlEncode(value) {\n    if (value !== undefined && value !== null) {\n        return $('<div />').text(value).html();\n    }\n    return '';\n}\n\n// convert description to HTML\nfunction convertToHTML(description) {\n    let htmlDescription = htmlEncode(description);\n\n    // convert line breaks (windows or unix compatible)\n    htmlDescription = htmlDescription.replace(/(\\r\\n|\\n|\\r)/gi, '<br>');\n\n    // convenience linkify urls in the message.\n    htmlDescription = htmlDescription.replace(URL_REGEX, ' <a href=\"$1\" target=\"_blank\">$1</a>');\n\n    return htmlDescription;\n}\n\nexport function fetchCases() {\n    return (dispatch) => {\n        const caseLog = new SFCaseCollection();\n\n        return caseLog.fetch()\n            .done((stuff, status /* , xhrreq */) => {\n                dispatch(fetchCaseHeadersOk(stuff, status));\n            })\n            .error((stuff, status /* , xhrreq */) => {\n                dispatch(fetchCaseHeadersFail(stuff, status));\n            });\n    };\n}\n\n// TODO: move this to support helper = helper\nexport function parseComment(comment) {\n    const c = Object.assign({}, comment);\n\n    if (c.createdById !== nimbleSupportContactId) {\n        c.createdByName = c.createdBy.name;\n    }\n\n    if (!c.commentBody.match(ACCOUNT_REGEX) && !c.commentBody.match(ACCOUNT_REGEX)) {\n        c.fromNimble = true;\n    }\n\n    const attribution = c.commentBody.match(USER_REGEX); // match user first\n    if (attribution) {\n        const userIdName = attribution[1].match(USERIDNAME_REGEX);\n        if (userIdName) {\n            [,, c.createdByName] = userIdName;\n            if (userIdName[1] === 'internal') {\n                c.fromNimble = true;\n                [,, c.createdByName] = userIdName;\n            }\n        }\n    }\n    if (!c.createdByName) { c.createdByName = 'Nimble Support'; }\n\n    // remove any remaining metatext\n    c.commentBody = c.commentBody.replace(USER_REGEX, '');\n    c.commentBody = c.commentBody.replace(ACCOUNT_REGEX, '');\n\n    return c;\n}\n\n\nexport function fetchCase(caseId) {\n    return (dispatch) => {\n        const theCase = new SFCaseModel();\n        theCase.set('id', caseId);\n\n        const caseUrl = theCase.url();\n        const caseDetailsFetch = theCase.fetch();\n        const caseCommentsFetch = $.ajax({\n            type: 'GET',\n            url: `${caseUrl}/comments`,\n            contentType: 'application/json',\n        });\n\n        const caseAttachmentsFetch = $.ajax({\n            type: 'GET',\n            url: `${caseUrl}/attachment`,\n            contentType: 'application/json',\n        });\n\n        const caseRmaLabelsFetch = $.ajax({\n            type: 'GET',\n            url: `${caseUrl}/rmaLabels`,\n            contentType: 'application/json',\n        });\n\n        function fetchSuccess(caseDetailsRes, caseCommentsRes, caseAttachmentsRes, caseRmaLabelsRes) {\n            const caseData = caseDetailsRes[0];\n            const caseAttachments = caseAttachmentsRes[0];\n            const caseRmaLabels = caseRmaLabelsRes[0];\n            let caseComments = caseCommentsRes[0];\n\n            if (caseData.description) caseData.description = convertToHTML(caseData.description);\n            caseData.$_complete = true;\n\n            if (Array.isArray(caseComments)) caseComments = caseComments.map(parseComment);\n\n            dispatch(fetchCaseDetailOk(caseData, caseComments, caseAttachments, caseRmaLabels));\n        }\n\n        function fetchFail(caseDetailsRes, caseCommentsRes, caseAttachmentsRes, caseRmaLabels) {\n            dispatch(\n                fetchCaseDetailFail(caseDetailsRes[1],\n                    caseCommentsRes[1],\n                    caseAttachmentsRes[1],\n                    caseRmaLabels[1]));\n        }\n\n        return $.when(caseDetailsFetch, caseCommentsFetch, caseAttachmentsFetch, caseRmaLabelsFetch)\n            .then(fetchSuccess, fetchFail);\n    };\n}\n\nexport function fetchSuggestedTerms(englishText) {\n    const req = {\n        type: 'POST',\n        url: `${BASE_KCS_URL}/suggest/terms`,\n        contentType: 'application/json',\n        dataType: 'json',\n        data: JSON.stringify({ query: englishText }),\n    };\n    return $.ajax(req);\n}\n\nexport function getUserProfile() {\n    const req = {\n        type: 'GET',\n        url: '/auth/authenticate',\n        contentType: 'application/json',\n    };\n    return $.ajax(req);\n}\n\nexport function fetchSuggestedTermsDispatch(englishText) {\n    return (dispatch) => {\n        this.fetchSuggestedTerms(englishText)\n            .done((xhrreq, stuff, status) => {\n                dispatch(fetchSuggestedTermsOk(stuff, status, englishText));\n            })\n            .error((xhrreq, stuff, status) => {\n                dispatch(fetchSuggestedTermsFail(stuff, status, englishText));\n            });\n    };\n}\n\nexport function likeASolution(kcsDocId) {\n    const reqData = { id: kcsDocId };\n    const req = {\n        type: 'POST',\n        url: `${BASE_KCS_URL}/solution/like`,\n        contentType: 'application/json',\n        dataType: 'json',\n        data: JSON.stringify(reqData),\n    };\n    return $.ajax(req);\n}\n\nexport function dislikeASolution(kcsDocId) {\n    const reqData = { id: kcsDocId };\n    const req = {\n        type: 'POST',\n        url: `${BASE_KCS_URL}/solution/dislike`,\n        contentType: 'application/json',\n        dataType: 'json',\n        data: JSON.stringify(reqData),\n    };\n    return $.ajax(req);\n}\n\nexport function searchKcsSolutions(someStuffToFind) {\n    const req = {\n        type: 'POST',\n        url: `${BASE_KCS_URL}/search/analyzed`,\n        contentType: 'application/json',\n        dataType: 'json',\n        data: JSON.stringify({ query: someStuffToFind }),\n    };\n    return $.ajax(req);\n}\n\nexport function searchKcsSolutionsDispatch(someStuffToFind) {\n    return (dispatch) => {\n        this.searchKcsSolutions(someStuffToFind)\n            .done((xhrreq, stuff, status) => {\n                dispatch(searchKcsSolutionsOk(stuff, status));\n            })\n            .error((xhrreq, stuff, status) => {\n                dispatch(searchKcsSolutionsFail(stuff, status));\n            });\n    };\n}\n\nexport function fetchKcsSolution(kcsDocId) {\n    const req = {\n        type: 'POST',\n        url: `${BASE_KCS_URL}/solution/full`,\n        contentType: 'application/json',\n        dataType: 'json',\n        data: JSON.stringify({ id: kcsDocId }),\n    };\n    return $.ajax(req);\n}\n\nexport function fetchKcsSolutionDispatch(kcsDocId) {\n    return (dispatch) => {\n        this.fetchKcsSolution(kcsDocId)\n            .done((xhrreq, stuff, status) => {\n                dispatch(fetchKcsSolutionOk(stuff, status));\n            })\n            .error((xhrreq, stuff, status) => {\n                dispatch(fetchKcsSolutionFail(stuff, status));\n            });\n    };\n}\n\nexport function findRelatedKcsSolutions(kcsDocId) {\n    const req = {\n        type: 'POST',\n        url: `${BASE_KCS_URL}/suggest/solution`,\n        data: { docid: kcsDocId },\n        processData: false,\n        contentType: 'application/json',\n        dataType: 'json',\n    };\n    return $.ajax(req);\n}\n\nexport function findRelatedKcsSolutionsDispatch(kcsDocId) {\n    return (dispatch) => {\n        this.findRelatedKcsSolutions(kcsDocId)\n            .done((xhrreq, stuff, status) => {\n                dispatch(findRelatedKcsSolutionsOk(stuff, status));\n            })\n            .error((xhrreq, stuff, status) => {\n                dispatch(findRelatedKcsSolutionsFail(stuff, status));\n            });\n    };\n}\n\nexport function grabKcsDocument(kcsDocId) {\n    const req = {\n        type: 'POST',\n        url: `${BASE_KCS_URL}/solution/full`,\n        data: JSON.stringify({ id: kcsDocId }),\n        // processData: false,\n        contentType: 'application/json',\n        dataType: 'json',\n    };\n\n    return $.ajax(req);\n}\n\nexport const fetchSfdcContact = () => (dispatch) => {\n    const { dispatchStart, dispatchSuccess, dispatchError } = actionsFor(FETCH_SFDC_CONTACT, dispatch);\n    dispatchStart();\n\n    let req;\n\n    if (NimbleUserTenantHelpers.getCurrentTenant() !== null) {\n        req = new Request().slash('accounts', NimbleUserTenantHelpers.getCurrentTenant().id, 'cases/contacts/me');\n    } else {\n        req = new Request().slash('account', 'cases/contacts/me');\n    }\n\n    req\n        .get()\n        .then(({ data }) => data)\n        .then(dispatchSuccess)\n        .catch(dispatchError);\n};\n\nexport function resolveCase(caseId, resolutionNotes, successCallback, errorCallback) {\n    const theCase = new SFCaseModel();\n    theCase.set('id', caseId);\n\n    const caseUrl = theCase.url();\n\n    const resolvePromise = $.ajax({\n        type: 'POST',\n        url: `${caseUrl}/resolve`,\n        contentType: 'application/json',\n        data: resolutionNotes,\n    });\n\n    resolvePromise.then(successCallback, errorCallback);\n}\n\nexport default {\n    getUserProfile,\n    fetchCases,\n    fetchCase,\n    fetchSuggestedTerms,\n    fetchSuggestedTermsDispatch,\n    searchKcsSolutions,\n    searchKcsSolutionsDispatch,\n    fetchKcsSolution,\n    fetchKcsSolutionDispatch,\n    findRelatedKcsSolutions,\n    findRelatedKcsSolutionsDispatch,\n    parseComment,\n    likeASolution,\n    dislikeASolution,\n    resolveCase,\n};\n","import { getStore } from '../../../util/storeProvider';\nimport { contactSelector } from '../reducer/core';\nimport { userSelector } from '../../user';\n\nimport {\n    setCaseParamFilterSet,\n    setCaseStatusFilter,\n    setCaseParamFilters,\n} from '../actions/set-filters';\n\n\nexport function isWordChar(charCode) {\n    if (!charCode) return false;\n    const theChar = String.fromCharCode(charCode);\n    return (/\\w/gi).test(theChar);\n}\n\n// DOM helpers\n\nexport function makeDomId() {\n    let intId = Math.random() * 1e12;\n    intId = intId >>> 0; // eslint-disable-line\n    return intId.toString(36);\n}\n\n// case helpers\n\nfunction getContact() {\n    const contact = contactSelector(getStore().getState());\n    return contact ? contact.contact : undefined;\n}\n\nexport function findCaseByNumber(supportCases, caseNumber) {\n    return supportCases.find(someCase => (someCase.caseNumber === caseNumber));\n}\n\n// identity helpers\n// note: internal users, will be null (guest)\nexport function getCurrentUserContactId() {\n    const contact = getContact();\n    if (!contact) return null;\n    return contact.id;\n}\n\nexport function getCurrentUserContact() {\n    const contact = getContact();\n    if (!contact) {\n        return { ContactId: 'internal', ContactName: userSelector(getStore().getState()).username };\n    }\n    return { ContactId: contact.id, ContactName: contact.name };\n}\n\n// action dispatch helpers\n\nexport function filterStatusDispatch(status) {\n    return (dispatch) => {\n        dispatch(setCaseStatusFilter(status));\n    };\n}\n\nexport function filterParamDispatch(filterKey, filterValue) {\n    let revalued = filterValue;\n    if (filterKey === 'priority') revalued = parseInt(filterValue, 10) || 0;\n    return (dispatch) => {\n        dispatch(setCaseParamFilters(filterKey, revalued));\n    };\n}\n\nexport function filterSetDispatch(filterSet) {\n    return (dispatch) => {\n        dispatch(setCaseParamFilterSet(filterSet));\n    };\n}\n\n// interfacey\n\nexport default {\n    isWordChar,\n    makeDomId,\n    findCaseByNumber,\n    filterStatusDispatch,\n    filterParamDispatch,\n};\n","\nimport * as types from './constants';\n\n/*\nFILTER_CASE_STATUS\nFILTER_CASE_PRIORITY\nFILTER_CASE_PARAMS\n*/\n\nexport function setCaseStatusFilter(caseStatus) {\n    return {\n        type: types.FILTER_CASE_STATUS,\n        caseStatus,\n    };\n}\n\nexport function setCasePriorityFilter(casePriority) {\n    const priority = parseInt(casePriority, 10) || 0;\n    return {\n        type: types.FILTER_CASE_PRIORITY,\n        priority,\n    };\n}\n\nexport function setCaseParamFilters(filterKey, filterValue) {\n    const filterParams = {};\n    filterParams[filterKey] = filterValue;\n    return {\n        type: types.FILTER_CASE_PARAMS,\n        filterParams,\n    };\n}\n\nexport function setCaseParamFilterSet(filterSet) {\n    const filterParams = Object.assign({}, filterSet);\n    return {\n        type: types.FILTER_CASE_PARAMS,\n        filterParams,\n    };\n}\n","// SupportTab.js\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames/bind';\n\n// import hackStore from '../../../../store/createStore';\n\n// import SupportLeftNav from '../SupportLeftNav';\n\nimport style from './SupportTab.scss';\n\nconst cx = classnames.bind(style);\n\nfunction SupportTab(props) {\n    // const store = hackStore().getState();\n    return (\n        <div className={cx('support-tab')}>\n\n            <div className={cx('support-content')}>\n                {props.children}\n            </div>\n\n            {/* <SupportLeftNav store={hackStore()} /> */}\n\n        </div>\n    );\n}\n\nSupportTab.propTypes = {\n    children: PropTypes.node.isRequired,\n};\n\nexport default SupportTab;\n","// index.js\n\nimport SupportTab from './SupportTab';\n\nexport default SupportTab;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport autobind from 'react-autobind';\nimport classnames from 'classnames/bind';\nimport style from './style.scss';\n\nconst cx = classnames.bind(style);\n\nexport default class Toggle extends Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n    }\n\n    onClick(event) {\n        const index = Number(event.target.value);\n        const childAtIndex = React.Children.toArray(this.props.children)[index];\n        this.props.onChange(childAtIndex.props.value);\n    }\n\n    render() {\n        const count = React.Children.count(this.props.children) - 1;\n\n        const kids = React.Children.map(this.props.children, (child, index) => {\n            const { value, className, ...childProps } = child.props;\n\n            const newChildClassName = classnames(className, 'text-uppercase', cx('nmbl-Toggle__button', {\n                'nmbl-Toggle__first': index === 0,\n                'nmbl-Toggle__last': index === count,\n                'nmbl-Toggle--selected': value === this.props.value,\n            }));\n\n            return <button {...childProps} className={newChildClassName} value={index} onClick={this.onClick} />;\n        });\n\n        return <div className={classnames(this.props.className, cx('nmbl-Toggle'))}>{kids}</div>;\n    }\n}\n\nToggle.propTypes = {\n    /**\n     * Fragment containing only `<button>` elements.\n     */\n    children: PropTypes.node.isRequired,\n\n    /**\n     * Current value. This should match the `props.value` of one of the child `Button` elements.\n     */\n    value: PropTypes.any.isRequired,\n\n    /**\n     * @param {*} value Value of selected element from `child[].props.value`\n     */\n    onChange: PropTypes.func.isRequired,\n};\n","import Toggle from './Toggle';\n\nexport default Toggle;\n","import $ from 'jquery';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport autobind from 'react-autobind';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport classnames from 'classnames/bind';\nimport Button from '@infosight/elmer/dist/components/Button';\nimport { Link } from 'react-router-dom';\n\nimport { filterSetDispatch } from '../../library/support-helper';\n\nimport Toggle from '../../../../components/Toggle';\n\nimport style from './SearchNav.scss';\n\nconst cx = classnames.bind(style);\n\n\nclass SearchNav extends React.Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n        this.state = {\n            casesBy: 'all',\n            isOpenNav: false,\n            searchString: '',\n        };\n        this.navStuff = null;\n    }\n\n    setMyCases() {\n        this.setState({ casesBy: 'justMine' });\n        this.props.filterSetDispatch({ justMine: true });\n    }\n\n    setOpenCases(e) {\n        this.props.filterSetDispatch({ justMine: false, caseStatus: 'Open' });\n        return this.redirect(e);\n    }\n\n    setClosedCases(e) {\n        this.props.filterSetDispatch({ justMine: false, caseStatus: 'Closed' });\n        return this.redirect(e);\n    }\n\n    setResolvedCases(e) {\n        this.props.filterSetDispatch({ justMine: false, caseStatus: 'Resolved' });\n        return this.redirect(e);\n    }\n\n    setAllCases() {\n        this.setState({ casesBy: 'all' });\n        this.props.filterSetDispatch({ justMine: false, caseStatus: null });\n    }\n\n    hideAutoCases(e) {\n        const { currentFilters } = this.props;\n        currentFilters.hideAutoCases = e.target.checked;\n        this.props.filterSetDispatch(currentFilters);\n    }\n\n    redirect(e) {\n        e.preventDefault();\n        const hashDestination = e.target.hash;\n        this.setState({ isOpenNav: false });\n        window.setTimeout(() => { window.location.hash = hashDestination; }, 50);\n        return false;\n    }\n\n    offClick(e) {\n        const clickTarget = e.target;\n        if (this.navStuff === clickTarget) return true;\n\n        const foundInNav = $(this.navStuff).find(clickTarget);\n        if (foundInNav.length) return true;\n\n        this.setState({ isOpenNav: false });\n        return false;\n    }\n\n    toggleState(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        const unOpen = !this.state.isOpenNav;\n        this.setState({ isOpenNav: unOpen });\n        return false;\n    }\n\n    forwardSearch(e) {\n        const searchTerms = e.target.value;\n        if (searchTerms) this.setState({ searchString: searchTerms });\n        else this.setState({ searchString: '' });\n\n        if (typeof this.props.onSearch === 'function') this.props.onSearch.call(null, searchTerms);\n    }\n\n    eraseSearch(e) {\n        // note: the click event from A will also expectedly trigger a blur event on INPUT\n        e.preventDefault();\n        e.stopPropagation();\n        this.setState({ searchString: '' });\n        if (typeof this.props.onSearch === 'function') this.props.onSearch.call(null, '');\n        return false;\n    }\n\n    showCasesBy(value) {\n        if (value === 'all') {\n            this.setAllCases();\n        } else {\n            this.setMyCases();\n        }\n    }\n\n    render() {\n        const { isInternal } = this.props;\n\n        return (\n            <div className={cx('search-nav', { 'is-internal': isInternal })}>\n\n                {!isInternal &&\n                <div className={cx('case-owner')}>\n                    <Toggle className=\"cases-by\" value={1} onChange={this.showCasesBy}>\n                        <Button\n                            className={cx({ active: (this.state.casesBy === 'all') }, 'button')}\n                            value=\"all\"\n                        >All Cases\n                        </Button>\n                        <Button\n                            className={cx({ active: (this.state.casesBy === 'justMine') }, 'button')}\n                            value=\"justMine\"\n                        >My Cases\n                        </Button>\n                    </Toggle>\n                </div>\n                }\n\n                <div className={cx('search-stuff')}>\n                    <input\n                        type=\"text\"\n                        className={cx('search-bar')}\n                        // onClick={this.activateSearch}\n                        value={this.state.searchString}\n                        onChange={this.forwardSearch}\n                        // onBlur={this.onBlur}\n                        placeholder=\"Search all case fields...\"\n                    />\n                    <a href=\"#support\" className={cx('cancel-search')} onClick={this.eraseSearch}>{'\\u00D7'}</a>\n                </div>\n\n\n                <div className={cx('hide-auto-cases')}>\n                    <input type=\"checkbox\" onChange={this.hideAutoCases} />Hide auto-created cases\n                </div>\n\n                <div className={cx('actions-options')}>\n                    {!isInternal &&\n                    <Link to=\"/resources/nimble/support/newcase\">\n                        <Button\n                            className=\"button\"\n                        >\n                            <i className=\"fa fa-plus\" />\n                            New Case\n                        </Button>\n                    </Link>\n                    }\n                </div>\n\n            </div>\n        );\n    }\n}\n\nSearchNav.propTypes = {\n    onSearch: PropTypes.func,\n    filterSetDispatch: PropTypes.func,\n    currentFilters: PropTypes.object,\n    isInternal: PropTypes.bool,\n};\n\nfunction mapStateToProps(state) {\n    return {\n        filtering: state.supportTab.filtering,\n    };\n}\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n    filterSetDispatch,\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchNav);\n\n/* eslint-enable */\n","// index.js\n\nimport SearchNav from './SearchNav';\n\nexport default SearchNav;\n","/**\n * Development-time warning message to alert abuse or misuse\n */\nexport default function warn(message, ...extra) {\n    if (__DEBUG__ && console) {\n        const logger = console.warn || console.log;\n        logger(message, ...extra);\n    }\n}\n\n/**\n * Development-time warning message to alert abuse or misuse is expression is falsy\n */\nexport function assert(expression, message, ...extra) {\n    if (!expression) {\n        warn(message, ...extra);\n    }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport autobind from 'react-autobind';\nimport classnames from 'classnames/bind';\nimport './Pagination.scss';\n\nconst DEFAULT_NUMBER_PER_PAGE = 10;\n\n/**\n * Provides pagination for tables, but no reason it can't be used elsewhere.\n * The current implementation is based on UX's\n * [table pagination spec](https://confluence.lab.nimblestorage.com/display/UXPatternLibrary/Tables).\n */\nclass Pagination extends Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n    }\n\n    onPage(event) {\n        event.preventDefault();\n        const { currentTarget } = event;\n        const { dataOffset } = this.props;\n\n        const disabled = currentTarget.hasAttribute('data-disabled')\n            && currentTarget.getAttribute('data-disabled') !== 'false';\n        if (disabled) {\n            return;\n        }\n\n        let href = currentTarget.getAttribute('href');\n        if (!href) {\n            return;\n        }\n\n        href = href.slice(1);\n\n        let page = this.getPageAt0BasedIndex(dataOffset);\n        switch (href) {\n        case 'next':\n            // Don't add one because calculated.end is 1-based.\n            page = this.getPageAt0BasedIndex(page.end);\n            break;\n        case 'previous':\n            // subtract one to get to the previous page,\n            // subtract another one to revert to 0-based index\n            page = this.getPageAt0BasedIndex(page.start - 2);\n            break;\n        default:\n            break;\n        }\n\n        if (typeof this.props.onPageSelect === 'function') {\n            this.props.onPageSelect({ dataOffset: page.start - 1 });\n        }\n    }\n\n    getPageAt0BasedIndex(dataOffset) {\n        const { itemCount } = this.props;\n        const numberPerPage = this.props.numberPerPage || DEFAULT_NUMBER_PER_PAGE;\n        const pages = Math.ceil(itemCount / numberPerPage);\n        let page = Math.floor(dataOffset / numberPerPage);\n\n        if (page >= pages) {\n            page = pages - 1;\n        }\n\n        if (page < 0) {\n            page = 0;\n        }\n\n        const start = Math.min((numberPerPage * page) + 1, itemCount);\n        const end = Math.min((start + numberPerPage) - 1, itemCount);\n        page += 1;\n\n        return { start, end, page };\n    }\n\n    render() {\n        const { className, itemCount } = this.props;\n        const { start, end, page } = this.getPageAt0BasedIndex(this.props.dataOffset);\n\n        return (\n            <div className={classnames('nmbl-Pagination', className)}>\n                <span className=\"nmbl-Pagination__range\">\n                    <strong>{start} - {end}</strong>\n                    <span className=\"nmbl-Pagination__count\"> of {itemCount}</span>\n                </span>\n                <ul className=\"pagination use-foundation\" role=\"navigation\" aria-label=\"Pagination\">\n                    <li className=\"pagination-previous\">\n                        <a\n                            className={classnames({ disabled: page === 1 })}\n                            href=\"#previous\"\n                            onClick={this.onPage}\n                            aria-label=\"Previous page\"\n                            data-disabled={page === 1}\n                        >\n                            <i className=\"fa fa-angle-left\" aria-hidden=\"true\" />\n                        </a>\n                    </li>\n                    <li className=\"pagination-next\">\n                        <a\n                            className={classnames({ disabled: end === itemCount })}\n                            href=\"#next\"\n                            onClick={this.onPage}\n                            aria-label=\"Next page\"\n                            data-disabled={end === itemCount}\n                        >\n                            <i className=\"fa fa-angle-right\" aria-hidden=\"true\" />\n                        </a>\n                    </li>\n                </ul>\n            </div>\n        );\n    }\n}\n\nPagination.propTypes = {\n    /**\n     * callback that takes a hash with the new dataOffset\n     */\n    onPageSelect: PropTypes.func,\n\n    /**\n     * 0-based index of current element\n     */\n    dataOffset: PropTypes.number,\n    numberPerPage: PropTypes.number,\n    itemCount: PropTypes.number.isRequired,\n};\n\nPagination.defaultProps = {\n    dataOffset: 0,\n    numberPerPage: DEFAULT_NUMBER_PER_PAGE,\n};\n\nexport default Pagination;\n","import Pagination from './Pagination';\n\nexport default Pagination;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment-timezone';\n\nconst TAG = 'date-time';\n\n/**\n * Formats a Date/Time as a string\n *\n * quick formatting guide:\n *\n *              2/9/17  -  M/D/YY\n *          02/09/2017  -  MM/DD/YYYY\n *        Jan 25, 2017  -  MMM DD, YYYY\n *  January 25th, 2017  -  MMMM Do, YYYY\n *\n *             1:32 PM  -  h:mm A\n *       03:15 (24hrs)  -  HH:mm\n *\n * @see https://momentjs.com/docs/#/parsing/string-format/\n */\nconst DateTime = ({ date, format, title }) => {\n    const displayName = TAG;\n\n    if (!date) {\n        return null;\n    }\n\n    const momentized = moment(date);\n    const validated = momentized.toDate();\n\n    let isoDate = null;\n    let descDate = null;\n    let timeString = null;\n\n    if (!Number.isNaN(Number(Date.parse(validated)))) { // ludicrous\n        isoDate = validated.toISOString();\n        descDate = title || validated.toUTCString();\n        timeString = momentized.format(format || 'lll');\n    } else {\n        isoDate = date;\n        descDate = title || date;\n        timeString = String(date);\n    }\n\n    return (<time className={displayName} dateTime={isoDate} title={descDate}>{timeString}</time>);\n};\n\nDateTime.propTypes = {\n    /**\n     * Some date\n     */\n    date: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.number,\n    ]),\n\n    /**\n     * A [moment.js format](http://momentjs.com/docs/#/displaying/format/)\n     */\n    format: PropTypes.string,\n\n    /**\n     * accessibility title (optional, defaults to UTC-formatted date)\n     */\n    title: PropTypes.string,\n};\n\nDateTime.defaultValues = {\n    format: 'lll',\n};\n\nexport default DateTime;\n","import DateTime from './DateTime';\n\nexport default DateTime;\n","// DatePicker.js\n\n// import $ from 'jquery';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport autobind from 'react-autobind';\nimport classnames from 'classnames/bind';\n\nimport Flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.css';\n\nimport getSingleDate from './getSingleDate';\nimport DateTime from '../../components/DateTime';\n\nimport style from './style.scss';\n\nconst cx = classnames.bind(style);\n\n\nclass DatePicker extends React.Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n\n        this.inputElem = null; // DOM reference\n        this.datePicker = null; // Flatpickr instance\n    }\n\n    componentDidMount() {\n        const p = this.props;\n\n        const enableTime = ('enableTime' in p) ? !!p.enableTime : false;\n        const allowInput = ('allowInput' in p) ? !!p.allowInput : true;\n\n        const { mode, altFormat, minDate } = p;\n\n        const config = {\n            minDate,\n            enableTime,\n            allowInput,\n            altInput: false,\n            altFormat: altFormat || 'F j, Y h:i K',\n            animate: false,\n            dateFormat: altFormat || 'F j, Y h:i K',\n            mode: mode || 'single', // single, multiple, or range\n            onChange: this.eventChange,\n            onClose: this.eventClose,\n            onOpen: this.eventOpen,\n            onReady: this.eventReady,\n        };\n        this.datePicker = new Flatpickr(this.inputElem, config);\n    }\n\n    shouldComponentUpdate() {\n        return false;\n    }\n\n    componentWillUnmount() {\n        this.datePicker.destroy();\n    }\n\n    eventChange(dates) {\n        this.datePicker.close();\n        const dateString = getSingleDate(dates);\n        const dateObj = DateTime({ date: dateString, format: 'YYYYMMDD' });\n        if (typeof this.props.onChange === 'function') {\n            if (dateObj) {\n                this.props.onChange.call(null, { date: dateObj.props.children, subfilter: this.props.subfilter });\n            } else {\n                this.props.onChange.call(null, { date: null, subfilter: this.props.subfilter });\n            }\n        }\n    }\n\n    // eventKeyDown(e) {\n    // const dateString = getSingleDate(dates);\n    // if (typeof this.props.onChange === 'function') this.props.onChange.call(null, dateString);\n    // }\n\n    eventClose(stuff) {\n        if (typeof this.props.onClose === 'function') this.props.onClose.call(null, stuff);\n    }\n\n    eventOpen(stuff) {\n        if (typeof this.props.onOpen === 'function') this.props.onOpen.call(null, stuff);\n    }\n\n    eventReady(stuff) {\n        if (typeof this.props.onReady === 'function') this.props.onReady.call(null, stuff);\n    }\n\n    eventClear(e) {\n        e.preventDefault();\n        this.datePicker.clear();\n        if (typeof this.props.onChange === 'function') this.props.onChange.call(null, '');\n        return false;\n    }\n\n    render() {\n        return (\n            <span>\n                {/* note: do not bind things to this element as it will confuse the library */}\n                <input\n                    className={cx('nmbl-date-picker')}\n                    ref={(eref) => { this.inputElem = eref; }}\n                    id={this.props.id}\n                    type=\"text\"\n                    placeholder=\"Select Date...\"\n                    // onKeyPress={this.eventKeyDown}\n                />\n                <button className={cx('clear', 'close')} onClick={this.eventClear}>x</button>\n            </span>\n        );\n    }\n}\n\nDatePicker.propTypes = {\n    id: PropTypes.string,\n    subfilter: PropTypes.string,\n    // enableTime: PropTypes.bool,\n    // mode: PropTypes.string,\n    // minDate: PropTypes.string,\n    // minDate: PropTypes.string,\n    onChange: PropTypes.func,\n    onClose: PropTypes.func,\n    onOpen: PropTypes.func,\n    onReady: PropTypes.func,\n};\n\nexport default DatePicker;\n","export default function getSingleDate(dates) {\n    let dateString = '';\n    if (dates.length) {\n        dateString = dates[0].toISOString(); // for now\n        // @todo: need to think about displaying/handling multiple dates\n    }\n    return dateString;\n}\n","/* eslint-disable import/no-named-as-default */\nimport DatePicker from './DatePicker';\n\nexport default DatePicker;\n","/* eslint-disable */\n\n// we'll fix the lints eventually, but right now, that is a big distraction.\n// especially since I intend to refactor this anyway\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport autobind from 'react-autobind';\nimport classnames from 'classnames/bind';\nimport { IconAdaptor } from '@infosight/elmer/dist/components/IconAdaptor';\nimport SortIcon from 'react-icons/lib/fa/sort';\nimport SortAscIcon from 'react-icons/lib/fa/sort-asc';\nimport SortDescIcon from 'react-icons/lib/fa/sort-desc';\nimport { flatten, compact } from 'underscore';\nimport objectHash from 'object-hash';\nimport warn, { assert } from '../../util/warn';\nimport Pagination from '../Pagination';\nimport style from './style.scss';\n\nimport DatePicker from '../DatePicker';\n\nconst cx = classnames.bind(style);\n\nconst LIST_SIZES = [\n    { name: 'just 5', value: 5 },\n    { name: '10', value: 10 },\n    { name: '25', value: 25 },\n    { name: '50', value: 50 },\n    { name: '100!', value: 100 },\n];\n\nconst MAX_LIST_SIZE = 100;\n\n// just for now testing\n// (used to make a sorted summary pulldown <select> of the unique column data)\nfunction searchArrayFor(sourceArray, targetprop) {\n    const rs = sourceArray.reduce((r, n) => {\n        const pdata = n[targetprop];\n        const pdk = (`${pdata}`).toLowerCase(); // \"normalized\"\n        r[pdk] = r[pdk] || {\n            name: pdata,\n            value: pdk,\n        };\n        return r;\n    }, {});\n    return Object.values(rs).sort((a, b) => {\n        // empty data goes first\n        if (!a.name || !a.value) return -1;\n        else if (!b.name || !b.value) return 1;\n\n        // sortable data\n        if (a.value < b.value) return -1;\n        else if (a.value > b.value) return 1;\n        return 0;\n    });\n}\n\nclass GridView extends Component {\n\n    constructor(props) {\n        super(props);\n        autobind(this);\n\n        // TODO alias v1 withOptions and withData to v2 options and data;\n        // const userOptions = props || props.withOptions;\n        const userOptions = props;\n        const data = props.data || props.withData;\n\n        // @note: withOptions deprecated\n        const optionSet = props.options || props.withOptions;\n\n        const defaultOptions = {\n            pagination: {\n                perPage: 10,\n                offset: 0,\n            },\n        };\n\n        const nestedOptions = keys => keys.reduce((nested, key) => {\n            if (props.key === false) {\n                return nested;\n            }\n            nested[key] = { ...defaultOptions[key], ...props[key] };\n            return nested;\n        }, {});\n\n        const options = {\n            ...defaultOptions,\n            ...userOptions,\n            ...optionSet,\n            ...nestedOptions(['pagination'])\n        };\n\n\n        // todo: we need to refactor this to react pattern standards...\n        let tableData = data || options.data;\n\n        // copy data\n        if (Array.isArray(tableData)) tableData = tableData.slice(0);\n        else tableData = [];\n\n        const colsToShow = options.columns || [];\n        const hoverRows = options.hoverRows || false;\n\n        const colReference = colsToShow.reduce((r, n) => { r[n.key] = n; return r; }, {});\n\n        const perPage = options.pagination ? (options.pagination.perPage || 10): Number.MAX_SAFE_INTEGER;\n        const offset = options.pagination ? (options.pagination.offset || 0) : 0;\n\n        // normalize sorting options\n        let sorting = options.sorting || [];\n        sorting = sorting.map((si, i) => {\n            switch (si.order) {\n            case 'D': case 'd': case 'des': case 'desc': case -1: case '-': si.order = -1; break;\n            case 'A': case 'a': case 'asc': case 1: case '+': default: si.order = 1;\n            }\n            return { colname: si.colname, order: si.order };\n        });\n\n        const recordSample = tableData[0] || {}; // we sample the first item for autodetect\n        const knownKeys = Object.keys(recordSample);\n\n        // var prettyMap = knownKeys\n        // .reduce((r,n)=>{ r[n] = n; return r; }, {}); // set k = v to start\n        // Object.assign(prettyMap, options.prettyMap || props.prettyMap || {});\n\n        this.state = {\n            colsToShow,\n            colReference,\n            knownKeys,\n            hoverRows,\n            tableData,\n            sorting,\n            perPage,\n            offset,\n        };\n    }\n\n    componentWillReceiveProps({ data }) {\n        /*\n         * The 'data' prop is the only one that is allowed to be modified\n         * The remainder of the 'state' still reflects the initial props\n         * This is acceptable for current usages of GridView, however this may need to be more intelligent going forward.\n         */\n\n        // If the number of rows have changed (i.e. data has been filtered or unfiltered), we must reset the view to the first page\n        const resetToFirstPage = this.state.tableData.length !== data.length;\n\n        this.setState(\n            Object.assign({}, this.state, {\n                tableData: data,\n                offset: resetToFirstPage ? 0 : this.state.offset\n            })\n        );\n    }\n\n    setStateOffset(offset) {\n        offset = parseInt(offset, 10) || 0;\n        const tableDataLength = this.state.tableData.length;\n        if (offset < 0) offset = 0;\n        else if (offset >= tableDataLength) offset = tableDataLength - 1;\n        this.setState({ offset });\n    }\n\n    setStatePerPage(npp) {\n        npp = parseInt(npp, 10) || 0;\n        if (npp > MAX_LIST_SIZE) npp = MAX_LIST_SIZE;\n        this.setState({ perPage: npp });\n    }\n\n    getSortArrow(column) {\n        if (column.columns) {\n            return null;\n        }\n\n        const sortKeyOptions = this.state.sorting.find(sd => (sd.colname === column.key));\n        if (!sortKeyOptions || !sortKeyOptions.order) { // TODO is order always >= 1?\n            return (\n                <div className={cx('sortIcon')}>\n                    <IconAdaptor size=\"xsmall\" type=\"svg\"><SortIcon /></IconAdaptor>\n                </div>\n            );\n        }\n\n        // TODO remove this line if it won't be used\n        // const columnSortOrder = this.state.sorting.indexOf(sortKeyOptions) + 1;\n        if (sortKeyOptions.order > 0) {\n            return (\n                <div className={cx('sortIcon')}>\n                    <IconAdaptor size=\"xsmall\" type=\"svg\"><SortAscIcon /></IconAdaptor>\n                </div>\n            );\n        } else {\n            return (\n                <div className={cx('sortIcon')}>\n                    <IconAdaptor size=\"xsmall\" type=\"svg\"><SortDescIcon /></IconAdaptor>\n                </div>\n            );\n        }\n    }\n\n    getHeaderContent(column) {\n        return column.header || column.key;\n    }\n\n\n    getColumnsByRow() {\n        const columns = [];\n        const rows = [];\n        let rowCount = 1;\n\n        // This only works for the first two rows. I don't feel like adding the complexity of recursitvly doing it\n        // for n-levels of grouping because two rows is probably going to work for 99% of use cases and more than two\n        // probably isn't going to be very friendly. Whoever needs the 1% can refactor as needed.\n        const columnMapper = (rowIndex = 0, parentColumnIndex = 0) => (column, columnIndex) => {\n            if (rowIndex > 1) {\n                return warn('GridView: Column grouping is only supported for the first two levels.' +\n                    ' Refactor GridView if you need to support this edge case')\n            }\n\n            if (column.visible === false) {\n                return;\n            }\n\n            columns[parentColumnIndex || columnIndex] = columns[parentColumnIndex || columnIndex] || [];\n            columns[parentColumnIndex || columnIndex][rowIndex] = columns[parentColumnIndex || columnIndex][rowIndex] || [];\n            columns[parentColumnIndex || columnIndex][rowIndex].push(column);\n\n            rows[rowIndex] = rows[rowIndex] || [];\n            rows[rowIndex][parentColumnIndex || columnIndex] = rows[rowIndex][parentColumnIndex || columnIndex] || [];\n            rows[rowIndex][parentColumnIndex || columnIndex].push(column);\n\n            if (column.columns) {\n                column.columns.forEach(columnMapper(rowIndex + 1, columnIndex));\n            }\n\n            if (rowCount < rowIndex + 1) {\n                rowCount = rowIndex + 1;\n            }\n\n            // Patch with a key\n            if (column.key === null || column.key === undefined) {\n                column.key = objectHash(column);\n            }\n        };\n\n        // TODO move columns to prop out of options\n        (this.props.columns || this.props.options.columns).forEach(columnMapper());\n\n        return {\n            rows,\n            columns: compact(flatten(columns.map(column => column[column.length - 1]))),\n        };\n    }\n\n    /** @return {Array} of {colsets} */\n    getRenderColumns() {\n        return this.state.colsToShow\n        .filter(cs => !(cs.visible === false))\n        .map((cs) => {\n            if (!cs.key) cs.key = (`${Math.random()}`).slice(2); // jit key\n            return cs;\n        });\n    }\n\n    /** @return {Array} of {datarows} */\n    getRenderRows() {\n        const desensitizeCase = value => (value === null || value === undefined ? '' : value).toString().toLowerCase();\n        const subqueries = { ...this.props.subqueries, ...this.state.subqueries };\n\n        return this.state.tableData\n            .filter((rowData) => {\n                let { tableQuery } = this.props;\n                if (!tableQuery) {\n                    return true;\n                }\n\n                tableQuery = desensitizeCase(tableQuery);\n                for (const key in rowData) {\n                    if (!rowData.hasOwnProperty(key)) {\n                        continue;\n                    }\n\n                    const value = desensitizeCase(rowData[key]);\n                    if (value.includes(tableQuery)) {\n                        return true;\n                    }\n                }\n\n                return false;\n            })\n            .filter((rowData) => {\n                if (!subqueries) {\n                    return true;\n                }\n\n                return Object.keys(subqueries)\n                    .reduce((includeRow, key) => {\n                        const columnValue = desensitizeCase(rowData[key]);\n                        const filterKey = subqueries[key];\n                        const filter = desensitizeCase(filterKey);\n                        if (typeof filterKey === 'object') {\n                            const comparator = filterKey.comparator;\n                            const filterx = filterKey.value;\n                            if (comparator === 'gte') {\n                                return includeRow && (columnValue >= filterx);\n                            }\n                        }\n                        return includeRow && columnValue.includes(filter);\n                    }, true);\n            })\n            .sort((a, b) => {\n                const sorting = this.state.sorting;\n                if (!sorting) return 0;\n\n                const sortpasses = sorting.length;\n\n                for (let i = 0; i < sortpasses; i++) {\n                    const sortgroup = sorting[i];\n                    const gsk = sortgroup.colname;\n                    const gso = sortgroup.order;\n\n                    let atest = a[gsk] || '',\n                        btest = b[gsk] || '';\n\n                    if (atest < btest) return (-1 * gso);\n                    else if (atest > btest) return (1 * gso);\n\n                    // if we end here, the order is 0, so we dont return it\n                    // we loop again and try to resolve the sort with the next sort group\n                }\n            });\n    }\n\n\n    // ---[ rendering methods ]----------------------------------------------------\n    render() {\n        const rowData = this.getRenderRows();\n        const currentPageRows = rowData.slice(this.state.offset, this.state.offset + this.state.perPage);\n\n        return (\n            <div className={cx('nmbl-grid-view', this.props.className)}>\n\n                {this.writeSettings()}\n                <table className={this.state.hoverRows ? 'hover' : ''}>\n                    <thead>\n                        {this.writeHeader()}\n                        {this.writeSubfilter()}\n                    </thead>\n                    <tbody>\n                        {this.writeRows(currentPageRows)}\n                    </tbody>\n                    <tfoot>\n                        {/* this.writeFooter() */}\n                    </tfoot>\n                </table>\n                <div className={cx('nmbl-grid-view-footer') + ' container-fluid'}>\n                    {currentPageRows.length===0 && <span>{this.props.noDataMsg}</span>}\n                    {/* TODO Implement \"Rows Selected\" from UX when needed */}\n                    {this.writePagination(rowData)}\n                </div>\n                <br/><br/>\n            </div>\n        );\n    }\n\n    writeSettings() {\n        return (\n            <form className=\"settings container-fluid\">\n                <div className=\"row\">\n                    {this.writeUserPerPageSelection()}\n                </div>\n            </form>\n        );\n    }\n\n    writeHeader() {\n        const {rows} = this.getColumnsByRow();\n\n        const getRowSpan = (rowIndex, colIndex) => {\n            // Column is part of a group\n            if (rowIndex > 0) {\n                return 1;\n            }\n\n            // Has child columns, meaning it's a group header\n            if (rows[rowIndex+1] && rows[rowIndex+1][colIndex]) {\n                return 1;\n            }\n\n            // Either it's a column that is not a group header OR there are no group headers\n            return rows.length;\n        };\n\n        const renderCell = (column, rowIndex, columnIndex) => {\n            if (Array.isArray(column)) {\n                return column.map(c => renderCell(c, rowIndex, columnIndex));\n            }\n\n            if (column.visible === false) {\n                return;\n            }\n\n            const colSpan = column.columns ? column.columns.length : 1;\n            const rowSpan = getRowSpan(rowIndex, columnIndex);\n            const sortNode = this.getSortArrow(column);\n\n            // TODO sorting markup should only be added if sorting is enabled\n            const isGroupHeader = !!column.columns;\n            const thProps = {\n                'data-sortable': isGroupHeader ? undefined : '',\n                'data-group-header': isGroupHeader ? '' : undefined,\n                onClick: isGroupHeader ? undefined : this.eventHeaderSort,\n                colSpan: colSpan > 1 ? colSpan : undefined,\n                rowSpan: rows.length > 1 && rowSpan > 1 ? rowSpan : undefined,\n            };\n\n            return (\n                <th className={cx({ sorted: sortNode })} key={column.key} data-colname={column.key} {...thProps}>\n                    {this.getHeaderContent(column)}\n                    <span className=\"pull-right float-right\">\n                        {/* Allocate space to avoid jumping around and wrapping */}\n                        {sortNode || (<i className=\"fa fa-sort-asc invisible\" />)}\n                    </span>\n                </th>\n            );\n        };\n\n        return rows.map((row, rowIndex) => (\n            <tr key={rowIndex}>\n                {compact(flatten(row.map((col, colIndex) => renderCell(col, rowIndex, colIndex))))}\n            </tr>\n        ));\n    }\n\n    // todo : expand subqueries options set to include (text, summary list, range...)\n    // TODO implement filterValue or query prop to pass in the filter such as from a URL\n    writeSubfilter() {\n        if (!this.props.subqueries) {\n            return null;\n        }\n        const { columns } = this.getColumnsByRow();\n        return (\n            <tr className=\"gv-subquery-filters\">\n                {columns.map(column => {\n                    switch (column.subquery) {\n                    case 'date-range':\n                        return this.showSubfilterDateRange(column);\n                    case 'summary':\n                        return this.showSubfilterSelect(column);\n                    case false:\n                        return this.showNoSubfilter(column);\n                    case true:\n                    default:\n                        return this.showSubfilterInput(column);\n                    }\n                })}\n            </tr>\n        );\n    }\n\n    showSubfilterDateRange(column) {\n        return (\n            <th key={column.key}>\n                <DatePicker altFormat={column.datePickerFormat} subfilter={column.key} onChange={this.eventDateRangeSubfilter} />\n            </th>);\n    }\n\n    showNoSubfilter(column) {\n        return (<th key={column.key}>&nbsp;</th>);\n    }\n\n    showSubfilterInput(column) {\n        return (\n            <th key={column.key}>\n                <input\n                    className={cx('subquery')}\n                    type=\"text\"\n                    data-subfilter={column.key}\n                    onInput={this.eventSubfilter}\n                />\n            </th>);\n    }\n\n    showSubfilterSelect(column) {\n        if (column.summaryOptions) {\n            return (\n                <th key={column.key}>\n                    <select ref={column.key} data-subfilter={column.key} onChange={this.eventSubfilter}>\n                        <option value=\"\" />\n                        { column.summaryOptions.map((lo) => {\n                            return (<option key={lo.value} value={lo.value}>{lo.name}</option>);\n                        })}\n                    </select>\n                </th>\n            );\n        }\n        return (\n            <th key={column.key}>\n                <select ref={column.key} data-subfilter={column.key} onChange={this.eventSubfilter}>\n                    <option value=\"\" />\n                    { searchArrayFor(this.state.tableData, column.key).map((lo) => {\n                        const isEmpty = (!lo.name && lo.name !== 0);\n                        return (<option key={lo.value} value={lo.value}>{isEmpty ? '(is blank)' : lo.name}</option>);\n                    })}\n                </select>\n            </th>\n        );\n    }\n\n    writeCell(column, rowData) {\n        let cellData = rowData[column.key];\n        if (typeof column.render === 'function') {\n            cellData = column.render(cellData, rowData);\n        } else {\n            // demo data type unpacker...\n            // if(typeof cellData === 'number')\n            //     cellData = parseFloat(cellData).toFixed(2);\n            // else if(cellData instanceof Date)\n            //     cellData = moment(cellData);\n        }\n\n        return <td key={column.key} data-colname={column.key}>{cellData}</td>;\n    }\n\n    writeRows(rowData) {\n        const { columns } = this.getColumnsByRow();\n        return rowData.map((rowData, index) => {\n            assert(\n                rowData[this.props.rowKey] !== undefined,\n                `GridView: shimming key for row with undefined key. index=${index} rowKey=${this.props.rowKey}`,\n                rowData,\n            );\n\n            const rowKey = rowData[this.props.rowKey] || objectHash(rowData);\n\n            // proof of concept demo for child rows:\n            // if(idx === 3 && this.props.childRowComponent) {\n            //     let child = createElement(this.props.childRowComponent, d);\n            //     return (<tr key={'child'+d.key}><td colSpan={99}>{child}</td></tr>);\n            // }\n\n            const oddRow = (index + 1) % 2;\n            const customAttributes = {\n                'data-odd': oddRow ? '' : undefined,\n                'data-even': !oddRow ? '' : undefined,\n                'data-rowkey': rowKey,\n            };\n\n            return (\n                <tr key={rowKey} onClick={this.eventRowTouch} {...customAttributes}>\n                    {columns.map(column => this.writeCell(column, rowData))}\n                </tr>\n            );\n        });\n    }\n\n    // will be the counterpoint to headers\n    writeFooter() {\n        // var eventSubfilter = this.eventSubfilter.bind(this);\n        return (\n            <tr>\n                {this.getRenderColumns().map(c => (\n                    <td key={c.key}>\n                        unfinished\n                    </td>),\n                )}\n            </tr>\n        );\n    }\n\n    writeSummary() {\n        return (<div>{this.state.tableData.length} rows in memory</div>);\n    }\n\n\n    writePagination(rowData) {\n        if (this.props.pagination) {\n            return (\n                <Pagination\n                    className=\"pull-right\"\n                    dataOffset={this.state.offset}\n                    numberPerPage={this.state.perPage}\n                    itemCount={rowData.length}\n                    onPageSelect={this.gotPageSelect}\n                />\n            );\n        }\n\n        return null;\n    }\n\n\n    writeUserPerPageSelection() {\n        if (this.props.pagination && this.props.pagination.enableUserPerPageSelection) {\n            return (\n                <div className=\"medium-6 columns\">\n                    <label>Number per page:\n                        <select value={this.state.perPage} onChange={(e) => { this.setStatePerPage(e.currentTarget.value); }}>\n                            {LIST_SIZES.map(lo => (<option key={lo.value} value={lo.value}>{lo.name}</option>))}\n                        </select>\n                    </label>\n                </div>\n            );\n        }\n\n        return null;\n    }\n\n\n    // ---[ pagination receivers ]----------------------------------------------------\n\n    gotPageSelect({ dataOffset }) {\n        this.setStateOffset(dataOffset);\n    }\n\n    // ---[ component events ]----------------------------------------------------------\n\n\n    // @todo: a row was clicked, expose/hide child row\n    // @bug: we are looking at the render position index, not the data index!!!\n    eventRowTouch(event) {\n        let rkey = event.currentTarget.dataset.rowkey,  // could be our vector for lookup instead...\n            ridx = event.currentTarget.dataset.rowindex; // this is render.  we need data index\n    }\n\n    eventDateRangeSubfilter(date) {\n        const sfk = date.subfilter;\n        const sfq = date.date;\n        // console.log(\"filtering [%s] with:\", sfk, sfq);\n\n         if (!sfq) {\n            const cs = Object.assign({}, this.state);\n            if (cs.subqueries) {\n                delete cs.subqueries[sfk];\n                this.setState(cs);\n            }\n            return;\n        }\n\n        const csf = Object.assign({}, this.state.subqueries);\n        csf[sfk] = { comparator: \"gte\", value: sfq };\n        this.setState({\n            offset: 0, // back to first item\n            subqueries: csf,\n        });\n\n    }\n\n\n    // responds to subfilter events adds the search text(s) to the subfilter set\n    eventSubfilter(event) {\n        const eventSrc = event.currentTarget;\n        const sfk = eventSrc.dataset.subfilter;\n        const sfq = eventSrc.value;\n        // console.log(\"filtering [%s] with:\", sfk, sfq);\n\n        if (!sfq) {\n            const cs = Object.assign({}, this.state);\n            delete cs.subqueries[sfk];\n            this.setState(cs);\n            return;\n        }\n\n        const csf = Object.assign({}, this.state.subqueries);\n        csf[sfk] = sfq;\n        this.setState({\n            offset: 0, // back to first item\n            subqueries: csf,\n        });\n    }\n\n    // responds to header sort events and queues the sort order\n    // todo: if shift-click, push ADDITIONAL sort rule,\n    //       otherwise CLEAR the previous rules first\n    eventHeaderSort(event) {\n        const wantsAdd = !!event.shiftKey;\n        const sk = event.currentTarget.dataset.colname;\n        let sko = this.state.sorting.find(sd => (sd.colname === sk));\n\n        let sorting = this.state.sorting.slice(0); // copy\n\n        if (sko) {\n            if (sko.order == 0) sko.order = 1;\n            else if (sko.order == 1) sko.order = -1;\n            else {\n                sko.order == 0;\n                sorting.splice(sorting.indexOf(sko), 1); // remove\n                sko = null;\n            }\n        } else {\n            sko = { colname: sk, order: 1 };\n            wantsAdd ? sorting.push(sko) : sorting = [sko];\n        }\n\n        this.setState({ sorting });\n    }\n\n}\n\n// TODO document any missing props\nGridView.propTypes = {\n    /**\n     * Define filtering by column. Each key in this object corresponds to a `props.columns[].key`\n     */\n    subqueries: PropTypes.object,\n\n    data: PropTypes.arrayOf(PropTypes.object).isRequired,\n\n    // TODO add any missing props\n    columns: PropTypes.arrayOf(PropTypes.shape({\n        visible: PropTypes.bool,\n        header: PropTypes.node,\n\n        /**\n         * Unique Key in data prop which provides the source data of this column.\n         * If you don't care about a specific value, i.e. when using a custom render function, this value must at\n         * least be unique\n         */\n        key: PropTypes.string.isRequired,\n\n        /**\n         * Define column level filtering style\n         * @default true\n         * @enum 'summary' User can select from a list of all values in column\n         * @enum true - plain text input\n         * @enum false - Disable subfilter\n         */\n        // TODO shouldn't this be false by default?\n        // TODO add story\n        subquery: PropTypes.oneOf(['summary', 'date-range', true, false]),\n\n        /**\n         * @function\n         * @param columnValue\n         * @param rowData\n         * @return PropTypes.node\n         */\n        render: PropTypes.func,\n\n        /**\n         * Create a column group. All options of the root columns hash apply, except \"columns\".\n         * If you need the edge case of more than one level of grouping, implement it.\n         *\n         * The parent column becomes the group header, which cannot be filtered or sorted.\n         */\n        columns: PropTypes.arrayOf(PropTypes.object),\n    })).isRequired,\n\n    pagination: PropTypes.oneOfType([\n        /**\n         * false - disable pagination\n         * true - use default pagination\n         */\n        PropTypes.bool,\n\n        /**\n         * Specify pagination options\n         */\n        PropTypes.shape({\n            perPage: PropTypes.number, // Default: 10\n            offset: PropTypes.number, // Default: 0\n            enableUserPerPageSelection: PropTypes.bool, // Default: false TODO remove this. Can be passed in perPage.\n        }),\n    ]),\n\n    // TODO add typeahead story.\n    // I removed embedded table-filtering since mockups show it outside of the table and we can easily take the filter\n    // as a prop\n    tableQuery: PropTypes.string,\n\n    /**\n     * Key in data hash that uniquely identifies the row. If this is not unique, React will not render the row.\n     */\n    rowKey: PropTypes.string.isRequired,\n    noDataMsg: PropTypes.string,\n};\n\nGridView.defaultProps = {\n    options: null,\n    data: null,\n    childRowComponent: null,\n    pagination: true,\n    tableQuery: '',\n    rowKey: 'id',\n};\n\nexport default GridView;\n/* eslint-enable */\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * This components is used to define the attributes of a column.\n * It should never actually be rendered.\n */\nfunction Column() {\n    if (__DEBUG__) {\n        throw new Error('Component <Column /> should never render');\n    }\n\n    return <i />;\n}\n\n/* eslint-disable react/no-unused-prop-types */\nColumn.propTypes = {\n    visible: PropTypes.bool,\n\n    /**\n     * Defaults to props.key\n     */\n    header: PropTypes.node,\n\n    /**\n     * Unique Key in data prop which provides the source data of this column.\n     * If you don't care about a specific value, i.e. when using a custom render function, this value must at\n     * least be unique across all columns and groups.\n     *\n     * It is also used in attributes on all `<th>` and `<td>` elements.\n     */\n    dataKey: PropTypes.string.isRequired,\n\n    /**\n     * Create a column filter based on unique values\n     */\n    summaryFilter: PropTypes.bool,\n\n    /**\n     * Create a plain-text filtering form\n     */\n    textFilter: PropTypes.bool,\n\n    /**\n     * Render function with signature `render(valueAtKey: Object, rowData: Object): ReactNode`\n     */\n    render: PropTypes.func,\n};\n\nColumn.defaultProps = {\n    visible: true,\n    summaryFilter: false,\n    textFilter: false,\n};\n\nexport default Column;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * This components is used to define the attributes of a column group\n * It should never actually be rendered.\n */\nfunction ColumnGroup() {\n    if (__DEBUG__) {\n        throw new Error('Component <ColumnGroup /> should never render');\n    }\n\n    return <i />;\n}\n\n/* eslint-disable react/no-unused-prop-types */\nColumnGroup.propTypes = {\n    visible: PropTypes.bool,\n\n    /**\n     * Defaults to props.key\n     */\n    header: PropTypes.node,\n\n    /**\n     * Unique Key in data prop which provides the source data of this column.\n     * If you don't care about a specific value, i.e. when using a custom render function, this value must at\n     * least be unique across all columns and groups.\n     *\n     * It is also used in attributes on all `<th>` and `<td>` elements.\n     */\n    dataKey: PropTypes.string,\n\n    /**\n     * `Columns` in the group\n     */\n    children: PropTypes.any.isRequired,\n};\n\nColumnGroup.defaultProps = {\n    visible: true,\n};\n\nexport default ColumnGroup;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { compact } from 'underscore';\nimport GridView from './GridView';\nimport Column from './Column';\nimport ColumnGroup from './ColumnGroup';\nimport Pagination from '../Pagination';\n\nconst toColumn = ({ dataKey, summaryFilter, textFilter, ...props }) => ({\n    ...props,\n    key: dataKey,\n    subquery: summaryFilter ? 'summary' : !!textFilter,\n});\n\nconst toColumnGroup = ({ children, dataKey, ...props }) => ({\n    ...props,\n    key: dataKey,\n    columns: compact(React.Children.map(\n        children,\n        ({ type, props: childProps }) => (type === Column ? toColumn(childProps) : undefined))\n    ),\n});\n\nconst toPagination = ({ numberPerPage, dataOffset }) => ({\n    perPage: numberPerPage,\n    offset: dataOffset,\n});\n\n/**\n * Define GridView attributes in JSX instead of nested objects.\n */\nfunction SimpleGridView({ children, disablePagination, ...props }) {\n    const columns = [];\n\n    // Empty object lets GridView use default pagination settings\n    let pagination = !disablePagination;\n\n    React.Children.forEach(children, ({ type, props: childProps }) => {\n        if (type === Column) {\n            columns.push(toColumn(childProps));\n        } else if (type === ColumnGroup) {\n            columns.push(toColumnGroup(childProps));\n        } else if (type === Pagination && !disablePagination) {\n            pagination = toPagination(childProps);\n        }\n    });\n\n    return <GridView columns={compact(columns)} pagination={pagination} {...props} />;\n}\n\nSimpleGridView.propTypes = {\n    data: PropTypes.arrayOf(PropTypes.object).isRequired,\n\n    /**\n     * Children are not rendered. The following components are used to describe aspects of the Gridview:\n     * `Column`, `Pagination`\n     */\n    children: PropTypes.any.isRequired,\n\n    /**\n     * Pagination is enabled by default, manually disable it. To override defaults, add a `Pagination` component to\n     * `props.children`\n     */\n    disablePagination: PropTypes.bool,\n\n    /**\n     * Query to search across all columns\n     */\n    tableQuery: PropTypes.string,\n\n    /**\n     * Key in data hash that uniquely identifies the row. If this is not unique, React will not render the row.\n     */\n    rowKey: PropTypes.string.isRequired,\n};\n\nSimpleGridView.defaultProps = {\n    noPagination: false,\n};\n\nexport default SimpleGridView;\n","import GridView from './GridView';\nimport Column from './Column';\nimport ColumnGroup from './ColumnGroup';\nimport SimpleGridView from './SimpleGridView';\n\nexport default GridView;\nexport { SimpleGridView, Column, ColumnGroup };\n","// SupportLoading.js\n\nimport React from 'react';\nimport classnames from 'classnames/bind';\n\nimport style from './SupportLoading.scss';\n\nconst cx = classnames.bind(style);\n\nfunction SupportLoading(/* props */) {\n    return (\n        <div className={cx('support-loading')}>\n\n            <div className={cx('loading-box')}>\n                <h2>Loading support cases...</h2>\n                <hr />\n                <p className={cx('wait-text')}>Please wait a moment.</p>\n            </div>\n        </div>\n    );\n}\n\nexport default SupportLoading;\n","// SupportLoadingError.js\n\nimport React from 'react';\nimport classnames from 'classnames/bind';\n\nimport style from './SupportLoading.scss';\n\nconst cx = classnames.bind(style);\n\nfunction SupportLoadingError(/* props */) {\n    return (\n        <div className={cx('support-loading')}>\n\n            <div className={cx('loading-box')}>\n                <h2>Cases are not available</h2>\n                <hr className={cx('error')} />\n                <p>We{'\\''}ve encountered an error while loading your cases.\n                    This is most likely a temporary issue or condition, so\n                    please try back in a few moments.\n                </p>\n                <p>If the situation persists, call 1-877-364-6253.</p>\n            </div>\n        </div>\n    );\n}\n\nexport default SupportLoadingError;\n","// SupportListCases.js\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport autobind from 'react-autobind';\nimport classnames from 'classnames/bind';\nimport { buildUrl } from '@infosight/elmer/dist/utils/url';\nimport { Spinner } from '@infosight/elmer/dist/components/Spinner';\nimport { Link } from 'react-router-dom';\nimport { caseListSelector, fetchCasesFailedSelector } from '../../reducer/support-cases';\nimport { fetchCases, fetchSfdcContact } from '../../library/support-api';\nimport {\n    makeDomId,\n    filterParamDispatch,\n    filterStatusDispatch,\n    getCurrentUserContactId,\n} from '../../library/support-helper';\nimport { awaitLegacyApp } from '../../../../containers/NimbleLegacyContainer';\n// import supportHelper from '../library/support-helper';\n\nimport { listSelector } from '../../../nimble/arrays/collection/reducer';\nimport { getArrays } from '../../../nimble/arrays/collection/actionCreators';\nimport { redirectToLogin } from '../../../../util/url';\n\nimport SupportTab from '../SupportTab';\nimport SearchNav from '../SearchNav';\n\nimport GridView from '../../../../components/GridView';\nimport DateTime from '../../../../components/DateTime';\n\nimport { AUTHORITIES, AuthorizationEvaluator } from '../../../user';\n\nimport { SupportLoadingError } from '../SupportLoading';\n// import PriorityLabel from '../PriorityLabel';\n\nimport style from './SupportListCases.scss';\nimport { contactSelector } from '../../reducer/core';\n\nconst cx = classnames.bind(style);\n\nconst columns = [\n    { key: 'id', visible: false },\n    {\n        key: 'priority',\n        header: 'Priority',\n        subquery: 'summary',\n        summaryOptions: [{ name: 'P1', value: 'p1' },\n            { name: 'P2', value: 'p2' },\n            { name: 'P3', value: 'p3' },\n            { name: 'P4', value: 'p4' }],\n    },\n    {\n        key: 'assetName',\n        header: 'Serial #',\n        render(cd) {\n            if (cd === 'Unknown Asset') {\n                return (<span>Unknown Asset</span>);\n            }\n            const href = buildUrl('/infrastructure/storage/nimble/arrays/', cd);\n            return (<Link to={href}>{cd}</Link>);\n        },\n    },\n    {\n        key: 'caseNumber',\n        header: 'Case #',\n        render(cd) { return (<Link to={`${buildUrl('/resources/nimble/support/case/', cd)}`}>{cd}</Link>); },\n    },\n    {\n        key: 'status',\n        header: 'Status',\n        subquery: 'summary',\n    },\n    {\n        key: 'ownerName',\n        header: 'Assigned',\n    },\n    {\n        key: 'createdDateOnly',\n        header: 'Opened After',\n        subquery: 'date-range',\n        datePickerFormat: 'n/j/Y',\n        render(cd) { return (<DateTime date={cd} format=\"M/D/YYYY\" />); },\n    },\n    { key: 'subject', header: 'Subject' },\n    {\n        key: 'lastUpdatedDate',\n        header: 'Last Updated',\n        subquery: 'date-range',\n        datePickerFormat: 'n/j/Y',\n        render(cd) { return (<DateTime date={cd} format=\"M/D/YYYY\" />); },\n    },\n];\n\nconst tableOptions = {\n    rowKey: 'id',\n    search: null,\n    sorting: [\n        { colname: 'lastUpdatedTS', order: 'desc' },\n    ],\n};\n\nfunction addCaseInfo(cases, arrays) {\n    const temp = {};\n    for (let i = 0; i < cases.length; i += 1) {\n        temp[cases[i].status] = true;\n\n        // add serial number (assetName) to cases\n        if (arrays) {\n            const foundAsset = arrays.find(a => a.arrayId === cases[i].assetId);\n            if (foundAsset) {\n                cases[i].assetName = foundAsset.arraySn;\n            } else {\n                cases[i].assetName = 'Unknown Asset';\n            }\n        }\n    }\n\n    const statusList = Object.keys(temp);\n    const summaryOptions = statusList.sort().map((s) => {\n        const keyValue = { name: s, value: s.toLowerCase() };\n        return keyValue;\n    });\n\n    columns.map((col) => {\n        if (col.key === 'status') {\n            col.summaryOptions = summaryOptions;\n            return col;\n        }\n        return col;\n    });\n}\n\nclass SupportListCases extends React.Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n\n        this.state = {\n            isSupportCaseAccessOnly: AuthorizationEvaluator.evaluate({\n                access: {\n                    authorities: [AUTHORITIES.SUPPORT_CASE],\n                },\n            }),\n            tableSearch: '',\n        };\n\n        this.checkboxId = makeDomId();\n        this.fromDateId = makeDomId();\n        this.toDateId = makeDomId();\n    }\n\n    componentDidMount() {\n        const { contact } = this.props;\n        this.props.fetchCases();\n        this.props.getArrays();\n\n        if (!contact || (!contact.loaded && !contact.loading)) {\n            this.props.fetchSfdcContact();\n        }\n    }\n\n    getFilteredCases(caselog) {\n        const { filtering } = this.props;\n\n        const startDate = new Date(filtering.startDate);\n        startDate.setHours(0); // starts at midnight\n        startDate.setMinutes(0);\n\n        const endDate = new Date(filtering.endDate);\n        endDate.setHours(23); // ends just before midnight\n        endDate.setMinutes(59);\n        endDate.setSeconds(59);\n\n        const filteredCases = caselog\n            .filter((c) => {\n                if (c === false) return false;\n                if (typeof c !== 'object') return false;\n                if (!c) return false;\n                return true;\n            })\n            .filter((c) => {\n                if (!filtering.caseStatus) return true;\n                return (c.bucket === filtering.caseStatus);\n            })\n            .filter((c) => {\n                if (!filtering.hideAutoCases) return true;\n                return (c.Auto_Open__c !== filtering.hideAutoCases);\n            })\n            .filter((c) => {\n                if (!filtering.justMine) return true;\n                return (c.contactId === getCurrentUserContactId());\n            })\n            .filter((c) => {\n                if (!filtering.startDate) return true;\n                const caseOpened = new Date(c.createdDate);\n                return (caseOpened >= startDate);\n            })\n            .filter((c) => {\n                if (!filtering.endDate) return true;\n                const caseOpened = new Date(c.createdDate);\n                const caseClosed = new Date(c.closedDate);\n                const maxDate = Math.max(caseOpened, caseClosed);\n                return (maxDate <= endDate);\n            });\n        return filteredCases;\n    }\n\n    setStatusFilter(e) {\n        let { status } = e.target.dataset;\n        if (status === this.props.filtering.caseStatus) status = null; // toggle\n        this.props.filterStatusDispatch(status);\n    }\n\n    eventJustMineChange(e) {\n        const justMineIsChecked = !!e.target.checked;\n        this.props.filterParamDispatch('justMine', justMineIsChecked);\n    }\n\n    eventFromDateChange(dateString) {\n        this.props.filterParamDispatch('startDate', dateString);\n    }\n\n    eventToDateChange(dateString) {\n        this.props.filterParamDispatch('endDate', dateString);\n    }\n\n    eventSearching(searchString) {\n        this.setState({ tableSearch: searchString });\n    }\n\n    render() {\n        const { cases, fetchCasesFailed, arrays, contact } = this.props;\n\n        if (this.state.isSupportCaseAccessOnly) {\n            redirectToLogin();\n            return <div />;\n        }\n\n        if (!cases.loaded || !arrays || !contact.loadedContact) { return (<Spinner />); }\n        if (fetchCasesFailed) { return (<SupportLoadingError />); }\n\n        const { filtering } = this.props;\n\n        const caseList = cases.value;\n\n        let caseSum = { Total: 0, Open: 0, Closed: 0, Resolved: 0 };\n        if (caseList) {\n            caseSum = caseList.reduce((r, n) => {\n                let pval = r[n.bucket] >>> 0;  // eslint-disable-line\n                pval += 1;\n                r[n.bucket] = pval; // eslint-disable-line\n                return r;\n            }, caseSum);\n\n            caseSum.Total = caseList.length;\n        }\n\n        const filteredCases = this.getFilteredCases(caseList);\n        addCaseInfo(caseList, arrays);\n        const isInternal = AuthorizationEvaluator.evaluate({ access: { authorities: AUTHORITIES.REALM_INTERNAL } });\n\n        return (\n            <SupportTab>\n\n                <div className={cx('support-list-cases')}>\n\n                    <SearchNav currentFilters={filtering} isInternal={isInternal} onSearch={this.eventSearching} />\n\n                    <div className={cx('grid-inset')}>\n                        <GridView\n                            data={filteredCases}\n                            options={tableOptions}\n                            tableQuery={this.state.tableSearch}\n                            subqueries={{}}\n                            columns={columns}\n                            noDataMsg=\"No Data Available\"\n                        />\n                    </div>\n\n                </div>\n\n            </SupportTab>\n        );\n    }\n}\n\n\nSupportListCases.propTypes = {\n    arrays: PropTypes.array,\n    cases: PropTypes.object,\n    filtering: PropTypes.object,\n    fetchCases: PropTypes.func,\n    fetchCasesFailed: PropTypes.bool,\n    filterStatusDispatch: PropTypes.func,\n    filterParamDispatch: PropTypes.func,\n    fetchSfdcContact: PropTypes.func,\n    getArrays: PropTypes.func.isRequired,\n    contact: PropTypes.object,\n};\n\nfunction mapStateToProps(state) {\n    return {\n        cases: caseListSelector(state),\n        fetchCasesFailed: fetchCasesFailedSelector(state),\n        filtering: state.supportTab.filtering,\n        contact: contactSelector(state),\n        ...listSelector(state),\n    };\n}\n\nconst mapDispatchToProps = {\n    getArrays,\n    fetchCases,\n    filterStatusDispatch,\n    filterParamDispatch,\n    fetchSfdcContact,\n};\n\nexport default awaitLegacyApp(connect(mapStateToProps, mapDispatchToProps)(SupportListCases));\n","\nimport SupportListCases from './SupportListCases';\n\nexport default SupportListCases;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport autobind from 'react-autobind';\nimport classnames from 'classnames/bind';\n\nimport Spinner from '@infosight/elmer/dist/components/Spinner';\n\nimport DateTime from '../../../../components/DateTime';\nimport { grabKcsDocument } from '../../library/support-api';\n\nimport style from './KcsDocument.scss';\n\nconst cx = classnames.bind(style);\n\nclass KcsDocument extends React.Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n        this.state = {\n            kcsDocument: null,\n        };\n    }\n\n    componentWillMount() {\n        try {\n            grabKcsDocument(this.props.docId)\n                .done((kcsDocument) => {\n                    this.setState({ kcsDocument });\n                })\n                .error((x) => {\n                    if (x.responseJSON.error) {\n                        this.props.onError({\n                            message: 'Since your initial query, the solution you are trying to view ' +\n                                'has been withdrawn from public access. You will be now be redirected to the ' +\n                                'InfoSight portal, where you may search for similar knowledge under the ' +\n                                '\"Resources → Documentation\" tab.',\n                        });\n                    }\n                });\n        } catch (e) {\n            console.log('err');\n        }\n    }\n\n    render() {\n        const kcsDoc = this.state.kcsDocument;\n\n        if (!kcsDoc) {\n            return <Spinner />;\n        }\n\n        return (\n            <div className={cx('kcs-document')}>\n                <div className=\"callout\">\n                    <h2>{kcsDoc.title}</h2>\n                    <p>Created on: <DateTime date={kcsDoc.created_at} format=\"MM/DD/Y HH:mm\" /></p>\n                </div>\n                <div className={cx('kcs-body-text')}>\n                    <p\n                        dangerouslySetInnerHTML={{ __html: kcsDoc.body_html }} // eslint-disable-line react/no-danger\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nKcsDocument.propTypes = {\n    docId: PropTypes.number.isRequired,\n    onError: PropTypes.func,\n};\n\nexport default KcsDocument;\n","// index.js\n\nimport KcsDocument from './KcsDocument';\n\nexport default KcsDocument;\n","import React from 'react';\nimport { withRouter } from 'react-router';\nimport PropTypes from 'prop-types';\nimport autobind from 'react-autobind';\nimport { Modal } from '@infosight/elmer/dist/components/Modal';\n\nimport { redirectToLogin } from '../../../../util/url';\n\nimport {\n    likeASolution,\n    dislikeASolution,\n    resolveCase,\n} from '../../library/support-api';\n\n\nimport KcsDocument from '../KcsDocument';\n\n\nclass KcsDocumentModal extends React.Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n\n        this.state = {\n            error: null,\n            resultsLiked: [],\n            resultsDisliked: [],\n        };\n    }\n\n    onKcsError(error) {\n        this.setState({ error });\n    }\n\n    docSolvedMyIssue(docId) {\n        const { resultsLiked } = this.state;\n        if (!resultsLiked[docId]) {\n            resultsLiked[docId] = true;\n            this.setState({ resultsLiked });\n            likeASolution(docId);\n            resolveCase(this.props.caseId, `User accepted solution in KCS Document ${docId}`);\n        }\n    }\n\n    docNotHelpful(docId) {\n        const { resultsDisliked } = this.state;\n        if (!resultsDisliked[docId]) {\n            resultsDisliked[docId] = true;\n            this.setState({ resultsDisliked });\n            dislikeASolution(docId);\n        }\n    }\n\n    redirectToDocs() {\n        const { history } = this.props;\n        history.push('/resources/nimble/docs');\n\n        if (this.props.isSupportCaseAccess) {\n            redirectToLogin();\n        }\n    }\n\n    render() {\n        if (this.state.error) {\n            return (\n                <Modal\n                    size=\"large\"\n                    hideModalOnPrimaryButtonClick\n                    hideSecondaryButton\n                    primaryButtonContent=\"Ok\"\n                    title={`Solution #${this.props.docId} Unavailable`}\n                    onClickPrimaryButton={() => this.redirectToDocs()}\n                    hide={this.props.closeModal}\n                    isStoreDriven={false}\n                    isOpen\n                >\n                    <h1 className=\"no-margin\"><i className=\"fa fa-exclamation-triangle text-danger\" /> {this.state.error.message}</h1>\n                </Modal>\n            );\n        }\n\n        return (\n            <Modal\n                size=\"large\"\n                hideModalOnPrimaryButtonClick\n                hideModalOnSecondaryButtonClick\n                primaryButtonContent=\"This solved my issue\"\n                secondaryButtonContent=\"Not helpful\"\n                title={`Solution #${this.props.docId}`}\n                onClickPrimaryButton={() => this.docSolvedMyIssue(this.props.docId)}\n                onClickSecondaryButton={() => this.docNotHelpful(this.props.docId)}\n                hide={this.props.closeModal}\n                isStoreDriven={false}\n                isOpen\n            >\n                <KcsDocument\n                    docId={this.props.docId}\n                    onError={e => this.onKcsError(e)}\n                />\n            </Modal>);\n    }\n}\n\nKcsDocumentModal.propTypes = {\n    caseId: PropTypes.string,\n    docId: PropTypes.number.isRequired,\n    // Injected by withRouter\n    history: PropTypes.object,\n    isSupportCaseAccess: PropTypes.bool,\n    closeModal: PropTypes.func.isRequired,\n};\n\nexport default withRouter((KcsDocumentModal));\n","// index.js\n\nimport KcsDocumentModal from './KcsDocumentModal';\n\nexport default KcsDocumentModal;\n","import $ from 'jquery';\n/* eslint-disable react/no-unused-state */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames/bind';\n\n// import TypeAheadList from './TypeAheadList';\n\nimport style from './style.scss';\n\nconst cx = classnames.bind(style);\n\n\n// FIXME: this impostor event object is enough to fool the receivers into accepting\n// our dispatched e.target.value, but it won't go much further than that.\n// function generatePseudoEvent(type, element) {\n//     return {\n//         _targetInst: null,\n//         bubbles: true,\n//         cancelable: false,\n//         target: element,\n//         currentTarget: element,\n//         defaultPrevented: false,\n//         dispatchConfig: null,\n//         eventPhase: null,\n//         isTrusted: false,\n//         nativeEvent: {},\n//         timeStamp: Date.now(),\n//         type,\n//     };\n// }\n\n\nclass TypeAhead extends React.Component {\n    constructor(props) {\n        super(props);\n        // autobind(this);\n\n        this.state = {\n            inputValue: props.value,\n            suggestions: props.valueList || [],\n            savedValues: [], // TODO: keep a tally of user phrases\n            showSuggestions: false,\n            listIndex: -1,\n        };\n\n        this.inputElem = null; // DOM reference\n        this.listElem = null; // DOM reference\n\n        this.eventChange = this.eventChange.bind(this);\n        this.eventBlur = this.eventBlur.bind(this);\n        // this.eventInput = this.eventInput.bind(this);\n        this.eventKeyDown = this.eventKeyDown.bind(this);\n        this.eventMouseOver = this.eventMouseOver.bind(this);\n\n        this.outsideClick = this.outsideClick.bind(this);\n    }\n\n    componentDidMount() {\n        $(window).on('click', this.outsideClick);\n    }\n\n    componentWillReceiveProps(nextProps) {\n        const nstate = {};\n        if ('value' in nextProps) nstate.inputValue = nextProps.value;\n        if (Array.isArray(nextProps.valueList)) {\n            if (this.suggestionsChanged(nextProps.valueList)) {\n                nstate.showSuggestions = true;\n                nstate.suggestions = nextProps.valueList;\n            }\n        }\n        this.setState(nstate);\n    }\n\n    componentWillUnmount() {\n        $(window).off('click', this.outsideClick);\n    }\n\n    suggestionsChanged(newSuggestions) {\n        const { suggestions } = this.state;\n        if (newSuggestions.length !== suggestions.length) return true;\n        for (let i = 0, l = suggestions.length; i < l; i++) {  // eslint-disable-line\n            if (suggestions[i] !== newSuggestions[i]) return true;\n        }\n        return false;\n    }\n\n    outsideClick(e) {\n        if (!this.state.showSuggestions) return;\n\n        const targetElem = $(e.target);\n        const treeElements = targetElem.closest(this.rootElem);\n\n        if (!treeElements.length) {\n            this.setState({ showSuggestions: false, listIndex: -1 });\n            this.eventBlur(e);\n        }\n    }\n\n    eventMouseOver(e) {\n        let listIndex = e.currentTarget.getAttribute('data-list-index'); // e.currentTarget.dataset.listIndex?\n        listIndex = parseInt(listIndex, 10);\n        if (Number.isNaN(Number(listIndex))) listIndex = -1;\n        this.setState({ listIndex });\n    }\n\n    eventChange(e) {\n        const val = e.target.value;\n        const self = this;\n\n        if (self.changeId) {\n            clearTimeout(self.changeId);\n        }\n\n        self.changeId = setTimeout(() => {\n            self.setState({ inputValue: val }, () => {\n                // then.... since this component is an interceptor patterm, we need to pass along the event\n                self.dispatchChanges(val);\n            });\n            self.changeId = null;\n        }, 200);\n    }\n\n    dispatchChanges(val) {\n        if (typeof this.props.onInput !== 'function') return;\n\n        this.props.onInput(val); // eslint-disable-line\n        // note: the above was triggering a misleading warning: 'onChange.call' is missing in props validation\n    }\n\n    // eventInput(e) {\n    //     this.setState({inputValue: e.target.value});\n    //     if (typeof this.props.onInput === 'function') this.props.onInput.call(null,e);\n    // }\n\n    eventBlur(e) {\n        // FIXME - conflict on blur event when mouse picking from list\n        // this.setState({showSuggestions: false});\n        if (typeof this.props.onBlur === 'function') this.props.onBlur.call(null, e); // eslint-disable-line\n    }\n\n    eventKeyDown(e) {\n        const leState = this.state;\n        const suggestionsLength = leState.suggestions.length;\n        const keyCode = e.keyCode || e.which;\n\n        let newIndex = leState.listIndex;\n\n        // select with enter key\n        if (keyCode === 13 && leState.showSuggestions && suggestionsLength && leState.listIndex > -1) {\n            const pickText = leState.suggestions[leState.listIndex];\n            this.setState({ inputValue: pickText, showSuggestions: false, listIndex: -1 });\n            // this is an antipattern, but it's needed so that we can send an onChange event to the parent component\n            this.inputElem.value = pickText; // it will be overwritten with the same data soon (restoring sync)\n            this.dispatchChanges(pickText);\n        } else {\n            // key nav\n            if (keyCode === 38) newIndex -= 1;\n            else if (keyCode === 40) newIndex += 1;\n\n            if (newIndex < 0) newIndex = -1;\n            if (newIndex >= suggestionsLength) newIndex = suggestionsLength - 1;\n\n            const inList = (newIndex > -1);\n            this.setState({ listIndex: newIndex, showSuggestions: inList });\n            if (inList) this.centerScroll(newIndex);\n        }\n\n        // and....  since this component runs the interceptor pattern, we need to forward the event\n        // do not dispatch if it was a list pick\n        if (leState.listIndex < 0) {\n            if (typeof this.props.onKeyDown === 'function') this.props.onKeyDown.call(null, e);\n        }\n    }\n\n    centerScroll(selectedIndex) {\n        const { listElem } = this;\n        if (!listElem) return; // list is closed\n\n        const items = Array.from(listElem.childNodes);\n        const selected = items.find((i, idx) => (idx === selectedIndex));\n\n        if (!selected) return;\n\n        const itemPosition = selected.offsetTop;\n        const itemHeight = selected.scrollHeight;\n\n        const listVisibleHeight = listElem.offsetHeight;\n        // const listScroll = listElem.scrollTop;\n        // const listScrollHeight = listElem.scrollHeight;\n\n        listElem.scrollTop = (itemPosition + itemHeight) - (listVisibleHeight / 2);\n    }\n\n    filteredProps(pp) {\n        const p = Object.assign({}, this.props, pp);\n        delete p.valueList;\n        return p;\n    }\n\n    renderResults() {\n        const component = this;\n        const leState = this.state;\n        const { suggestions } = leState;\n        if (!suggestions.length || !leState.showSuggestions) return null;\n        return (\n            /* eslint-disable */\n            <ul className={cx('type-ahead-results')} ref={(elem) => this.listElem = elem} >\n            {/* eslint-enable */}\n                {suggestions.map((pt, pti) => {\n                    const liClass = {};\n                    const anchorClass = {};\n                    if (leState.listIndex === pti) anchorClass.selected = true;\n                    const key = `ta-${pti}`;\n                    function injectValue(e) {\n                        e.preventDefault();\n                        component.setState({ inputValue: pt, showSuggestions: false, listIndex: -1 }, () => {\n                            component.inputElem.value = pt;\n                            component.dispatchChanges(pt);\n                        });\n\n                        return false;\n                    }\n                    return (\n                        <li\n                            key={key}\n                            className={cx(liClass)}\n                            onMouseOver={component.eventMouseOver}\n                            data-list-index={pti}\n                        >\n                            <a href=\"#support\" className={cx(anchorClass)} onClick={injectValue}>{pt}</a>\n                        </li>\n                    );\n                })}\n            </ul>\n        );\n    }\n\n    render() {\n        const component = this;\n        function bindElem(elem) {\n            component.inputElem = elem;\n            return elem;\n        }\n\n        return (\n            <span className={cx('type-ahead-input')}>\n                <input\n                    type=\"text\"\n                    ref={bindElem}\n                    onInput={this.eventChange}\n                    onKeyDown={this.eventKeyDown}\n                    onBlur={this.eventBlur}\n                />\n                {/* <TypeAheadList theList={this.state.valueList} /> */}\n                {this.renderResults()}\n            </span>\n        );\n    }\n}\n\nTypeAhead.propTypes = {\n    value: PropTypes.string,\n    valueList: PropTypes.array,\n    onBlur: PropTypes.func,\n    onInput: PropTypes.func,\n    onKeyDown: PropTypes.func,\n};\n\nexport default TypeAhead;\n","import TypeAhead from './TypeAhead';\n\nexport default TypeAhead;\n","// SupportCreateCase.js\n/* eslint-disable */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Provider, connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport autobind from 'react-autobind';\nimport classnames from 'classnames/bind';\nimport { Link } from 'react-router-dom';\nimport { buildUrl } from '@infosight/elmer/dist/utils/url';\nimport Dropdown from '../../../../components/Dropdown';\n\n\n// import KeyCode from '../../util/KeyCode';\nimport SupportTab from '../SupportTab';\nimport KcsDocumentModal from '../KcsDocumentModal';\n\nimport SFCaseModel from '../../library/SFCaseModel';\n\nimport { postCaseDetailOk } from '../../actions/fetch-support-cases';\n\nimport {\n    fetchSuggestedTerms,\n    searchKcsSolutions,\n    getUserProfile,\n} from '../../library/support-api';\n\nimport { listSelector } from '../../../nimble/arrays/collection/reducer';\nimport { getArrays } from '../../../nimble/arrays/collection/actionCreators';\n\nimport { isWordChar, makeDomId } from '../../library/support-helper';\n\nimport TypeAhead from '../../../../components/TypeAhead';\n\nimport style from './SupportCreateCase.scss';\nimport { buildUrlFromBase } from '../../../../util/url';\n\nconst cx = classnames.bind(style);\n\n\nconst SEVERITY_OPTIONS = [\n    {\n        label: 'Critical',\n        labelDesc: 'System down; no I/O being served',\n        value: 'P1',\n    }, {\n        label: 'Major',\n        labelDesc: 'Significant impact to I/O or operations',\n        value: 'P2',\n    }, {\n        label: 'Minor',\n        labelDesc: 'Some impact to I/O or operations',\n        value: 'P3',\n    }, {\n        label: 'Low',\n        labelDesc: 'No impact to I/O or operations; administrative/question/etc',\n        value: 'P4',\n    },\n];\n\n\nclass SupportCreateCase extends React.Component {\n\n    constructor(props) {\n        super(props);\n        autobind(this);\n\n        this.state = {\n            arrays: [],\n            searching: null,\n            didSearch: false,\n            kcsSuggestions: null,\n            kcsResults: [\n                {\n                    type:   'hint',\n                    title:  'While you enter your case, we will also look for some solutions that could help.',\n                    doc_id: null,\n                }\n            ],\n            resultsRead: [],\n            caseTitle: '',\n            caseDescription: '',\n            caseArray: null,\n            caseSeverity: null,\n            lastError: null,\n            busySend: false,\n            caseSubmission: null,\n\n            visibleKcsDocId: null,\n        };\n\n        this.lastSuggestionSearch = null;\n\n        // this.inputPlainId = makeDomId();\n        this.inputTypeAheadId = makeDomId();\n        this.textareaId = makeDomId();\n\n    }\n\n    componentWillMount() {\n        this.props.getArrays();\n    }\n\n    onSummaryChange(summaryInput) {\n        this.setState({ caseTitle: summaryInput });\n        this.requestTermsSuggestion(summaryInput);\n    }\n\n    onDescriptionChange(e) {\n        const descriptionInput = e.target.value;\n        if (descriptionInput !== this.state.caseDescription) {\n            this.setState({ caseDescription: descriptionInput });\n        }\n    }\n\n    onArrayChange(valueSet) {\n        const arrayPick = Object.assign({}, valueSet);\n        this.setState({ caseArray: arrayPick });\n    }\n\n    onSeverityChange(valueSet) {\n        const severityPick = Object.assign({}, valueSet);\n        this.setState({ caseSeverity: severityPick.target.value });\n\n        if (severityPick.target.value === 'P1') {\n            this.setState({\n                kcsResults: [{\n                    type:   'hint',\n                    title:  'For all P1 cases, please call Nimble support directly at 1-877-364-6253',\n                    doc_id: null,\n                }]\n            });\n        } else {\n            this.setState({ kcsResults: [] });\n        }\n    }\n\n    getFormErrors() {\n        const { caseArray, caseSeverity, caseTitle, caseDescription } = this.state;\n        const errors = [];\n\n        if (!caseTitle.trim()) { errors.push('A case title is needed.'); }\n        if (!caseDescription.trim())  { errors.push('A case requires a full description.'); }\n        if (!caseArray || !caseArray.value) { errors.push('An array is required.'); }\n        if (!caseSeverity) { errors.push('A severity level is required.'); }\n\n        return errors;\n    }\n\n    checkFormErrors() {\n        return (this.getFormErrors().length === 0);\n    }\n\n    eventBlur() {\n        const compositeQuery = this.compileFullTextSearch();\n        this.requestKcsSolutions(compositeQuery);\n    }\n\n    eventKeyUp(e) {\n        const keyCode = e.which || e.keyCode;\n        const theQuery = String(this.state.caseTitle);\n\n        if (keyCode === 13) { return };\n\n        const isPrintable = (keyCode === 8 || (keyCode >= 32 && (keyCode <= 38 && keyCode >= 40)));\n        if (isPrintable && theQuery.length > 2) { this.requestTermsSuggestion(theQuery) };\n    }\n\n    eventSummaryKeyDown(e) {\n        const keyCode = e.which || e.keyCode;\n        const theQuery = String(this.state.caseTitle);\n\n        if (keyCode === 13) { this.requestKcsSolutions(theQuery) };\n    }\n\n    eventDescriptionKeyDown(e) {\n        // if last key was not a 'word' char, then issue a new search\n        const keyCode = e.which || e.keyCode;\n        if (!isWordChar(keyCode) && keyCode !== 8) { // ignore backspacing\n            const compositeQuery = this.compileFullTextSearch();\n            this.requestKcsSolutions(compositeQuery);\n        }\n    }\n\n    eventCaseCreateSuccess(casePostResponse, stuff, what) {\n        const caseSubmission = {\n            type: 'success',\n            caseNumber: casePostResponse.caseNumber,\n            message: 'Your case has been received.',\n        };\n        this.props.postCaseDetailOkDispatch(casePostResponse);\n        this.setState({caseSubmission, busySend: false});\n    }\n\n    eventCaseCreateFail() {\n        const caseSubmission = {\n            type: 'fail',\n            caseNumber: null,\n            message: 'Your case failed to create.',\n        };\n        this.setState({caseSubmission, busySend: false});\n    }\n\n    eventSubmit(e) {\n        if (!e) { return false; }\n        e.preventDefault();\n        e.stopPropagation();\n\n        const formErrors = this.getFormErrors();\n        const hasErrors = !!formErrors.length;\n\n        if (hasErrors) { return; }\n\n        const caseModel = new SFCaseModel();\n\n        let casePriority = 'P4';\n        switch (this.state.caseSeverity) {\n            case '3': case 'P3': casePriority = 'P3'; break;\n            case '2': case 'P2':  casePriority = 'P2'; break;\n            case '1': case 'P1':  casePriority = 'P1'; break;\n            default:\n        }\n\n        caseModel.set({\n            assetId: this.state.caseArray.value,\n            priority: casePriority,\n            subject: this.state.caseTitle,\n            description: this.state.caseDescription,\n        });\n\n        getUserProfile().always((results) => {\n            const userName = results.name || '(name not available)';\n            caseModel.set({userName: userName});\n            caseModel.save()\n                .done(this.eventCaseCreateSuccess)\n                .fail(this.eventCaseCreateFail);\n        });\n\n        this.setState({busySend: true});\n        return false;\n    }\n\n    compileFullTextSearch() {\n        const { caseTitle, caseDescription } = this.state;\n        const searchString = `${caseTitle} ${caseDescription}`;\n        return searchString.trim();\n    }\n\n    requestTermsSuggestion(theQuery) {\n        if (theQuery === this.lastSuggestionSearch) { return; } // redundant\n\n        this.lastSuggestionSearch = theQuery;\n\n        fetchSuggestedTerms(theQuery)\n        .done((terms) => {\n            if (theQuery !== this.lastSuggestionSearch) { return; } // expired\n            this.setState({ kcsSuggestions: terms });\n        });\n    }\n\n    requestKcsSolutions(theQuery) {\n        searchKcsSolutions(theQuery)\n        .done((suggestedSolutions) => {\n            if (!suggestedSolutions.length) {\n                this.setState({ didSearch: true });\n                return;\n            }\n            // const limitedSet = [].concat(suggestedSolutions);\n            const limitedSet = suggestedSolutions.slice(0,10);\n            this.setState({ kcsResults: limitedSet, didSearch: true });\n        });\n    }\n\n    makeAssetDropdownOptions() {\n        if (!this.props.arrays || this.props.arrays.length == 0)\n        {\n            return [];\n        }\n\n        return this.props.arrays\n        .sort((a, b) => {\n            if (a.arraySn < b.arraySn) { return -1; }\n            if (a.arraySn > b.arraySn) { return 1; }\n            return 0;\n        })\n        .map((a) => {\n            const hostprint = a.hostName ? `- ${a.hostName}` : '';\n            return {\n                label: `${a.arraySn} ${hostprint}`,\n                value: a.arrayId,\n            };\n        });\n    }\n\n    renderKcsSearchResults() {\n        const { kcsResults, didSearch } = this.state;\n        // if (!didSearch) { return null; }\n        // if (!kcsResults.length) { return (<div className={cx('rs-pad')}>No results.</div>); }\n        const LIMIT_RESULTS = 5;\n        let resultDisplayCount = 0;\n        const { resultsRead } = this.state;\n        return (\n            <span>\n                {kcsResults.map((kcsSuggestion)=>{\n                    const docId = kcsSuggestion.doc_id;\n                    if (kcsSuggestion.doc_id) {\n                        if (resultDisplayCount >= LIMIT_RESULTS) { return null; }\n                        resultDisplayCount++;\n                    }\n                    return(\n                        <Suggestion onClick={() => this.onClickKcsSuggestion(docId)} key={docId} docId={docId} title={kcsSuggestion.title} read={this.state.resultsRead[docId]} />\n                    );\n                })}\n            </span>\n        );\n    }\n\n    onClickKcsSuggestion(docId) {\n        const { resultsRead } = this.state;\n        resultsRead[docId] = true;\n        this.setState(prevState => {\n            const resultsRead = {\n                ...prevState.resultsRead,\n                [docId]: true,\n            };\n\n            return { resultsRead, visibleKcsDocId: Number(docId) };\n        });\n    }\n\n    renderKcsHint() {\n        return null;\n    }\n\n    renderSubmitResults() {\n        const { caseSubmission } = this.state;\n        const caseSuccess = (caseSubmission.type === 'success')\n        if (!caseSuccess) {\n            return(\n                <div className={cx('case-submitted')}>\n                    <h2>We were not able to process your case</h2>\n                    <hr />\n                    <p><Link to=\"/resources/nimble/support\">Return to the support portal.</Link></p>\n                </div>\n            );\n        }\n        return (\n            <div className={cx('case-submitted')}>\n                <h2>Case <Link to={`${buildUrl('/resources/nimble/support/case', caseSubmission.caseNumber)}`}>#{caseSubmission.caseNumber}</Link> was submitted successfully</h2>\n                <hr />\n                <p><Link to=\"/resources/nimble/support\">Return to the support portal.</Link></p>\n            </div>\n        );\n    }\n\n    cancelCase(e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        // todo: switch to a modal view\n        if (confirm('Are you sure you wish to abandon this case?')) {\n            const url = buildUrlFromBase('/resources/nimble/support');\n            window.location.href = url;\n        }\n\n        return false;\n    }\n\n    renderNewCaseForm() {\n        const arrayOptions = this.makeAssetDropdownOptions();\n        const formErrors = this.getFormErrors();\n        const hasErrors = !!formErrors.length;\n\n        let showErrors = false;\n        if (this.state.caseSubmission) {\n            showErrors = hasErrors;\n        }\n\n        const formBlocked = (this.state.caseSeverity === 'P1');\n        const busySend = this.state.busySend;\n\n        return (\n            <form className={cx('measured')}>\n\n                <h3>Severity</h3>\n\n                <div className={cx('severity-buttons')}>\n                    {SEVERITY_OPTIONS.map(option => (\n                        <label key={option.value}>\n                        <input type=\"radio\" name=\"severity\" value={option.value} onClick={this.onSeverityChange} />\n                            <span>{option.label}</span> - {option.labelDesc}\n                        </label>\n                    ))}\n                </div>\n\n                <h3>Summary</h3>\n\n                <TypeAhead\n                    name={this.inputTypeAheadId} size=\"61\"\n                    placeholder=\"Describe the issue\"\n                    value={this.state.caseTitle} valueList={this.state.kcsSuggestions}\n                    onKeyUp={this.eventKeyUp} onKeyDown={this.eventSummaryKeyDown}\n                    onInput={this.onSummaryChange} onBlur={this.eventBlur}\n                    disabled={formBlocked}\n                />\n\n                <h3>Description</h3>\n\n                <textarea\n                    id={this.textareaId} cols=\"60\" rows=\"8\"\n                    value={this.state.caseDescription}\n                    onKeyDown={this.eventDescriptionKeyDown}\n                    onChange={this.onDescriptionChange} onBlur={this.eventBlur}\n                    disabled={formBlocked}\n                />\n\n                <h3>Affected Array</h3>\n\n                <Dropdown\n                    className={cx('assets')}\n                    value={this.state.caseArray}\n                    options={arrayOptions}\n                    onChange={this.onArrayChange}\n                    disabled={formBlocked}\n                />\n\n                <button className=\"button\" disabled={hasErrors || formBlocked || busySend} onClick={this.eventSubmit}>Submit Case</button>\n                <button className=\"button hollow\" onClick={this.cancelCase} >Cancel</button>\n\n            </form>\n        )\n    }\n\n    render() {\n        const { visibleKcsDocId } = this.state;\n        return (\n            <SupportTab>\n\n                <div className={cx('support-create-case')}>\n\n                    <div className={cx('content-inset')}>\n                        {this.state.caseSubmission ?\n                            this.renderSubmitResults() :\n                            this.renderNewCaseForm()\n                        }\n                    </div>\n\n                    {/* TODO: componentize the KCS results */}\n                    <div className={cx('kcs-suggestions')}>\n\n                        {!this.state.caseSubmission ?\n                            this.renderKcsSearchResults() : ''\n                        }\n\n                    </div>\n\n                </div>\n                {visibleKcsDocId && <KcsDocumentModal docId={visibleKcsDocId} closeModal={() => this.setState({ visibleKcsDocId: null })} />}\n            </SupportTab>\n        );\n    }\n}\n\nfunction Suggestion(props) {\n    return (\n        <div\n            className={props.read ? cx('read-suggestion-card') : cx('suggestion-card')}\n            onClick={props.onClick}\n            dangerouslySetInnerHTML={{__html: props.title}}\n        />\n    );\n}\n\nSupportCreateCase.propTypes = {\n    arrays: PropTypes.array,\n    postCaseDetailOkDispatch: PropTypes.func,\n    getArrays: PropTypes.func.isRequired,\n    // fetchSuggestedTermsDispatch: PropTypes.func,\n    // searchKcsSolutionsDispatch: PropTypes.func,\n};\n\nfunction mapStateToProps(state) {\n    return {\n        ...listSelector(state),\n    };\n}\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n    getArrays,\n    postCaseDetailOkDispatch: postCaseDetailOk,\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SupportCreateCase);\n","\nimport SupportCreateCase from './SupportCreateCase';\n\nexport default SupportCreateCase;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction CaseNotFound() {\n    return (\n        <div className=\"case-viewer case-not-found\">\n            <h3>Sorry, that case was not found.</h3>\n            <p>\n                <Link to=\"/resources/nimble/support\">Return to the support portal.</Link>\n            </p>\n        </div>\n    );\n}\n\nexport default CaseNotFound;\n","// index.js\n\nimport CaseNotFound from './CaseNotFound';\n\nexport default CaseNotFound;\n","// CommentItem.js\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames/bind';\nimport objectHash from 'object-hash';\n\nimport DateTime from '../../../../../components/DateTime';\n\n\nimport style from './CommentItem.scss';\n\nconst cx = classnames.bind(style);\n\n\nfunction CommentItem({ comment }) {\n    return (\n        <div\n            key={comment.id || objectHash(comment)}\n            className={cx('comment-item', { 'from-nimble': comment.fromNimble })}\n        >\n\n            <div className={cx('attribution')}>\n\n                <div className={cx('caret')} />\n\n                <div className={cx('user-icon')}>\n                    <i className=\"fa fa-user\" />\n                </div>\n                <span>\n                    {comment.createdByName ?\n                        comment.createdByName :\n                        comment.createdBy.id\n                    }\n                </span><br />\n                <DateTime date={comment.createdDate} format=\"M/D/Y h:mm A\" />\n            </div>\n\n            <div className={cx('comment-text')}>\n                <p>{comment.commentBody}</p>\n            </div>\n\n        </div>\n    );\n}\n\nCommentItem.propTypes = {\n    comment: PropTypes.object,\n};\n\nexport default CommentItem;\n","\nimport CommentItem from './CommentItem';\n\nexport default CommentItem;\n","// CaseComments.js\n/* eslint-disable */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames/bind';\n\nimport CommentItem from '../CommentItem';\n\nimport style from './CaseComments.scss';\n\nimport moment from 'moment-timezone';\n\nconst cx = classnames.bind(style);\n\nconst ACCOUNT_REGEX = /\\[account:([0-9A-Za-z]+)\\]/;\nconst USER_REGEX = /\\[user:([0-9A-Za-z]+)\\]/;\n\nclass CaseComments extends React.Component {\n\n    render() {\n        const comments = this.props.comments;\n        if (!comments) return null;\n        if (!comments.length) return (<p>No comments posted</p>);\n        return (\n            <div className={cx('case-comments')}>\n                {comments\n                    .sort((b,a) => moment(a.createdDate).valueOf() - moment(b.createdDate).valueOf())\n                    .map(comment => <CommentItem key={comment.id} comment={comment} />)\n                }\n            </div>\n        );\n    }\n\n}\n\nCaseComments.propTypes = {\n    comments: PropTypes.array,\n};\n\nexport default CaseComments;\n\n/*\nid:           \"00aS0000003H2m8IAC\"\ncommentBody:  \"Nimble Storage no longer receiving array heartbeats for more than 24 hours.\"\ncreatedBy:     Object\ncreatedById:  \"00580000003xTOlAAM\"\ncreatedDate:  \"2017-02-02T11:00:31.000+0000\"\nisDeleted:     false\nisPublished:   true\nparentId:     \"500S00000089YDWIA2\"\n*/\n","\nimport CaseComments from './CaseComments';\n\nexport default CaseComments;\n","// QuickTable.js\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames/bind';\n\nimport style from './QuickTable.scss';\n\nconst cx = classnames.bind(style);\n\n\nfunction QuickTable(props) {\n    const { caption, children } = props;\n    const hasHeadline = (caption && typeof caption === 'string');\n    return (\n        <div className={cx('nmbl-quicktable')}>\n            {hasHeadline ? <div className={cx('quicktable-caption')}>{caption}</div> : ''}\n            {children}\n        </div>\n    );\n}\n\nQuickTable.propTypes = {\n    caption: PropTypes.string,\n    children: PropTypes.node.isRequired,\n};\n\n\nexport default QuickTable;\n","// QuickRow.js\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames/bind';\n\nimport style from './QuickTable.scss';\n\nconst cx = classnames.bind(style);\n\n\nfunction rowIterator(colData, ci) {\n    if (ci) return (<div key={ci} className={cx('qtrc-next')}>{colData}</div>);\n    return null;\n}\n\nfunction QuickRow(props) {\n    const { columns } = props;\n    return (\n        <div className={cx('quicktable-row')}>\n            <div className={cx('qtrc-first')}>{columns[0]}</div>\n            {columns.map(rowIterator)}\n        </div>\n    );\n}\n\nQuickRow.propTypes = {\n    columns: PropTypes.array.isRequired,\n};\n\n\nexport default QuickRow;\n","// CaseAttachments.js\n/* eslint-disable */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames/bind';\nimport moment from 'moment';\nimport { QuickTable, QuickRow } from '../../QuickTable';\nimport style from './CaseAttachments.scss';\n\nconst cx = classnames.bind(style);\n\nclass CaseAttachments extends React.Component {\n\n    render() {\n        const attachments = this.props.attachments;\n        if (!attachments) return null;\n        if (!attachments.length) return (<p>No attachments posted</p>);\n\n        const dateTitle = 'Upload Date';\n        const attachmentName = 'File Name';\n\n        return (\n            <div className={cx('attachments')}>\n                <QuickTable>\n                    <QuickRow key=\"header\" className={cx('header')} columns={[dateTitle, attachmentName]} />\n                    {attachments.sort((b,a) => new Date(a.createdDate) - new Date(b.createdDate)).map(attachment => {\n                        attachment.ts = moment(attachment.createdDate).format('MM/DD/YYYY hh:mm A Z');\n                        return <QuickRow key={attachment.id} columns={[attachment.ts, attachment.Name]} />;\n                        })\n                    }\n                </QuickTable>\n            </div>\n        );\n    }\n\n}\n\nCaseAttachments.propTypes = {\n    attachments: PropTypes.array,\n};\n\nexport default CaseAttachments;\n\n","\nimport CaseAttachments from './CaseAttachments';\n\nexport default CaseAttachments;\n","// CaseRmaLabels.js\n/* eslint-disable */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames/bind';\nimport moment from 'moment';\nimport { buildUrl } from '@infosight/elmer/dist/utils/url';\nimport { BASE_URL } from '../../../../../config';\nimport { QuickTable, QuickRow } from '../../QuickTable';\nimport style from './CaseRmaLabels.scss';\n\nconst cx = classnames.bind(style);\n\nclass CaseRmaLabels extends React.Component {\n\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        const theCase = this.props.theCase;\n        const caseId = theCase.id;\n        const rmaLabels = theCase.rmaLabels;\n        const accountId = theCase.accountId;\n        const internal = this.props.userIsInternal;\n\n        if (!rmaLabels) return null;\n        if (!rmaLabels.length) return (<p>No RMA labels available</p>);\n\n        const componentTitle = 'Component';\n        const rmaTitle = 'RMA Label';\n        const dateTitle = 'Created Date';\n        let url = '';\n\n        return (\n            <div className={cx('rma-labels')}>\n                <div>All historical RMA labels generated are shown, most recent label supersedes duplicates.</div>\n                <QuickTable>\n                    <QuickRow key=\"header\" className={cx('header')} columns={[dateTitle, rmaTitle, componentTitle]} />\n                    {rmaLabels.sort((b,a) => new Date(a.createdDate) - new Date(b.createdDate)).map(rmaLabel => {\n                        if (internal) {\n                            url =  buildUrl(BASE_URL, `api/accounts/${accountId}/cases/${caseId}/rmaLabel?body=${rmaLabel.Body}&fileName=${rmaLabel.Name}`);\n                        } else {\n                            url = buildUrl(BASE_URL, `api/account/cases/${caseId}/rmaLabel?body=${rmaLabel.Body}&fileName=${rmaLabel.Name}`);\n                        }\n\n                        rmaLabel.ts = moment(rmaLabel.createdDate).format('MM/DD/YYYY hh:mm A Z');\n                        return <QuickRow\n                                    key={rmaLabel.id}\n                                    columns={[rmaLabel.ts,\n                                    <a href={url} download>{rmaLabel.Name}</a>,\n                                    rmaLabel.description\n                                    ]}\n                                />;\n                        })\n                    }\n                </QuickTable>\n            </div>\n        );\n    }\n}\n\nCaseRmaLabels.propTypes = {\n    rmaLabels: PropTypes.array,\n};\n\nexport default CaseRmaLabels;\n\n","\nimport CaseRmaLabels from './CaseRmaLabels';\n\nexport default CaseRmaLabels;\n","// CaseSection.js\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames/bind';\n\nimport style from './CaseSection.scss';\n\nconst cx = classnames.bind(style);\n\n\n/**\n * Wraps case content with a header\n */\nfunction CaseSection(props) {\n    const { name, children, text } = props;\n    return (\n        <div id={name} className={cx('case-section')}>\n\n            <h2>{name}</h2><span className={cx('sub-text')}>{text}</span><div className={cx('extend-line')} />\n\n            <div className={cx('child-content')}>\n                {children}\n            </div>\n        </div>\n    );\n}\n\nCaseSection.propTypes = {\n    name: PropTypes.string,\n    text: PropTypes.string,\n    children: PropTypes.node,\n};\n\nexport default CaseSection;\n","\nimport CaseSection from './CaseSection';\n\nexport default CaseSection;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport autobind from 'react-autobind';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames/bind';\nimport { buildUrl } from '@infosight/elmer/dist/utils/url';\nimport { Link } from 'react-router-dom';\n\nimport { listSelector } from '../../../../nimble/arrays/collection/reducer';\nimport { getArrays } from '../../../../nimble/arrays/collection/actionCreators';\n\nimport { hasSupportCase } from '../../../../user/reducer';\n\nimport { QuickTable, QuickRow } from '../../QuickTable';\n\nimport style from '../PanelStyles.scss';\n\nconst cx = classnames.bind(style);\n\n\n/**\n * Renders a panel displaying array information\n */\n\nclass PanelArrayMeta extends React.Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n    }\n\n    componentWillMount() {\n        this.props.getArrays();\n    }\n\n    render() {\n        const { theAsset, assetId, serialNumber, arrays, isSupportCaseAccess } = this.props;\n\n        let arrayAsset = null;\n\n        if (isSupportCaseAccess) return (null);\n\n        if (!arrays) return (<span>Loading Array: {assetId} ... <i className=\"fa fa-spinner fa-spin\" /></span>);\n\n        if (theAsset) arrayAsset = theAsset;\n        else if (assetId && arrays) {\n            arrayAsset = arrays\n                .find(a => a.arrayId === assetId);\n        } else if (serialNumber && arrays) {\n            arrayAsset = arrays\n                .find(a => a.arraySn === serialNumber);\n        }\n\n        if (!arrayAsset) return (<span>Invalid Array: {assetId}</span>);\n\n        let version = 'n/a';\n        if (arrayAsset.softwareVersion) {\n            [version] = arrayAsset.softwareVersion.split('-');\n        }\n\n        return (\n            <div className={cx('case-panel')}>\n\n                <div className={cx('panel-content')}>\n\n                    <QuickTable>\n                        <QuickRow\n                            columns={[\n                                'Serial No:',\n                                <Link to={`${buildUrl('/infrastructure/storage/nimble/arrays/', arrayAsset.arraySn)}`}>\n                                    {arrayAsset.arraySn}\n                                </Link>,\n                            ]}\n                        />\n                        <QuickRow columns={['Model:', arrayAsset.model || 'n/a']} />\n                        <QuickRow columns={['Version:', version]} />\n                    </QuickTable>\n\n                    <QuickTable>\n                        <QuickRow columns={['Hostname:', arrayAsset.hostName || 'n/a']} />\n                        <QuickRow columns={['Group:', arrayAsset.groupName || 'n/a']} />\n                        {/* <QuickRow columns={['Pool:', arrayAsset.pool || 'n/a']} /> */}\n                    </QuickTable>\n\n                    <QuickTable>\n                        <QuickRow columns={['Coverage:', arrayAsset.supportStatus || 'n/a']} />\n                    </QuickTable>\n\n                </div>\n\n            </div>\n        );\n    }\n}\n\nPanelArrayMeta.propTypes = {\n    assetId: PropTypes.string,\n    serialNumber: PropTypes.string,\n    theAsset: PropTypes.object,\n    arrays: PropTypes.array,\n    getArrays: PropTypes.func.isRequired,\n    isSupportCaseAccess: PropTypes.bool,\n};\n\nfunction mapStateToProps(state) {\n    return {\n        ...listSelector(state),\n        isSupportCaseAccess: hasSupportCase(state),\n    };\n}\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n    getArrays,\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PanelArrayMeta);\n\n/*\n\nmodel(pin): null\nversion(pin): null\nserialNumber(pin): \"VM-900000\"\narrayType(pin): \"unknown\"\n\nhostname(pin): null\ngroup(pin): null\npool(pin): null\n\nsupportStatus(pin): \"CURRENT\"\nsendingAsups(pin): \"NEVER\"\ncompany(pin): \"Nimble_Storage_Infosight\"\n\n*/\n","\nimport PanelArrayMeta from './PanelArrayMeta';\n\nexport default PanelArrayMeta;\n","// PanelCaseMeta.js\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames/bind';\n\n// import PriorityLabel from '../../PriorityLabel';\nimport DateTime from '../../../../../components/DateTime';\n\nimport style from '../PanelStyles.scss';\n\nimport { QuickTable, QuickRow } from '../../QuickTable';\n\nconst cx = classnames.bind(style);\n\n\n/**\n * Renders a panel displaying array information\n */\nfunction PanelCaseMeta(props) {\n    const { theCase } = props;\n    return (\n        <div className={cx('case-panel')}>\n\n            <div className={cx('panel-content')}>\n\n                <QuickTable>\n                    <QuickRow\n                        columns={[\n                            'Date Opened',\n                            <DateTime date={theCase.createdDate} format=\"M/D/YYYY h:mm A\" />,\n                        ]}\n                    />\n                    {theCase.closedDate ?\n                        <QuickRow\n                            columns={[\n                                'Date Closed',\n                                <DateTime date={theCase.closedDate} format=\"M/D/YYYY h:mm A\" />,\n                            ]}\n                        /> : ''\n                    }\n                </QuickTable>\n\n                <QuickTable>\n                    <QuickRow columns={['Status', theCase.status]} />\n                    <QuickRow columns={['Priority', theCase.priority]} />\n                </QuickTable>\n\n                {/*\n                <QuickTable>\n                    <QuickRow columns={['Auto Open?', (theCase.Auto_Open__c ? 'YES' : 'NO')]} />\n                    <QuickRow columns={['Auto Close?', (theCase.Auto_Close__c ? 'YES' : 'NO')]} />\n                </QuickTable>\n                */}\n\n                {/*\n                <QuickTable>\n                    <QuickRow columns={['accountId', theCase.accountId]} />\n                    {theCase.suppliedEmail ?\n                        <QuickRow\n                            columns={[\n                                'Reply to:',\n                                <a href={`mailto:${theCase.suppliedEmail}`}>{theCase.suppliedEmail}</a>,\n                            ]}\n                        /> : ''\n                    }\n                    <QuickRow columns={['createdById', theCase.createdById]} />\n                    <QuickRow columns={['ownerId', theCase.ownerId]} />\n                    <QuickRow columns={['contactId', theCase.contactId]} />\n                </QuickTable>\n                */}\n\n            </div>\n\n        </div>\n    );\n}\n\nPanelCaseMeta.propTypes = {\n    theCase: PropTypes.object.isRequired,\n};\n\n\nexport default PanelCaseMeta;\n","\nimport PanelCaseMeta from './PanelCaseMeta';\n\nexport default PanelCaseMeta;\n","import $ from 'jquery';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport autobind from 'react-autobind';\nimport moment from 'moment-timezone';\nimport classnames from 'classnames/bind';\nimport { Spinner } from '@infosight/elmer/dist/components/Spinner';\n\nimport SFCaseModel from '../../../library/SFCaseModel';\nimport { parseComment } from '../../../library/support-api';\nimport { getCurrentUserContact } from '../../../library/support-helper';\n\nimport style from './AddComment.scss';\n\nconst cx = classnames.bind(style);\n\n\nclass AddComment extends React.Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n        this.state = {\n            formBusy: false,\n        };\n        this.textarea = null;\n    }\n\n    resultCommentPostOk(commentPosted) {\n        const uiComment = parseComment(commentPosted);\n\n        this.props.theCase.caseLastComment__c = uiComment.createdDate;\n        this.props.theCase.lastUpdatedDate = moment(uiComment.createdDate).format('YYYYMMDD');\n        this.props.theCase.lastUpdatedTS = uiComment.createdDate;\n\n        this.textarea.value = '';\n        this.setState({ formBusy: false });\n\n        if (typeof this.props.onSave === 'function') this.props.onSave.call(null, uiComment);\n        // maybe TODO: hide the comment box until ready to use, put it away after\n    }\n\n    resultCommentPostFail() {\n        this.setState({ formBusy: false });\n        console.warn('comment failed to post.');\n        // TODO: red border?\n    }\n\n    eventSubmitComment() {\n        const commentText = this.textarea.value;\n        if (commentText) {\n            const session = getCurrentUserContact();\n            const taggedText = `[user:${session.ContactId}(${session.ContactName})]\\n${commentText}`; // tag the user\n\n            const caseModel = new SFCaseModel();\n            caseModel.set('id', this.props.theCase.id);\n\n            const casePath = caseModel.url();\n\n            $.ajax({\n                type: 'POST',\n                url: `${casePath}/comments`,\n                contentType: 'application/json',\n                data: JSON.stringify({ commentBody: taggedText }),\n            })\n                .then(this.resultCommentPostOk, this.resultCommentPostFail);\n\n            this.setState({ formBusy: true });\n        }\n    }\n\n    unboundClear() {\n        this.textarea.value = '';\n    }\n\n    render() {\n        const { formBusy } = this.state;\n        return (\n            <div className={cx('add-comment', { 'busy-sending': formBusy })}>\n\n                <div className={cx('textbox-wrapper')}>\n                    <textarea className={cx('comment-box')} ref={(elem) => { this.textarea = elem; }} rows=\"6\" />\n                    {formBusy && <Spinner className={cx('sending')} />}\n                </div>\n                <br />\n                <button\n                    className=\"button\"\n                    disabled={formBusy}\n                    onClick={this.eventSubmitComment}\n                >Post Comment\n                </button>\n                <button\n                    className=\"button hollow\"\n                    disabled={formBusy}\n                    onClick={this.unboundClear}\n                >Clear\n                </button>\n            </div>\n        );\n    }\n}\n\nAddComment.propTypes = {\n    theCase: PropTypes.object.isRequired,\n    onSave: PropTypes.func,\n};\n\nexport default AddComment;\n","\nimport AddComment from './AddComment';\n\nexport default AddComment;\n","import $ from 'jquery';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport autobind from 'react-autobind';\nimport classnames from 'classnames/bind';\nimport { Spinner } from '@infosight/elmer/dist/components/Spinner';\n\nimport SFCaseModel from '../../../library/SFCaseModel';\n\nimport style from './AddAttachment.scss';\n\nconst cx = classnames.bind(style);\n\n\nclass AddAttachment extends React.Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n        this.state = {\n            formBusy: false,\n            formBlocked: true,\n            fileTooBig: false,\n        };\n    }\n\n    attachmentPostOk(attachment) {\n        document.getElementById('file-chooser').value = null;\n        this.setState({ formBusy: false });\n        this.setState({ formBlocked: false });\n\n        if (typeof this.props.onSave === 'function') this.props.onSave.call(null, attachment);\n    }\n\n    attachmentPostFail() {\n        this.setState({ formBusy: false });\n        console.warn('attachment failed to post.');\n    }\n\n    eventAttachDoc() {\n        let fileName = document.getElementById('file-chooser').value;\n\n        if (!fileName) {\n            return;\n        }\n\n        const caseModel = new SFCaseModel();\n        caseModel.set('id', this.props.theCase.id);\n        this.casePath = caseModel.url();\n\n        const FILEPATH_REGEX = /.*\\\\/;\n        fileName = fileName.replace(FILEPATH_REGEX, '');\n\n        const file = document.getElementById('file-chooser').files[0];\n\n        const formData = new FormData();\n        formData.append('caseId', this.props.theCase.id);\n        formData.append('attachment', file, fileName);\n\n        $.ajax({\n            type: 'POST',\n            url: `${this.casePath}/attachment`,\n            data: formData,\n            contentType: false,\n            processData: false,\n        })\n            .then(this.attachmentPostOk, this.attachmentPostFail);\n\n        this.setState({ formBlocked: true, formBusy: true });\n    }\n\n    filePicked() {\n        const file = document.getElementById('file-chooser');\n        const fileName = file.value;\n        const fileSize = file.files[0].size;\n        const fileSizeLimit = 25 * (1024 ** 2);\n\n        // SF limits attachments to 25MB\n        if (fileSize > fileSizeLimit) {\n            this.setState({ fileTooBig: true, formBlocked: true });\n        } else if (fileName) {\n            this.setState({ fileTooBig: false, formBlocked: false });\n        }\n    }\n\n    render() {\n        const { formBusy, formBlocked, fileTooBig } = this.state;\n\n        return (\n            <div className={cx('attach-doc')}>\n\n                <input\n                    className={cx('btn-file')}\n                    name=\"file\"\n                    type=\"file\"\n                    id=\"file-chooser\"\n                    onChange={this.filePicked}\n                />\n                <button className=\"button\" onClick={this.eventAttachDoc} disabled={formBlocked}>Upload</button>\n                {formBusy && <Spinner />}\n                {fileTooBig && <div className={cx('big-file')}>File exceeds the 25MB size limit</div>}\n            </div>\n        );\n    }\n}\n\nAddAttachment.propTypes = {\n    theCase: PropTypes.object.isRequired,\n    onSave: PropTypes.func,\n};\n\nexport default AddAttachment;\n","\nimport AddAttachment from './AddAttachment';\n\nexport default AddAttachment;\n","import $ from 'jquery';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport autobind from 'react-autobind';\nimport moment from 'moment-timezone';\nimport classnames from 'classnames/bind';\nimport { Spinner } from '@infosight/elmer/dist/components/Spinner';\n\nimport SFCaseModel from '../../../library/SFCaseModel';\n\nimport style from './CaseResolver.scss';\n\nconst cx = classnames.bind(style);\n\n\nclass CaseResolver extends React.Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n        this.state = {\n            formBusy: false,\n        };\n        this.textarea = null;\n    }\n\n    resultResolutionPostOk(caseData) {\n        caseData.bucket = 'Resolved'; // eslint-disable-line\n        caseData.assetName = this.props.theCase.assetName;\n        caseData.createdDateOnly = this.props.theCase.createdDateOnly;\n        caseData.ownerName = this.props.theCase.ownerName;\n        caseData.comments = this.props.theCase.comments;\n        caseData.attachments = this.props.theCase.attachments;\n        caseData.rmaLabels = this.props.theCase.rmaLabels;\n\n        caseData.caseLastComment__c = caseData.createdDate;\n        caseData.lastUpdatedDate = moment(caseData.createdDate).format('YYYYMMDD');\n        caseData.lastUpdatedTS = caseData.createdDate;\n\n        this.textarea.value = '';\n        this.setState({ formBusy: false });\n        if (typeof this.props.onSave === 'function') this.props.onSave.call(null, caseData);\n    }\n\n    resultResolutionPostFail() {\n        this.setState({ formBusy: false });\n        console.warn('resolution failed to post.');\n        // TODO: red border?\n    }\n\n    eventSubmitResolution() {\n        const resolveText = this.textarea.value;\n\n        const caseModel = new SFCaseModel();\n        caseModel.set('id', this.props.theCase.id);\n\n        const casePath = caseModel.url();\n\n        $.ajax({\n            type: 'POST',\n            url: `${casePath}/resolve`,\n            contentType: 'application/json',\n            data: resolveText,\n        })\n            .then(this.resultResolutionPostOk, this.resultResolutionPostFail);\n\n        this.setState({ formBusy: true });\n    }\n\n    unboundClear() {\n        this.textarea.value = '';\n    }\n\n    render() {\n        const { formBusy } = this.state;\n        return (\n            <div className={cx('case-resolver', { 'busy-sending': formBusy })}>\n                <p>If you wish to close this case, please provide any resolution notes below and submit.</p>\n                <div className={cx('textbox-wrapper')}>\n                    <textarea className={cx('resolve-box')} ref={(elem) => { this.textarea = elem; }} rows=\"4\" />\n                    {formBusy && <Spinner className={cx('sending')} />}\n                </div>\n                <br />\n                <button\n                    className=\"button\"\n                    disabled={formBusy}\n                    onClick={this.eventSubmitResolution}\n                >Submit Resolution\n                </button>\n\n                <button\n                    className=\"button hollow\"\n                    disabled={formBusy}\n                    onClick={this.unboundClear}\n                >Clear\n                </button>\n            </div>\n        );\n    }\n}\n\nCaseResolver.propTypes = {\n    theCase: PropTypes.object.isRequired,\n    onSave: PropTypes.func,\n};\n\nexport default CaseResolver;\n","\nimport CaseResolver from './CaseResolver';\n\nexport default CaseResolver;\n","// CaseInformation.js\n/* eslint-disable */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport autobind from 'react-autobind';\nimport classnames from 'classnames/bind';\nimport { buildUrl } from '@infosight/elmer/dist/utils/url';\nimport { Link } from 'react-router-dom';\n\nimport DateTime from '../../../../../components/DateTime'\n\n// import BackBanner from '../../BackBanner';\n\nimport CaseComments from '../CaseComments';\nimport CaseAttachments from '../CaseAttachments';\nimport CaseRmaLabels from '../CaseRmaLabels';\nimport CaseSection from '../CaseSection';\nimport PanelArrayMeta from '../PanelArrayMeta';\nimport PanelCaseMeta from '../PanelCaseMeta';\nimport AddComment from '../AddComment';\nimport AddAttachment from '../AddAttachment';\nimport CaseResolver from '../CaseResolver';\n\nimport style from './CaseInformation.scss';\nimport { AUTHORITIES, AuthorizationEvaluator } from '../../../../user';\n\nconst cx = classnames.bind(style);\n\n\nclass CaseInformation extends React.Component {\n\n    constructor(props) {\n        super(props);\n        autobind(this);\n        this.state = {\n            busyCloseCase: false,\n        }\n    }\n\n    commentWasPosted(comment) {\n        document.getElementById('Comments').scrollIntoView(true);\n        this.props.commentDispatch(comment);\n    }\n\n    attachmentWasPosted(attachment) {\n        document.getElementById('Attachments').scrollIntoView(true);\n        this.props.attachmentDispatch(attachment);\n    }\n\n    caseWasResolved(updatedCase) {\n        const commentsData = updatedCase.comments;\n        const attachmentsData = updatedCase.attachments;\n        const rmaLabelsData = updatedCase.rmaLabels;\n\n        this.props.resolveDispatch(updatedCase, commentsData, attachmentsData, rmaLabelsData);\n        window.scrollTo(0,0);\n    }\n\n    renderDescription() {\n        const theCase = this.props.theCase;\n        const desc = theCase.description || 'No description entered';\n        return (<div dangerouslySetInnerHTML={{__html: desc}} />)\n    }\n\n    goToResolve() {\n        const resolveBox = document.getElementsByClassName('resolve-box')[0];\n        resolveBox.scrollIntoView(true);\n        resolveBox.focus();\n    }\n\n    goToComment() {\n        const commentBox = document.getElementsByClassName('comment-box')[0];\n        commentBox.scrollIntoView(true);\n        commentBox.focus();\n    }\n\n    goToAttachment() {\n        const attachments = document.getElementById('Attachments');\n        attachments.scrollIntoView(true);\n    }\n\n    render() {\n\n        const theCase = this.props.theCase;\n        const isClosed = !!(theCase.bucket === 'Closed' || theCase.bucket === 'Resolved');\n        const userIsInternal = AuthorizationEvaluator.evaluate({ access: { authorities: AUTHORITIES.REALM_INTERNAL } });\n\n        return (\n            <div className={cx('case-information')}>\n\n                <div className={cx('case-banner')}>\n                    <h4>Case {theCase.caseNumber}</h4>\n                    <h2>{theCase.subject}</h2>\n                </div>\n\n\n                <div className={cx('page-inset')}>\n\n                    {(!isClosed && !userIsInternal) ?\n                        <div className={cx('action-set')}>\n                            <button className=\"button hollow\" onClick={this.goToComment}><i className=\"fa fa-comment-o\" /> Comment</button>\n                            <button className=\"button hollow\" onClick={this.goToAttachment}><i className=\"fa fa-paperclip\" /> Attach</button>\n                            <button className=\"button hollow\" onClick={this.goToResolve}><i className=\"fa fa-handshake-o\" /> Resolve</button>\n                        </div> : ''\n                    }\n\n                    <CaseSection>\n\n                        <PanelArrayMeta assetId={theCase.assetId} />\n                        <PanelCaseMeta theCase={theCase} />\n\n                    </CaseSection>\n\n\n                    <CaseSection name=\"Description\">\n                        {!(\"description\" in theCase) ?\n                            <p>Loading description....<i className=\"fa fa-spinner fa-spin\" /></p> :\n                            this.renderDescription()\n                        }\n                    </CaseSection>\n\n\n                    <CaseSection name=\"Comments\">\n                            {theCase.comments === null ?\n                                <p>Loading comments.... <i className=\"fa fa-spinner fa-spin\" /></p> :\n                                <CaseComments comments={theCase.comments} />\n                            }\n                            {( isClosed && !userIsInternal ) &&\n                                <p>Further commenting is not allowed for closed cases.</p>\n                            }\n                            {( !isClosed && !userIsInternal ) &&\n                                <AddComment theCase={theCase} onSave={this.commentWasPosted} />\n                            }\n                    </CaseSection>\n\n                    <CaseSection name=\"Attachments\" text=\"(25MB size limit)\">\n                            {theCase.attachments === null ?\n                                <p>Loading attachments.... <i className=\"fa fa-spinner fa-spin\" /></p> :\n                                <CaseAttachments attachments={theCase.attachments} />\n                            }\n                            {( isClosed && !userIsInternal ) &&\n                                <p>Adding attachments is not allowed for closed cases.</p>\n                            }\n                            {( !isClosed && !userIsInternal ) &&\n                                <AddAttachment theCase={theCase} onSave={this.attachmentWasPosted} />\n                            }\n                    </CaseSection>\n\n                    <CaseSection name=\"RMA Labels\" text=\"(may take up to 24 hours to show)\">\n                            {theCase.rmaLabels === null ?\n                                <p>Loading RMA labels.... <i className=\"fa fa-spinner fa-spin\" /></p> :\n                                <CaseRmaLabels userIsInternal={userIsInternal} theCase={theCase} />\n                            }\n                    </CaseSection>\n\n                    {(!userIsInternal || (userIsInternal && isClosed)) &&\n                        <CaseSection name=\"Resolution\">\n                            {isClosed &&\n                                <p>{theCase.casePortalResolutionNotes__c || 'No resolution notes entered.'}</p>\n                            }\n                            {(!isClosed && !userIsInternal) &&\n                                <CaseResolver theCase={theCase} onSave={this.caseWasResolved} />\n                            }\n                        </CaseSection>\n                    }\n\n                    <hr />\n\n                    <p>\n                        <Link to=\"/resources/nimble/support\">Return to the support portal.</Link>\n                    </p>\n                    <br/><br/>\n                </div>\n            </div>\n        );\n    }\n\n}\n\nCaseInformation.propTypes = {\n    theCase: PropTypes.object.isRequired,\n    commentDispatch: PropTypes.func.isRequired,\n    attachmentDispatch: PropTypes.func.isRequired,\n    resolveDispatch: PropTypes.func.isRequired,\n};\n\nexport default CaseInformation;\n/* eslint-enable */\n","\nimport CaseInformation from './CaseInformation';\n\nexport default CaseInformation;\n","// SupportExamineCase.js\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport autobind from 'react-autobind';\n\nimport { Spinner } from '@infosight/elmer/dist/components/Spinner';\n\nimport { caseListSelector } from '../../reducer/support-cases';\nimport { fetchCase, fetchCases, fetchSfdcContact } from '../../library/support-api';\nimport { findCaseByNumber } from '../../library/support-helper';\nimport { awaitLegacyApp } from '../../../../containers/NimbleLegacyContainer';\nimport { contactSelector } from '../../reducer/core';\nimport { postCaseCommentOk, postCaseResolveOk, postCaseAttachmentOk } from '../../actions/fetch-support-cases';\n\nimport KcsDocumentModal from '../KcsDocumentModal';\nimport SupportTab from '../SupportTab';\n\nimport CaseNotFound from '../CaseNotFound';\nimport CaseInformation from './CaseInformation';\n\nclass SupportExamineCase extends React.Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n        this.state = { kcsModal: null };\n    }\n\n    componentDidMount() {\n        const { cases, match } = this.props;\n\n        const {\n            caseNumber,\n        } = match.params;\n\n        // TODO this should not be done in this method. Take care of it in render(). It seems it might already be done\n        if (!caseNumber) {\n            console.error('no case number'); // todo: human-friendly error helper\n            return;\n        }\n\n        const { contact } = this.props;\n        if (!contact || (!contact.loaded && !contact.loading)) {\n            this.props.fetchSfdcContact();\n        }\n\n        // TODO what happens when there is an error fetching cases?\n        if (!cases.value) {\n            this.props.fetchCases().done(this.requestFullCase);\n            return;\n        }\n\n        this.requestFullCase();\n    }\n\n    requestFullCase() {\n        const { cases, match } = this.props;\n\n        const {\n            caseNumber,\n            docId,\n        } = match.params;\n\n        if (!cases.loaded) return;\n\n        const theCase = findCaseByNumber(cases.value, caseNumber);\n        if (!theCase) return; // cannot find either header or full record (presume case does not exist)\n\n        if (docId) {\n            this.setState({\n                kcsModal: {\n                    caseId: theCase.id,\n                    docId: Number(docId),\n                },\n            });\n        }\n\n        // now we need to verify if we have only the header, or the full record\n        // in theory, we could check for any field that only exists in the complete record\n        // or we can define a semaphore (in this case $_complete)\n        if (!theCase.description || !theCase.$_complete) {\n            this.props.fetchCase(theCase.id);\n        }\n    }\n\n    render() {\n        const { match } = this.props;\n        const { kcsModal } = this.state;\n        const {\n            caseNumber,\n        } = match.params;\n\n        const { cases } = this.props;\n        if (!cases.loaded) return (<Spinner />);\n\n        const theCase = findCaseByNumber(cases.value, caseNumber);\n\n        return (\n            <SupportTab>\n\n                {theCase ?\n                    <CaseInformation\n                        theCase={theCase}\n                        commentDispatch={this.props.postCaseCommentOkDispatch}\n                        attachmentDispatch={this.props.postCaseAttachmentOkDispatch}\n                        resolveDispatch={this.props.postCaseResolveOkDispatch}\n                    /> :\n                    <CaseNotFound />\n                }\n                {kcsModal && <KcsDocumentModal {...kcsModal} closeModal={() => this.setState({ kcsModal: null })} />}\n            </SupportTab>\n        );\n    }\n}\n\nSupportExamineCase.propTypes = {\n    cases: PropTypes.object,\n    // caseNumber: PropTypes.string,\n    fetchCase: PropTypes.func,\n    fetchCases: PropTypes.func,\n    match: PropTypes.object.isRequired,\n    postCaseCommentOkDispatch: PropTypes.func,\n    postCaseResolveOkDispatch: PropTypes.func,\n    postCaseAttachmentOkDispatch: PropTypes.func,\n    contact: PropTypes.object,\n    fetchSfdcContact: PropTypes.func,\n};\n\nfunction mapStateToProps(state) {\n    return {\n        cases: caseListSelector(state),\n        contact: contactSelector(state),\n    };\n}\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n    fetchCase,\n    fetchCases,\n    fetchSfdcContact,\n    postCaseCommentOkDispatch: postCaseCommentOk,\n    postCaseResolveOkDispatch: postCaseResolveOk,\n    postCaseAttachmentOkDispatch: postCaseAttachmentOk,\n}, dispatch);\n\nexport default awaitLegacyApp(connect(mapStateToProps, mapDispatchToProps)(SupportExamineCase));\n","\nimport SupportExamineCase from './SupportExamineCase';\n\nimport CaseInformation from './CaseInformation';\nimport CaseSection from './CaseSection';\nimport CaseComments from './CaseComments';\n\nimport PanelArrayMeta from './PanelArrayMeta';\nimport PanelCaseMeta from './PanelCaseMeta';\n\n\nexport default SupportExamineCase;\n\nexport {\n    CaseInformation,\n    CaseSection,\n    CaseComments,\n    PanelArrayMeta,\n    PanelCaseMeta,\n};\n","import React from 'react';\nimport classnames from 'classnames/bind';\nimport Card from '@infosight/elmer/dist/components/Card';\n\nimport style from './style.scss';\n\nconst cx = classnames.bind(style);\n\nexport default () => (\n    <Card className={cx('container')} title=\"Contact Nimble Storage Customer Support\">\n        <b>For U.S. support:</b>\n        <table className=\"unstriped\">\n            <tbody>\n                <tr>\n                    <td>Toll-free:</td>\n                    <td>1-877-3NIMBLE (877-364-6253), extension 2</td>\n                </tr>\n                <tr>\n                    <td>Local:</td>\n                    <td>408-432-9600, extension 2</td>\n                </tr>\n                <tr>\n                    <td>Email:</td>\n                    <td>support@nimblestorage.com</td>\n                </tr>\n\n            </tbody>\n        </table>\n\n        <br />\n\n        <b>For other international support phone numbers: </b>&nbsp;\n        <a href=\"http://www.nimblestorage.com/support/overview/\" rel=\"noopener noreferrer\" target=\"_blank\">https://www.nimblestorage.com/support/overview/</a>\n    </Card>\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Route, Switch, withRouter } from 'react-router-dom';\nimport { pageBoundaryRouteRenderer } from '@infosight/elmer/dist/page';\n\nimport SupportListCases from './components/SupportListCases';\nimport SupportCreateCase from './components/SupportCreateCase';\nimport SupportExamineCase from './components/SupportExamineCase';\nimport SupportContactPage from './contact/SupportContactPage';\n\nimport { AuthorizationEvaluator, AUTHORITIES, PRIVILEGES, PERMISSION_TARGET } from '../user';\n\nconst SupportRouter = ({ match, hasSupportPermission }) => (\n    <React.Fragment>\n        {!hasSupportPermission ? (\n            <SupportContactPage />\n        ) : (\n            <Switch>\n                <Route path={`${match.path}/newcase`} render={pageBoundaryRouteRenderer(SupportCreateCase, 'Create a case')} />\n                <Route\n                    path={`${match.path}/case/:caseNumber/kcs/:docId`}\n                    render={pageBoundaryRouteRenderer(SupportExamineCase, 'View case')}\n                />\n                <Route path={`${match.path}/case/:caseNumber`} render={pageBoundaryRouteRenderer(SupportExamineCase, 'View case')} />\n                <Route render={pageBoundaryRouteRenderer(SupportListCases, 'Support')} />\n            </Switch>\n        )}\n    </React.Fragment>\n);\n\nSupportRouter.propTypes = {\n    match: PropTypes.object,\n    hasSupportPermission: PropTypes.bool,\n};\n\nexport default withRouter(connect(\n    () => ({\n        hasSupportPermission: AuthorizationEvaluator.evaluate({\n            access: {\n                $or: [\n                    {\n                        authorities: [AUTHORITIES.SUPPORT_CASE],\n                    },\n                    {\n                        permissions: {\n                            privilege: PRIVILEGES.FEATURE_SUPPORT_CASE_MANAGE,\n                            targetType: PERMISSION_TARGET.NIMBLE_TENANT,\n                            targetId: PERMISSION_TARGET.ACTIVE_TARGET_ID,\n                        },\n                    },\n                ],\n            },\n        }),\n    })\n)(SupportRouter));\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport classnames from 'classnames/bind';\n\nimport Card from '@infosight/elmer/dist/components/Card';\nimport NimbleLegacyContainer from '../../../containers/NimbleLegacyContainer';\nimport LegacyView from '../../../../app/modules/virtualArrays/VirtualArraysLicenseKeysView';\n\nimport style from './style.scss';\n\nconst cx = classnames.bind(style);\n\nconst VmarrayLicenseManagementContainer = () => (\n    <div className={cx('container')}>\n        <Card>\n            <h4>\n                The HPE Nimble Storage Virtual Array allows you to run a NimbleOS image within your vCenter environment.\n            </h4>\n            <div>\n                <p>\n                    The latest NimbleOS VM image and README can be downloaded from the&nbsp;\n                    <Link to=\"/resources/nimble/software/NimbleOS/HPE%20Nimble%20Storage%20Virtual%20Array\">\n                        Software Downloads page\n                    </Link>\n                    .\n                </p>\n                <p>\n                    Documentation for NimbleOS can be accessed via the&nbsp;\n                    <Link to=\"/resources/nimble/docs\">\n                        Documentation page\n                    </Link>\n                    .\n                </p>\n                <p>\n                    License keys for your Nimble Storage Virtual Array can be managed below.\n                </p>\n            </div>\n        </Card>\n        <Card title=\"License Keys\">\n            <NimbleLegacyContainer createLegacyView={el => new LegacyView({ el })} />\n        </Card>\n    </div>\n);\n\nexport default VmarrayLicenseManagementContainer;\n","/* eslint-disable spaced-comment, no-unused-vars */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Route, Switch, NavLink } from 'react-router-dom';\nimport ScrollContainer from '@infosight/elmer/dist/components/ScrollContainer';\nimport { StaticBold } from '@infosight/elmer/dist/components/StaticBold';\nimport { SecondaryNavBar, NavItem, Title } from '@infosight/elmer/dist/components/SecondaryNavBar';\nimport { buildUrl } from '@infosight/elmer/dist/utils/url';\nimport { pageBoundaryRouteRenderer } from '@infosight/elmer/dist/page';\nimport Documentation from './documentation/DocumentationMarionetteWrapper';\nimport SoftwareDownloads from './documentation/SoftwareDownloadsMarionetteWrapper';\nimport ValidatedConfigMatrixMarionetteWrapper from './documentation/ValidatedConfigMatrixMarionetteWrapper';\nimport AuditReportMarionetteWrapper from './documentation/AuditReportMarionetteWrapper';\nimport SupportRouter from '../support/SupportRouter';\nimport VmarrayLicenseManagementContainer from './vmarray/VmarrayLicenseManagementContainer';\nimport { AuthorizationEvaluator, AUTHORITIES, nimbleThirdPartyPermissionRequestAccess } from '../user';\nimport NimbleUserTenantHelpers from './tenantSelection/NimbleUserTenantHelpers';\n\nconst objects = [\n    {\n        label: 'Support',\n        url: 'support',\n        component: SupportRouter,\n        visible: true,\n        access: {\n            custom() {\n                return NimbleUserTenantHelpers.currentTenantIsNimbleTenant() && AuthorizationEvaluator.evaluate({\n                    access: {\n                        $or: [\n                            {\n                                authorities: AUTHORITIES.PRODUCT_FAMILY_NIMBLE,\n                            },\n                            {\n                                authorities: [AUTHORITIES.SUPPORT_CASE],\n                            },\n                        ],\n                    },\n                });\n            },\n        },\n    },\n    {\n        label: 'Documentation',\n        url: 'docs',\n        component: Documentation,\n        visible: true,\n        access: {\n            authorities: [AUTHORITIES.PRODUCT_FAMILY_NIMBLE, AUTHORITIES.PRODUCT_FAMILY_STOREONCE, AUTHORITIES.PRODUCT_FAMILY_STORESERV],\n        },\n    },\n    {\n        label: 'Software Downloads',\n        url: 'software',\n        component: SoftwareDownloads,\n        visible: true,\n        access: {\n            custom() {\n                return NimbleUserTenantHelpers.currentTenantIsNimbleTenant() && AuthorizationEvaluator.evaluate({\n                    access: {\n                        authorities: AUTHORITIES.PRODUCT_FAMILY_NIMBLE,\n                    },\n                });\n            },\n        },\n    },\n    {\n        label: 'Virtual Array Licenses',\n        url: 'vmarray',\n        component: VmarrayLicenseManagementContainer,\n        visible: true,\n        access: {\n            custom() {\n                return NimbleUserTenantHelpers.currentTenantIsNimbleTenant() && AuthorizationEvaluator.evaluate({\n                    access: {\n                        authorities: [AUTHORITIES.VIRTUAL_ARRAY_ACCESS],\n                    },\n                });\n            },\n        },\n    },\n    {\n        label: 'Validated Configuration Matrix',\n        url: 'validated-configuration-matrix',\n        component: ValidatedConfigMatrixMarionetteWrapper,\n        visible: true,\n        access: {\n            authorities: [AUTHORITIES.PRODUCT_FAMILY_NIMBLE, AUTHORITIES.REALM_INTERNAL],\n        },\n    },\n    {\n        label: 'Audit Report',\n        url: 'audit-report',\n        component: AuditReportMarionetteWrapper,\n        visible: true,\n        access: {\n            custom() {\n                return NimbleUserTenantHelpers.currentTenantIsNimbleTenant() &&\n                    AuthorizationEvaluator.evaluate({ access: nimbleThirdPartyPermissionRequestAccess })\n                    && !AuthorizationEvaluator.evaluate({ access: { authorities: AUTHORITIES.ATTRIBUTE_NIMBLE_SUPPORT_PROVIDER } });\n            },\n        },\n    },\n];\n\n// Go directly to SupportRouter where pageBoundaryRouteRenderer will\n// be called from there.\n// Need to use uniqKey prop so that PageBoundary (Analytics.trackPageView)\n// will re-mount each time a support page is clicked.\nconst renderComponent = (RouteComponent, uniqKey) => props => (\n    <RouteComponent key={uniqKey} {...props} />\n);\n\nconst ResourcesRouter = ({ match, location }) => (\n    <ScrollContainer>\n        <ScrollContainer.Fixed>\n            <SecondaryNavBar>\n                <Title name=\"Nimble Storage\" className=\"align-center\" />\n                {AuthorizationEvaluator.filter(objects).filter(x => x.visible).map(({ label, url }) => (\n                    <NavItem key={url}>\n                        <NavLink className=\"flex-container align-center flex-dir-column\" to={buildUrl(match.url, url)}>\n                            <StaticBold parent={React.Fragment}>{label}</StaticBold>\n                        </NavLink>\n                    </NavItem>\n                ))}\n            </SecondaryNavBar>\n        </ScrollContainer.Fixed>\n\n        <ScrollContainer.Scrollable>\n            <Switch>\n                {AuthorizationEvaluator.filter(objects).map(({ url, component, label }) => (\n                    <Route\n                        key={url}\n                        path={buildUrl(match.path, url)}\n                        render={label === 'Support'\n                            ? renderComponent(component, location.key)\n                            : pageBoundaryRouteRenderer(component, label)\n                        }\n                    />\n                ))}\n            </Switch>\n        </ScrollContainer.Scrollable>\n    </ScrollContainer>\n);\n\nResourcesRouter.propTypes = {\n    match: PropTypes.object.isRequired,\n    location: PropTypes.object,\n};\n\nexport default ResourcesRouter;\n","import { findWhere } from 'underscore';\n\n/* eslint-disable import/prefer-default-export */\nexport const ROLES = [{\n    id: 'SuperUser',\n    name: 'Super User',\n}, {\n    id: 'NoSFDC',\n    name: 'Standard User',\n}];\n\nexport function findRole(id) {\n    return findWhere(ROLES, { id });\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames/bind';\nimport { fieldPropTypes } from 'redux-form';\n\nimport style from './style.scss';\n\nconst cx = classnames.bind(style);\n\n// TODO Move these into elmer/form or some other reusable area\n\nexport const InputWithFeedback = ({\n    input,\n    type,\n    meta: {\n        touched,\n        error,\n    },\n}) => (\n    <div>\n        <input {...input} type={type} />\n        {touched && error && <span className={cx('form-error')}>{error}</span>}\n    </div>\n);\n\nInputWithFeedback.propTypes = {\n    // eslint-disable-next-line react/no-typos\n    input: fieldPropTypes.input,\n    type: PropTypes.string,\n    // eslint-disable-next-line react/no-typos\n    meta: fieldPropTypes.meta,\n};\n\nexport const SelectWithFeedback = ({\n    input,\n    meta: {\n        touched,\n        error,\n    },\n    children,\n}) => (\n    <div>\n        <select {...input}>\n            {children}\n        </select>\n        {touched && error && <span className={cx('form-error')}>{error}</span>}\n    </div>\n);\n\nSelectWithFeedback.propTypes = {\n    // eslint-disable-next-line react/no-typos\n    input: fieldPropTypes.input,\n    type: PropTypes.string,\n    // eslint-disable-next-line react/no-typos\n    meta: fieldPropTypes.meta,\n    children: PropTypes.element,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Field } from 'redux-form';\n\nimport { SelectWithFeedback } from './forms';\nimport { ROLES } from './roles';\n\n\nconst RoleField = ({ roles }) => (\n    <Field name=\"role\" component={SelectWithFeedback}>\n        {roles.map(role => <option key={role.id} value={role.id}>{role.name}</option>)}\n    </Field>\n);\n\nRoleField.propTypes = {\n    roles: PropTypes.array.isRequired,\n};\n\nexport default connect(\n    () => ({\n        roles: ROLES,\n    }),\n    null\n)(RoleField);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport classnames from 'classnames/bind';\nimport { reduxForm, formPropTypes } from 'redux-form';\nimport { Modal } from '@infosight/elmer/dist/components/Modal';\n\nimport RoleField from './RoleField';\n\nimport { changeRole } from './actionCreators';\n\nimport style from './style.scss';\n\nconst cx = classnames.bind(style);\n\n/* eslint-disable jsx-a11y/label-has-for */\nconst ChangeRoleForm = ({ user, changeRole, handleSubmit, pristine, invalid, closeModal }) => ( // eslint-disable-line no-shadow\n    <Modal\n        title=\"Change Role\"\n        primaryButtonContent=\"Submit\"\n        disablePrimaryButton={pristine || invalid}\n        showCloseIcon={false}\n        onClickPrimaryButton={handleSubmit(({ role }) => changeRole({ user, role }))}\n        hide={closeModal}\n        isStoreDriven={false}\n        isOpen\n    >\n        <form className={cx('settings-popup')}>\n            <div className=\"row\">\n                <div className=\"column small-4\">\n                    <label htmlFor=\"_\">User</label>\n                </div>\n                <div className=\"column\">\n                    {user.login}\n                </div>\n            </div>\n            <div className=\"row\">\n                <div className=\"column small-4\">\n                    <label htmlFor=\"role\">Role</label>\n                </div>\n                <div className=\"column small-10\">\n                    <RoleField />\n                </div>\n            </div>\n        </form>\n    </Modal>\n);\n/* eslint-enable jsx-a11y/label-has-for */\n\nChangeRoleForm.propTypes = {\n    user: PropTypes.object.isRequired,\n    changeRole: PropTypes.func.isRequired,\n    /* eslint-disable react/no-typos */\n    handleSubmit: formPropTypes.handleSubmit,\n    pristine: formPropTypes.pristine,\n    invalid: formPropTypes.invalid,\n    /* eslint-enable react/no-typos */\n    closeModal: PropTypes.bool.isRequired,\n};\n\nexport default connect(\n    (state, { user }) => ({\n        initialValues: {\n            role: user.role,\n        },\n    }),\n    {\n        changeRole,\n    }\n)(reduxForm({\n    form: 'changeRole',\n})(ChangeRoleForm));\n","import { actionsFor } from '@infosight/elmer/dist/utils/redux';\nimport {\n    FETCH,\n    CHANGE_ROLE,\n    DELETE,\n    CREATE,\n    RESET,\n} from './constants';\nimport Request from '../../../../services/Request';\n\nexport const fetchUsers = () => (dispatch) => {\n    const { dispatchStart, dispatchSuccess, dispatchError } = actionsFor(FETCH, dispatch);\n    dispatchStart();\n\n    new Request()\n        .urlSegment('auth').tenant().urlSegment('users')\n        .get()\n        .then(response => response.data)\n        .then(dispatchSuccess)\n        .catch(dispatchError);\n};\n\nexport const changeRole = ({ user, role }) => (dispatch) => {\n    new Request()\n        .urlSegment('auth').tenant().urlSegments('users', user.login)\n        .patch({\n            role,\n        })\n        .then(response => dispatch({\n            type: CHANGE_ROLE,\n            success: true,\n            user: response.data,\n        }))\n        .catch(error => dispatch({\n            type: CHANGE_ROLE,\n            success: false,\n            user,\n            error: error.response.data.message,\n        }));\n};\n\nexport const deleteUser = ({ user }) => (dispatch) => {\n    new Request()\n        .urlSegment('auth').tenant().urlSegments('users', user.login)\n        .delete()\n        .then(() => dispatch({\n            type: DELETE,\n            success: true,\n            user,\n        }))\n        .catch(error => dispatch({\n            type: DELETE,\n            success: false,\n            user,\n            error: error.response.data.message,\n        }));\n};\n\nexport const createUser = ({ login, role }) => (dispatch) => {\n    new Request()\n        .urlSegment('auth').tenant().urlSegment('users')\n        .post({\n            login: login.toLowerCase(),\n            role,\n        })\n        .then(response => dispatch({\n            type: CREATE,\n            success: true,\n            login,\n            user: response.data,\n        }))\n        .catch(error => dispatch({\n            type: CREATE,\n            success: false,\n            login,\n            error: error.response.data.message,\n        }));\n};\n\nexport const reset = () => ({ type: RESET });\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport classnames from 'classnames/bind';\n\nimport { Modal } from '@infosight/elmer/dist/components/Modal';\n\nimport { deleteUser } from './actionCreators';\n\nimport style from './style.scss';\n\nconst cx = classnames.bind(style);\n\nconst DeleteUserConfirmation = ({ user, deleteUser, closeModal }) => ( // eslint-disable-line no-shadow\n    <Modal\n        title=\"Confirm User Deletion\"\n        type=\"warning\"\n        showCloseIcon={false}\n        onClickPrimaryButton={() => deleteUser({ user })}\n        hide={closeModal}\n        isStoreDriven={false}\n        isOpen\n    >\n        <div className={cx('settings-popup')}>\n            <p>Confirm deletion of {user.login}</p>\n        </div>\n    </Modal>\n);\n\nDeleteUserConfirmation.propTypes = {\n    user: PropTypes.object.isRequired,\n    deleteUser: PropTypes.func.isRequired,\n    closeModal: PropTypes.func.isRequired,\n};\n\nexport default connect(\n    null, {\n        deleteUser,\n    }\n)(DeleteUserConfirmation);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport autobind from 'react-autobind';\nimport { findRole } from './roles';\nimport ChangeRoleForm from './ChangeRoleForm';\nimport DeleteUserConfirmation from './DeleteUserConfirmation';\n\nclass RoleCell extends Component {\n    constructor(...args) {\n        super(...args);\n        autobind(this);\n\n        this.state = { modal: false };\n    }\n\n    changeRole(e) {\n        e.preventDefault();\n        this.setState({ modal: ChangeRoleForm });\n    }\n\n    deleteUser(e) {\n        e.preventDefault();\n        this.setState({ modal: DeleteUserConfirmation });\n    }\n\n    closeModal() {\n        this.setState({ modal: null });\n    }\n\n    render() {\n        const { modal } = this.state;\n        const { user } = this.props;\n        return (\n            <React.Fragment>\n                {findRole(user.role).name} (\n                <a href=\"#changeRole\" onClick={this.changeRole}>Change</a>\n                &nbsp;|&nbsp;\n                <a href=\"#deleteUser\" onClick={this.deleteUser}>Delete</a>\n                )\n                {modal && React.createElement(modal, { user, closeModal: this.closeModal })}\n            </React.Fragment>\n        );\n    }\n}\n\nRoleCell.propTypes = {\n    user: PropTypes.shape({\n        role: PropTypes.string.isRequired,\n    }),\n};\n\nRoleCell.defaultProps = {};\n\nexport default RoleCell;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport autobind from 'react-autobind';\nimport { ClientControlledTable } from '@infosight/elmer/dist/components/Table';\nimport { connect } from 'react-redux';\nimport { userSelector } from '../../../user/reducer';\n\nimport RoleCell from './RoleCell';\n\nclass UserManagementGrid extends Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n        this.state = { modal: null };\n\n        this.config = {\n            categories: ['default'],\n            columns: [\n                {\n                    Header: 'Login',\n                    accessor: 'login',\n                    filterable: true,\n                },\n                {\n                    Header: 'Role',\n                    accessor: 'role',\n                    Cell: ({ original }) => <RoleCell user={original} />,\n                },\n            ],\n        };\n    }\n\n    render() {\n        const { users, userName } = this.props;\n        const { modal } = this.state;\n\n        return (\n            <React.Fragment>\n                <ClientControlledTable\n                    tableId={`${userName}_NIMBLE_USERS`}\n                    data={users || []}\n                    columns={this.config.columns}\n                    categories={this.config.categories}\n                />\n                {modal && React.createElement(modal.type, { ...modal, closeModal: () => this.setState({ modal: null }) })}\n            </React.Fragment>\n        );\n    }\n}\n\nUserManagementGrid.propTypes = {\n    users: PropTypes.array.isRequired,\n    userName: PropTypes.string,\n};\n\nconst mapStateToProps = state => ({\n    userName: userSelector(state).username,\n});\n\nexport default connect(mapStateToProps)(UserManagementGrid);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport classnames from 'classnames/bind';\nimport { Field, reduxForm, formPropTypes } from 'redux-form';\n\nimport { Modal } from '@infosight/elmer/dist/components/Modal';\n\nimport { InputWithFeedback } from './forms';\n\nimport { createUser } from './actionCreators';\n\nimport RoleField from './RoleField';\n\nimport style from './style.scss';\n\nconst cx = classnames.bind(style);\n\nconst validateEmail = value => (\n    value && !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(value)\n        ? 'Invalid email address'\n        : undefined\n);\n\n/* This eslint error should really be fixed at some point */\n/* eslint-disable jsx-a11y/label-has-for */\nconst CreateUserForm = ({ handleSubmit, pristine, invalid, closeModal }) => (\n    <Modal\n        title=\"Invite User\"\n        primaryButtonContent=\"Submit\"\n        showCloseIcon={false}\n        disablePrimaryButton={pristine || invalid}\n        onClickPrimaryButton={handleSubmit}\n        isStoreDriven={false}\n        isOpen\n        hide={closeModal}\n    >\n        <form className={cx('settings-popup')}>\n            <div className=\"row\">\n                <div className=\"column small-4\">\n                    <label htmlFor=\"_\">Email</label>\n                </div>\n                <div className=\"column small-10\">\n                    <Field name=\"login\" component={InputWithFeedback} type=\"email\" validate={validateEmail} />\n                </div>\n            </div>\n            <div className=\"row\">\n                <div className=\"column small-4\">\n                    <label htmlFor=\"role\">Role</label>\n                </div>\n                <div className=\"column small-10\">\n                    <RoleField />\n                </div>\n            </div>\n        </form>\n    </Modal>\n);\n/* eslint-enable jsx-a11y/label-has-for */\n\nCreateUserForm.propTypes = {\n    /* eslint-disable react/no-typos */\n    handleSubmit: formPropTypes.handleSubmit,\n    pristine: formPropTypes.pristine,\n    invalid: formPropTypes.invalid,\n    /* eslint-enable react/no-typos */\n    closeModal: PropTypes.func.isRequired,\n};\n\nexport default connect(null, { onSubmit: createUser })(reduxForm({\n    form: 'createUser',\n    initialValues: {\n        role: 'NoSFDC',\n    },\n})(CreateUserForm));\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport autobind from 'react-autobind';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport classnames from 'classnames/bind';\n\nimport Card from '@infosight/elmer/dist/components/Card';\nimport Button from '@infosight/elmer/dist/components/Button';\n\nimport UserManagementGrid from './UserManagementGrid';\nimport CreateUserForm from './CreateUserForm';\n\nimport { userSelector } from './reducer';\nimport { fetchUsers, reset } from './actionCreators';\n\nimport style from './style.scss';\n\nconst cx = classnames.bind(style);\n\nclass UserManagementContainer extends Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n        this.state = { modalVisible: false };\n    }\n\n    componentDidMount() {\n        this.props.fetchUsers();\n    }\n\n    render() {\n        const { loadingUsers, users } = this.props;\n        return (\n            <Card className={cx('user-management', 'footer-pagination')} title=\"User Profiles\">\n                <p>\n                    Users within <strong>your own organization</strong> can be managed on this page.\n                </p>\n                <p>\n                    Your organization can grant <strong>read-only</strong> access\n                    to its InfoSight data using the <Link to=\"/settings/nimble/permissions\">Third Party Permissions</Link> page.\n                </p>\n                <Button onClick={() => this.setState({ modalVisible: true })} style={{ marginBottom: '20px' }}>\n                    <i className=\"fa fa-plus-circle\" /> Invite User\n                </Button>\n                <UserManagementGrid loading={loadingUsers} users={users} />\n                {this.state.modalVisible && <CreateUserForm closeModal={() => this.setState({ modalVisible: false })} />}\n            </Card>\n        );\n    }\n}\n\nUserManagementContainer.propTypes = {\n    fetchUsers: PropTypes.func.isRequired,\n    loadingUsers: PropTypes.bool.isRequired,\n    users: PropTypes.array,\n};\n\nconst mapStateToProps = state => userSelector(state);\n\nexport default connect(mapStateToProps, { fetchUsers, reset })(UserManagementContainer);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport autobind from 'react-autobind';\n\nimport Button from '@infosight/elmer/dist/components/Button';\nimport Async from '@infosight/elmer/dist/components/Async';\n\nimport { buildUrlFromBase } from 'progeny/util/url';\nimport { userSelector } from '../../../user/reducer';\nimport Request from '../../../../services/Request';\n\nconst PreRegistration = ({ user, account, register }) => (\n    <div>\n        <p>\n            A match for <b>{user.username}</b> has been found within the HPE Nimble Storage customer database.\n        </p>\n        <p>\n            Please click below to associate your InfoSight profile to the <b>{account.name}</b> organization.\n        </p>\n        <Button\n            onClick={register}\n        >\n            Register\n        </Button>\n    </div>\n);\n\nPreRegistration.propTypes = {\n    user: PropTypes.object,\n    account: PropTypes.object,\n    register: PropTypes.func,\n};\n\nclass RegistrationSuccess extends React.Component { /* eslint-disable react/no-multi-comp */\n    componentDidMount() {\n        window.setTimeout(() => {\n            window.location.replace(buildUrlFromBase());\n        }, 5000);\n    }\n\n    render() {\n        return (\n            <div className=\"callout success\">\n                <h4>Congratulations!  Your HPE Nimble Storage customer profile is now active.</h4>\n                <p>This page will now be automatically reloaded to enable your updated profile.</p>\n            </div>\n        );\n    }\n}\n\nconst RegistrationError = ({ error }) => (\n    <div className=\"callout error\">\n        <h4>Your self registration request was unable to be completed</h4>\n        <p>{error}</p>\n        <p>Please contact HPE Nimble Storage support.</p>\n    </div>\n);\n\nRegistrationError.propTypes = {\n    error: PropTypes.string,\n};\n\nclass SelfRegistrationCapable extends Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n        this.state = {\n            preRegistration: true,\n            registrationLoading: null,\n            registrationError: null,\n        };\n    }\n\n    register() {\n        this.setState({\n            registrationLoading: true,\n        });\n        new Request()\n            .urlSegment('auth/user/register')\n            .post()\n            .then(() => {\n                this.setState({\n                    preRegistration: false,\n                    registrationLoading: false,\n                });\n            })\n            .catch((error) => {\n                this.setState({\n                    preRegistration: false,\n                    registrationLoading: false,\n                    registrationError: error.response.data.message,\n                });\n            });\n    }\n\n    render() {\n        const { preRegistration, registrationLoading, registrationError } = this.state;\n        return (\n            preRegistration ? (\n                <PreRegistration register={this.register} {...this.props} />\n            ) : (\n                <Async loading={registrationLoading}>\n                    {registrationError ? (\n                        <RegistrationError error={registrationError} />\n                    ) : (\n                        <RegistrationSuccess />\n                    )}\n                </Async>\n            )\n        );\n    }\n}\n\nSelfRegistrationCapable.propTypes = {\n    user: PropTypes.object,\n    account: PropTypes.object,\n};\n\nexport default connect(\n    state => ({\n        user: userSelector(state),\n    }),\n    null\n)(SelfRegistrationCapable);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport { userSelector } from '../../../user/reducer';\n\nconst SelfRegistrationIncapable = ({ user, error }) => (\n    <div>\n        <p>\n            Your login <b>{user.username}</b> cannot be automatically associated to an HPE Nimble Storage customer account.\n        </p>\n        <div className=\"callout error\">\n            <h4>{error}</h4>\n        </div>\n        <p>\n            Please request that your local InfoSight administrator invite you to join your team&rsquo;s InfoSight organization.\n\n            If no one within your organization is already registered for InfoSight, please contact HPE Nimble Storage\n            support to assist with new customer registration.\n        </p>\n    </div>\n);\n\nSelfRegistrationIncapable.propTypes = {\n    user: PropTypes.object,\n    error: PropTypes.string,\n};\n\nexport default connect(\n    state => ({\n        user: userSelector(state),\n    }),\n    null\n)(SelfRegistrationIncapable);\n","import React, { Component } from 'react';\nimport autobind from 'react-autobind';\nimport classnames from 'classnames/bind';\n\nimport Async from '@infosight/elmer/dist/components/Async';\nimport Card from '@infosight/elmer/dist/components/Card';\n\nimport Request from '../../../../services/Request';\n\nimport SelfRegistrationCapable from './SelfRegistrationCapable';\nimport SelfRegistrationIncapable from './SelfRegistrationIncapable';\n\nimport style from './style.scss';\n\nconst cx = classnames.bind(style);\n\nclass SelfRegistrationContainer extends Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n        this.state = {\n            account: undefined,\n        };\n    }\n\n    componentDidMount() {\n        this.evaluateSelfRegistrationCapability();\n    }\n\n    evaluateSelfRegistrationCapability() {\n        new Request()\n            .urlSegment('auth/user/selfRegistrationCapability')\n            .get()\n            .then(response => response.data)\n            .then(account => this.setState({ account }))\n            .catch((error) => {\n                this.setState({\n                    account: null,\n                    error: error.response.data.message,\n                });\n            });\n    }\n\n    render() {\n        const { account, error } = this.state;\n        return (\n            <Card className={cx('container')} title=\"Nimble Storage Customer Registration\">\n                <Async loading={account === undefined}>\n                    {() => (\n                        account ?\n                            <SelfRegistrationCapable account={account} />\n                            : <SelfRegistrationIncapable error={error} />\n                    )}\n                </Async>\n            </Card>\n        );\n    }\n}\n\nexport default SelfRegistrationContainer;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames/bind';\n\nimport Card from '@infosight/elmer/dist/components/Card';\nimport NimbleLegacyContainer from '../../../../containers/NimbleLegacyContainer';\nimport PermissionsView from '../../../../../app/modules/permissions/PermissionsView';\n\nimport { tenantSelector } from '../../../user';\nimport style from './style.scss';\n\nconst cx = classnames.bind(style);\n\nconst PermissionsContainer = ({ tenant }) => (\n    <Card title=\"Third Party Permissions\">\n        <NimbleLegacyContainer className={cx('container')} createLegacyView={el => new PermissionsView({ el, account: tenant })} />\n    </Card>\n);\n\nPermissionsContainer.propTypes = {\n    tenant: PropTypes.object,\n};\n\nexport default connect(state => ({ tenant: tenantSelector(state).tenant }))(PermissionsContainer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames/bind';\n\nimport style from './style.scss';\n\nconst cx = classnames.bind(style);\n\nlet idCounter = 0;\n\nconst Switch = ({ on, handleChange, onLabel, offLabel, className }) => {\n    const switchId = `switch${idCounter++}`; // eslint-disable-line no-plusplus\n    return (\n        <div className={classnames(className, cx('switch', 'small'))}>\n            <input\n                className={cx('switch-input')}\n                id={switchId}\n                type=\"checkbox\"\n                onChange={handleChange}\n                checked={on}\n            />\n            <label className={cx('switch-paddle')} htmlFor={switchId}>\n                <span className={cx('switch-active')}>{onLabel}</span>\n                <span className={cx('switch-inactive')}>{offLabel}</span>\n            </label>\n        </div>\n    );\n};\n\nSwitch.propTypes = {\n    on: PropTypes.bool,\n    handleChange: PropTypes.func,\n    onLabel: PropTypes.string,\n    offLabel: PropTypes.string,\n};\n\nSwitch.defaultProps = {\n    onLabel: 'On',\n    offLabel: 'Off',\n};\n\nexport default Switch;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport autobind from 'react-autobind';\nimport moment from 'moment-timezone';\nimport classnames from 'classnames/bind';\nimport Switch from './Switch';\nimport style from './style.scss';\n\nconst cx = classnames.bind(style);\n\nexport default class RealtimeDeliveryCell extends Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n    }\n\n    handleChange(event) {\n        this.props.handleChange({\n            arraySn: this.props.arraySn,\n            setting: 'realtime',\n            enabled: event.target.checked,\n        });\n    }\n\n    renderStatus() {\n        return (\n            <span>{this.props.latestDelivery && moment(this.props.latestDelivery).fromNow()}</span>\n        );\n    }\n\n    render() {\n        return (\n            <div className={cx('switch-with-status')}>\n                <Switch handleChange={this.handleChange} on={this.props.enabled} />\n                {this.props.enabled && this.renderStatus()}\n            </div>\n        );\n    }\n}\n\nRealtimeDeliveryCell.propTypes = {\n    handleChange: PropTypes.func.isRequired,\n    arraySn: PropTypes.string.isRequired,\n    latestDelivery: PropTypes.any,\n    enabled: PropTypes.bool,\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport autobind from 'react-autobind';\nimport classnames from 'classnames/bind';\nimport PopoverTrigger from '@infosight/elmer/dist/components/PopoverTrigger';\nimport Switch from './Switch';\nimport style from './style.scss';\n\nconst cx = classnames.bind(style);\n\nconst statusMap = {\n    OK: {\n        isError: false,\n        description: 'Registered',\n        remediation: null,\n    },\n    NoVCentersFound: {\n        isError: true,\n        description: 'No vCenters found',\n        remediation: 'No vCenters were found.  Please re-register the vCenter plugin using the System Management UI',\n    },\n    OtherCollectionError: {\n        isError: true,\n        description: 'Unable to collect inventory',\n        remediation: 'An unexpected error occurred collecting information from vCenter.  Please contact Nimble support',\n    },\n    '<null>': {\n        isError: true,\n        description: 'Not Registered',\n        remediation: 'Please register the vCenter plugin using the System Management UI',\n    },\n};\n\nconst popover = status => (\n    <div>\n        <h5>vCenter Plugin Status: <b>{status.description}</b></h5>\n        <p>{status.remediation}</p>\n    </div>\n);\n\nexport default class VmwareContentCell extends Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n    }\n\n    handleChange(event) {\n        this.props.handleChange({\n            arraySn: this.props.arraySn,\n            setting: 'vmware',\n            enabled: event.target.checked,\n        });\n    }\n\n    renderStatus() {\n        const status = statusMap[this.props.status || '<null>'];\n        const iconClass = cx({\n            fa: true,\n            'fa-lg': true,\n            'fa-warning': status.isError,\n            'text-alert': status.isError,\n            'fa-check-circle': !status.isError,\n            'text-success': !status.isError,\n        });\n        return (\n            <PopoverTrigger popover={popover(status)}>\n                <i className={iconClass} />\n            </PopoverTrigger>\n        );\n    }\n\n    render() {\n        return (\n            <div className={cx('switch-with-status')}>\n                <Switch handleChange={this.handleChange} on={this.props.enabled} />\n                {this.props.enabled && this.renderStatus()}\n            </div>\n        );\n    }\n}\n\nVmwareContentCell.propTypes = {\n    handleChange: PropTypes.func.isRequired,\n    arraySn: PropTypes.string.isRequired,\n    status: PropTypes.string,\n    enabled: PropTypes.bool,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { ClientControlledTable } from '@infosight/elmer/dist/components/Table';\nimport { userSelector } from '../../../user/reducer';\n\nimport telemetryConfig from './telemetryConfig';\n\nconst TelemetrySettingsGrid = ({ loading, data, handleChange, userName }) => {\n    const { columns, categories } = telemetryConfig(handleChange);\n    return (\n        <ClientControlledTable\n            tableId={`${userName}_NIMBLE_TELEMETRY`}\n            data={data || []}\n            columns={columns}\n            categories={categories}\n            loading={loading}\n        />\n    );\n};\n\nTelemetrySettingsGrid.propTypes = {\n    data: PropTypes.array.isRequired,\n    handleChange: PropTypes.func.isRequired,\n    userName: PropTypes.string,\n    loading: PropTypes.bool.isRequired,\n};\n\nconst mapStateToProps = state => ({\n    userName: userSelector(state).username,\n});\n\nexport default connect(mapStateToProps)(TelemetrySettingsGrid);\n","import React from 'react';\nimport moment from 'moment-timezone';\n\nimport RealtimeDeliveryCell from './RealtimeDeliveryCell';\nimport VmwareContentCell from './VmwareContentCell';\n\n/* eslint-disable react/prop-types */\nconst telemetryConfig = handleChange =>\n    ({\n        categories: ['default'],\n        columns: [\n            {\n                Header: 'Array',\n                accessor: 'arraySearch',\n                filterable: true,\n            },\n            {\n                Header: 'Diagnostics Delivery',\n                accessor: 'delivery',\n                headerClassName: 'text-center',\n                columns: [{\n                    Header: 'Heartbeats',\n                    accessor: 'lastHeartbeat',\n                    Cell: ({ original: { lastHeartbeat } }) => lastHeartbeat && moment((lastHeartbeat * -1)).fromNow(),\n                }, {\n                    Header: 'Daily',\n                    accessor: 'lastDaily',\n                    Cell: ({ original: { lastDaily } }) => lastDaily && moment((lastDaily * -1)).fromNow(),\n                }, {\n                    Header: 'Streaming',\n                    accessor: 'realtimeSearch',\n                    Cell: ({ original: { arraySn, realtime } }) => (<RealtimeDeliveryCell arraySn={arraySn} handleChange={handleChange} {...realtime} />),\n                }],\n            },\n            {\n                Header: 'Diagnostics Content',\n                accessor: 'content',\n                headerClassName: 'text-center',\n                columns: [{\n                    accessor: 'vmwareSearch',\n                    Header: 'VMware',\n                    Cell: ({ original: { arraySn, vmware } }) => (<VmwareContentCell arraySn={arraySn} handleChange={handleChange} {...vmware} />),\n                }],\n            },\n        ],\n    });\n\nexport { telemetryConfig as default };\n\n","import React, { Component } from 'react';\nimport autobind from 'react-autobind';\nimport classnames from 'classnames/bind';\nimport produce from 'immer';\nimport { Card } from '@infosight/elmer/dist/components/Card';\nimport { FlashNotification } from '@infosight/elmer/dist/components/FlashNotification';\nimport { noop } from 'underscore';\nimport { Modal } from '@infosight/elmer/dist/components/Modal';\nimport Request from '../../../../services/Request';\nimport TelemetrySettingsGrid from './TelemetrySettingsGrid';\nimport style from './style.scss';\n\nconst cx = classnames.bind(style);\n\nconst Description = () => (\n    <div>\n        <p>\n            Diagnostics for Nimble Analytics allows the HPE Nimble Storage array to send periodic health updates to HPE Nimble Storage Support.\n            These updates contain statistics and diagnostic data that summarize the health and performance of the HPE Nimble Storage array\n            : no application data will be sent.\n        </p>\n        <p>\n            This page allows you to monitor and configure which diagnostic information is collected and how frequently it is sent back to\n            HPE Nimble Storage Support.\n        </p>\n        <div className=\"callout secondary\">\n            <b>Notes:</b>\n            <ul>\n                <li>Daily diagnostics delivery must be enabled or disabled on the array itself</li>\n                <li>The Nimble vCenter plugin must be manually registered with your VMware vCenter installation</li>\n            </ul>\n        </div>\n    </div>\n);\n\nexport default class TelemetrySettingsContainer extends Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n\n        this.state = {\n            data: null,\n            modal: null,\n        };\n    }\n\n    componentDidMount() {\n        this.fetchData();\n    }\n\n    fetchData() {\n        return new Request()\n            .pod()\n            .account()\n            .urlSegment('telemetry/settings')\n            .get()\n            .then(response => (\n                // returning negative values for sorting\n                // asc sort:  1 day ago, 1 week ago, 1 year ago\n                // desc sort: 1 year ago, 1 week ago, 1 day ago\n                response.data.map(obj => ({\n                    ...obj,\n                    lastHeartbeat: obj.heartbeat.latestDelivery ? -obj.heartbeat.latestDelivery : null,\n                    lastDaily: obj.daily.latestDelivery ? -obj.daily.latestDelivery : null,\n                    arraySearch: (obj.arrayHostname || obj.arraySn),\n                    realtimeSearch: `${obj.realtime.enabled ? 'on' : 'off'} ${obj.realtime.latestDelivery || 0}`,\n                    vmwareSearch: `${obj.vmware.enabled ? 'on' : 'off'} ${obj.vmware.status === 'OK' ? 0 : 1}`,\n                }))\n            ))\n            .then((data) => {\n                this.setState({ data });\n            });\n    }\n\n    closeModal() {\n        this.setState({ modal: null });\n    }\n\n    handleChange(change) {\n        const arrayTelemetrySettings = this.state.data.find(it => it.arraySn === change.arraySn);\n\n        if (change.setting === 'realtime' && !change.enabled && arrayTelemetrySettings.vmware.enabled) {\n            this.setState({\n                modal: (\n                    <Modal\n                        title=\"Error\"\n                        type=\"alert\"\n                        showCloseIcon={false}\n                        hideSecondaryButton\n                        onClickPrimaryButton={() => this.applyChange({ arrayTelemetrySettings, changes: [change] })}\n                        isStoreDriven={false}\n                        hide={this.closeModal}\n                        isOpen\n                    >\n                        <p>VMware telemetry requires that streaming delivery be enabled.</p>\n                        <p><b>You must disable VMware telemetry</b> prior to disabling streaming delivery</p>\n                    </Modal>\n                ),\n            });\n        } else if (change.setting === 'vmware' && change.enabled && !arrayTelemetrySettings.realtime.enabled) {\n            this.setState({\n                modal: (\n                    <Modal\n                        title=\"Notice\"\n                        type=\"info\"\n                        showCloseIcon={false}\n                        onClickPrimaryButton={() => {\n                            this.applyChange({\n                                arrayTelemetrySettings,\n                                changes: [\n                                    change,\n                                    {\n                                        setting: 'realtime',\n                                        enabled: true,\n                                    },\n                                ],\n                            });\n                        }}\n                        onClickSecondaryButton={noop}\n                        isStoreDriven={false}\n                        hide={this.closeModal}\n                        isOpen\n                    >\n                        <p>VMware telemetry requires that streaming delivery be enabled.</p>\n                        <p>Streaming delivery <b>will be automatically enabled</b> as part of this operation</p>\n                    </Modal>\n                ),\n            });\n        } else {\n            this.applyChange({\n                arrayTelemetrySettings,\n                changes: [change],\n            });\n        }\n    }\n\n    applyChange({ arrayTelemetrySettings, changes }) {\n        this.setState(\n            produce((state) => {\n                const arraySettings = state.data.find(it => it.arraySn === arrayTelemetrySettings.arraySn);\n                changes.forEach((change) => {\n                    arraySettings[change.setting].enabled = change.enabled;\n                    state.modal = null;\n                });\n            })\n        );\n\n        changes.forEach((change) => {\n            const { setting, enabled } = change;\n            const { arraySn, arrayHostname } = arrayTelemetrySettings;\n            const arrayName = arrayHostname || arraySn;\n\n            return new Request()\n                .pod()\n                .account()\n                .urlSegments('telemetry/settings', arraySn)\n                .patch({\n                    setting,\n                    enabled,\n                })\n                .then(() => {\n                    const settingDisplay = {\n                        vmware: 'VMware',\n                        realtime: 'streaming',\n                    }[setting];\n                    FlashNotification.info(`${enabled ? 'Enabled' : 'Disabled'} ${settingDisplay} telemetry for ${arrayName}`);\n                })\n                .catch(() => {\n                    FlashNotification.error(\n                        `An internal error occurred while attempting to update telemetry for ${arrayName}. Please contact Nimble Support.`, {\n                            timeout: 'none',\n                        }\n                    );\n\n                    // Refetch data from server as source of truth\n                    this.setState({\n                        data: null,\n                    });\n                    this.fetchData();\n                });\n        });\n    }\n\n    render() {\n        return (\n            <Card className={cx('telemetry-settings')}>\n                <Description />\n                <TelemetrySettingsGrid loading={this.state.data == null} data={this.state.data} handleChange={this.handleChange} />\n                {this.state.modal}\n            </Card>\n        );\n    }\n}\n","import { actionsFor } from '@infosight/elmer/dist/utils/redux';\n\nimport Request from '../../../services/Request';\nimport { FETCH_ADDRESSES, FETCH_ASSETS, ADD_ADDRESS, EDIT_ADDRESS, SET_DELIVERY_PREFERENCE, VALIDATE_ADDRESS } from './constants';\n\nconst ASSET_SERVICE_URL = 'assetRegistry/addressManagement/assets';\nconst ADDRESS_SERVICE_URL = 'assetRegistry/addressManagement/addresses';\n\nexport function fetchAddresses() {\n    return (dispatch) => {\n        const { dispatchStart, dispatchSuccess, dispatchError } = actionsFor(FETCH_ADDRESSES, dispatch);\n\n        dispatchStart();\n\n        new Request().central().account().slash(ADDRESS_SERVICE_URL)\n            .get()\n            .then((response) => {\n                dispatchSuccess(response.data);\n            })\n            .catch(dispatchError);\n    };\n}\n\nexport function fetchAssets() {\n    return (dispatch) => {\n        const { dispatchStart, dispatchSuccess, dispatchError } = actionsFor(FETCH_ASSETS, dispatch);\n\n        dispatchStart();\n\n        new Request().central().account().slash(ASSET_SERVICE_URL)\n            .get()\n            .then((response) => {\n                dispatchSuccess(response.data);\n            })\n            .catch(dispatchError);\n    };\n}\n\nexport function addAddress(address) {\n    return (dispatch) => {\n        const { dispatchStart, dispatchSuccess, dispatchError } = actionsFor(ADD_ADDRESS, dispatch);\n\n        dispatchStart();\n\n        return new Request().central().account().slash(ADDRESS_SERVICE_URL)\n            .post(address)\n            .then((response) => {\n                dispatchSuccess(response.data);\n                return response;\n            })\n            .catch(dispatchError);\n    };\n}\n\nexport function editAddress(address, addressId) {\n    return (dispatch) => {\n        const { dispatchStart, dispatchSuccess, dispatchError } = actionsFor(EDIT_ADDRESS, dispatch);\n\n        dispatchStart();\n\n        return new Request().central().account().slash(ADDRESS_SERVICE_URL, addressId)\n            .patch(address)\n            .then((response) => {\n                dispatchSuccess(response.data);\n                return response;\n            })\n            .catch((e) => {\n                dispatchError(e);\n                throw e;\n            });\n    };\n}\n\n// edit install address\nexport function editAsset(asset, assetId) {\n    return (dispatch) => {\n        const { dispatchStart, dispatchSuccess, dispatchError } = actionsFor(SET_DELIVERY_PREFERENCE, dispatch);\n\n        dispatchStart();\n\n        return new Request().central().account().slash(ASSET_SERVICE_URL, assetId)\n            .patch(asset)\n            .then((response) => {\n                dispatchSuccess(response.data);\n            })\n            .catch(dispatchError);\n    };\n}\n\nexport function setDeliveryAddress(asset, assetId) {\n    return (dispatch) => {\n        const { dispatchStart, dispatchSuccess, dispatchError } = actionsFor(SET_DELIVERY_PREFERENCE, dispatch);\n\n        dispatchStart();\n\n        return new Request().central().account().slash(ASSET_SERVICE_URL, assetId)\n            .patch({\n                assetPartShipAddressBook__c: asset.assetPartShipAddressBook__c,\n            })\n            .then((response) => {\n                dispatchSuccess(response.data);\n            })\n            .catch(dispatchError);\n    };\n}\n\nexport function setDeliveryPreference(asset, addressId) {\n    return (dispatch) => {\n        const { dispatchStart, dispatchSuccess, dispatchError } = actionsFor(SET_DELIVERY_PREFERENCE, dispatch);\n\n        dispatchStart();\n\n        return new Request().central().account().slash(ASSET_SERVICE_URL, addressId)\n            .patch({\n                assetSameDayPartDeliveryPreference__c: asset.assetSameDayPartDeliveryPreference__c,\n            })\n            .then((response) => {\n                dispatchSuccess(response.data);\n            })\n            .catch(dispatchError);\n    };\n}\n\nexport function validateAddress(assetId) {\n    return (dispatch) => {\n        const { dispatchStart, dispatchSuccess, dispatchError } = actionsFor(VALIDATE_ADDRESS, dispatch);\n\n        dispatchStart();\n\n        return new Request().central().account().slash(ASSET_SERVICE_URL, assetId)\n            .patch({})\n            .then((response) => {\n                dispatchSuccess(response.data);\n            })\n            .catch(dispatchError);\n    };\n}\n","const countries = [\n    'Afghanistan',\n    'Albania',\n    'Algeria',\n    'Andorra',\n    'Angola',\n    'Argentina',\n    'Armenia',\n    'Australia',\n    'Austria',\n    'Azerbaijan',\n    'Bahamas',\n    'Bahrain',\n    'Bangladesh',\n    'Barbados',\n    'Belarus',\n    'Belgium',\n    'Belize',\n    'Benin',\n    'Bermuda',\n    'Bhutan',\n    'Bolivia',\n    'Bosnia and Herzegovina',\n    'Botswana',\n    'Brazil',\n    'Brunei Darussalam',\n    'Bulgaria',\n    'Burkina Faso',\n    'Cambodia',\n    'Cameroon',\n    'Canada',\n    'Central African Republic',\n    'Chile',\n    'China',\n    'Colombia',\n    'Cook Islands',\n    'Costa Rica',\n    'Croatia',\n    'Cyprus',\n    'Czech Republic',\n    'Denmark',\n    'Dominican Republic',\n    'Dutch Antilles',\n    'Ecuador',\n    'Egypt',\n    'El Salvador',\n    'Estonia',\n    'Ethiopia',\n    'Falkland Islands',\n    'Finland',\n    'France',\n    'Georgia',\n    'Germany',\n    'Ghana',\n    'Gibraltar',\n    'Greece',\n    'Guatemala',\n    'Hong Kong',\n    'Hungary',\n    'Iceland',\n    'India',\n    'Indonesia',\n    'Iraq',\n    'Ireland',\n    'Israel',\n    'Italy',\n    'Ivory Coast',\n    'Jamaica',\n    'Japan',\n    'Jordan',\n    'Kazakhstan',\n    'Kenya',\n    'Kuwait',\n    'Latvia',\n    'Lebanon',\n    'Lithuania',\n    'Luxembourg',\n    'Macedonia',\n    'Malawi',\n    'Malaysia',\n    'Mali',\n    'Malta',\n    'Mauritius',\n    'Mayotte',\n    'Mexico',\n    'Morocco',\n    'Myanmar',\n    'Namibia',\n    'Netherlands',\n    'New Caledonia',\n    'New Zealand',\n    'Nigeria',\n    'Norway',\n    'Oman',\n    'Pakistan',\n    'Palestine',\n    'Panama',\n    'Paraguay',\n    'Peru',\n    'Philippines',\n    'Poland',\n    'Portugal',\n    'Puerto Rico',\n    'Qatar',\n    'Romania',\n    'Russia',\n    'Samoa',\n    'Saudi Arabia',\n    'Senegal',\n    'Serbia and Montenegro',\n    'Singapore',\n    'Slovakia',\n    'Slovenia',\n    'South Africa',\n    'South Korea',\n    'Spain',\n    'Sri Lanka',\n    'Sweden',\n    'Switzerland',\n    'Taiwan',\n    'Thailand',\n    'Trinidad and Tobago',\n    'Tunisia',\n    'Turkey',\n    'Tuvalu',\n    'Uganda',\n    'Ukraine',\n    'United Arab Emirates',\n    'United Kingdom',\n    'United States',\n    'Uruguay',\n    'Uzbekistan',\n    'Venezuela',\n    'Vietnam',\n    'Yemen',\n    'Zambia',\n];\n\nexport default countries;\n","import React, { Component } from 'react';\nimport classnames from 'classnames/bind';\nimport { withFormik, Field } from 'formik';\n\nimport Select from 'react-select';\nimport 'react-select/dist/react-select.css';\n\nimport { Modal } from '@infosight/elmer/dist/components/Modal';\n\nimport countries from '../../../../util/countries';\n\nimport style from './style.scss';\n\nconst cx = classnames.bind(style);\n\n/* eslint-disable react/no-multi-comp */\n/* eslint-disable jsx-a11y/label-has-for */\n/* eslint-disable no-unused-vars */\n/* eslint-disable react/prop-types */\n\nconst formikEnhancer = withFormik({\n    validate: (values) => {\n        const errors = {};\n        if (!values.description) {\n            errors.description = 'is required';\n        }\n        if (!values.Install_Street1__c) {\n            errors.Install_Street1__c = 'is required';\n        }\n        if (!values.Install_City__c) {\n            errors.Install_City__c = 'is required';\n        }\n        if (!values.Install_State_Province__c) {\n            errors.Install_State_Province__c = 'is required';\n        }\n        if (!values.Install_Zip_Code__c) {\n            errors.Install_Zip_Code__c = 'is required';\n        }\n        if (!values.Install_Country__c) {\n            errors.Install_Country__c = 'is required';\n        }\n\n        return errors;\n    },\n});\n\n/* eslint-disable react/prefer-stateless-function */\nclass AddressDetailForm extends Component {\n    componentDidMount() {\n        this.props.validateForm();\n    }\n\n    renderField(fieldName, label) {\n        const {\n            touched,\n            dirty,\n            errors,\n            handleBlur,\n            handleChange,\n            values,\n        } = this.props;\n\n        return (\n            <div className=\"form-group\">\n                <label htmlFor={fieldName} className={cx('form-label', (errors[fieldName] && touched[fieldName] ? 'error' : null))}>\n                    {label}\n                    {\n                        errors[fieldName] && touched[fieldName] && (\n                            <span> {errors[fieldName]}</span>\n                        )\n                    }\n                </label>\n                <Field\n                    id={fieldName}\n                    name={fieldName}\n                    type=\"text\"\n                    onChange={handleChange}\n                    value={values[fieldName]}\n                    className={errors[fieldName] && touched[fieldName] ? 'form-control error' : 'form-control'}\n                />\n            </div>\n        );\n    }\n\n    render() {\n        const {\n            id,\n            values,\n            touched,\n            closeModal,\n            dirty,\n            errors,\n            handleBlur,\n            handleChange,\n            setFieldValue,\n            setTouched,\n            editAddress,\n            relatedAssets,\n        } = this.props;\n\n        const title = (id === undefined) ? 'Create New Address' : 'Edit Address';\n\n        return (\n            <Modal\n                size=\"tiny\"\n                type=\"primary\"\n                hideModalOnPrimaryButtonClick\n                hideModalOnSecondaryButtonClick\n                primaryButtonContent=\"Save\"\n                secondaryButtonContent=\"Cancel\"\n                disablePrimaryButton={Object.keys(errors).length > 0}\n                title={title}\n                onClickPrimaryButton={() => {\n                    editAddress(values, id);\n                }}\n                onClickSecondaryButton\n                bodyClassName={cx('body')}\n                footerClassName={cx('footer')}\n                hide={closeModal}\n            >\n                <div className={cx('addressDetailForm')}>\n                    <form\n                        className=\"form-horizontal\"\n                    >\n                        { this.renderField('description', 'Description') }\n                        { this.renderField('Install_Street1__c', 'Street 1') }\n                        { this.renderField('Install_Street2__c', 'Street 2') }\n                        { this.renderField('Install_City__c', 'City') }\n                        { this.renderField('Install_State_Province__c', 'State/Province') }\n                        { this.renderField('Install_Zip_Code__c', 'Postal Code') }\n\n                        <div className=\"form-group\">\n                            <label\n                                htmlFor=\"Install_Country__c\"\n                                className={cx('form-label', (errors.Install_Country__c && touched.Install_Country__c ? 'error' : null))}\n                            >\n                                Country\n                                {\n                                    errors.Install_Country__c && touched.Install_Country__c && (\n                                        <span> {errors.Install_Country__c}</span>\n                                    )\n                                }\n                            </label>\n                            <Field\n                                component={Select}\n                                id=\"Install_Country__c\"\n                                name=\"Install_Country__c\"\n                                multi={false}\n                                clearable={false}\n                                className={errors.Install_Country__c && touched.Install_Country__c ? 'form-control error' : 'form-control'}\n                                options={countries.map(x => ({\n                                    label: x,\n                                    value: x,\n                                }))}\n                                onChange={(e) => {\n                                    setFieldValue('Install_Country__c', e.value);\n                                }}\n                                onClose={(e) => {\n                                    setTouched(Object.assign({\n                                        Install_Country__c: true,\n                                    }, touched));\n                                }}\n                                value={values.Install_Country__c}\n                            />\n                        </div>\n                    </form>\n                    {\n                        relatedAssets &&\n                        <div>\n                            <hr />\n                            <h2><b>Important:</b> Editing this entry will change the address of the following assets</h2>\n                            <ul>\n                                {\n                                    relatedAssets.map(asset => <li>{asset.name}</li>)\n                                }\n                            </ul>\n                        </div>\n                    }\n                </div>\n            </Modal>\n        );\n    }\n}\n\nconst FormikAddressDetailForm = formikEnhancer(AddressDetailForm);\n\nexport default FormikAddressDetailForm;\n","import React, { Component } from 'react';\nimport autobind from 'react-autobind';\nimport { withFormik } from 'formik';\nimport classnames from 'classnames/bind';\n\n// import Yup from 'yup';\nimport Select from 'react-select';\nimport 'react-select/dist/react-select.css';\n\nimport style from './style.scss';\n\nconst cx = classnames.bind(style);\n\n/* eslint-disable react/no-multi-comp */\n/* eslint-disable jsx-a11y/label-has-for */\n/* eslint-disable no-unused-vars */\n/* eslint-disable react/prop-types */\n\nconst formikEnhancer = withFormik({\n    // FIXME: this is incompatible with validateForm() on mount\n    // enableReinitialize: true,\n    handleSubmit: (values, { setSubmitting }) => {\n    },\n    validate: (values, props) => {\n        const errors = {};\n\n        if (!values.addressId) {\n            errors.addressId = 'is required';\n        }\n\n        if (props.onValidationResult && !props.hasDoneInitialValidation) {\n            props.onValidationResult(errors);\n        }\n\n        return errors;\n    },\n\n});\n\nclass AddressForm extends Component {\n    componentDidMount() {\n        this.props.validateForm();\n    }\n\n    render() {\n        const {\n            id,\n            title,\n            values,\n            addressOptions,\n            addressUpdating,\n            touched,\n            dirty,\n            errors,\n            handleChange,\n            handleBlur,\n            handleSubmit,\n            handleReset,\n            setFieldValue,\n            setFieldTouched,\n            isSubmitting,\n            onFieldChanged,\n            onEdit,\n        } = this.props;\n\n        const disabled = (Object.keys(errors).length > 0) ||\n            addressUpdating ||\n            (values.addressId && values.addressId.value && values.addressId.value.newAddress);\n\n        return (\n            <form onSubmit={handleSubmit}>\n                <div className=\"row\">\n                    <div className=\"column medium-18\">\n                        <AddressSelect\n                            title={title}\n                            id={id}\n                            value={values.addressId}\n                            options={addressOptions}\n                            onChange={\n                                (name, selection) => {\n                                    setFieldValue(name, selection);\n                                    onFieldChanged(name, selection.value, id);\n                                }\n                            }\n                            onBlur={setFieldTouched}\n                            error={errors.addressId}\n                            touched={touched.addressId}\n                        />\n                    </div>\n                    <div className=\"column medium-6\">\n                        <button\n                            disabled={disabled}\n                            className={cx('button', 'expanded', 'edit', (disabled ? 'disabled' : ''))}\n                            onClick={onEdit}\n                        >\n                            <i className=\"fa fa-edit fa-lg\" />\n                            <span> Edit</span>\n                        </button>\n                    </div>\n                </div>\n            </form>\n        );\n    }\n}\n\nclass AddressSelect extends Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n    }\n\n    handleChange(value) {\n        this.props.onChange('addressId', value);\n    }\n\n    handleBlur() {\n        this.props.onBlur('addressId', true);\n    }\n\n    render() {\n        const { error } = this.props;\n\n        return (\n            <div className={error ? cx('error') : ''}>\n                <label htmlFor={this.props.id}>\n                    {this.props.title} {error}\n                </label>\n                <Select\n                    id={this.props.id}\n                    placeholder=\"Select an address...\"\n                    options={this.props.options}\n                    multi={false}\n                    clearable={false}\n                    onChange={this.handleChange}\n                    onBlur={this.handleBlur}\n                    value={this.props.value}\n                />\n            </div>\n        );\n    }\n}\n\nconst FormikAddressForm = formikEnhancer(AddressForm);\n\nexport default FormikAddressForm;\n","import _ from 'underscore';\nimport moment from 'moment-timezone';\nimport React from 'react';\nimport { withFormik } from 'formik';\nimport classnames from 'classnames/bind';\n\nimport style from './style.scss';\n\nconst cx = classnames.bind(style);\n\n/* eslint-disable react/no-multi-comp */\n/* eslint-disable jsx-a11y/label-has-for */\n/* eslint-disable no-unused-vars */\n/* eslint-disable react/prop-types */\n\nconst formikEnhancer = withFormik({\n    handleSubmit: () => {\n    },\n});\n\nconst AddressValidationForm = (props) => {\n    const {\n        id,\n        values,\n        assetData,\n        touched,\n        dirty,\n        errors,\n        handleChange,\n        handleBlur,\n        handleSubmit,\n        handleReset,\n        setFieldValue,\n        setFieldTouched,\n        isSubmitting,\n        onConfirm,\n    } = props;\n\n    const installAddress = assetData.Install_Street1__c ||\n    assetData.Install_City__c ||\n    assetData.Install_State_Province__c ||\n    assetData.Install_Zip_Code__c;\n\n    const is4HourSla = _.contains(['4HR', '4ON'], assetData.Support_Level__c);\n    const lastValidatedBy = assetData.assetPartShipLastValidatedByInfo__c;\n    const lastValidatedDate = assetData.assetPartShipLastValidatedDatetime__c;\n    const deliveryPreference = assetData.assetSameDayPartDeliveryPreference__c;\n    const addressBookId = assetData.assetPartShipAddressBook__c;\n\n    let validationIcon;\n    let validationText;\n    /* eslint-disable no-mixed-operators */\n    if (lastValidatedDate && (!is4HourSla || is4HourSla && deliveryPreference) && addressBookId) {\n        const lastModifiedInMonths = moment(Date.now()).diff(lastValidatedDate, 'months');\n\n        /* eslint-disable no-nested-ternary */\n        validationIcon = (lastModifiedInMonths > 6) ? <i className=\"fa fa-times\" />\n            : (lastModifiedInMonths > 5) ? <i className=\"fa fa-info-circle\" />\n                : <i className=\"fa fa-check-circle\" />;\n\n        validationText = <span>Last confirmed<br />{`${lastValidatedBy ? ` by ${lastValidatedBy}` : ''} on ${moment(lastValidatedDate).format('ll')}.`}</span>;\n    } else {\n        validationIcon = <i className=\"fa fa-times-circle\" />;\n        validationText = 'Please confirm your address';\n    }\n\n    return (\n        <form onSubmit={handleSubmit} id={id}>\n            <div className=\"row\">\n                <div className=\"column medium-16\">\n                    <label className={cx('confirmation')}>{validationIcon} {validationText}</label>\n                </div>\n                <div className=\"column medium-8\">\n                    <button\n                        className={cx('button', 'expanded')}\n                        onClick={onConfirm}\n                        disabled={assetData.assetPartShipAddressBook__c === null ||\n                            assetData.assetSameDayPartDeliveryPreference__c === null ||\n                            (assetData.assetInstallAddressBook__c === null && !installAddress)\n                        }\n                    >\n                        {lastValidatedBy ? 'Confirm Again' : 'Confirm'}\n                    </button>\n                </div>\n            </div>\n        </form>\n    );\n};\n\nconst FormikAddressValidationForm = formikEnhancer(AddressValidationForm);\n\nexport default FormikAddressValidationForm;\n","/* eslint-disable  max-len */\nconst deliveryPreferences = {\n    displayName: {\n        'SAME-DAY-10: Always deliver (site is manned 24x7)': 'Always deliver (24/7 receiving capabilities)',\n        'SAME-DAY-20: Deliver only during business hours (9am to 5pm asset time)': 'Only deliver during business hours',\n        'SAME-DAY-30: Always call customer first': 'Contact me prior to shipment',\n    },\n    premiumDeliveryOptions: {\n        'SAME-DAY-20: Deliver only during business hours (9am to 5pm asset time)': 'Only deliver during business hours',\n        'SAME-DAY-30: Always call customer first': 'Contact me prior to shipment',\n    },\n    tooltipText: {\n        SLA: 'Delivery preferences are selectable for assets with 4-hour delivery advanced replacement Service Level Agreements. These delivery preferences apply to automated shipments for hard disk drives, solid state drives, and power supplies when the hardware issue is detected by the Nimble Array and a support case is automatically opened. They do not apply to live troubleshooting scenarios and can be overridden at any time.',\n        'SAME-DAY-10: Always deliver (site is manned 24x7)': 'Nimble will automatically ship to your preferred shipping address with 4 hour delivery.',\n        'SAME-DAY-20: Deliver only during business hours (9am to 5pm asset time)': 'Nimble will automatically ship to your preferred shipping address with 4 hour delivery if the expected delivery time is within local business hours. If the part is not expected to arrive within local business hours, Nimble will ship the part as next day delivery.',\n        'SAME-DAY-30: Always call customer first': 'Nimble support will contact you via phone or email prior to shipping any replacement part.',\n    },\n};\n\nexport default deliveryPreferences;\n","import _ from 'underscore';\nimport React, { Component } from 'react';\nimport autobind from 'react-autobind';\nimport { withFormik } from 'formik';\nimport classnames from 'classnames/bind';\n\n// import Yup from 'yup';\nimport Select from 'react-select';\nimport 'react-select/dist/react-select.css';\n\nimport deliveryPreferences from './deliveryPreferences';\n\nimport style from './style.scss';\n\nconst cx = classnames.bind(style);\n\n/* eslint-disable react/no-multi-comp */\n/* eslint-disable jsx-a11y/label-has-for */\n/* eslint-disable no-unused-vars */\n/* eslint-disable react/prop-types */\n\nconst formikEnhancer = withFormik({\n    validate: (values, props) => {\n        const errors = {};\n\n        if (!values.assetSameDayPartDeliveryPreference__c) {\n            errors.addressId = 'is required';\n        }\n\n        if (props.onValidationResult && !props.hasDoneInitialValidation) {\n            props.onValidationResult(errors);\n        }\n\n        return errors;\n    },\n});\n\nclass DeliveryPreferenceSelect extends Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n    }\n\n    handleChange(e) {\n        // this is going to call setFieldValue and manually update values.topcis\n        this.props.onChange('assetSameDayPartDeliveryPreference__c', e.value);\n    }\n\n    handleBlur() {\n        // this is going to call setFieldTouched and manually update touched.topcis\n        this.props.onBlur('assetSameDayPartDeliveryPreference__c', true);\n    }\n\n    render() {\n        return (\n            <Select\n                id={this.props.id}\n                placeholder=\"Select a delivery preference...\"\n                options={this.props.options}\n                multi={false}\n                clearable={false}\n                onChange={this.handleChange}\n                onBlur={this.handleBlur}\n                value={this.props.value}\n            />\n        );\n    }\n}\n\nclass DeliveryPreferenceForm extends Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n    }\n\n    componentDidMount() {\n        this.props.validateForm();\n    }\n\n    render() {\n        const {\n            id,\n            title,\n            assetData,\n            values,\n            touched,\n            dirty,\n            errors,\n            handleChange,\n            handleBlur,\n            handleSubmit,\n            handleReset,\n            setFieldValue,\n            setFieldTouched,\n            isSubmitting,\n            onFieldChanged,\n        } = this.props;\n\n        const currentDeliveryPreference = values.assetSameDayPartDeliveryPreference__c;\n        const is4HourSla = _.contains(['4HR', '4ON'], assetData.Support_Level__c);\n\n        const deliveryOptions = [];\n        if (!currentDeliveryPreference) {\n            deliveryOptions.push({\n                label: 'Select a delivery preference...',\n                value: '',\n            });\n        }\n\n        if (is4HourSla) {\n            _.each(_.keys(deliveryPreferences.displayName), (deliveryPreference) => {\n                deliveryOptions.push({\n                    label: deliveryPreferences.displayName[deliveryPreference],\n                    value: deliveryPreference,\n                });\n            });\n        } else {\n            _.each(_.keys(deliveryPreferences.premiumDeliveryOptions), (deliveryPreference) => {\n                deliveryOptions.push({\n                    label: deliveryPreferences.premiumDeliveryOptions[deliveryPreference],\n                    value: deliveryPreference,\n                });\n            });\n        }\n\n        return (\n            <div className={errors.addressId ? cx('error') : ''}>\n                <div className=\"row\">\n                    <div className=\"column medium-14\">\n                        <form onSubmit={handleSubmit}>\n                            <div className={cx('sla')}>\n                                <i className=\"fa fa-info-circle\" /> SLA: {assetData.SLA__c}\n                            </div>\n                            <label htmlFor={id}>Delivery Preference { errors.addressId }</label>\n                            <DeliveryPreferenceSelect\n                                title={title}\n                                id={id}\n                                value={values.assetSameDayPartDeliveryPreference__c}\n                                options={deliveryOptions}\n                                onChange={(name, value) => {\n                                    setFieldValue(name, value);\n                                    onFieldChanged(name, value, id);\n                                }}\n                                onBlur={setFieldTouched}\n                                error={errors.addressId}\n                                touched={touched.addressId}\n                            />\n                        </form>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst FormikDeliveryPreferenceForm = formikEnhancer(DeliveryPreferenceForm);\n\nexport default FormikDeliveryPreferenceForm;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport autobind from 'react-autobind';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport classnames from 'classnames/bind';\nimport { Link } from 'react-router-dom';\nimport Card from '@infosight/elmer/dist/components/Card';\nimport Async from '@infosight/elmer/dist/components/Async';\nimport FlashNotification from '@infosight/elmer/dist/components/FlashNotification';\n\nimport { addressSelector, assetSelector } from '../reducer';\nimport { listSelector } from '../..//arrays/collection/reducer';\nimport { addAddress, editAddress, editAsset, setDeliveryPreference, setDeliveryAddress, validateAddress } from '../actionCreators';\n\nimport FormikAddressDetailForm from './FormikAddressDetailForm';\nimport FormikAddressForm from './FormikAddressForm';\nimport FormikAddressValidationForm from './FormikAddressValidationForm';\nimport FormikDeliveryPreferenceForm from './FormikDeliveryPreferenceForm';\n\nimport style from './style.scss';\n\nconst cx = classnames.bind(style);\n\nconst INSTALL_ADDRESS = 'INSTALL_ADDRESS';\nconst DELIVERY_ADDRESS = 'DELIVERY_ADDRESS';\n\nclass AssetCard extends Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n\n        this.state = {\n            editAddressDetails: null,\n            newAddressDetails: null,\n            hasInstallAddressIssue: false,\n            hasRmaAddressIssue: false,\n            hasDeliveryPrefIssue: false,\n            hasDoneInitialValidationDeliveryPref: false,\n            hasDoneInitialValidationRmaAddress: false,\n            hasDoneInitialValidationInstallAddress: false,\n        };\n    }\n\n    getAssetDef(addressbookId) {\n        const addressbookIndex = this.props.address.addressCollection\n            .findIndex(item => item.id === addressbookId);\n        const addressbookEntry = this.props.address.addressCollection[addressbookIndex];\n\n        return {\n            Install_Street1__c: addressbookEntry.abStreet1__c,\n            Install_Street2__c: addressbookEntry.abStreet2__c,\n            Install_City__c: addressbookEntry.abCity__c,\n            Install_State_Province__c: addressbookEntry.abStateProvince__c,\n            Install_Zip_Code__c: addressbookEntry.abPostalCode__c,\n            Install_Country__c: addressbookEntry.abCountry__c,\n        };\n    }\n    getMatchingAddressId(x) {\n        const match = this.props.address.addressCollection.find(item =>\n            (x.Install_Street1__c === item.abStreet1__c && x.Install_Street1__c !== null &&\n            x.Install_Street2__c === item.abStreet2__c &&\n            x.Install_City__c === item.abCity__c &&\n            x.Install_State_Province__c === item.abStateProvince__c &&\n            x.Install_Zip_Code__c === item.abPostalCode__c)\n        );\n\n        return match ? match.id : null;\n    }\n\n    openAddressEditForm(asset, assetId, newAddressDetails) {\n        if (asset) {\n            this.setState({\n                editAddressDetails: {\n                    asset,\n                    assetId,\n                },\n            });\n        } else {\n            this.setState({\n                newAddressDetails,\n            });\n        }\n    }\n\n    render() {\n        const { asset, address } = this.props;\n\n        if (!address || !address.assetCollection) {\n            return null;\n        }\n\n        const displayName = (asset.System_Name__c && asset.name) ? `${asset.System_Name__c} (${asset.name})` : (asset.System_Name__c || asset.name);\n\n        const title = (<Link to={`/infrastructure/storage/nimble/arrays/${asset.serialNumber}`}>{displayName}</Link>);\n\n        const installAddress = asset.Install_Street1__c ||\n            asset.Install_City__c ||\n            asset.Install_State_Province__c ||\n            asset.Install_Zip_Code__c;\n\n        const relatedAssets = this.props.address.assetCollection.filter(n => n.assetPartShipAddressBook__c === asset.assetPartShipAddressBook__c);\n        const rmaAddress = this.props.address.addressCollection.filter(n => n.id === asset.assetPartShipAddressBook__c)[0];\n        const hasRmaAddress = rmaAddress && (rmaAddress.abStreet1__c || rmaAddress.abCity__c || rmaAddress.abStateProvince__c || rmaAddress.abPostalCode__c);\n\n        // TEMPORARY HACK: match install addresses to address book entries manually\n        asset.assetInstallAddressBook__c = this.getMatchingAddressId(asset);\n\n        /*\n        // Do we need this?\n\n        if (this.props.arrays) {\n            const matchingArrayList = this.props.arrays.filter(arr => arr.arraySn === asset.serialNumber);\n            const matchingArray = matchingArrayList[0];\n            if (!matchingArray) {\n                return null;\n            }\n        }\n        */\n\n        const addressOptions = this.props.address.addressCollection.map(\n            item => ({\n                label: item.abDescription__c,\n                value: item.id,\n            })\n        );\n        addressOptions.unshift({\n            label: 'Add a new address...',\n            value: {\n                newAddress: true,\n            },\n        });\n\n        return (\n            <div\n                className={classnames('column small-24 medium-12 large-8', cx('equalHeight'))}\n                style={{\n                    order: (\n                        this.state.hasDeliveryPrefIssue ||\n                        this.state.hasInstallAddressIssue ||\n                        this.state.hasRmaAddressIssue\n                    ) ? -1 : 1,\n                }}\n            >\n                <Card\n                    title={\n                        <div>\n                            <h2 className={cx('addressCard')}>{title}</h2>\n                            {asset.assetArenaProductCode__c}\n                        </div>\n                    }\n                    className={classnames('flex-container', 'flex-dir-column', cx('cardAddress'))}\n                >\n                    {\n                        <div className={cx('addressDisplay')}>\n                            <FormikDeliveryPreferenceForm\n                                id={`${asset.id}_delivery_pref`}\n                                assetData={asset}\n                                assetSameDayPartDeliveryPreference__c={asset.assetSameDayPartDeliveryPreference__c}\n                                onFieldChanged={(name, value) => {\n                                    this.props.setDeliveryPreference({\n                                        assetSameDayPartDeliveryPreference__c: value,\n                                    }, asset.id)\n                                        .then(() => {\n                                            FlashNotification.success(`Updated delivery preference for: ${displayName}`);\n                                        })\n                                        .catch((error) => {\n                                            // handle error\n                                            console.error('Edit address fail', error);\n                                            FlashNotification.error(`Unable to update delivery preference for: ${displayName}`);\n                                        });\n                                }}\n                                hasDoneInitialValidation={this.state.hasDoneInitialValidationDeliveryPref}\n                                onValidationResult={(errors) => {\n                                    if (Object.keys(errors).length) {\n                                        this.setState({ hasDeliveryPrefIssue: true });\n                                    } else {\n                                        this.setState({ hasDeliveryPrefIssue: false });\n                                    }\n\n                                    this.setState({\n                                        hasDoneInitialValidationDeliveryPref: true,\n                                    });\n                                }}\n                            />\n                        </div>\n                    }\n                    {\n                        <div className={cx('addressDisplay')}>\n                            <FormikAddressValidationForm\n                                id={`${asset.id}_address_validation`}\n                                assetData={asset}\n                                onConfirm={() => {\n                                    this.props.validateAddress(asset.id)\n                                        .then(() => {\n                                            FlashNotification.success(`Address confirmed for: ${displayName}`);\n                                        })\n                                        .catch((error) => {\n                                            // handle error\n                                            console.error('Edit delivery preference fail', error);\n                                            FlashNotification.error(`Unable to confirm address for: ${displayName}`);\n                                        });\n                                }}\n                            />\n                            <hr className={cx('card')} />\n                        </div>\n                    }\n\n                    <div className={cx('addressDisplay')}>\n                        {\n                            <FormikAddressForm\n                                id={`${asset.id}_install`}\n                                title=\"Install Address\"\n                                addressOptions={addressOptions}\n                                addressId={asset.assetInstallAddressBook__c || installAddress}\n                                onFieldChanged={(name, value) => {\n                                    if (value && value.newAddress) {\n                                        this.openAddressEditForm(null, null, INSTALL_ADDRESS);\n                                        return;\n                                    }\n\n                                    const addressbookId = value;\n\n                                    const assetDef = this.getAssetDef(addressbookId);\n\n                                    this.setState({\n                                        installAddressUpdating: true,\n                                    });\n\n                                    this.props.editAsset(assetDef, asset.id)\n                                        .then(() => {\n                                            FlashNotification.success(`Updated install address for: ${displayName}`);\n                                            this.setState({\n                                                installAddressUpdating: false,\n                                            });\n                                        })\n                                        .catch((error) => {\n                                            // handle error\n                                            console.error('Edit address fail', error);\n                                            FlashNotification.error(`Unable to update install address for: ${displayName}`);\n                                        });\n                                }}\n                                onEdit={() => {\n                                    if (asset.assetInstallAddressBook__c) {\n                                        const match = this.props.address.addressCollection.find(item => item.id === asset.assetInstallAddressBook__c);\n                                        asset.description = match.abDescription__c;\n                                    }\n                                    this.openAddressEditForm(asset, asset.id);\n                                    // this.setState({\n                                    //     hasDoneInitialValidationInstallAddress: false,\n                                    // });\n                                }}\n                                hasDoneInitialValidation={this.state.hasDoneInitialValidationInstallAddress}\n                                addressUpdating={this.state.installAddressUpdating}\n                                onValidationResult={(errors) => {\n                                    if (Object.keys(errors).length) {\n                                        this.setState({ hasInstallAddressIssue: true });\n                                    } else {\n                                        this.setState({ hasInstallAddressIssue: false });\n                                    }\n                                    this.setState({\n                                        hasDoneInitialValidationInstallAddress: true,\n                                    });\n                                }}\n                            />\n                        }\n                        <div>\n                            {\n                                (installAddress && (\n                                    <Async loading={this.state.installAddressUpdating}>\n                                        <div className={cx('addressText')}>\n                                            {asset.Install_Street1__c} <br />\n                                            {asset.Install_Street2__c}{asset.Install_Street2__c ? <br /> : null}\n                                            {asset.Install_City__c} {asset.Install_State_Province__c} {asset.Install_Zip_Code__c} <br />\n                                            {asset.Install_Country__c}\n                                        </div>\n                                    </Async>\n                                ))\n                            }\n                            <hr className={cx('card')} />\n                        </div>\n                    </div>\n\n                    <div className={cx('addressDisplay')}>\n                        <FormikAddressForm\n                            id={`${asset.id}_shipping`}\n                            title=\"RMA Part Delivery Address\"\n                            addressOptions={addressOptions}\n                            addressId={hasRmaAddress ? rmaAddress.id : null}\n                            onFieldChanged={(name, value) => {\n                                if (value && value.newAddress) {\n                                    this.openAddressEditForm(null, null, DELIVERY_ADDRESS);\n                                    return;\n                                }\n\n                                this.setState({\n                                    deliveryAddressUpdating: true,\n                                });\n\n                                this.props.setDeliveryAddress({\n                                    assetPartShipAddressBook__c: value,\n                                }, asset.id)\n                                    .then(() => {\n                                        FlashNotification.success(`Updated RMA address for: ${displayName}`);\n                                        this.setState({\n                                            deliveryAddressUpdating: false,\n                                        });\n                                    })\n                                    .catch((error) => {\n                                        // handle error\n                                        console.error('Edit address fail', error);\n                                        FlashNotification.error(`Unable to update RMA address for: ${displayName}`);\n                                    });\n                            }}\n                            onEdit={() => {\n                                this.openAddressEditForm(\n                                    {\n                                        description: rmaAddress.abDescription__c,\n                                        Install_Street1__c: rmaAddress.abStreet1__c,\n                                        Install_Street2__c: rmaAddress.abStreet2__c,\n                                        Install_City__c: rmaAddress.abCity__c,\n                                        Install_State_Province__c: rmaAddress.abStateProvince__c,\n                                        Install_Zip_Code__c: rmaAddress.abPostalCode__c,\n                                        Install_Country__c: rmaAddress.abCountry__c,\n                                        assetPartShipAddressBook__c: rmaAddress.id,\n                                    }\n                                );\n                            }}\n                            hasDoneInitialValidation={this.state.hasDoneInitialValidationRmaAddress}\n                            addressUpdating={this.state.deliveryAddressUpdating}\n                            onValidationResult={(errors) => {\n                                if (Object.keys(errors).length) {\n                                    this.setState({ hasRmaAddressIssue: true });\n                                } else {\n                                    this.setState({ hasRmaAddressIssue: false });\n                                }\n                                this.setState({\n                                    hasDoneInitialValidationRmaAddress: true,\n                                });\n                            }}\n                        />\n                    </div>\n                    {\n                        (hasRmaAddress && (\n                            <Async loading={this.state.deliveryAddressUpdating}>\n                                <div className={cx('addressDisplay')}>\n                                    <div className={cx('addressText')}>\n                                        {rmaAddress.abStreet1__c} <br />\n                                        {rmaAddress.abStreet2__c}{rmaAddress.abStreet2__c ? <br /> : null}\n                                        {rmaAddress.abCity__c} {rmaAddress.abStateProvince__c} {rmaAddress.abPostalCode__c} <br />\n                                        {rmaAddress.abCountry__c}\n                                    </div>\n                                </div>\n                            </Async>\n                        ))\n                    }\n                </Card>\n\n                {\n                    this.state.newAddressDetails &&\n                    <FormikAddressDetailForm\n                        editAddress={(values) => {\n                            const addressbookEntry = {\n                                abDescription__c: values.description,\n                                abStreet1__c: values.Install_Street1__c,\n                                abStreet2__c: values.Install_Street2__c,\n                                abCity__c: values.Install_City__c,\n                                abStateProvince__c: values.Install_State_Province__c,\n                                abPostalCode__c: values.Install_Zip_Code__c,\n                                abCountry__c: values.Install_Country__c,\n                            };\n\n                            const updatePromise = this.props.addAddress(addressbookEntry);\n\n                            // grab now because it will be destroyed by the closing modal\n                            const { newAddressDetails } = this.state;\n\n                            updatePromise\n                                .then((response) => {\n                                    const value = response.data.id;\n                                    let applyNewAddressPromise;\n                                    if (newAddressDetails === INSTALL_ADDRESS) {\n                                        const addressbookId = value;\n                                        const assetDef = this.getAssetDef(addressbookId);\n                                        applyNewAddressPromise = this.props.editAsset(assetDef, asset.id);\n                                    } else if (newAddressDetails === DELIVERY_ADDRESS) {\n                                        applyNewAddressPromise = this.props.setDeliveryAddress({\n                                            assetPartShipAddressBook__c: value,\n                                        }, asset.id);\n                                    }\n\n                                    return applyNewAddressPromise;\n                                })\n                                .then(() => {\n                                    FlashNotification.success(`Updated address for: ${displayName}`);\n                                })\n                                .catch((error) => {\n                                    // handle error\n                                    console.error('Edit address fail', error);\n                                    FlashNotification.error(`Unable to update address for: ${displayName}`);\n                                });\n                        }}\n                        closeModal={() => this.setState({ newAddressDetails: null })}\n                    />\n                }\n\n                {\n                    this.state.editAddressDetails &&\n                    <FormikAddressDetailForm\n                        id={this.state.editAddressDetails.asset.assetPartShipAddressBook__c}\n                        relatedAssets={this.state.editAddressDetails.assetId ? null : relatedAssets}\n                        editAddress={(values) => {\n                            const { assetId } = this.state.editAddressDetails;\n\n                            const updatePromises = [];\n\n                            // asset needs to edit both the address entry\n                            // and the raw asset fields (to match)\n                            if (assetId) {\n                                const allowedAssetFields = [\n                                    'contactId',\n                                    'assetPartShipAddressBook__c',\n                                    'assetSameDayPartDeliveryPreference__c',\n                                    'assetPartShipLastValidatedDatetime__c',\n                                    'Install_Street1__c',\n                                    'Install_Street2__c',\n                                    'Install_City__c',\n                                    'Install_State_Province__c',\n                                    'Install_Zip_Code__c',\n                                    'Install_Country__c',\n                                ];\n\n                                const assetValues = {};\n                                allowedAssetFields.forEach(prop => assetValues[prop] = values[prop]);\n\n                                updatePromises.push(this.props.editAsset(assetValues, assetId));\n                            }\n\n                            const addressbookId = assetId ? asset.assetInstallAddressBook__c : asset.assetPartShipAddressBook__c;\n\n                            if (addressbookId) {\n                                // convert asset address model property names to address book model property names\n                                const addressbookEntry = {\n                                    abDescription__c: values.description,\n                                    abStreet1__c: values.Install_Street1__c,\n                                    abStreet2__c: values.Install_Street2__c,\n                                    abCity__c: values.Install_City__c,\n                                    abStateProvince__c: values.Install_State_Province__c,\n                                    abPostalCode__c: values.Install_Zip_Code__c,\n                                    abCountry__c: values.Install_Country__c,\n                                };\n\n                                updatePromises.push(this.props.editAddress(addressbookEntry, addressbookId));\n                            }\n\n                            Promise.all(updatePromises)\n                                .then(() => {\n                                    FlashNotification.success(`Updated address for: ${displayName}`);\n                                })\n                                .catch((error) => {\n                                    // handle error\n                                    console.error('Edit address fail', error);\n                                    FlashNotification.error(`Unable to update address for: ${displayName}`);\n                                });\n                        }}\n                        closeModal={() => this.setState({ editAddressDetails: null })}\n                        {...this.state.editAddressDetails.asset}\n                    />\n                }\n\n            </div>\n        );\n    }\n}\n\nAssetCard.propTypes = {\n    asset: PropTypes.object,\n    arrays: PropTypes.arrayOf(PropTypes.object),\n    address: PropTypes.object,\n    addAddress: PropTypes.func,\n    editAddress: PropTypes.func,\n    editAsset: PropTypes.func,\n    setDeliveryPreference: PropTypes.func,\n    setDeliveryAddress: PropTypes.func,\n    validateAddress: PropTypes.func,\n};\n\nconst mapStateToProps = state => ({\n    ...addressSelector(state),\n    ...assetSelector(state),\n    ...listSelector(state),\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n    addAddress,\n    editAddress,\n    editAsset,\n    setDeliveryPreference,\n    setDeliveryAddress,\n    validateAddress,\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AssetCard);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport autobind from 'react-autobind';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nimport classnames from 'classnames/bind';\n\nimport Async from '@infosight/elmer/dist/components/Async';\n\nimport { addressSelector, assetSelector } from '../reducer';\n// import { listSelector } from '../../arrays/collection/reducer';\n\nimport { fetchAddresses, fetchAssets } from '../actionCreators';\n\nimport AddressCard from './AddressCard';\n// import SelectWithFeedback from './SelectWithFeedback';\n\nimport style from './style.scss';\n\nconst cx = classnames.bind(style);\n\n\n/* eslint-disable jsx-a11y/label-has-for */\n/* eslint-disable react/prefer-stateless-function */\nclass AssetRegistry extends Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n\n        this.state = {\n            searchText: '',\n        };\n    }\n\n    /* eslint-disable react/prop-types */\n    componentDidMount() {\n        this.load();\n    }\n\n    onChangeAssetSearch(e) {\n        this.setState({ searchText: e.target.value });\n    }\n\n    onClearAssetSearch() {\n        this.setState({ searchText: '' });\n    }\n\n    load() {\n        if (!this.props.address.loadingAddressCollection && !this.props.address.loadedAddressCollection) {\n            this.props.fetchAddresses();\n        }\n        if (!this.props.address.loadingAssetCollection && !this.props.address.loadedAssetCollection) {\n            this.props.fetchAssets();\n        }\n    }\n\n    searchFilter(asset) {\n        const { searchText } = this.state;\n        if (!searchText) {\n            return true;\n        }\n\n        const searchFields = [\n            'System_Name__c',\n            'name',\n            'serialNumber',\n            'ContactEmail__c',\n            'Install_Street1__c',\n            'Install_Street2__c',\n            'Install_City__c',\n            'Install_State_Province__c',\n            'Install_Zip_Code__c',\n            'Install_Country__c',\n            'SLA__c',\n            'Support_Level__c',\n            'assetArenaProductCode__c',\n        ];\n\n        return searchFields.some(\n            field => (asset[field] ? asset[field].indexOf(searchText) !== -1 : false)\n        );\n    }\n\n    render() {\n        return (\n            <Async loading={\n                this.props.address.loadingAddressCollection ||\n                this.props.address.loadingAssetCollection\n            }\n            >\n                <div className={cx('assetRegistry')}>\n                    <div className={classnames('row expanded')}>\n                        <div className=\"column small-12 medium-10 large-8\">\n                            <div className={cx('search-container')}>\n                                <div className={cx('search-icon-container')}>\n                                    <label htmlFor=\"asset-search\" className={cx('search-icon', 'search-icon-inline')}>\n                                        Search <i className=\"fa fa-search\" />\n                                    </label>\n                                </div>\n                                <div className={cx('search-input-container')}>\n                                    <input\n                                        id=\"asset-search\"\n                                        className={cx('search')}\n                                        type=\"text\"\n                                        autoFocus\n                                        onChange={this.onChangeAssetSearch}\n                                        value={this.state.searchText}\n                                    />\n                                    <button className={cx('cancel-search')} onClick={this.onClearAssetSearch}>{'\\u00D7'}</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classnames('row expanded', cx('assetRegistry'))}>\n                        {\n                            (this.props.address.assetCollection && this.props.address.addressCollection &&\n                                this.props.address.assetCollection\n                                    .filter(x => x.Order_Type__c !== 'VM Image')\n                                    .filter(this.searchFilter)\n                                    .map(asset => (<AddressCard key={asset.id} asset={asset} />))\n                            )\n                        }\n                    </div>\n                </div>\n            </Async>\n        );\n    }\n}\n\nAssetRegistry.propTypes = {\n    fetchAddresses: PropTypes.func,\n    fetchAssets: PropTypes.func,\n    address: PropTypes.object,\n};\n\nconst mapStateToProps = state => ({\n    ...addressSelector(state),\n    ...assetSelector(state),\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n    fetchAddresses,\n    fetchAssets,\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AssetRegistry);\n","/* eslint-disable spaced-comment, no-unused-vars */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Route, Switch, NavLink } from 'react-router-dom';\nimport ScrollContainer from '@infosight/elmer/dist/components/ScrollContainer';\nimport { StaticBold } from '@infosight/elmer/dist/components/StaticBold';\nimport { SecondaryNavBar, NavItem, Title } from '@infosight/elmer/dist/components/SecondaryNavBar';\nimport { buildUrl } from '@infosight/elmer/dist/utils/url';\nimport { pageBoundaryRouteRenderer } from '@infosight/elmer/dist/page';\n\nimport { AUTHORITIES, AuthorizationEvaluator, nimbleTenantAdminAccess, nimbleThirdPartyPermissionRequestAccess } from '../../user';\n\nimport UserManagementContainer from './user/UserManagementContainer';\nimport SelfRegistrationContainer from './selfRegistration/SelfRegistrationContainer';\nimport PermissionsContainer from './permissions/PermissionsContainer';\nimport TelemetrySettingsContainer from './telemetry/TelemetrySettingsContainer';\nimport AssetRegistry from '../address/components';\nimport NimbleUserTenantHelpers from '../tenantSelection/NimbleUserTenantHelpers';\n\nconst objects = [\n    {\n        label: 'Customer Registration',\n        url: 'registration',\n        component: SelfRegistrationContainer,\n        access: {\n            authorities: {\n                $and: [\n                    AUTHORITIES.SITE_ACCESS,\n                    {\n                        $not: [AUTHORITIES.PRODUCT_FAMILY_NIMBLE],\n                    },\n                ],\n            },\n        },\n    },\n    {\n        label: 'Users',\n        url: 'users',\n        component: UserManagementContainer,\n        access: {\n            custom() {\n                return NimbleUserTenantHelpers.currentTenantIsNimbleTenant() && AuthorizationEvaluator.evaluate(nimbleTenantAdminAccess);\n            },\n        },\n    },\n    {\n        label: 'Permissions',\n        url: 'permissions',\n        component: PermissionsContainer,\n        access: {\n            custom() {\n                return NimbleUserTenantHelpers.currentTenantIsNimbleTenant() &&\n                    AuthorizationEvaluator.evaluate({ access: nimbleThirdPartyPermissionRequestAccess })\n                    && !AuthorizationEvaluator.evaluate({ access: { authorities: AUTHORITIES.ATTRIBUTE_NIMBLE_SUPPORT_PROVIDER } });\n            },\n        },\n    },\n    {\n        label: 'Telemetry',\n        url: 'telemetry',\n        component: TelemetrySettingsContainer,\n        access: {\n            custom() {\n                return NimbleUserTenantHelpers.currentTenantIsNimbleTenant() && AuthorizationEvaluator.evaluate(nimbleTenantAdminAccess);\n            },\n        },\n    },\n    {\n        label: 'Asset Registry',\n        url: 'assetRegistry',\n        component: AssetRegistry,\n        access: {\n            custom() {\n                return NimbleUserTenantHelpers.currentTenantIsNimbleTenant() && AuthorizationEvaluator.evaluate({\n                    access: {\n                        $or: [\n                            nimbleTenantAdminAccess,\n                            { authorities: AUTHORITIES.ADDRESS_ADMIN },\n                        ],\n                    },\n                });\n            },\n        },\n    },\n];\n\nconst SettingsRouter = ({ match }) => (\n    <ScrollContainer>\n        <ScrollContainer.Fixed>\n            <SecondaryNavBar>\n                <Title name=\"Nimble Storage\" className=\"align-center\" />\n                {/* Hiding the users menu but still make it available if we have to debug or ran into issues in production\n                    It will also be useful in test environments where IAM may not be available\n                */}\n                {AuthorizationEvaluator.filter(objects).map(({ label, url }) => url !== 'users' && (\n                    <NavItem key={url}>\n                        <NavLink className=\"flex-container align-center flex-dir-column\" to={buildUrl(match.url, url)}>\n                            <StaticBold parent={React.Fragment}>{label}</StaticBold>\n                        </NavLink>\n                    </NavItem>\n                ))}\n            </SecondaryNavBar>\n        </ScrollContainer.Fixed>\n\n        <ScrollContainer.Scrollable>\n            <Switch>\n                {AuthorizationEvaluator.filter(objects).map(({ url, label, component }) => (\n                    <Route\n                        key={url}\n                        path={buildUrl(match.path, url)}\n                        render={pageBoundaryRouteRenderer(component, label)}\n                    />\n                ))}\n            </Switch>\n        </ScrollContainer.Scrollable>\n    </ScrollContainer>\n);\n\nSettingsRouter.propTypes = {\n    match: PropTypes.object.isRequired,\n};\n\nexport default SettingsRouter;\n","import React, { Component } from 'react';\nimport autobind from 'react-autobind';\nimport classnames from 'classnames/bind';\nimport Card from '@infosight/elmer/dist/components/Card';\nimport BannersView from '../../../../app/modules/tools/tools_central/modules/banners/BannersView';\nimport labelsStyle from '../../nimble/legacyStyles/labels.scss';\nimport '../../../../sass/toolsCentral/modules/banners/_banners.scss';\nimport { awaitLegacyApp } from '../../../containers/NimbleLegacyContainer';\n\nconst cx = classnames.bind(labelsStyle);\n\nclass BulletinsAdminPage extends Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n    }\n\n    componentWillUnmount() {\n        if (this.view) {\n            const { view } = this;\n            window.setTimeout(() => view.destroy());\n        }\n    }\n\n    renderView(el) {\n        if (!this.view) {\n            this.view = new BannersView(this.props);\n            this.view.setElement(el).render();\n        }\n    }\n\n    render() {\n        return (\n            <Card title=\"Bulletin Management\">\n                <div className={classnames(cx('legacy-labels'))} ref={this.renderView} />\n            </Card>\n        );\n    }\n}\n\nexport default awaitLegacyApp(BulletinsAdminPage);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Route, Switch, NavLink } from 'react-router-dom';\nimport ScrollContainer from '@infosight/elmer/dist/components/ScrollContainer';\nimport { StaticBold } from '@infosight/elmer/dist/components/StaticBold';\nimport { SecondaryNavBar, NavItem, Title } from '@infosight/elmer/dist/components/SecondaryNavBar';\nimport { ThemeProvider } from '@infosight/elmer/dist/components/ThemeProvider';\nimport { buildUrl } from '@infosight/elmer/dist/utils/url';\nimport { pageBoundaryRouteRenderer } from '@infosight/elmer/dist/page';\nimport BulletinsAdminPage from '../bulletins/components/BulletinsAdminPage';\nimport { AUTHORITIES, AuthorizationEvaluator } from '../user';\n\nconst adminRoutes = [\n    {\n        label: 'Bulletins',\n        url: 'bulletins',\n        component: BulletinsAdminPage,\n        access: {\n            authorities: [\n                [AUTHORITIES.REALM_INTERNAL],\n                [AUTHORITIES.SITE_ADMIN],\n            ],\n        },\n    },\n];\n\nconst AdminRouter = ({ match }) => (\n    <ThemeProvider>\n        <ScrollContainer>\n            <ScrollContainer.Fixed>\n                <SecondaryNavBar>\n                    <Title name=\"Administration\" className=\"align-center\" />\n                    {AuthorizationEvaluator.filter(adminRoutes).map(({ label, url }) => (\n                        <NavItem key={url}>\n                            <NavLink className=\"flex-container align-center flex-dir-column\" to={buildUrl(match.url, url)}>\n                                <StaticBold parent={React.Fragment}>{label}</StaticBold>\n                            </NavLink>\n                        </NavItem>\n                    ))}\n                </SecondaryNavBar>\n            </ScrollContainer.Fixed>\n\n            <ScrollContainer.Scrollable>\n                <Switch>\n                    {adminRoutes.map(({ url, component, label }) => (\n                        <Route\n                            key={url}\n                            path={buildUrl(match.path, url)}\n                            render={pageBoundaryRouteRenderer(component, label)}\n                        />\n                    ))}\n                </Switch>\n            </ScrollContainer.Scrollable>\n        </ScrollContainer>\n    </ThemeProvider>\n);\n\nAdminRouter.propTypes = {\n    match: PropTypes.object.isRequired,\n};\n\nexport default AdminRouter;\n","import React, { Component } from 'react';\nimport autobind from 'react-autobind';\nimport { Provider } from 'react-redux';\nimport $ from 'jquery';\nimport { removeRouter, addRouter } from '@infosight/shell-api/lib/Router';\nimport { onUserContextChange } from '@infosight/shell-api/lib/UserProfile';\nimport { buildUrl } from '@infosight/elmer/dist/utils/url';\nimport { HighchartsProvider } from '@infosight/elmer/dist/components/ReactHighcharts';\nimport { ThemeProvider } from '@infosight/elmer/dist/components/ThemeProvider';\nimport { AuthorizationEvaluator, AUTHORITIES } from '../../user';\nimport NimbleInfrastructureRouter from '../NimbleInfrastructureRouter';\nimport NimbleDashboardsRouter from '../NimbleDashboardsRouter';\nimport NimbleResourcesRouter from '../NimbleResourcesRouter';\nimport SettingsRouter from '../settings/SettingsRouter';\nimport { nimbleResellerAuthorizationEvaluator } from '../tenantSelection';\nimport { ID } from './constants';\nimport { Highstock } from '../highchartsProxy';\nimport { getStore } from '../../../util/storeProvider';\nimport AdminRouter from '../AdminRouter';\nimport NimbleUserTenantHelpers from '../tenantSelection/NimbleUserTenantHelpers';\n\nconst checkAccess = (component) => {\n    if (AuthorizationEvaluator.evaluate({\n        access: {\n            custom() {\n                const resellerCase = nimbleResellerAuthorizationEvaluator();\n                return resellerCase !== undefined ? resellerCase : NimbleUserTenantHelpers.currentTenantIsNimbleTenant() && AuthorizationEvaluator.evaluate({\n                    access: {\n                        $or: [\n                            {\n                                authorities: AUTHORITIES.PRODUCT_FAMILY_NIMBLE,\n                            },\n                            {\n                                authorities: AUTHORITIES.SUPPORT_CASE,\n                            },\n                            {\n                                authorities: AUTHORITIES.ADDRESS_ADMIN,\n                            },\n                        ],\n                    },\n                });\n            },\n        },\n    })) {\n        return component;\n    }\n\n    return null;\n};\n\nconst provideContexts = (WrappedComponent) => {\n    if (!WrappedComponent) {\n        return WrappedComponent;\n    }\n\n    return class extends Component {\n        componentDidMount() {\n            if (document.getElementById('modal-region')) {\n                return;\n            }\n\n            // Add the node needed for backbone modals.\n            // Add to body because App.modalRegion is not a live binding\n            $('body').append('<div id=\"modal-region\" class=\"modal fade\" role=\"dialog\" data-backdrop=\"static\" data-app-id=\"nimble\"></div>');\n        }\n\n        componentWillUnmount() {\n            const el = document.getElementById('modal-region');\n            if (el) {\n                el.parentNode.removeChild(el);\n            }\n        }\n\n        render() {\n            return (\n                <Provider store={getStore()}>\n                    <HighchartsProvider value={Highstock}>\n                        <ThemeProvider>\n                            <WrappedComponent {...this.props} />\n                        </ThemeProvider>\n                    </HighchartsProvider>\n                </Provider>\n            );\n        }\n    };\n};\n\nclass RouterExtension extends Component { // eslint-disable-line react/no-multi-comp\n    constructor(props) {\n        super(props);\n        autobind(this);\n    }\n\n    componentDidMount() {\n        this.handleUpdate();\n        this.unsubscribe = onUserContextChange(this.handleUpdate);\n    }\n\n    componentWillUnmount() {\n        if (this.unsubscribe) {\n            this.unsubscribe();\n        }\n    }\n\n    handleUpdate() { // eslint-disable-line class-methods-use-this\n        // Everything is always here so we can react to changes\n        [\n            { url: buildUrl('dashboards', ID), router: provideContexts(checkAccess(NimbleDashboardsRouter)), exact: false, appId: 'nimble' },\n            {\n                url: buildUrl('infrastructure', 'storage', ID),\n                router: provideContexts(checkAccess(NimbleInfrastructureRouter)),\n                exact: false,\n                appId: 'nimble',\n            },\n            { url: buildUrl('resources', ID), router: provideContexts(NimbleResourcesRouter), exact: false, appId: 'nimble' },\n            // TODO: Use the built in access control in SettingsRouter for now, but we need to make sure resellers\n            // don't see irrelevant menu items\n            { url: buildUrl('settings', ID), router: provideContexts(SettingsRouter), exact: false, appId: 'nimble' },\n            { url: buildUrl('settings', 'admin'), router: provideContexts(AdminRouter), exact: false, appId: 'nimble' },\n        ].forEach((extension) => {\n            if (extension.router) {\n                addRouter(extension);\n            } else {\n                removeRouter(extension);\n            }\n        });\n    }\n\n    render() {\n        return null;\n    }\n}\n\nexport default RouterExtension;\n","import React from 'react';\nimport autobind from 'react-autobind';\nimport { ObjectIcon } from '@infosight/elmer/dist/infrastructure';\nimport URI from 'urijs';\nimport SearchWorker from './search.worker';\n\nconst IS_READY_CHECK_INTERVAL_MS = 2000;\n\nexport default class LocalObjectSearchSubject {\n    constructor({ productInterface, OBJECTS }) {\n        autobind(this);\n\n        // Private\n        this.productInterface = productInterface;\n        this.turn = 0;\n        this.worker = new SearchWorker();\n        this.worker.addEventListener('message', this.onReceiveResults);\n\n        // Public\n        this.id = `${productInterface.id.toLowerCase()}-infrastructure-objects`;\n        this.name = productInterface.attributes.name;\n        this.topics = Object.values(OBJECTS).map(objectType => ({\n            id: objectType,\n            singularName: this.productInterface.getSingularTitle(objectType),\n            pluralName: this.productInterface.getPluralTitle(objectType),\n            icon: <ObjectIcon objectType={objectType} />,\n        }));\n    }\n\n    /**\n     * @public\n     */\n    destroy() {\n        if (this.worker) {\n            this.worker.terminate();\n        }\n    }\n\n    /**\n     * @private\n     */\n    onReceiveResults(e) {\n        // Manually stringifying result between worker and main thread is faster than allowing it to serialize\n        const data = JSON.parse(e.data);\n\n        // Make sure we do nothing because we don't care about this request.\n        if (data.turn !== this.turn) {\n            return;\n        }\n\n        if (!data || (!data.results && !data.error)) {\n            this.handlers.noOp();\n            return;\n        }\n\n        let hasResults = false;\n\n        if (data.error) {\n            this.handlers.error(data.error);\n            return;\n        }\n\n        const hits = Object\n            .entries(data.results)\n            .reduce((memo, [type, ids]) => {\n                const { productInterface } = this;\n                if (!productInterface.hasDetailView(type)) {\n                    return memo;\n                }\n\n                ids.forEach((id) => {\n                    const object = productInterface.findObject(type, id);\n                    if (!object) {\n                        return;\n                    }\n\n                    const { pathname, search } = productInterface.getLinkPropsForView(productInterface.getDetailView(type), { id }, null, window.location).to;\n                    memo.push({\n                        id,\n                        name: object.name,\n                        topic: object.type,\n                        url: new URI('').path(pathname).search(search).valueOf(),\n                    });\n\n                    hasResults = true;\n                });\n\n                return memo;\n            }, [])\n            .sort((a, b) => (a.name.toLowerCase() <= b.name.toLowerCase() ? -1 : 1));\n\n        if (hasResults) {\n            this.handlers.hits(hits);\n        } else {\n            this.handlers.noOp();\n        }\n    }\n\n    /**\n     * @public\n     */\n    search({ query, submit }) {\n        this.turn += 1;\n        this.handlers = submit;\n\n        const tryUntilReady = () => {\n            if (this.productInterface.isReadyForTopologySearch()) {\n                this.worker.postMessage({ productFamily: this.productInterface.id, query, turn: this.turn });\n            } else {\n                window.setTimeout(tryUntilReady, IS_READY_CHECK_INTERVAL_MS);\n            }\n        };\n\n        tryUntilReady();\n    }\n}\n","import React from 'react';\nimport { isFunction } from 'underscore';\nimport URI from 'urijs';\nimport { CancelToken } from 'axios';\nimport { ObjectIcon } from '@infosight/elmer/dist/infrastructure';\nimport Request from '../../../services/Request';\nimport { buildNimbleTenantUrl, NimbleUserTenantHelpers } from '../tenantSelection';\nimport { OBJECTS } from '../inventory';\nimport { productInterface } from '../config';\n\nconst NIMBLE_ARRAY = OBJECTS.ARRAY;\n\nlet cancellationExecutor;\n\nfunction cancelSearch() {\n    if (isFunction(cancellationExecutor)) {\n        cancellationExecutor();\n        cancellationExecutor = null;\n    }\n}\n\nasync function search({ query, submit }) {\n    const tenant = NimbleUserTenantHelpers.getCurrentTenant();\n    const detailView = productInterface.getDetailView(NIMBLE_ARRAY, { includeInvisible: true });\n    const { data } = await new Request().central()\n        .slash('search/arrays')\n        .query({ term: query, boostAccountId: tenant && tenant.id })\n        .get({\n            cancelToken: new CancelToken((cancel) => {\n                cancellationExecutor = cancel;\n            }),\n        });\n\n    cancellationExecutor = null;\n\n    if (!data || !data.length) {\n        submit.noOp();\n        return;\n    }\n\n    const opts = { [productInterface.id]: { excludeTenant: true } };\n\n    // Determine if the result set contains arrays from other tenants\n    let hasResultsFromOtherTenants = false;\n    for (const index in data) { // eslint-disable-line no-restricted-syntax\n        if (tenant && tenant.id !== data[index].accountId) {\n            hasResultsFromOtherTenants = true;\n            break;\n        }\n    }\n\n    const hits = data.map(({ arraySn, arraySn: id, accountName, accountId, arrayHostname }) => {\n        const { pathname, search: thisSearch } = productInterface.getLinkPropsForView(detailView, { id }, null, null, opts).to;\n        return {\n            id,\n            name: !arrayHostname ? arraySn : `${arraySn} (${arrayHostname})`,\n            topic: NIMBLE_ARRAY,\n            url: new URI('')\n                .pathname(tenant && tenant.id === accountId ? pathname : buildNimbleTenantUrl(accountId, pathname))\n                .search(thisSearch)\n                .valueOf(),\n\n            // Don't include the tenant name for the current account or when user has a single tenant\n            label: hasResultsFromOtherTenants ? accountName : undefined,\n        };\n    });\n\n    submit.hits(hits);\n}\n\nexport default {\n    search,\n    cancelSearch,\n    id: 'nimble-cross-tenant-array-search',\n    name: productInterface.attributes.name,\n    topics: [\n        {\n            id: NIMBLE_ARRAY,\n            singularName: productInterface.getSingularTitle(NIMBLE_ARRAY),\n            pluralName: productInterface.getPluralTitle(NIMBLE_ARRAY),\n            icon: <ObjectIcon objectType={NIMBLE_ARRAY} />,\n        },\n    ],\n};\n","import { Component } from 'react';\nimport autobind from 'react-autobind';\nimport { removeSubject, addSubject } from '@infosight/shell-api/lib/Search';\nimport { onUserContextChange } from '@infosight/shell-api/lib/UserProfile';\nimport { AuthorizationEvaluator, AUTHORITIES } from '../../user';\nimport { productInterface as nimble } from '../config';\nimport LocalObjectSearchSubject from '../../infrastructure/LocalObjectSearchSubject';\nimport { OBJECTS as NimbleObjects } from '../inventory';\nimport { NimbleUserTenantHelpers } from '../tenantSelection';\nimport crossTenantArraySearchSubject from '../search/crossTenantArraySearchSubject';\n\nclass SearchExtension extends Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n    }\n\n    componentDidMount() {\n        this.handleUpdate();\n        this.unsubscribe = onUserContextChange(this.handleUpdate);\n    }\n\n    componentWillUnmount() {\n        if (this.unsubscribe) {\n            this.unsubscribe();\n        }\n    }\n\n    handleUpdate() { // eslint-disable-line class-methods-use-this\n        // Infrastructure\n        if (AuthorizationEvaluator.evaluate({\n            access: {\n                custom() {\n                    return NimbleUserTenantHelpers.currentTenantIsNimbleTenant() && AuthorizationEvaluator.evaluate({\n                        access: { authorities: AUTHORITIES.PRODUCT_FAMILY_NIMBLE },\n                    });\n                },\n            },\n        })) {\n            this.localSearchProvider = this.localSearchProvider || new LocalObjectSearchSubject({ productInterface: nimble, OBJECTS: NimbleObjects });\n            addSubject({ id: 'nimble', provider: this.localSearchProvider });\n        } else {\n            if (this.localSearchProvider) {\n                this.localSearchProvider.destroy();\n            }\n\n            removeSubject({ id: 'nimble' });\n        }\n\n        // Tenant Selector\n        if (NimbleUserTenantHelpers.canAccessMultipleTenants()) {\n            addSubject({ id: 'nimble_tenant_selector', provider: crossTenantArraySearchSubject });\n        } else {\n            removeSubject({ id: 'nimble_tenant_selector' });\n        }\n    }\n\n    render() {\n        return null;\n    }\n}\n\nexport default SearchExtension;\n","/*** IMPORTS FROM imports-loader ***/\nvar jQuery = window.nimbleShims.jQuery_1_11_1;\n\nimport { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport autobind from 'react-autobind';\nimport { onUserContextChange, UserContextChangeReason } from '@infosight/shell-api/lib/UserProfile';\nimport { loadAuthorizationEvaluator, loadTenant, changeUserContext, loadUser, loadConfig } from '../user/actionsCreators';\nimport { fetchInventory, inventorySelector } from '../nimble/inventory';\n\n/**\n * This maintains references to Shell data so that:\n * 1. You don't need to have Shell API references throughout the code\n * 2. You don't have to make everything async to get data from the shell, since it will be synchronously available via redux\n * 3. You can use certain values without littering code with null checks, since this guarantees the requested data will be available.\n *\n * You should use generally use this technique only for state that is static or rarely changes.\n * For dynamic state, strongly prefer making the consuming code async and fetching it directly from the Shell.\n */\nclass ShellStateCache extends Component {\n    constructor(props) {\n        super(props);\n        autobind(this);\n\n        this.state = { loaded: false };\n    }\n\n    async componentDidMount() {\n        this.getShellState();\n        this.unsubscribe = onUserContextChange(this.handleUpdate);\n    }\n\n    componentWillUnmount() {\n        if (this.unsubscribe) {\n            this.unsubscribe();\n        }\n    }\n\n    getShellState(reason) {\n        Promise.all([this.props.loadAuthorizationEvaluator(), this.props.loadTenant(), this.props.loadUser(), this.props.loadConfig()])\n            .then(() => {\n                if (reason === UserContextChangeReason.Tenant) {\n                    this.props.fetchInventory();\n                }\n\n                this.setState({ loaded: true });\n            });\n    }\n\n    handleUpdate(reason) {\n        // First, trigger all the reducers that need to reset when the tenant changes\n        this.props.changeUserContext(reason);\n\n        // Then update cached state.\n        this.getShellState(reason);\n    }\n\n    render() {\n        const { loadingObjects } = this.props;\n\n        // If the data is not loaded, don't render children. This prevents us from attempting to use some state before it is defined.\n        if (!this.state.loaded || loadingObjects) {\n            return null;\n        }\n\n        return this.props.children;\n    }\n}\n\nShellStateCache.propTypes = {\n    children: PropTypes.node.isRequired,\n    changeUserContext: PropTypes.func.isRequired,\n    loadAuthorizationEvaluator: PropTypes.func.isRequired,\n    loadTenant: PropTypes.func.isRequired,\n    loadUser: PropTypes.func.isRequired,\n    loadConfig: PropTypes.func.isRequired,\n    fetchInventory: PropTypes.func.isRequired,\n    loadingObjects: PropTypes.bool,\n};\n\nconst mapStateToProps = state => ({\n    ...inventorySelector(state),\n});\n\nexport default connect(mapStateToProps, { changeUserContext, loadAuthorizationEvaluator, loadTenant, fetchInventory, loadUser, loadConfig })(ShellStateCache);\n\n","import '@infosight/elmer/dist/global';\nimport React from 'react';\nimport { Provider } from 'react-redux';\nimport PrimaryNavExtension from './PrimaryNavExtension';\nimport RouterExtension from './RouterExtension';\nimport SearchExtension from './SearchExtension';\nimport ShellStateCache from '../../bootstrapper/ShellStateCache';\nimport { getStore } from '../../../util/storeProvider';\n\nconst NimbleExtensions = () => (\n    <Provider store={getStore()}>\n        <ShellStateCache>\n            <PrimaryNavExtension />\n            <RouterExtension />\n            <SearchExtension />\n        </ShellStateCache>\n    </Provider>\n);\n\nexport default NimbleExtensions;\n"],"sourceRoot":""}